(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function em(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function wv(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var Kh={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function Sv(){if(lg)return Zc;lg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var f in o)f!=="key"&&(s[f]=o[f])}else s=o;return o=s.ref,{$$typeof:r,type:i,key:u,ref:o!==void 0?o:null,props:s}}return Zc.Fragment=e,Zc.jsx=t,Zc.jsxs=t,Zc}var ug;function Av(){return ug||(ug=1,Kh.exports=Sv()),Kh.exports}var Y=Av(),Zh={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function Cv(){if(cg)return Qt;cg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function R(O,ce,M){this.props=O,this.context=ce,this.refs=L,this.updater=M||_}R.prototype.isReactComponent={},R.prototype.setState=function(O,ce){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ce,"setState")},R.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=R.prototype;function k(O,ce,M){this.props=O,this.context=ce,this.refs=L,this.updater=M||_}var D=k.prototype=new E;D.constructor=k,T(D,R.prototype),D.isPureReactComponent=!0;var V=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function G(O,ce,M,j,X,le){return M=le.ref,{$$typeof:r,type:O,key:ce,ref:M!==void 0?M:null,props:le}}function z(O,ce){return G(O.type,ce,void 0,void 0,void 0,O.props)}function re(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function se(O){var ce={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(M){return ce[M]})}var U=/\/+/g;function I(O,ce){return typeof O=="object"&&O!==null&&O.key!=null?se(""+O.key):ce.toString(36)}function te(){}function ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(te,te):(O.status="pending",O.then(function(ce){O.status==="pending"&&(O.status="fulfilled",O.value=ce)},function(ce){O.status==="pending"&&(O.status="rejected",O.reason=ce)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ye(O,ce,M,j,X){var le=typeof O;(le==="undefined"||le==="boolean")&&(O=null);var ue=!1;if(O===null)ue=!0;else switch(le){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(O.$$typeof){case r:case e:ue=!0;break;case b:return ue=O._init,ye(ue(O._payload),ce,M,j,X)}}if(ue)return X=X(O),ue=j===""?"."+I(O,0):j,V(X)?(M="",ue!=null&&(M=ue.replace(U,"$&/")+"/"),ye(X,ce,M,"",function(pe){return pe})):X!=null&&(re(X)&&(X=z(X,M+(X.key==null||O&&O.key===X.key?"":(""+X.key).replace(U,"$&/")+"/")+ue)),ce.push(X)),1;ue=0;var we=j===""?".":j+":";if(V(O))for(var xe=0;xe<O.length;xe++)j=O[xe],le=we+I(j,xe),ue+=ye(j,ce,M,le,X);else if(xe=C(O),typeof xe=="function")for(O=xe.call(O),xe=0;!(j=O.next()).done;)j=j.value,le=we+I(j,xe++),ue+=ye(j,ce,M,le,X);else if(le==="object"){if(typeof O.then=="function")return ye(ne(O),ce,M,j,X);throw ce=String(O),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return ue}function F(O,ce,M){if(O==null)return O;var j=[],X=0;return ye(O,j,"","",function(le){return ce.call(M,le,X++)}),j}function K(O){if(O._status===-1){var ce=O._result;ce=ce(),ce.then(function(M){(O._status===0||O._status===-1)&&(O._status=1,O._result=M)},function(M){(O._status===0||O._status===-1)&&(O._status=2,O._result=M)}),O._status===-1&&(O._status=0,O._result=ce)}if(O._status===1)return O._result.default;throw O._result}var ie=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ae(){}return Qt.Children={map:F,forEach:function(O,ce,M){F(O,function(){ce.apply(this,arguments)},M)},count:function(O){var ce=0;return F(O,function(){ce++}),ce},toArray:function(O){return F(O,function(ce){return ce})||[]},only:function(O){if(!re(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Qt.Component=R,Qt.Fragment=t,Qt.Profiler=o,Qt.PureComponent=k,Qt.StrictMode=i,Qt.Suspense=d,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return J.H.useMemoCache(O)}},Qt.cache=function(O){return function(){return O.apply(null,arguments)}},Qt.cloneElement=function(O,ce,M){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var j=T({},O.props),X=O.key,le=void 0;if(ce!=null)for(ue in ce.ref!==void 0&&(le=void 0),ce.key!==void 0&&(X=""+ce.key),ce)!ee.call(ce,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ce.ref===void 0||(j[ue]=ce[ue]);var ue=arguments.length-2;if(ue===1)j.children=M;else if(1<ue){for(var we=Array(ue),xe=0;xe<ue;xe++)we[xe]=arguments[xe+2];j.children=we}return G(O.type,X,void 0,void 0,le,j)},Qt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:s,_context:O},O},Qt.createElement=function(O,ce,M){var j,X={},le=null;if(ce!=null)for(j in ce.key!==void 0&&(le=""+ce.key),ce)ee.call(ce,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(X[j]=ce[j]);var ue=arguments.length-2;if(ue===1)X.children=M;else if(1<ue){for(var we=Array(ue),xe=0;xe<ue;xe++)we[xe]=arguments[xe+2];X.children=we}if(O&&O.defaultProps)for(j in ue=O.defaultProps,ue)X[j]===void 0&&(X[j]=ue[j]);return G(O,le,void 0,void 0,null,X)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(O){return{$$typeof:f,render:O}},Qt.isValidElement=re,Qt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:K}},Qt.memo=function(O,ce){return{$$typeof:p,type:O,compare:ce===void 0?null:ce}},Qt.startTransition=function(O){var ce=J.T,M={};J.T=M;try{var j=O(),X=J.S;X!==null&&X(M,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ae,ie)}catch(le){ie(le)}finally{J.T=ce}},Qt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Qt.use=function(O){return J.H.use(O)},Qt.useActionState=function(O,ce,M){return J.H.useActionState(O,ce,M)},Qt.useCallback=function(O,ce){return J.H.useCallback(O,ce)},Qt.useContext=function(O){return J.H.useContext(O)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(O,ce){return J.H.useDeferredValue(O,ce)},Qt.useEffect=function(O,ce,M){var j=J.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(O,ce)},Qt.useId=function(){return J.H.useId()},Qt.useImperativeHandle=function(O,ce,M){return J.H.useImperativeHandle(O,ce,M)},Qt.useInsertionEffect=function(O,ce){return J.H.useInsertionEffect(O,ce)},Qt.useLayoutEffect=function(O,ce){return J.H.useLayoutEffect(O,ce)},Qt.useMemo=function(O,ce){return J.H.useMemo(O,ce)},Qt.useOptimistic=function(O,ce){return J.H.useOptimistic(O,ce)},Qt.useReducer=function(O,ce,M){return J.H.useReducer(O,ce,M)},Qt.useRef=function(O){return J.H.useRef(O)},Qt.useState=function(O){return J.H.useState(O)},Qt.useSyncExternalStore=function(O,ce,M){return J.H.useSyncExternalStore(O,ce,M)},Qt.useTransition=function(){return J.H.useTransition()},Qt.version="19.1.0",Qt}var fg;function tm(){return fg||(fg=1,Zh.exports=Cv()),Zh.exports}var Qe=tm();const w2=em(Qe);var $h={exports:{}},$c={},Xh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function Tv(){return dg||(dg=1,function(r){function e(F,K){var ie=F.length;F.push(K);e:for(;0<ie;){var ae=ie-1>>>1,O=F[ae];if(0<o(O,K))F[ae]=K,F[ie]=O,ie=ae;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var K=F[0],ie=F.pop();if(ie!==K){F[0]=ie;e:for(var ae=0,O=F.length,ce=O>>>1;ae<ce;){var M=2*(ae+1)-1,j=F[M],X=M+1,le=F[X];if(0>o(j,ie))X<O&&0>o(le,j)?(F[ae]=le,F[X]=ie,ae=X):(F[ae]=j,F[M]=ie,ae=M);else if(X<O&&0>o(le,ie))F[ae]=le,F[X]=ie,ae=X;else break e}}return K}function o(F,K){var ie=F.sortIndex-K.sortIndex;return ie!==0?ie:F.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var d=[],p=[],b=1,x=null,C=3,_=!1,T=!1,L=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(F){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=F)i(p),K.sortIndex=K.expirationTime,e(d,K);else break;K=t(p)}}function J(F){if(L=!1,V(F),!T)if(t(d)!==null)T=!0,ee||(ee=!0,I());else{var K=t(p);K!==null&&ye(J,K.startTime-F)}}var ee=!1,G=-1,z=5,re=-1;function se(){return R?!0:!(r.unstable_now()-re<z)}function U(){if(R=!1,ee){var F=r.unstable_now();re=F;var K=!0;try{e:{T=!1,L&&(L=!1,k(G),G=-1),_=!0;var ie=C;try{t:{for(V(F),x=t(d);x!==null&&!(x.expirationTime>F&&se());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,C=x.priorityLevel;var O=ae(x.expirationTime<=F);if(F=r.unstable_now(),typeof O=="function"){x.callback=O,V(F),K=!0;break t}x===t(d)&&i(d),V(F)}else i(d);x=t(d)}if(x!==null)K=!0;else{var ce=t(p);ce!==null&&ye(J,ce.startTime-F),K=!1}}break e}finally{x=null,C=ie,_=!1}K=void 0}}finally{K?I():ee=!1}}}var I;if(typeof D=="function")I=function(){D(U)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=U,I=function(){ne.postMessage(null)}}else I=function(){E(U,0)};function ye(F,K){G=E(function(){F(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var K=3;break;default:K=C}var ie=C;C=K;try{return F()}finally{C=ie}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=C;C=F;try{return K()}finally{C=ie}},r.unstable_scheduleCallback=function(F,K,ie){var ae=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ae+ie:ae):ie=ae,F){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ie+O,F={id:b++,callback:K,priorityLevel:F,startTime:ie,expirationTime:O,sortIndex:-1},ie>ae?(F.sortIndex=ie,e(p,F),t(d)===null&&F===t(p)&&(L?(k(G),G=-1):L=!0,ye(J,ie-ae))):(F.sortIndex=O,e(d,F),T||_||(T=!0,ee||(ee=!0,I()))),F},r.unstable_shouldYield=se,r.unstable_wrapCallback=function(F){var K=C;return function(){var ie=C;C=K;try{return F.apply(this,arguments)}finally{C=ie}}}}(Qh)),Qh}var hg;function Nv(){return hg||(hg=1,Xh.exports=Tv()),Xh.exports}var ep={exports:{}},Qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Ev(){if(pg)return Qi;pg=1;var r=tm();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(d,p,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:d,containerInfo:p,implementation:b}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qi.createPortal=function(d,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return s(d,p,null,b)},Qi.flushSync=function(d){var p=u.T,b=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=b,i.d.f()}},Qi.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Qi.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Qi.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var b=p.as,x=f(b,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:_}):b==="script"&&i.d.X(d,{crossOrigin:x,integrity:C,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qi.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Qi.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,x=f(b,p.crossOrigin);i.d.L(d,b,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qi.preloadModule=function(d,p){if(typeof d=="string")if(p){var b=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Qi.requestFormReset=function(d){i.d.r(d)},Qi.unstable_batchedUpdates=function(d,p){return d(p)},Qi.useFormState=function(d,p,b){return u.H.useFormState(d,p,b)},Qi.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qi.version="19.1.0",Qi}var mg;function Lv(){if(mg)return ep.exports;mg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ep.exports=Ev(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Mv(){if(gg)return $c;gg=1;var r=Nv(),e=tm(),t=Lv();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(s(n)!==n)throw Error(i(188))}function d(n){var a=n.alternate;if(!a){if(a=s(n),a===null)throw Error(i(188));return a!==n?null:n}for(var l=n,c=a;;){var v=l.return;if(v===null)break;var w=v.alternate;if(w===null){if(c=v.return,c!==null){l=c;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===l)return f(v),n;if(w===c)return f(v),a;w=w.sibling}throw Error(i(188))}if(l.return!==c.return)l=v,c=w;else{for(var P=!1,$=v.child;$;){if($===l){P=!0,l=v,c=w;break}if($===c){P=!0,c=v,l=w;break}$=$.sibling}if(!P){for($=w.child;$;){if($===l){P=!0,l=w,c=v;break}if($===c){P=!0,c=w,l=v;break}$=$.sibling}if(!P)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function I(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var te=Symbol.for("react.client.reference");function ne(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===te?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case R:return"Profiler";case L:return"StrictMode";case J:return"Suspense";case ee:return"SuspenseList";case re:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case D:return(n.displayName||"Context")+".Provider";case k:return(n._context.displayName||"Context")+".Consumer";case V:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return a=n.displayName||null,a!==null?a:ne(n.type)||"Memo";case z:a=n._payload,n=n._init;try{return ne(n(a))}catch{}}return null}var ye=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ae=[],O=-1;function ce(n){return{current:n}}function M(n){0>O||(n.current=ae[O],ae[O]=null,O--)}function j(n,a){O++,ae[O]=n.current,n.current=a}var X=ce(null),le=ce(null),ue=ce(null),we=ce(null);function xe(n,a){switch(j(ue,a),j(le,n),j(X,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?O0(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=O0(a),n=U0(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}M(X),j(X,n)}function pe(){M(X),M(le),M(ue)}function Ye(n){n.memoizedState!==null&&j(we,n);var a=X.current,l=U0(a,n.type);a!==l&&(j(le,n),j(X,l))}function We(n){le.current===n&&(M(X),M(le)),we.current===n&&(M(we),Gc._currentValue=ie)}var rt=Object.prototype.hasOwnProperty,lt=r.unstable_scheduleCallback,Nt=r.unstable_cancelCallback,Oe=r.unstable_shouldYield,de=r.unstable_requestPaint,ht=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ke=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,at=r.unstable_NormalPriority,ot=r.unstable_LowPriority,_t=r.unstable_IdlePriority,Ot=r.log,Ht=r.unstable_setDisableYieldValue,qt=null,kt=null;function $t(n){if(typeof Ot=="function"&&Ht(n),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(qt,n)}catch{}}var yt=Math.clz32?Math.clz32:Vn,zt=Math.log,st=Math.LN2;function Vn(n){return n>>>=0,n===0?32:31-(zt(n)/st|0)|0}var Kt=256,_i=4194304;function Le(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Re(n,a,l){var c=n.pendingLanes;if(c===0)return 0;var v=0,w=n.suspendedLanes,P=n.pingedLanes;n=n.warmLanes;var $=c&134217727;return $!==0?(c=$&~w,c!==0?v=Le(c):(P&=$,P!==0?v=Le(P):l||(l=$&~n,l!==0&&(v=Le(l))))):($=c&~w,$!==0?v=Le($):P!==0?v=Le(P):l||(l=c&~n,l!==0&&(v=Le(l)))),v===0?0:a!==0&&a!==v&&(a&w)===0&&(w=v&-v,l=a&-a,w>=l||w===32&&(l&4194048)!==0)?a:v}function Ue(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Be(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var n=Kt;return Kt<<=1,(Kt&4194048)===0&&(Kt=256),n}function it(){var n=_i;return _i<<=1,(_i&62914560)===0&&(_i=4194304),n}function dt(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Lt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function bt(n,a,l,c,v,w){var P=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var $=n.entanglements,he=n.expirationTimes,Me=n.hiddenUpdates;for(l=P&~l;0<l;){var qe=31-yt(l),Ge=1<<qe;$[qe]=0,he[qe]=-1;var ke=Me[qe];if(ke!==null)for(Me[qe]=null,qe=0;qe<ke.length;qe++){var De=ke[qe];De!==null&&(De.lane&=-536870913)}l&=~Ge}c!==0&&pt(n,c,0),w!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=w&~(P&~a))}function pt(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-yt(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|l&4194090}function At(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var c=31-yt(l),v=1<<c;v&a|n[c]&a&&(n[c]|=a),l&=~v}}function kn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Hi(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:ng(n.type))}function rr(n,a){var l=K.p;try{return K.p=n,a()}finally{K.p=l}}var xt=Math.random().toString(36).slice(2),cn="__reactFiber$"+xt,sn="__reactProps$"+xt,_n="__reactContainer$"+xt,Wn="__reactEvents$"+xt,ti="__reactListeners$"+xt,ar="__reactHandles$"+xt,So="__reactResources$"+xt,or="__reactMarker$"+xt;function sr(n){delete n[cn],delete n[sn],delete n[Wn],delete n[ti],delete n[ar]}function Ni(n){var a=n[cn];if(a)return a;for(var l=n.parentNode;l;){if(a=l[_n]||l[cn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=z0(n);n!==null;){if(l=n[cn])return l;n=z0(n)}return a}n=l,l=n.parentNode}return null}function Ei(n){if(n=n[cn]||n[_n]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Gi(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function wi(n){var a=n[So];return a||(a=n[So]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function wn(n){n[or]=!0}var Ba=new Set,Ao={};function mr(n,a){Mr(n,a),Mr(n+"Capture",a)}function Mr(n,a){for(Ao[n]=a,n=0;n<a.length;n++)Ba.add(a[n])}var rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},nu={};function oc(n){return rt.call(nu,n)?!0:rt.call(ol,n)?!1:rs.test(n)?nu[n]=!0:(ol[n]=!0,!1)}function sa(n,a,l){if(oc(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function Co(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function kr(n,a,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+c)}}var To,iu;function la(n){if(To===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);To=a&&a[1]||"",iu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+To+n+iu}var sl=!1;function qa(n,a){if(!n||sl)return"";sl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(De){var ke=De}Reflect.construct(n,[],Ge)}else{try{Ge.call()}catch(De){ke=De}n.call(Ge.prototype)}}else{try{throw Error()}catch(De){ke=De}(Ge=n())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(De){if(De&&ke&&typeof De.stack=="string")return[De.stack,ke.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=c.DetermineComponentFrameRoot(),P=w[0],$=w[1];if(P&&$){var he=P.split(`
`),Me=$.split(`
`);for(v=c=0;c<he.length&&!he[c].includes("DetermineComponentFrameRoot");)c++;for(;v<Me.length&&!Me[v].includes("DetermineComponentFrameRoot");)v++;if(c===he.length||v===Me.length)for(c=he.length-1,v=Me.length-1;1<=c&&0<=v&&he[c]!==Me[v];)v--;for(;1<=c&&0<=v;c--,v--)if(he[c]!==Me[v]){if(c!==1||v!==1)do if(c--,v--,0>v||he[c]!==Me[v]){var qe=`
`+he[c].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=c&&0<=v);break}}}finally{sl=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?la(l):""}function sc(n){switch(n.tag){case 26:case 27:case 5:return la(n.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return qa(n.type,!1);case 11:return qa(n.type.render,!1);case 1:return qa(n.type,!0);case 31:return la("Activity");default:return""}}function jn(n){try{var a="";do a+=sc(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Oi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ll(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ru(n){var a=ll(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,w=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(P){c=""+P,w.call(this,P)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(P){c=""+P},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function za(n){n._valueTracker||(n._valueTracker=ru(n))}function au(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return n&&(c=ll(n)?n.checked?"true":"false":n.value),n=c,n!==l?(a.setValue(n),!0):!1}function Yi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var as=/[\n"\\]/g;function Dn(n){return n.replace(as,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function No(n,a,l,c,v,w,P,$){n.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.type=P:n.removeAttribute("type"),a!=null?P==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Oi(a)):n.value!==""+Oi(a)&&(n.value=""+Oi(a)):P!=="submit"&&P!=="reset"||n.removeAttribute("value"),a!=null?cl(n,P,Oi(a)):l!=null?cl(n,P,Oi(l)):c!=null&&n.removeAttribute("value"),v==null&&w!=null&&(n.defaultChecked=!!w),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?n.name=""+Oi($):n.removeAttribute("name")}function ul(n,a,l,c,v,w,P,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),a!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;l=l!=null?""+Oi(l):"",a=a!=null?""+Oi(a):l,$||a===n.value||(n.value=a),n.defaultValue=a}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=$?n.checked:!!c,n.defaultChecked=!!c,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(n.name=P)}function cl(n,a,l){a==="number"&&Yi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ua(n,a,l,c){if(n=n.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=a.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Oi(l),a=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,c&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function ou(n,a,l){if(a!=null&&(a=""+Oi(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+Oi(l):""}function fl(n,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ye(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Oi(a),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c)}function Va(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(n,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,l):typeof l!="number"||l===0||dl.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function lu(n,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var v in a)c=a[v],a.hasOwnProperty(v)&&l[v]!==c&&su(n,v,c)}else for(var w in a)a.hasOwnProperty(w)&&su(n,w,a[w])}function hl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(n){return os.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ss=null;function mi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ja=null,da=null;function Ut(n){var a=Ei(n);if(a&&(n=a.stateNode)){var l=n[sn]||null;e:switch(n=a.stateNode,a.type){case"input":if(No(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==n&&c.form===n.form){var v=c[sn]||null;if(!v)throw Error(i(90));No(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===n.form&&au(c)}break e;case"textarea":ou(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ua(n,!!l.multiple,a,!1)}}}var pl=!1;function uu(n,a,l){if(pl)return n(a,l);pl=!0;try{var c=n(a);return c}finally{if(pl=!1,(ja!==null||da!==null)&&(Wf(),ja&&(a=ja,n=da,da=ja=null,Ut(a),n)))for(a=0;a<n.length;a++)Ut(n[a])}}function Wi(n,a){var l=n.stateNode;if(l===null)return null;var c=l[sn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(gr)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{ls=!1}var vr=null,ml=null,us=null;function cu(){if(us)return us;var n,a=ml,l=a.length,c,v="value"in vr?vr.value:vr.textContent,w=v.length;for(n=0;n<l&&a[n]===v[n];n++);var P=l-n;for(c=1;c<=P&&a[l-c]===v[w-c];c++);return us=v.slice(n,1<c?1-c:void 0)}function Ha(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Yr(){return!0}function ha(){return!1}function Li(n){function a(l,c,v,w,P){this._reactName=l,this._targetInst=v,this.type=c,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var $ in n)n.hasOwnProperty($)&&(l=n[$],this[$]=l?l(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Yr:ha,this.isPropagationStopped=ha,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),a}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Li(lr),Wr=b({},lr,{view:0,detail:0}),fu=Li(Wr),cs,fs,Ya,yr=b({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ya&&(Ya&&n.type==="mousemove"?(cs=n.screenX-Ya.screenX,fs=n.screenY-Ya.screenY):fs=cs=0,Ya=n),cs)},movementY:function(n){return"movementY"in n?n.movementY:fs}}),pa=Li(yr),lc=b({},yr,{dataTransfer:0}),Wa=Li(lc),Dr=b({},Wr,{relatedTarget:0}),Eo=Li(Dr),Lo=b({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=Li(Lo),ds=b({},lr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cc=Li(ds),gl=b({},lr,{data:0}),hs=Li(gl),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ps={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=vl[n])?!!a[n]:!1}function ms(){return yl}var fc=b({},Wr,{key:function(n){if(n.key){var a=du[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ha(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ps[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(n){return n.type==="keypress"?Ha(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ha(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gs=Li(fc),Mo=b({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=Li(Mo),Ja=b({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),bl=Li(Ja),S=b({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Li(S),fe=b({},yr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),me=Li(fe),Ce=b({},lr,{newState:0,oldState:0}),Pe=Li(Ce),Ze=[9,13,27,32],ut=gr&&"CompositionEvent"in window,wt=null;gr&&"documentMode"in document&&(wt=document.documentMode);var Yt=gr&&"TextEvent"in window&&!wt,Zt=gr&&(!ut||wt&&8<wt&&11>=wt),rn=" ",Pn=!1;function Fn(n,a){switch(n){case"keyup":return Ze.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kn=!1;function gi(n,a){switch(n){case"compositionend":return Jn(a);case"keypress":return a.which!==32?null:(Pn=!0,rn);case"textInput":return n=a.data,n===rn&&Pn?null:n;default:return null}}function Ir(n,a){if(Kn)return n==="compositionend"||!ut&&Fn(n,a)?(n=cu(),us=ml=vr=null,Kn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zt&&a.locale!=="ko"?null:a.data;default:return null}}var ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jr(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!ur[n.type]:a==="textarea"}function xl(n,a,l,c){ja?da?da.push(c):da=[c]:ja=c,a=Qf(a,"onChange"),0<a.length&&(l=new Ga("onChange","change",null,l,c),n.push({event:l,listeners:a}))}var ma=null,ga=null;function ys(n){k0(n,0)}function Ka(n){var a=Gi(n);if(au(a))return n}function bs(n,a){if(n==="change")return a}var ko=!1;if(gr){var Mi;if(gr){var Za="oninput"in document;if(!Za){var Do=document.createElement("div");Do.setAttribute("oninput","return;"),Za=typeof Do.oninput=="function"}Mi=Za}else Mi=!1;ko=Mi&&(!document.documentMode||9<document.documentMode)}function Io(){ma&&(ma.detachEvent("onpropertychange",xs),ga=ma=null)}function xs(n){if(n.propertyName==="value"&&Ka(ga)){var a=[];xl(a,ga,n,mi(n)),uu(ys,a)}}function Ji(n,a,l){n==="focusin"?(Io(),ma=a,ga=l,ma.attachEvent("onpropertychange",xs)):n==="focusout"&&Io()}function dc(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ka(ga)}function _l(n,a){if(n==="click")return Ka(a)}function hu(n,a){if(n==="input"||n==="change")return Ka(a)}function Rr(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Si=typeof Object.is=="function"?Object.is:Rr;function Ro(n,a){if(Si(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var v=l[c];if(!rt.call(a,v)||!Si(n[v],a[v]))return!1}return!0}function pu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function va(n,a){var l=pu(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=a&&c>=a)return{node:l,offset:a-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pu(l)}}function cr(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?cr(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function br(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Yi(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Yi(n.document)}return a}function Kr(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Zr=gr&&"documentMode"in document&&11>=document.documentMode,Ki=null,$a=null,Ui=null,Xa=!1;function _s(n,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xa||Ki==null||Ki!==Yi(c)||(c=Ki,"selectionStart"in c&&Kr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ui&&Ro(Ui,c)||(Ui=c,c=Qf($a,"onSelect"),0<c.length&&(a=new Ga("onSelect","select",null,a,l),n.push({event:a,listeners:c}),a.target=Ki)))}function Zi(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var ki={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Pr={},Qa={};gr&&(Qa=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function xr(n){if(Pr[n])return Pr[n];if(!ki[n])return n;var a=ki[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Qa)return Pr[n]=a[l];return n}var eo=xr("animationend"),ya=xr("animationiteration"),ws=xr("animationstart"),_r=xr("transitionrun"),ba=xr("transitionstart"),En=xr("transitioncancel"),Sn=xr("transitionend"),Hn=new Map,Zn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zn.push("scrollEnd");function oi(n,a){Hn.set(n,a),mr(a,[n])}var xa=new WeakMap;function Ai(n,a){if(typeof n=="object"&&n!==null){var l=xa.get(n);return l!==void 0?l:(a={value:n,source:a,stack:jn(a)},xa.set(n,a),a)}return{value:n,source:a,stack:jn(a)}}var Fi=[],Po=0,mu=0;function wl(){for(var n=Po,a=mu=Po=0;a<n;){var l=Fi[a];Fi[a++]=null;var c=Fi[a];Fi[a++]=null;var v=Fi[a];Fi[a++]=null;var w=Fi[a];if(Fi[a++]=null,c!==null&&v!==null){var P=c.pending;P===null?v.next=v:(v.next=P.next,P.next=v),c.pending=v}w!==0&&vu(l,v,w)}}function Sl(n,a,l,c){Fi[Po++]=n,Fi[Po++]=a,Fi[Po++]=l,Fi[Po++]=c,mu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function gu(n,a,l,c){return Sl(n,a,l,c),Uo(n)}function Oo(n,a){return Sl(n,null,null,a),Uo(n)}function vu(n,a,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var v=!1,w=n.return;w!==null;)w.childLanes|=l,c=w.alternate,c!==null&&(c.childLanes|=l),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(v=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,v&&a!==null&&(v=31-yt(l),n=w.hiddenUpdates,c=n[v],c===null?n[v]=[a]:c.push(a),a.lane=l|536870912),w):null}function Uo(n){if(50<Uc)throw Uc=0,bh=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var vi={};function wr(n,a,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(n,a,l,c){return new wr(n,a,l,c)}function Ss(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $r(n,a){var l=n.alternate;return l===null?(l=Di(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Al(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Fo(n,a,l,c,v,w){var P=0;if(c=n,typeof n=="function")Ss(n)&&(P=1);else if(typeof n=="string")P=lv(n,l,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case re:return n=Di(31,l,a,v),n.elementType=re,n.lanes=w,n;case T:return _a(l.children,v,w,a);case L:P=8,v|=24;break;case R:return n=Di(12,l,a,v|2),n.elementType=R,n.lanes=w,n;case J:return n=Di(13,l,a,v),n.elementType=J,n.lanes=w,n;case ee:return n=Di(19,l,a,v),n.elementType=ee,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case D:P=10;break e;case k:P=9;break e;case V:P=11;break e;case G:P=14;break e;case z:P=16,c=null;break e}P=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return a=Di(P,l,a,v),a.elementType=n,a.type=c,a.lanes=w,a}function _a(n,a,l,c){return n=Di(7,n,c,a),n.lanes=l,n}function yu(n,a,l){return n=Di(6,n,null,a),n.lanes=l,n}function Cl(n,a,l){return a=Di(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var to=[],wa=0,As=null,bu=0,Sr=[],fr=0,Bo=null,Sa=1,Aa="";function qo(n,a){to[wa++]=bu,to[wa++]=As,As=n,bu=a}function vf(n,a,l){Sr[fr++]=Sa,Sr[fr++]=Aa,Sr[fr++]=Bo,Bo=n;var c=Sa;n=Aa;var v=32-yt(c)-1;c&=~(1<<v),l+=1;var w=32-yt(a)+v;if(30<w){var P=v-v%5;w=(c&(1<<P)-1).toString(32),c>>=P,v-=P,Sa=1<<32-yt(a)+v|l<<v|c,Aa=w+n}else Sa=1<<w|l<<v|c,Aa=n}function Tl(n){n.return!==null&&(qo(n,1),vf(n,1,0))}function Nl(n){for(;n===As;)As=to[--wa],to[wa]=null,bu=to[--wa],to[wa]=null;for(;n===Bo;)Bo=Sr[--fr],Sr[fr]=null,Aa=Sr[--fr],Sr[fr]=null,Sa=Sr[--fr],Sr[fr]=null}var si=null,Gn=null,pn=!1,no=null,Xr=!1,hc=Error(i(519));function zo(n){var a=Error(i(418,""));throw Cs(Ai(a,n)),hc}function yf(n){var a=n.stateNode,l=n.type,c=n.memoizedProps;switch(a[cn]=n,a[sn]=c,l){case"dialog":on("cancel",a),on("close",a);break;case"iframe":case"object":case"embed":on("load",a);break;case"video":case"audio":for(l=0;l<Bc.length;l++)on(Bc[l],a);break;case"source":on("error",a);break;case"img":case"image":case"link":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"input":on("invalid",a),ul(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),za(a);break;case"select":on("invalid",a);break;case"textarea":on("invalid",a),fl(a,c.value,c.defaultValue,c.children),za(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||P0(a.textContent,l)?(c.popover!=null&&(on("beforetoggle",a),on("toggle",a)),c.onScroll!=null&&on("scroll",a),c.onScrollEnd!=null&&on("scrollend",a),c.onClick!=null&&(a.onclick=ed),a=!0):a=!1,a||zo(n)}function Ca(n){for(si=n.return;si;)switch(si.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:si=si.return}}function Bi(n){if(n!==si)return!1;if(!pn)return Ca(n),pn=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ph(n.type,n.memoizedProps)),l=!l),l&&Gn&&zo(n),Ca(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){Gn=Ia(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}Gn=null}}else a===27?(a=Gn,Vs(n.type)?(n=Bh,Bh=null,Gn=n):Gn=a):Gn=si?Ia(n.stateNode.nextSibling):null;return!0}function dr(){Gn=si=null,pn=!1}function bf(){var n=no;return n!==null&&(Tr===null?Tr=n:Tr.push.apply(Tr,n),no=null),n}function Cs(n){no===null?no=[n]:no.push(n)}var Qr=ce(null),yi=null,Ta=null;function io(n,a,l){j(Qr,a._currentValue),a._currentValue=l}function ea(n){n._currentValue=Qr.current,M(Qr)}function xu(n,a,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===l)break;n=n.return}}function _u(n,a,l,c){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var w=v.dependencies;if(w!==null){var P=v.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=v;for(var he=0;he<a.length;he++)if($.context===a[he]){w.lanes|=l,$=w.alternate,$!==null&&($.lanes|=l),xu(w.return,l,n),c||(P=null);break e}w=$.next}}else if(v.tag===18){if(P=v.return,P===null)throw Error(i(341));P.lanes|=l,w=P.alternate,w!==null&&(w.lanes|=l),xu(P,l,n),P=null}else P=v.child;if(P!==null)P.return=v;else for(P=v;P!==null;){if(P===n){P=null;break}if(v=P.sibling,v!==null){v.return=P.return,P=v;break}P=P.return}v=P}}function Ts(n,a,l,c){n=null;for(var v=a,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var P=v.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var $=v.type;Si(v.pendingProps.value,P.value)||(n!==null?n.push($):n=[$])}}else if(v===we.current){if(P=v.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(Gc):n=[Gc])}v=v.return}n!==null&&_u(a,n,l,c),a.flags|=262144}function wu(n){for(n=n.firstContext;n!==null;){if(!Si(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){yi=n,Ta=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function li(n){return Su(yi,n)}function ro(n,a){return yi===null&&ta(n),Su(n,a)}function Su(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ta===null){if(n===null)throw Error(i(308));Ta=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ta=Ta.next=a;return l}var Hd=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},xf=r.unstable_scheduleCallback,Gd=r.unstable_NormalPriority,ui={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new Hd,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&xf(Gd,function(){n.controller.abort()})}var Ll=null,mc=0,Vo=0,Na=null;function Yd(n,a){if(Ll===null){var l=Ll=[];mc=0,Vo=Th(),Na={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mc++,a.then(_f,_f),a}function _f(){if(--mc===0&&Ll!==null){Na!==null&&(Na.status="fulfilled");var n=Ll;Ll=null,Vo=0,Na=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function wf(n,a){var l=[],c={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(c.status="rejected",c.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),c}var h=F.S;F.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Yd(n,a),h!==null&&h(n,a)};var y=ce(null);function A(){var n=y.current;return n!==null?n:Un.pooledCache}function N(n,a){a===null?j(y,y.current):j(y,a.pool)}function B(){var n=A();return n===null?null:{parent:ui._currentValue,pool:n}}var H=Error(i(460)),W=Error(i(474)),Z=Error(i(542)),Q={then:function(){}};function oe(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ge(){}function Ee(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(ge,ge),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,je(n),n;default:if(typeof a.status=="string")a.then(ge,ge);else{if(n=Un,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=c}},function(c){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,je(n),n}throw Te=a,H}}var Te=null;function Se(){if(Te===null)throw Error(i(459));var n=Te;return Te=null,n}function je(n){if(n===H||n===Z)throw Error(i(483))}var Ie=!1;function ve(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _e(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fe(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function He(n,a,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Cn&2)!==0){var v=c.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),c.pending=a,a=Uo(n),vu(n,null,l),a}return Sl(n,c,a,l),Uo(n)}function ze(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,l|=c,a.lanes=l,At(n,l)}}function ct(n,a){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var v=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var P={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?v=w=P:w=w.next=P,l=l.next}while(l!==null);w===null?v=w=a:w=w.next=a}else v=w=a;l={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var tt=!1;function Ct(){if(tt){var n=Na;if(n!==null)throw n}}function nt(n,a,l,c){tt=!1;var v=n.updateQueue;Ie=!1;var w=v.firstBaseUpdate,P=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var he=$,Me=he.next;he.next=null,P===null?w=Me:P.next=Me,P=he;var qe=n.alternate;qe!==null&&(qe=qe.updateQueue,$=qe.lastBaseUpdate,$!==P&&($===null?qe.firstBaseUpdate=Me:$.next=Me,qe.lastBaseUpdate=he))}if(w!==null){var Ge=v.baseState;P=0,qe=Me=he=null,$=w;do{var ke=$.lane&-536870913,De=ke!==$.lane;if(De?(hn&ke)===ke:(c&ke)===ke){ke!==0&&ke===Vo&&(tt=!0),qe!==null&&(qe=qe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Ft=n,Dt=$;ke=a;var Mn=l;switch(Dt.tag){case 1:if(Ft=Dt.payload,typeof Ft=="function"){Ge=Ft.call(Mn,Ge,ke);break e}Ge=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Dt.payload,ke=typeof Ft=="function"?Ft.call(Mn,Ge,ke):Ft,ke==null)break e;Ge=b({},Ge,ke);break e;case 2:Ie=!0}}ke=$.callback,ke!==null&&(n.flags|=64,De&&(n.flags|=8192),De=v.callbacks,De===null?v.callbacks=[ke]:De.push(ke))}else De={lane:ke,tag:$.tag,payload:$.payload,callback:$.callback,next:null},qe===null?(Me=qe=De,he=Ge):qe=qe.next=De,P|=ke;if($=$.next,$===null){if($=v.shared.pending,$===null)break;De=$,$=De.next,De.next=null,v.lastBaseUpdate=De,v.shared.pending=null}}while(!0);qe===null&&(he=Ge),v.baseState=he,v.firstBaseUpdate=Me,v.lastBaseUpdate=qe,w===null&&(v.shared.lanes=0),Fs|=P,n.lanes=P,n.memoizedState=Ge}}function fn(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function mn(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)fn(l[n],a)}var en=ce(null),Xt=ce(0);function xn(n,a){n=Xo,j(Xt,n),j(en,a),Xo=n|a.baseLanes}function gn(){j(Xt,Xo),j(en,en.current)}function Vt(){Xo=Xt.current,M(en),M(Xt)}var An=0,Et=null,Rt=null,ln=null,dn=!1,bi=!1,ci=!1,$n=0,Xn=0,ni=null,Ar=0;function vn(){throw Error(i(321))}function ii(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Si(n[l],a[l]))return!1;return!0}function Or(n,a,l,c,v,w){return An=w,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=n===null||n.memoizedState===null?mm:gm,ci=!1,w=l(c,v),ci=!1,bi&&(w=jo(a,l,c,v)),ao(n),w}function ao(n){F.H=Rf;var a=Rt!==null&&Rt.next!==null;if(An=0,ln=Rt=Et=null,dn=!1,Xn=0,ni=null,a)throw Error(i(300));n===null||Ii||(n=n.dependencies,n!==null&&wu(n)&&(Ii=!0))}function jo(n,a,l,c){Et=n;var v=0;do{if(bi&&(ni=null),Xn=0,bi=!1,25<=v)throw Error(i(301));if(v+=1,ln=Rt=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}F.H=b5,w=a(l,c)}while(bi);return w}function oo(){var n=F.H,a=n.useState()[0];return a=typeof a.then=="function"?so(a):a,n=n.useState()[0],(Rt!==null?Rt.memoizedState:null)!==n&&(Et.flags|=1024),a}function On(){var n=$n!==0;return $n=0,n}function Ml(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Au(n){if(dn){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dn=!1}An=0,ln=Rt=Et=null,bi=!1,Xn=$n=0,ni=null}function qi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Et.memoizedState=ln=n:ln=ln.next=n,ln}function Bn(){if(Rt===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=Rt.next;var a=ln===null?Et.memoizedState:ln.next;if(a!==null)ln=a,Rt=n;else{if(n===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Rt=n,n={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},ln===null?Et.memoizedState=ln=n:ln=ln.next=n}return ln}function Ho(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(n){var a=Xn;return Xn+=1,ni===null&&(ni=[]),n=Ee(ni,n,a),a=Et,(ln===null?a.memoizedState:ln.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?mm:gm),n}function $i(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return so(n);if(n.$$typeof===D)return li(n)}throw Error(i(438,String(n)))}function lo(n){var a=null,l=Et.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Et.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ho(),Et.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),c=0;c<n;c++)l[c]=se;return a.index++,l}function Xi(n,a){return typeof a=="function"?a(n):a}function kl(n){var a=Bn();return Ns(a,Rt,n)}function Ns(n,a,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var v=n.baseQueue,w=c.pending;if(w!==null){if(v!==null){var P=v.next;v.next=w.next,w.next=P}a.baseQueue=v=w,c.pending=null}if(w=n.baseState,v===null)n.memoizedState=w;else{a=v.next;var $=P=null,he=null,Me=a,qe=!1;do{var Ge=Me.lane&-536870913;if(Ge!==Me.lane?(hn&Ge)===Ge:(An&Ge)===Ge){var ke=Me.revertLane;if(ke===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Ge===Vo&&(qe=!0);else if((An&ke)===ke){Me=Me.next,ke===Vo&&(qe=!0);continue}else Ge={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},he===null?($=he=Ge,P=w):he=he.next=Ge,Et.lanes|=ke,Fs|=ke;Ge=Me.action,ci&&l(w,Ge),w=Me.hasEagerState?Me.eagerState:l(w,Ge)}else ke={lane:Ge,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},he===null?($=he=ke,P=w):he=he.next=ke,Et.lanes|=Ge,Fs|=Ge;Me=Me.next}while(Me!==null&&Me!==a);if(he===null?P=w:he.next=$,!Si(w,n.memoizedState)&&(Ii=!0,qe&&(l=Na,l!==null)))throw l;n.memoizedState=w,n.baseState=P,n.baseQueue=he,c.lastRenderedState=w}return v===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Cu(n){var a=Bn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,v=l.pending,w=a.memoizedState;if(v!==null){l.pending=null;var P=v=v.next;do w=n(w,P.action),P=P.next;while(P!==v);Si(w,a.memoizedState)||(Ii=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),l.lastRenderedState=w}return[w,c]}function Dl(n,a,l){var c=Et,v=Bn(),w=pn;if(w){if(l===void 0)throw Error(i(407));l=l()}else l=a();var P=!Si((Rt||v).memoizedState,l);P&&(v.memoizedState=l,Ii=!0),v=v.queue;var $=Es.bind(null,c,v,n);if(ks(2048,8,$,[n]),v.getSnapshot!==a||P||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,La(9,Ol(),Il.bind(null,c,v,l,a),null),Un===null)throw Error(i(349));w||(An&124)!==0||Tu(c,a,l)}return l}function Tu(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Et.updateQueue,a===null?(a=Ho(),Et.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function Il(n,a,l,c){a.value=l,a.getSnapshot=c,Sf(a)&&Af(n)}function Es(n,a,l){return l(function(){Sf(a)&&Af(n)})}function Sf(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Si(n,l)}catch{return!0}}function Af(n){var a=Oo(n,2);a!==null&&Vr(a,n,2)}function Rl(n){var a=qi();if(typeof n=="function"){var l=n;if(n=l(),ci){$t(!0);try{l()}finally{$t(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},a}function Ea(n,a,l,c){return n.baseState=l,Ns(n,Rt,typeof c=="function"?c:Xi)}function Wd(n,a,l,c,v){if(If(n))throw Error(i(485));if(n=a.action,n!==null){var w={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};F.T!==null?l(!0):w.isTransition=!1,c(w),l=a.pending,l===null?(w.next=a.pending=w,Cf(a,w)):(w.next=l.next,a.pending=l.next=w)}}function Cf(n,a){var l=a.action,c=a.payload,v=n.state;if(a.isTransition){var w=F.T,P={};F.T=P;try{var $=l(v,c),he=F.S;he!==null&&he(P,$),Tf(n,a,$)}catch(Me){Ls(n,a,Me)}finally{F.T=w}}else try{w=l(v,c),Tf(n,a,w)}catch(Me){Ls(n,a,Me)}}function Tf(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){gc(n,a,c)},function(c){return Ls(n,a,c)}):gc(n,a,l)}function gc(n,a,l){a.status="fulfilled",a.value=l,vc(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Cf(n,l)))}function Ls(n,a,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,vc(a),a=a.next;while(a!==c)}n.action=null}function vc(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function yc(n,a){return a}function Pl(n,a){if(pn){var l=Un.formState;if(l!==null){e:{var c=Et;if(pn){if(Gn){t:{for(var v=Gn,w=Xr;v.nodeType!==8;){if(!w){v=null;break t}if(v=Ia(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Gn=Ia(v.nextSibling),c=v.data==="F!";break e}}zo(c)}c=!1}c&&(a=l[0])}}return l=qi(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:a},l.queue=c,l=dm.bind(null,Et,c),c.dispatch=l,c=Rl(!1),w=Jd.bind(null,Et,!1,c.queue),c=qi(),v={state:a,dispatch:null,action:n,pending:null},c.queue=v,l=Wd.bind(null,Et,v,w,l),v.dispatch=l,c.memoizedState=n,[a,l,!1]}function Nu(n){var a=Bn();return Ms(a,Rt,n)}function Ms(n,a,l){if(a=Ns(n,a,yc)[0],n=kl(Xi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=so(a)}catch(P){throw P===H?Z:P}else c=a;a=Bn();var v=a.queue,w=v.dispatch;return l!==a.memoizedState&&(Et.flags|=2048,La(9,Ol(),Nf.bind(null,v,l),null)),[c,w,n]}function Nf(n,a){n.action=a}function Ef(n){var a=Bn(),l=Rt;if(l!==null)return Ms(a,l,n);Bn(),a=a.memoizedState,l=Bn();var c=l.queue.dispatch;return l.memoizedState=n,[a,c,!1]}function La(n,a,l,c){return n={tag:n,create:l,deps:c,inst:a,next:null},a=Et.updateQueue,a===null&&(a=Ho(),Et.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,a.lastEffect=n),n}function Ol(){return{destroy:void 0,resource:void 0}}function Eu(){return Bn().memoizedState}function Ur(n,a,l,c){var v=qi();c=c===void 0?null:c,Et.flags|=n,v.memoizedState=La(1|a,Ol(),l,c)}function ks(n,a,l,c){var v=Bn();c=c===void 0?null:c;var w=v.memoizedState.inst;Rt!==null&&c!==null&&ii(c,Rt.memoizedState.deps)?v.memoizedState=La(a,w,l,c):(Et.flags|=n,v.memoizedState=La(1|a,w,l,c))}function bc(n,a){Ur(8390656,8,n,a)}function Lf(n,a){ks(2048,8,n,a)}function xc(n,a){return ks(4,2,n,a)}function Go(n,a){return ks(4,4,n,a)}function Mf(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function _c(n,a,l){l=l!=null?l.concat([n]):null,ks(4,4,Mf.bind(null,a,n),l)}function wc(){}function Sc(n,a){var l=Bn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&ii(a,c[1])?c[0]:(l.memoizedState=[n,a],n)}function kf(n,a){var l=Bn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&ii(a,c[1]))return c[0];if(c=n(),ci){$t(!0);try{n()}finally{$t(!1)}}return l.memoizedState=[c,a],c}function Yo(n,a,l){return l===void 0||(An&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=l0(),Et.lanes|=n,Fs|=n,l)}function Lu(n,a,l,c){return Si(l,a)?l:en.current!==null?(n=Yo(n,l,c),Si(n,a)||(Ii=!0),n):(An&42)===0?(Ii=!0,n.memoizedState=l):(n=l0(),Et.lanes|=n,Fs|=n,a)}function Ul(n,a,l,c,v){var w=K.p;K.p=w!==0&&8>w?w:8;var P=F.T,$={};F.T=$,Jd(n,!1,a,l);try{var he=v(),Me=F.S;if(Me!==null&&Me($,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var qe=wf(he,c);Nc(n,a,qe,zr(n))}else Nc(n,a,c,zr(n))}catch(Ge){Nc(n,a,{then:function(){},status:"rejected",reason:Ge},zr())}finally{K.p=w,F.T=P}}function Ma(){}function na(n,a,l,c){if(n.tag!==5)throw Error(i(476));var v=ka(n).queue;Ul(n,v,a,ie,l===null?Ma:function(){return Fl(n),l(c)})}function ka(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ie},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Fl(n){var a=ka(n).next.queue;Nc(n,a,{},zr())}function Bl(){return li(Gc)}function Ac(){return Bn().memoizedState}function Df(){return Bn().memoizedState}function Cc(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=zr();n=Fe(l);var c=He(a,n,l);c!==null&&(Vr(c,a,l),ze(c,a,l)),a={cache:pc()},n.payload=a;return}a=a.return}}function Tc(n,a,l){var c=zr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},If(n)?hm(a,l):(l=gu(n,a,l,c),l!==null&&(Vr(l,n,c),pm(l,a,c)))}function dm(n,a,l){var c=zr();Nc(n,a,l,c)}function Nc(n,a,l,c){var v={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(If(n))hm(a,v);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var P=a.lastRenderedState,$=w(P,l);if(v.hasEagerState=!0,v.eagerState=$,Si($,P))return Sl(n,a,v,0),Un===null&&wl(),!1}catch{}finally{}if(l=gu(n,a,v,c),l!==null)return Vr(l,n,c),pm(l,a,c),!0}return!1}function Jd(n,a,l,c){if(c={lane:2,revertLane:Th(),action:c,hasEagerState:!1,eagerState:null,next:null},If(n)){if(a)throw Error(i(479))}else a=gu(n,l,c,2),a!==null&&Vr(a,n,2)}function If(n){var a=n.alternate;return n===Et||a!==null&&a===Et}function hm(n,a){bi=dn=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function pm(n,a,l){if((l&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,l|=c,a.lanes=l,At(n,l)}}var Rf={readContext:li,use:$i,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn},mm={readContext:li,use:$i,useCallback:function(n,a){return qi().memoizedState=[n,a===void 0?null:a],n},useContext:li,useEffect:bc,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Ur(4194308,4,Mf.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Ur(4194308,4,n,a)},useInsertionEffect:function(n,a){Ur(4,2,n,a)},useMemo:function(n,a){var l=qi();a=a===void 0?null:a;var c=n();if(ci){$t(!0);try{n()}finally{$t(!1)}}return l.memoizedState=[c,a],c},useReducer:function(n,a,l){var c=qi();if(l!==void 0){var v=l(a);if(ci){$t(!0);try{l(a)}finally{$t(!1)}}}else v=a;return c.memoizedState=c.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},c.queue=n,n=n.dispatch=Tc.bind(null,Et,n),[c.memoizedState,n]},useRef:function(n){var a=qi();return n={current:n},a.memoizedState=n},useState:function(n){n=Rl(n);var a=n.queue,l=dm.bind(null,Et,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:wc,useDeferredValue:function(n,a){var l=qi();return Yo(l,n,a)},useTransition:function(){var n=Rl(!1);return n=Ul.bind(null,Et,n.queue,!0,!1),qi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var c=Et,v=qi();if(pn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Un===null)throw Error(i(349));(hn&124)!==0||Tu(c,a,l)}v.memoizedState=l;var w={value:l,getSnapshot:a};return v.queue=w,bc(Es.bind(null,c,w,n),[n]),c.flags|=2048,La(9,Ol(),Il.bind(null,c,w,l,a),null),l},useId:function(){var n=qi(),a=Un.identifierPrefix;if(pn){var l=Aa,c=Sa;l=(c&~(1<<32-yt(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=$n++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Ar++,a="«"+a+"r"+l.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:Bl,useFormState:Pl,useActionState:Pl,useOptimistic:function(n){var a=qi();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Jd.bind(null,Et,!0,l),l.dispatch=a,[n,a]},useMemoCache:lo,useCacheRefresh:function(){return qi().memoizedState=Cc.bind(null,Et)}},gm={readContext:li,use:$i,useCallback:Sc,useContext:li,useEffect:Lf,useImperativeHandle:_c,useInsertionEffect:xc,useLayoutEffect:Go,useMemo:kf,useReducer:kl,useRef:Eu,useState:function(){return kl(Xi)},useDebugValue:wc,useDeferredValue:function(n,a){var l=Bn();return Lu(l,Rt.memoizedState,n,a)},useTransition:function(){var n=kl(Xi)[0],a=Bn().memoizedState;return[typeof n=="boolean"?n:so(n),a]},useSyncExternalStore:Dl,useId:Ac,useHostTransitionStatus:Bl,useFormState:Nu,useActionState:Nu,useOptimistic:function(n,a){var l=Bn();return Ea(l,Rt,n,a)},useMemoCache:lo,useCacheRefresh:Df},b5={readContext:li,use:$i,useCallback:Sc,useContext:li,useEffect:Lf,useImperativeHandle:_c,useInsertionEffect:xc,useLayoutEffect:Go,useMemo:kf,useReducer:Cu,useRef:Eu,useState:function(){return Cu(Xi)},useDebugValue:wc,useDeferredValue:function(n,a){var l=Bn();return Rt===null?Yo(l,n,a):Lu(l,Rt.memoizedState,n,a)},useTransition:function(){var n=Cu(Xi)[0],a=Bn().memoizedState;return[typeof n=="boolean"?n:so(n),a]},useSyncExternalStore:Dl,useId:Ac,useHostTransitionStatus:Bl,useFormState:Ef,useActionState:Ef,useOptimistic:function(n,a){var l=Bn();return Rt!==null?Ea(l,Rt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:lo,useCacheRefresh:Df},Mu=null,Ec=0;function Pf(n){var a=Ec;return Ec+=1,Mu===null&&(Mu=[]),Ee(Mu,n,a)}function Lc(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Of(n,a){throw a.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function vm(n){var a=n._init;return a(n._payload)}function ym(n){function a(Ae,be){if(n){var Ne=Ae.deletions;Ne===null?(Ae.deletions=[be],Ae.flags|=16):Ne.push(be)}}function l(Ae,be){if(!n)return null;for(;be!==null;)a(Ae,be),be=be.sibling;return null}function c(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function v(Ae,be){return Ae=$r(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function w(Ae,be,Ne){return Ae.index=Ne,n?(Ne=Ae.alternate,Ne!==null?(Ne=Ne.index,Ne<be?(Ae.flags|=67108866,be):Ne):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function P(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function $(Ae,be,Ne,Ve){return be===null||be.tag!==6?(be=yu(Ne,Ae.mode,Ve),be.return=Ae,be):(be=v(be,Ne),be.return=Ae,be)}function he(Ae,be,Ne,Ve){var gt=Ne.type;return gt===T?qe(Ae,be,Ne.props.children,Ve,Ne.key):be!==null&&(be.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&vm(gt)===be.type)?(be=v(be,Ne.props),Lc(be,Ne),be.return=Ae,be):(be=Fo(Ne.type,Ne.key,Ne.props,null,Ae.mode,Ve),Lc(be,Ne),be.return=Ae,be)}function Me(Ae,be,Ne,Ve){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ne.containerInfo||be.stateNode.implementation!==Ne.implementation?(be=Cl(Ne,Ae.mode,Ve),be.return=Ae,be):(be=v(be,Ne.children||[]),be.return=Ae,be)}function qe(Ae,be,Ne,Ve,gt){return be===null||be.tag!==7?(be=_a(Ne,Ae.mode,Ve,gt),be.return=Ae,be):(be=v(be,Ne),be.return=Ae,be)}function Ge(Ae,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=yu(""+be,Ae.mode,Ne),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case C:return Ne=Fo(be.type,be.key,be.props,null,Ae.mode,Ne),Lc(Ne,be),Ne.return=Ae,Ne;case _:return be=Cl(be,Ae.mode,Ne),be.return=Ae,be;case z:var Ve=be._init;return be=Ve(be._payload),Ge(Ae,be,Ne)}if(ye(be)||I(be))return be=_a(be,Ae.mode,Ne,null),be.return=Ae,be;if(typeof be.then=="function")return Ge(Ae,Pf(be),Ne);if(be.$$typeof===D)return Ge(Ae,ro(Ae,be),Ne);Of(Ae,be)}return null}function ke(Ae,be,Ne,Ve){var gt=be!==null?be.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return gt!==null?null:$(Ae,be,""+Ne,Ve);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:return Ne.key===gt?he(Ae,be,Ne,Ve):null;case _:return Ne.key===gt?Me(Ae,be,Ne,Ve):null;case z:return gt=Ne._init,Ne=gt(Ne._payload),ke(Ae,be,Ne,Ve)}if(ye(Ne)||I(Ne))return gt!==null?null:qe(Ae,be,Ne,Ve,null);if(typeof Ne.then=="function")return ke(Ae,be,Pf(Ne),Ve);if(Ne.$$typeof===D)return ke(Ae,be,ro(Ae,Ne),Ve);Of(Ae,Ne)}return null}function De(Ae,be,Ne,Ve,gt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ae=Ae.get(Ne)||null,$(be,Ae,""+Ve,gt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:return Ae=Ae.get(Ve.key===null?Ne:Ve.key)||null,he(be,Ae,Ve,gt);case _:return Ae=Ae.get(Ve.key===null?Ne:Ve.key)||null,Me(be,Ae,Ve,gt);case z:var nn=Ve._init;return Ve=nn(Ve._payload),De(Ae,be,Ne,Ve,gt)}if(ye(Ve)||I(Ve))return Ae=Ae.get(Ne)||null,qe(be,Ae,Ve,gt,null);if(typeof Ve.then=="function")return De(Ae,be,Ne,Pf(Ve),gt);if(Ve.$$typeof===D)return De(Ae,be,Ne,ro(be,Ve),gt);Of(be,Ve)}return null}function Ft(Ae,be,Ne,Ve){for(var gt=null,nn=null,Tt=be,It=be=0,Pi=null;Tt!==null&&It<Ne.length;It++){Tt.index>It?(Pi=Tt,Tt=null):Pi=Tt.sibling;var yn=ke(Ae,Tt,Ne[It],Ve);if(yn===null){Tt===null&&(Tt=Pi);break}n&&Tt&&yn.alternate===null&&a(Ae,Tt),be=w(yn,be,It),nn===null?gt=yn:nn.sibling=yn,nn=yn,Tt=Pi}if(It===Ne.length)return l(Ae,Tt),pn&&qo(Ae,It),gt;if(Tt===null){for(;It<Ne.length;It++)Tt=Ge(Ae,Ne[It],Ve),Tt!==null&&(be=w(Tt,be,It),nn===null?gt=Tt:nn.sibling=Tt,nn=Tt);return pn&&qo(Ae,It),gt}for(Tt=c(Tt);It<Ne.length;It++)Pi=De(Tt,Ae,It,Ne[It],Ve),Pi!==null&&(n&&Pi.alternate!==null&&Tt.delete(Pi.key===null?It:Pi.key),be=w(Pi,be,It),nn===null?gt=Pi:nn.sibling=Pi,nn=Pi);return n&&Tt.forEach(function(Ws){return a(Ae,Ws)}),pn&&qo(Ae,It),gt}function Dt(Ae,be,Ne,Ve){if(Ne==null)throw Error(i(151));for(var gt=null,nn=null,Tt=be,It=be=0,Pi=null,yn=Ne.next();Tt!==null&&!yn.done;It++,yn=Ne.next()){Tt.index>It?(Pi=Tt,Tt=null):Pi=Tt.sibling;var Ws=ke(Ae,Tt,yn.value,Ve);if(Ws===null){Tt===null&&(Tt=Pi);break}n&&Tt&&Ws.alternate===null&&a(Ae,Tt),be=w(Ws,be,It),nn===null?gt=Ws:nn.sibling=Ws,nn=Ws,Tt=Pi}if(yn.done)return l(Ae,Tt),pn&&qo(Ae,It),gt;if(Tt===null){for(;!yn.done;It++,yn=Ne.next())yn=Ge(Ae,yn.value,Ve),yn!==null&&(be=w(yn,be,It),nn===null?gt=yn:nn.sibling=yn,nn=yn);return pn&&qo(Ae,It),gt}for(Tt=c(Tt);!yn.done;It++,yn=Ne.next())yn=De(Tt,Ae,It,yn.value,Ve),yn!==null&&(n&&yn.alternate!==null&&Tt.delete(yn.key===null?It:yn.key),be=w(yn,be,It),nn===null?gt=yn:nn.sibling=yn,nn=yn);return n&&Tt.forEach(function(xv){return a(Ae,xv)}),pn&&qo(Ae,It),gt}function Mn(Ae,be,Ne,Ve){if(typeof Ne=="object"&&Ne!==null&&Ne.type===T&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:e:{for(var gt=Ne.key;be!==null;){if(be.key===gt){if(gt=Ne.type,gt===T){if(be.tag===7){l(Ae,be.sibling),Ve=v(be,Ne.props.children),Ve.return=Ae,Ae=Ve;break e}}else if(be.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&vm(gt)===be.type){l(Ae,be.sibling),Ve=v(be,Ne.props),Lc(Ve,Ne),Ve.return=Ae,Ae=Ve;break e}l(Ae,be);break}else a(Ae,be);be=be.sibling}Ne.type===T?(Ve=_a(Ne.props.children,Ae.mode,Ve,Ne.key),Ve.return=Ae,Ae=Ve):(Ve=Fo(Ne.type,Ne.key,Ne.props,null,Ae.mode,Ve),Lc(Ve,Ne),Ve.return=Ae,Ae=Ve)}return P(Ae);case _:e:{for(gt=Ne.key;be!==null;){if(be.key===gt)if(be.tag===4&&be.stateNode.containerInfo===Ne.containerInfo&&be.stateNode.implementation===Ne.implementation){l(Ae,be.sibling),Ve=v(be,Ne.children||[]),Ve.return=Ae,Ae=Ve;break e}else{l(Ae,be);break}else a(Ae,be);be=be.sibling}Ve=Cl(Ne,Ae.mode,Ve),Ve.return=Ae,Ae=Ve}return P(Ae);case z:return gt=Ne._init,Ne=gt(Ne._payload),Mn(Ae,be,Ne,Ve)}if(ye(Ne))return Ft(Ae,be,Ne,Ve);if(I(Ne)){if(gt=I(Ne),typeof gt!="function")throw Error(i(150));return Ne=gt.call(Ne),Dt(Ae,be,Ne,Ve)}if(typeof Ne.then=="function")return Mn(Ae,be,Pf(Ne),Ve);if(Ne.$$typeof===D)return Mn(Ae,be,ro(Ae,Ne),Ve);Of(Ae,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,be!==null&&be.tag===6?(l(Ae,be.sibling),Ve=v(be,Ne),Ve.return=Ae,Ae=Ve):(l(Ae,be),Ve=yu(Ne,Ae.mode,Ve),Ve.return=Ae,Ae=Ve),P(Ae)):l(Ae,be)}return function(Ae,be,Ne,Ve){try{Ec=0;var gt=Mn(Ae,be,Ne,Ve);return Mu=null,gt}catch(Tt){if(Tt===H||Tt===Z)throw Tt;var nn=Di(29,Tt,null,Ae.mode);return nn.lanes=Ve,nn.return=Ae,nn}finally{}}}var ku=ym(!0),bm=ym(!1),ia=ce(null),uo=null;function Ds(n){var a=n.alternate;j(Ci,Ci.current&1),j(ia,n),uo===null&&(a===null||en.current!==null||a.memoizedState!==null)&&(uo=n)}function xm(n){if(n.tag===22){if(j(Ci,Ci.current),j(ia,n),uo===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(uo=n)}}else Is()}function Is(){j(Ci,Ci.current),j(ia,ia.current)}function Wo(n){M(ia),uo===n&&(uo=null),M(Ci)}var Ci=ce(0);function Uf(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Fh(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Kd(n,a,l,c){a=n.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Zd={enqueueSetState:function(n,a,l){n=n._reactInternals;var c=zr(),v=Fe(c);v.payload=a,l!=null&&(v.callback=l),a=He(n,v,c),a!==null&&(Vr(a,n,c),ze(a,n,c))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var c=zr(),v=Fe(c);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=He(n,v,c),a!==null&&(Vr(a,n,c),ze(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=zr(),c=Fe(l);c.tag=2,a!=null&&(c.callback=a),a=He(n,c,l),a!==null&&(Vr(a,n,l),ze(a,n,l))}};function _m(n,a,l,c,v,w,P){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,w,P):a.prototype&&a.prototype.isPureReactComponent?!Ro(l,c)||!Ro(v,w):!0}function wm(n,a,l,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==n&&Zd.enqueueReplaceState(a,a.state,null)}function ql(n,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(n=n.defaultProps){l===a&&(l=b({},l));for(var v in n)l[v]===void 0&&(l[v]=n[v])}return l}var Ff=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Sm(n){Ff(n)}function Am(n){console.error(n)}function Cm(n){Ff(n)}function Bf(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Tm(n,a,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function $d(n,a,l){return l=Fe(l),l.tag=3,l.payload={element:null},l.callback=function(){Bf(n,a)},l}function Nm(n){return n=Fe(n),n.tag=3,n}function Em(n,a,l,c){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var w=c.value;n.payload=function(){return v(w)},n.callback=function(){Tm(a,l,c)}}var P=l.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(n.callback=function(){Tm(a,l,c),typeof v!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})})}function x5(n,a,l,c,v){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ts(a,l,v,!0),l=ia.current,l!==null){switch(l.tag){case 13:return uo===null?_h():l.alternate===null&&ri===0&&(ri=3),l.flags&=-257,l.flags|=65536,l.lanes=v,c===Q?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Sh(n,c,v)),!1;case 22:return l.flags|=65536,c===Q?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Sh(n,c,v)),!1}throw Error(i(435,l.tag))}return Sh(n,c,v),_h(),!1}if(pn)return a=ia.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,c!==hc&&(n=Error(i(422),{cause:c}),Cs(Ai(n,l)))):(c!==hc&&(a=Error(i(423),{cause:c}),Cs(Ai(a,l))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,c=Ai(c,l),v=$d(n.stateNode,c,v),ct(n,v),ri!==4&&(ri=2)),!1;var w=Error(i(520),{cause:c});if(w=Ai(w,l),Oc===null?Oc=[w]:Oc.push(w),ri!==4&&(ri=2),a===null)return!0;c=Ai(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=v&-v,l.lanes|=n,n=$d(l.stateNode,c,n),ct(l,n),!1;case 1:if(a=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bs===null||!Bs.has(w))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Nm(v),Em(v,n,l,c),ct(l,v),!1}l=l.return}while(l!==null);return!1}var Lm=Error(i(461)),Ii=!1;function zi(n,a,l,c){a.child=n===null?bm(a,null,l,c):ku(a,n.child,l,c)}function Mm(n,a,l,c,v){l=l.render;var w=a.ref;if("ref"in c){var P={};for(var $ in c)$!=="ref"&&(P[$]=c[$])}else P=c;return ta(a),c=Or(n,a,l,P,w,v),$=On(),n!==null&&!Ii?(Ml(n,a,v),Jo(n,a,v)):(pn&&$&&Tl(a),a.flags|=1,zi(n,a,c,v),a.child)}function km(n,a,l,c,v){if(n===null){var w=l.type;return typeof w=="function"&&!Ss(w)&&w.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=w,Dm(n,a,w,c,v)):(n=Fo(l.type,null,c,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(w=n.child,!ah(n,v)){var P=w.memoizedProps;if(l=l.compare,l=l!==null?l:Ro,l(P,c)&&n.ref===a.ref)return Jo(n,a,v)}return a.flags|=1,n=$r(w,c),n.ref=a.ref,n.return=a,a.child=n}function Dm(n,a,l,c,v){if(n!==null){var w=n.memoizedProps;if(Ro(w,c)&&n.ref===a.ref)if(Ii=!1,a.pendingProps=c=w,ah(n,v))(n.flags&131072)!==0&&(Ii=!0);else return a.lanes=n.lanes,Jo(n,a,v)}return Xd(n,a,l,c,v)}function Im(n,a,l){var c=a.pendingProps,v=c.children,w=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=w!==null?w.baseLanes|l:l,n!==null){for(v=a.child=n.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;a.childLanes=w&~c}else a.childLanes=0,a.child=null;return Rm(n,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&N(a,w!==null?w.cachePool:null),w!==null?xn(a,w):gn(),xm(a);else return a.lanes=a.childLanes=536870912,Rm(n,a,w!==null?w.baseLanes|l:l,l)}else w!==null?(N(a,w.cachePool),xn(a,w),Is(),a.memoizedState=null):(n!==null&&N(a,null),gn(),Is());return zi(n,a,v,l),a.child}function Rm(n,a,l,c){var v=A();return v=v===null?null:{parent:ui._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},n!==null&&N(a,null),gn(),xm(a),n!==null&&Ts(n,a,c,!0),null}function qf(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function Xd(n,a,l,c,v){return ta(a),l=Or(n,a,l,c,void 0,v),c=On(),n!==null&&!Ii?(Ml(n,a,v),Jo(n,a,v)):(pn&&c&&Tl(a),a.flags|=1,zi(n,a,l,v),a.child)}function Pm(n,a,l,c,v,w){return ta(a),a.updateQueue=null,l=jo(a,c,l,v),ao(n),c=On(),n!==null&&!Ii?(Ml(n,a,w),Jo(n,a,w)):(pn&&c&&Tl(a),a.flags|=1,zi(n,a,l,w),a.child)}function Om(n,a,l,c,v){if(ta(a),a.stateNode===null){var w=vi,P=l.contextType;typeof P=="object"&&P!==null&&(w=li(P)),w=new l(c,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Zd,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=c,w.state=a.memoizedState,w.refs={},ve(a),P=l.contextType,w.context=typeof P=="object"&&P!==null?li(P):vi,w.state=a.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(Kd(a,l,P,c),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&Zd.enqueueReplaceState(w,w.state,null),nt(a,c,w,v),Ct(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){w=a.stateNode;var $=a.memoizedProps,he=ql(l,$);w.props=he;var Me=w.context,qe=l.contextType;P=vi,typeof qe=="object"&&qe!==null&&(P=li(qe));var Ge=l.getDerivedStateFromProps;qe=typeof Ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,qe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||Me!==P)&&wm(a,w,c,P),Ie=!1;var ke=a.memoizedState;w.state=ke,nt(a,c,w,v),Ct(),Me=a.memoizedState,$||ke!==Me||Ie?(typeof Ge=="function"&&(Kd(a,l,Ge,c),Me=a.memoizedState),(he=Ie||_m(a,l,he,c,ke,Me,P))?(qe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Me),w.props=c,w.state=Me,w.context=P,c=he):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{w=a.stateNode,_e(n,a),P=a.memoizedProps,qe=ql(l,P),w.props=qe,Ge=a.pendingProps,ke=w.context,Me=l.contextType,he=vi,typeof Me=="object"&&Me!==null&&(he=li(Me)),$=l.getDerivedStateFromProps,(Me=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==Ge||ke!==he)&&wm(a,w,c,he),Ie=!1,ke=a.memoizedState,w.state=ke,nt(a,c,w,v),Ct();var De=a.memoizedState;P!==Ge||ke!==De||Ie||n!==null&&n.dependencies!==null&&wu(n.dependencies)?(typeof $=="function"&&(Kd(a,l,$,c),De=a.memoizedState),(qe=Ie||_m(a,l,qe,c,ke,De,he)||n!==null&&n.dependencies!==null&&wu(n.dependencies))?(Me||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,De,he),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,De,he)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=De),w.props=c,w.state=De,w.context=he,c=qe):(typeof w.componentDidUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=1024),c=!1)}return w=c,qf(n,a),c=(a.flags&128)!==0,w||c?(w=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,n!==null&&c?(a.child=ku(a,n.child,null,v),a.child=ku(a,null,l,v)):zi(n,a,l,v),a.memoizedState=w.state,n=a.child):n=Jo(n,a,v),n}function Um(n,a,l,c){return dr(),a.flags|=256,zi(n,a,l,c),a.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eh(n){return{baseLanes:n,cachePool:B()}}function th(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=ra),n}function Fm(n,a,l){var c=a.pendingProps,v=!1,w=(a.flags&128)!==0,P;if((P=w)||(P=n!==null&&n.memoizedState===null?!1:(Ci.current&2)!==0),P&&(v=!0,a.flags&=-129),P=(a.flags&32)!==0,a.flags&=-33,n===null){if(pn){if(v?Ds(a):Is(),pn){var $=Gn,he;if(he=$){e:{for(he=$,$=Xr;he.nodeType!==8;){if(!$){$=null;break e}if(he=Ia(he.nextSibling),he===null){$=null;break e}}$=he}$!==null?(a.memoizedState={dehydrated:$,treeContext:Bo!==null?{id:Sa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},he=Di(18,null,null,0),he.stateNode=$,he.return=a,a.child=he,si=a,Gn=null,he=!0):he=!1}he||zo(a)}if($=a.memoizedState,$!==null&&($=$.dehydrated,$!==null))return Fh($)?a.lanes=32:a.lanes=536870912,null;Wo(a)}return $=c.children,c=c.fallback,v?(Is(),v=a.mode,$=zf({mode:"hidden",children:$},v),c=_a(c,v,l,null),$.return=a,c.return=a,$.sibling=c,a.child=$,v=a.child,v.memoizedState=eh(l),v.childLanes=th(n,P,l),a.memoizedState=Qd,c):(Ds(a),nh(a,$))}if(he=n.memoizedState,he!==null&&($=he.dehydrated,$!==null)){if(w)a.flags&256?(Ds(a),a.flags&=-257,a=ih(n,a,l)):a.memoizedState!==null?(Is(),a.child=n.child,a.flags|=128,a=null):(Is(),v=c.fallback,$=a.mode,c=zf({mode:"visible",children:c.children},$),v=_a(v,$,l,null),v.flags|=2,c.return=a,v.return=a,c.sibling=v,a.child=c,ku(a,n.child,null,l),c=a.child,c.memoizedState=eh(l),c.childLanes=th(n,P,l),a.memoizedState=Qd,a=v);else if(Ds(a),Fh($)){if(P=$.nextSibling&&$.nextSibling.dataset,P)var Me=P.dgst;P=Me,c=Error(i(419)),c.stack="",c.digest=P,Cs({value:c,source:null,stack:null}),a=ih(n,a,l)}else if(Ii||Ts(n,a,l,!1),P=(l&n.childLanes)!==0,Ii||P){if(P=Un,P!==null&&(c=l&-l,c=(c&42)!==0?1:kn(c),c=(c&(P.suspendedLanes|l))!==0?0:c,c!==0&&c!==he.retryLane))throw he.retryLane=c,Oo(n,c),Vr(P,n,c),Lm;$.data==="$?"||_h(),a=ih(n,a,l)}else $.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=he.treeContext,Gn=Ia($.nextSibling),si=a,pn=!0,no=null,Xr=!1,n!==null&&(Sr[fr++]=Sa,Sr[fr++]=Aa,Sr[fr++]=Bo,Sa=n.id,Aa=n.overflow,Bo=a),a=nh(a,c.children),a.flags|=4096);return a}return v?(Is(),v=c.fallback,$=a.mode,he=n.child,Me=he.sibling,c=$r(he,{mode:"hidden",children:c.children}),c.subtreeFlags=he.subtreeFlags&65011712,Me!==null?v=$r(Me,v):(v=_a(v,$,l,null),v.flags|=2),v.return=a,c.return=a,c.sibling=v,a.child=c,c=v,v=a.child,$=n.child.memoizedState,$===null?$=eh(l):(he=$.cachePool,he!==null?(Me=ui._currentValue,he=he.parent!==Me?{parent:Me,pool:Me}:he):he=B(),$={baseLanes:$.baseLanes|l,cachePool:he}),v.memoizedState=$,v.childLanes=th(n,P,l),a.memoizedState=Qd,c):(Ds(a),l=n.child,n=l.sibling,l=$r(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,n!==null&&(P=a.deletions,P===null?(a.deletions=[n],a.flags|=16):P.push(n)),a.child=l,a.memoizedState=null,l)}function nh(n,a){return a=zf({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function zf(n,a){return n=Di(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ih(n,a,l){return ku(a,n.child,null,l),n=nh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Bm(n,a,l){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),xu(n.return,a,l)}function rh(n,a,l,c,v){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:v}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=l,w.tailMode=v)}function qm(n,a,l){var c=a.pendingProps,v=c.revealOrder,w=c.tail;if(zi(n,a,c.children,l),c=Ci.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bm(n,l,a);else if(n.tag===19)Bm(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(j(Ci,c),v){case"forwards":for(l=a.child,v=null;l!==null;)n=l.alternate,n!==null&&Uf(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),rh(a,!1,v,l,w);break;case"backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&Uf(n)===null){a.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}rh(a,!0,l,null,w);break;case"together":rh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Jo(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Fs|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Ts(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,l=$r(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=$r(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function ah(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&wu(n)))}function _5(n,a,l){switch(a.tag){case 3:xe(a,a.stateNode.containerInfo),io(a,ui,n.memoizedState.cache),dr();break;case 27:case 5:Ye(a);break;case 4:xe(a,a.stateNode.containerInfo);break;case 10:io(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ds(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Fm(n,a,l):(Ds(a),n=Jo(n,a,l),n!==null?n.sibling:null);Ds(a);break;case 19:var v=(n.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ts(n,a,l,!1),c=(l&a.childLanes)!==0),v){if(c)return qm(n,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),j(Ci,Ci.current),c)break;return null;case 22:case 23:return a.lanes=0,Im(n,a,l);case 24:io(a,ui,n.memoizedState.cache)}return Jo(n,a,l)}function zm(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)Ii=!0;else{if(!ah(n,l)&&(a.flags&128)===0)return Ii=!1,_5(n,a,l);Ii=(n.flags&131072)!==0}else Ii=!1,pn&&(a.flags&1048576)!==0&&vf(a,bu,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var c=a.elementType,v=c._init;if(c=v(c._payload),a.type=c,typeof c=="function")Ss(c)?(n=ql(c,n),a.tag=1,a=Om(null,a,c,n,l)):(a.tag=0,a=Xd(null,a,c,n,l));else{if(c!=null){if(v=c.$$typeof,v===V){a.tag=11,a=Mm(null,a,c,n,l);break e}else if(v===G){a.tag=14,a=km(null,a,c,n,l);break e}}throw a=ne(c)||c,Error(i(306,a,""))}}return a;case 0:return Xd(n,a,a.type,a.pendingProps,l);case 1:return c=a.type,v=ql(c,a.pendingProps),Om(n,a,c,v,l);case 3:e:{if(xe(a,a.stateNode.containerInfo),n===null)throw Error(i(387));c=a.pendingProps;var w=a.memoizedState;v=w.element,_e(n,a),nt(a,c,null,l);var P=a.memoizedState;if(c=P.cache,io(a,ui,c),c!==w.cache&&_u(a,[ui],l,!0),Ct(),c=P.element,w.isDehydrated)if(w={element:c,isDehydrated:!1,cache:P.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=Um(n,a,c,l);break e}else if(c!==v){v=Ai(Error(i(424)),a),Cs(v),a=Um(n,a,c,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Gn=Ia(n.firstChild),si=a,pn=!0,no=null,Xr=!0,l=bm(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(dr(),c===v){a=Jo(n,a,l);break e}zi(n,a,c,l)}a=a.child}return a;case 26:return qf(n,a),n===null?(l=G0(a.type,null,a.pendingProps,null))?a.memoizedState=l:pn||(l=a.type,n=a.pendingProps,c=td(ue.current).createElement(l),c[cn]=a,c[sn]=n,ji(c,l,n),wn(c),a.stateNode=c):a.memoizedState=G0(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Ye(a),n===null&&pn&&(c=a.stateNode=V0(a.type,a.pendingProps,ue.current),si=a,Xr=!0,v=Gn,Vs(a.type)?(Bh=v,Gn=Ia(c.firstChild)):Gn=v),zi(n,a,a.pendingProps.children,l),qf(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&pn&&((v=c=Gn)&&(c=K5(c,a.type,a.pendingProps,Xr),c!==null?(a.stateNode=c,si=a,Gn=Ia(c.firstChild),Xr=!1,v=!0):v=!1),v||zo(a)),Ye(a),v=a.type,w=a.pendingProps,P=n!==null?n.memoizedProps:null,c=w.children,Ph(v,w)?c=null:P!==null&&Ph(v,P)&&(a.flags|=32),a.memoizedState!==null&&(v=Or(n,a,oo,null,null,l),Gc._currentValue=v),qf(n,a),zi(n,a,c,l),a.child;case 6:return n===null&&pn&&((n=l=Gn)&&(l=Z5(l,a.pendingProps,Xr),l!==null?(a.stateNode=l,si=a,Gn=null,n=!0):n=!1),n||zo(a)),null;case 13:return Fm(n,a,l);case 4:return xe(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=ku(a,null,c,l):zi(n,a,c,l),a.child;case 11:return Mm(n,a,a.type,a.pendingProps,l);case 7:return zi(n,a,a.pendingProps,l),a.child;case 8:return zi(n,a,a.pendingProps.children,l),a.child;case 12:return zi(n,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,io(a,a.type,c.value),zi(n,a,c.children,l),a.child;case 9:return v=a.type._context,c=a.pendingProps.children,ta(a),v=li(v),c=c(v),a.flags|=1,zi(n,a,c,l),a.child;case 14:return km(n,a,a.type,a.pendingProps,l);case 15:return Dm(n,a,a.type,a.pendingProps,l);case 19:return qm(n,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},n===null?(l=zf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=$r(n.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Im(n,a,l);case 24:return ta(a),c=li(ui),n===null?(v=A(),v===null&&(v=Un,w=pc(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=l),v=w),a.memoizedState={parent:c,cache:v},ve(a),io(a,ui,v)):((n.lanes&l)!==0&&(_e(n,a),nt(a,null,null,l),Ct()),v=n.memoizedState,w=a.memoizedState,v.parent!==c?(v={parent:c,cache:c},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),io(a,ui,c)):(c=w.cache,io(a,ui,c),c!==v.cache&&_u(a,[ui],l,!0))),zi(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ko(n){n.flags|=4}function Vm(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Z0(a)){if(a=ia.current,a!==null&&((hn&4194048)===hn?uo!==null:(hn&62914560)!==hn&&(hn&536870912)===0||a!==uo))throw Te=Q,W;n.flags|=8192}}function Vf(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?it():536870912,n.lanes|=a,Pu|=a)}function Mc(n,a){if(!pn)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Qn(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(a)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=c,n.childLanes=l,a}function w5(n,a,l){var c=a.pendingProps;switch(Nl(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return Qn(a),null;case 3:return l=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ea(ui),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Bi(a)?Ko(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bf())),Qn(a),null;case 26:return l=a.memoizedState,n===null?(Ko(a),l!==null?(Qn(a),Vm(a,l)):(Qn(a),a.flags&=-16777217)):l?l!==n.memoizedState?(Ko(a),Qn(a),Vm(a,l)):(Qn(a),a.flags&=-16777217):(n.memoizedProps!==c&&Ko(a),Qn(a),a.flags&=-16777217),null;case 27:We(a),l=ue.current;var v=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Ko(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Qn(a),null}n=X.current,Bi(a)?yf(a):(n=V0(v,c,l),a.stateNode=n,Ko(a))}return Qn(a),null;case 5:if(We(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Ko(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Qn(a),null}if(n=X.current,Bi(a))yf(a);else{switch(v=td(ue.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?v.createElement(l,{is:c.is}):v.createElement(l)}}n[cn]=a,n[sn]=c;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=n;e:switch(ji(n,l,c),l){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ko(a)}}return Qn(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&Ko(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(n=ue.current,Bi(a)){if(n=a.stateNode,l=a.memoizedProps,c=null,v=si,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}n[cn]=a,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||P0(n.nodeValue,l)),n||zo(a)}else n=td(n).createTextNode(c),n[cn]=a,a.stateNode=n}return Qn(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Bi(a),c!==null&&c.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[cn]=a}else dr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qn(a),v=!1}else v=bf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Wo(a),a):(Wo(a),null)}if(Wo(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,n=n!==null&&n.memoizedState!==null,l){c=a.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool);var w=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),w!==v&&(c.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),Vf(a,a.updateQueue),Qn(a),null;case 4:return pe(),n===null&&Mh(a.stateNode.containerInfo),Qn(a),null;case 10:return ea(a.type),Qn(a),null;case 19:if(M(Ci),v=a.memoizedState,v===null)return Qn(a),null;if(c=(a.flags&128)!==0,w=v.rendering,w===null)if(c)Mc(v,!1);else{if(ri!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(w=Uf(n),w!==null){for(a.flags|=128,Mc(v,!1),n=w.updateQueue,a.updateQueue=n,Vf(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)Al(l,n),l=l.sibling;return j(Ci,Ci.current&1|2),a.child}n=n.sibling}v.tail!==null&&ht()>Gf&&(a.flags|=128,c=!0,Mc(v,!1),a.lanes=4194304)}else{if(!c)if(n=Uf(w),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,Vf(a,n),Mc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!pn)return Qn(a),null}else 2*ht()-v.renderingStartTime>Gf&&l!==536870912&&(a.flags|=128,c=!0,Mc(v,!1),a.lanes=4194304);v.isBackwards?(w.sibling=a.child,a.child=w):(n=v.last,n!==null?n.sibling=w:a.child=w,v.last=w)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=ht(),a.sibling=null,n=Ci.current,j(Ci,c?n&1|2:n&1),a):(Qn(a),null);case 22:case 23:return Wo(a),Vt(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),l=a.updateQueue,l!==null&&Vf(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),n!==null&&M(y),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ea(ui),Qn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function S5(n,a){switch(Nl(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return ea(ui),pe(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 13:if(Wo(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));dr()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return M(Ci),null;case 4:return pe(),null;case 10:return ea(a.type),null;case 22:case 23:return Wo(a),Vt(),n!==null&&M(y),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return ea(ui),null;case 25:return null;default:return null}}function jm(n,a){switch(Nl(a),a.tag){case 3:ea(ui),pe();break;case 26:case 27:case 5:We(a);break;case 4:pe();break;case 13:Wo(a);break;case 19:M(Ci);break;case 10:ea(a.type);break;case 22:case 23:Wo(a),Vt(),n!==null&&M(y);break;case 24:ea(ui)}}function kc(n,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var v=c.next;l=v;do{if((l.tag&n)===n){c=void 0;var w=l.create,P=l.inst;c=w(),P.destroy=c}l=l.next}while(l!==v)}}catch($){In(a,a.return,$)}}function Rs(n,a,l){try{var c=a.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var w=v.next;c=w;do{if((c.tag&n)===n){var P=c.inst,$=P.destroy;if($!==void 0){P.destroy=void 0,v=a;var he=l,Me=$;try{Me()}catch(qe){In(v,he,qe)}}}c=c.next}while(c!==w)}}catch(qe){In(a,a.return,qe)}}function Hm(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{mn(a,l)}catch(c){In(n,n.return,c)}}}function Gm(n,a,l){l.props=ql(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){In(n,a,c)}}function Dc(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(v){In(n,a,v)}}function co(n,a){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(v){In(n,a,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){In(n,a,v)}else l.current=null}function Ym(n){var a=n.type,l=n.memoizedProps,c=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(v){In(n,n.return,v)}}function oh(n,a,l){try{var c=n.stateNode;H5(c,n.type,l,a),c[sn]=a}catch(v){In(n,n.return,v)}}function Wm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vs(n.type)||n.tag===4}function sh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lh(n,a,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ed));else if(c!==4&&(c===27&&Vs(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(lh(n,a,l),n=n.sibling;n!==null;)lh(n,a,l),n=n.sibling}function jf(n,a,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(c!==4&&(c===27&&Vs(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(jf(n,a,l),n=n.sibling;n!==null;)jf(n,a,l),n=n.sibling}function Jm(n){var a=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);ji(a,c,l),a[cn]=n,a[sn]=l}catch(w){In(n,n.return,w)}}var Zo=!1,fi=!1,uh=!1,Km=typeof WeakSet=="function"?WeakSet:Set,Ri=null;function A5(n,a){if(n=n.containerInfo,Ih=sd,n=br(n),Kr(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var v=c.anchorOffset,w=c.focusNode;c=c.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var P=0,$=-1,he=-1,Me=0,qe=0,Ge=n,ke=null;t:for(;;){for(var De;Ge!==l||v!==0&&Ge.nodeType!==3||($=P+v),Ge!==w||c!==0&&Ge.nodeType!==3||(he=P+c),Ge.nodeType===3&&(P+=Ge.nodeValue.length),(De=Ge.firstChild)!==null;)ke=Ge,Ge=De;for(;;){if(Ge===n)break t;if(ke===l&&++Me===v&&($=P),ke===w&&++qe===c&&(he=P),(De=Ge.nextSibling)!==null)break;Ge=ke,ke=Ge.parentNode}Ge=De}l=$===-1||he===-1?null:{start:$,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rh={focusedElem:n,selectionRange:l},sd=!1,Ri=a;Ri!==null;)if(a=Ri,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Ri=n;else for(;Ri!==null;){switch(a=Ri,w=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,l=a,v=w.memoizedProps,w=w.memoizedState,c=l.stateNode;try{var Ft=ql(l.type,v,l.elementType===l.type);n=c.getSnapshotBeforeUpdate(Ft,w),c.__reactInternalSnapshotBeforeUpdate=n}catch(Dt){In(l,l.return,Dt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Uh(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Uh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Ri=n;break}Ri=a.return}}function Zm(n,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ps(n,l),c&4&&kc(5,l);break;case 1:if(Ps(n,l),c&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(P){In(l,l.return,P)}else{var v=ql(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(v,a,n.__reactInternalSnapshotBeforeUpdate)}catch(P){In(l,l.return,P)}}c&64&&Hm(l),c&512&&Dc(l,l.return);break;case 3:if(Ps(n,l),c&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{mn(n,a)}catch(P){In(l,l.return,P)}}break;case 27:a===null&&c&4&&Jm(l);case 26:case 5:Ps(n,l),a===null&&c&4&&Ym(l),c&512&&Dc(l,l.return);break;case 12:Ps(n,l);break;case 13:Ps(n,l),c&4&&Qm(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=I5.bind(null,l),$5(n,l))));break;case 22:if(c=l.memoizedState!==null||Zo,!c){a=a!==null&&a.memoizedState!==null||fi,v=Zo;var w=fi;Zo=c,(fi=a)&&!w?Os(n,l,(l.subtreeFlags&8772)!==0):Ps(n,l),Zo=v,fi=w}break;case 30:break;default:Ps(n,l)}}function $m(n){var a=n.alternate;a!==null&&(n.alternate=null,$m(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&sr(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Yn=null,Cr=!1;function $o(n,a,l){for(l=l.child;l!==null;)Xm(n,a,l),l=l.sibling}function Xm(n,a,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(qt,l)}catch{}switch(l.tag){case 26:fi||co(l,a),$o(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:fi||co(l,a);var c=Yn,v=Cr;Vs(l.type)&&(Yn=l.stateNode,Cr=!1),$o(n,a,l),zc(l.stateNode),Yn=c,Cr=v;break;case 5:fi||co(l,a);case 6:if(c=Yn,v=Cr,Yn=null,$o(n,a,l),Yn=c,Cr=v,Yn!==null)if(Cr)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(l.stateNode)}catch(w){In(l,a,w)}else try{Yn.removeChild(l.stateNode)}catch(w){In(l,a,w)}break;case 18:Yn!==null&&(Cr?(n=Yn,q0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Kc(n)):q0(Yn,l.stateNode));break;case 4:c=Yn,v=Cr,Yn=l.stateNode.containerInfo,Cr=!0,$o(n,a,l),Yn=c,Cr=v;break;case 0:case 11:case 14:case 15:fi||Rs(2,l,a),fi||Rs(4,l,a),$o(n,a,l);break;case 1:fi||(co(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Gm(l,a,c)),$o(n,a,l);break;case 21:$o(n,a,l);break;case 22:fi=(c=fi)||l.memoizedState!==null,$o(n,a,l),fi=c;break;default:$o(n,a,l)}}function Qm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kc(n)}catch(l){In(a,a.return,l)}}function C5(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Km),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Km),a;default:throw Error(i(435,n.tag))}}function ch(n,a){var l=C5(n);a.forEach(function(c){var v=R5.bind(null,n,c);l.has(c)||(l.add(c),c.then(v,v))})}function Fr(n,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var v=l[c],w=n,P=a,$=P;e:for(;$!==null;){switch($.tag){case 27:if(Vs($.type)){Yn=$.stateNode,Cr=!1;break e}break;case 5:Yn=$.stateNode,Cr=!1;break e;case 3:case 4:Yn=$.stateNode.containerInfo,Cr=!0;break e}$=$.return}if(Yn===null)throw Error(i(160));Xm(w,P,v),Yn=null,Cr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)e0(a,n),a=a.sibling}var Da=null;function e0(n,a){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Fr(a,n),Br(n),c&4&&(Rs(3,n,n.return),kc(3,n),Rs(5,n,n.return));break;case 1:Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),c&64&&Zo&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var v=Da;if(Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),c&4){var w=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){e:{c=n.type,l=n.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":w=v.getElementsByTagName("title")[0],(!w||w[or]||w[cn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(c),v.head.insertBefore(w,v.querySelector("head > title"))),ji(w,c,l),w[cn]=n,wn(w),c=w;break e;case"link":var P=J0("link","href",v).get(c+(l.href||""));if(P){for(var $=0;$<P.length;$++)if(w=P[$],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){P.splice($,1);break t}}w=v.createElement(c),ji(w,c,l),v.head.appendChild(w);break;case"meta":if(P=J0("meta","content",v).get(c+(l.content||""))){for($=0;$<P.length;$++)if(w=P[$],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){P.splice($,1);break t}}w=v.createElement(c),ji(w,c,l),v.head.appendChild(w);break;default:throw Error(i(468,c))}w[cn]=n,wn(w),c=w}n.stateNode=c}else K0(v,n.type,n.stateNode);else n.stateNode=W0(v,c,n.memoizedProps);else w!==c?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,c===null?K0(v,n.type,n.stateNode):W0(v,c,n.memoizedProps)):c===null&&n.stateNode!==null&&oh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),l!==null&&c&4&&oh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),n.flags&32){v=n.stateNode;try{Va(v,"")}catch(De){In(n,n.return,De)}}c&4&&n.stateNode!=null&&(v=n.memoizedProps,oh(n,v,l!==null?l.memoizedProps:v)),c&1024&&(uh=!0);break;case 6:if(Fr(a,n),Br(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(De){In(n,n.return,De)}}break;case 3:if(rd=null,v=Da,Da=nd(a.containerInfo),Fr(a,n),Da=v,Br(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(a.containerInfo)}catch(De){In(n,n.return,De)}uh&&(uh=!1,t0(n));break;case 4:c=Da,Da=nd(n.stateNode.containerInfo),Fr(a,n),Br(n),Da=c;break;case 12:Fr(a,n),Br(n);break;case 13:Fr(a,n),Br(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gh=ht()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ch(n,c)));break;case 22:v=n.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Me=Zo,qe=fi;if(Zo=Me||v,fi=qe||he,Fr(a,n),fi=qe,Zo=Me,Br(n),c&8192)e:for(a=n.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||he||Zo||fi||zl(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){he=l=a;try{if(w=he.stateNode,v)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{$=he.stateNode;var Ge=he.memoizedProps.style,ke=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;$.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(De){In(he,he.return,De)}}}else if(a.tag===6){if(l===null){he=a;try{he.stateNode.nodeValue=v?"":he.memoizedProps}catch(De){In(he,he.return,De)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ch(n,l))));break;case 19:Fr(a,n),Br(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ch(n,c)));break;case 30:break;case 21:break;default:Fr(a,n),Br(n)}}function Br(n){var a=n.flags;if(a&2){try{for(var l,c=n.return;c!==null;){if(Wm(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,w=sh(n);jf(n,w,v);break;case 5:var P=l.stateNode;l.flags&32&&(Va(P,""),l.flags&=-33);var $=sh(n);jf(n,$,P);break;case 3:case 4:var he=l.stateNode.containerInfo,Me=sh(n);lh(n,Me,he);break;default:throw Error(i(161))}}catch(qe){In(n,n.return,qe)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function t0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;t0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Ps(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Zm(n,a.alternate,a),a=a.sibling}function zl(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Rs(4,a,a.return),zl(a);break;case 1:co(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Gm(a,a.return,l),zl(a);break;case 27:zc(a.stateNode);case 26:case 5:co(a,a.return),zl(a);break;case 22:a.memoizedState===null&&zl(a);break;case 30:zl(a);break;default:zl(a)}n=n.sibling}}function Os(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,v=n,w=a,P=w.flags;switch(w.tag){case 0:case 11:case 15:Os(v,w,l),kc(4,w);break;case 1:if(Os(v,w,l),c=w,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Me){In(c,c.return,Me)}if(c=w,v=c.updateQueue,v!==null){var $=c.stateNode;try{var he=v.shared.hiddenCallbacks;if(he!==null)for(v.shared.hiddenCallbacks=null,v=0;v<he.length;v++)fn(he[v],$)}catch(Me){In(c,c.return,Me)}}l&&P&64&&Hm(w),Dc(w,w.return);break;case 27:Jm(w);case 26:case 5:Os(v,w,l),l&&c===null&&P&4&&Ym(w),Dc(w,w.return);break;case 12:Os(v,w,l);break;case 13:Os(v,w,l),l&&P&4&&Qm(v,w);break;case 22:w.memoizedState===null&&Os(v,w,l),Dc(w,w.return);break;case 30:break;default:Os(v,w,l)}a=a.sibling}}function fh(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&El(l))}function dh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&El(n))}function fo(n,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)n0(n,a,l,c),a=a.sibling}function n0(n,a,l,c){var v=a.flags;switch(a.tag){case 0:case 11:case 15:fo(n,a,l,c),v&2048&&kc(9,a);break;case 1:fo(n,a,l,c);break;case 3:fo(n,a,l,c),v&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&El(n)));break;case 12:if(v&2048){fo(n,a,l,c),n=a.stateNode;try{var w=a.memoizedProps,P=w.id,$=w.onPostCommit;typeof $=="function"&&$(P,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(he){In(a,a.return,he)}}else fo(n,a,l,c);break;case 13:fo(n,a,l,c);break;case 23:break;case 22:w=a.stateNode,P=a.alternate,a.memoizedState!==null?w._visibility&2?fo(n,a,l,c):Ic(n,a):w._visibility&2?fo(n,a,l,c):(w._visibility|=2,Du(n,a,l,c,(a.subtreeFlags&10256)!==0)),v&2048&&fh(P,a);break;case 24:fo(n,a,l,c),v&2048&&dh(a.alternate,a);break;default:fo(n,a,l,c)}}function Du(n,a,l,c,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=n,P=a,$=l,he=c,Me=P.flags;switch(P.tag){case 0:case 11:case 15:Du(w,P,$,he,v),kc(8,P);break;case 23:break;case 22:var qe=P.stateNode;P.memoizedState!==null?qe._visibility&2?Du(w,P,$,he,v):Ic(w,P):(qe._visibility|=2,Du(w,P,$,he,v)),v&&Me&2048&&fh(P.alternate,P);break;case 24:Du(w,P,$,he,v),v&&Me&2048&&dh(P.alternate,P);break;default:Du(w,P,$,he,v)}a=a.sibling}}function Ic(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,c=a,v=c.flags;switch(c.tag){case 22:Ic(l,c),v&2048&&fh(c.alternate,c);break;case 24:Ic(l,c),v&2048&&dh(c.alternate,c);break;default:Ic(l,c)}a=a.sibling}}var Rc=8192;function Iu(n){if(n.subtreeFlags&Rc)for(n=n.child;n!==null;)i0(n),n=n.sibling}function i0(n){switch(n.tag){case 26:Iu(n),n.flags&Rc&&n.memoizedState!==null&&cv(Da,n.memoizedState,n.memoizedProps);break;case 5:Iu(n);break;case 3:case 4:var a=Da;Da=nd(n.stateNode.containerInfo),Iu(n),Da=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Rc,Rc=16777216,Iu(n),Rc=a):Iu(n));break;default:Iu(n)}}function r0(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Pc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Ri=c,o0(c,n)}r0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)a0(n),n=n.sibling}function a0(n){switch(n.tag){case 0:case 11:case 15:Pc(n),n.flags&2048&&Rs(9,n,n.return);break;case 3:Pc(n);break;case 12:Pc(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Hf(n)):Pc(n);break;default:Pc(n)}}function Hf(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Ri=c,o0(c,n)}r0(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Rs(8,a,a.return),Hf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Hf(a));break;default:Hf(a)}n=n.sibling}}function o0(n,a){for(;Ri!==null;){var l=Ri;switch(l.tag){case 0:case 11:case 15:Rs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:El(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ri=c;else e:for(l=n;Ri!==null;){c=Ri;var v=c.sibling,w=c.return;if($m(c),c===l){Ri=null;break e}if(v!==null){v.return=w,Ri=v;break e}Ri=w}}}var T5={getCacheForType:function(n){var a=li(ui),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},N5=typeof WeakMap=="function"?WeakMap:Map,Cn=0,Un=null,an=null,hn=0,Tn=0,qr=null,Us=!1,Ru=!1,hh=!1,Xo=0,ri=0,Fs=0,Vl=0,ph=0,ra=0,Pu=0,Oc=null,Tr=null,mh=!1,gh=0,Gf=1/0,Yf=null,Bs=null,Vi=0,qs=null,Ou=null,Uu=0,vh=0,yh=null,s0=null,Uc=0,bh=null;function zr(){if((Cn&2)!==0&&hn!==0)return hn&-hn;if(F.T!==null){var n=Vo;return n!==0?n:Th()}return Hi()}function l0(){ra===0&&(ra=(hn&536870912)===0||pn?Je():536870912);var n=ia.current;return n!==null&&(n.flags|=32),ra}function Vr(n,a,l){(n===Un&&(Tn===2||Tn===9)||n.cancelPendingCommit!==null)&&(Fu(n,0),zs(n,hn,ra,!1)),Lt(n,l),((Cn&2)===0||n!==Un)&&(n===Un&&((Cn&2)===0&&(Vl|=l),ri===4&&zs(n,hn,ra,!1)),ho(n))}function u0(n,a,l){if((Cn&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&n.expiredLanes)===0||Ue(n,a),v=c?M5(n,a):wh(n,a,!0),w=c;do{if(v===0){Ru&&!c&&zs(n,a,0,!1);break}else{if(l=n.current.alternate,w&&!E5(l)){v=wh(n,a,!1),w=!1;continue}if(v===2){if(w=a,n.errorRecoveryDisabledLanes&w)var P=0;else P=n.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){a=P;e:{var $=n;v=Oc;var he=$.current.memoizedState.isDehydrated;if(he&&(Fu($,P).flags|=256),P=wh($,P,!1),P!==2){if(hh&&!he){$.errorRecoveryDisabledLanes|=w,Vl|=w,v=4;break e}w=Tr,Tr=v,w!==null&&(Tr===null?Tr=w:Tr.push.apply(Tr,w))}v=P}if(w=!1,v!==2)continue}}if(v===1){Fu(n,0),zs(n,a,0,!0);break}e:{switch(c=n,w=v,w){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:zs(c,a,ra,!Us);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=gh+300-ht(),10<v)){if(zs(c,a,ra,!Us),Re(c,0,!0)!==0)break e;c.timeoutHandle=F0(c0.bind(null,c,l,Tr,Yf,mh,a,ra,Vl,Pu,Us,w,2,-0,0),v);break e}c0(c,l,Tr,Yf,mh,a,ra,Vl,Pu,Us,w,0,-0,0)}}break}while(!0);ho(n)}function c0(n,a,l,c,v,w,P,$,he,Me,qe,Ge,ke,De){if(n.timeoutHandle=-1,Ge=a.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(Hc={stylesheets:null,count:0,unsuspend:uv},i0(a),Ge=fv(),Ge!==null)){n.cancelPendingCommit=Ge(v0.bind(null,n,a,w,l,c,v,P,$,he,qe,1,ke,De)),zs(n,w,P,!Me);return}v0(n,a,w,l,c,v,P,$,he)}function E5(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var v=l[c],w=v.getSnapshot;v=v.value;try{if(!Si(w(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zs(n,a,l,c){a&=~ph,a&=~Vl,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var v=a;0<v;){var w=31-yt(v),P=1<<w;c[w]=-1,v&=~P}l!==0&&pt(n,l,a)}function Wf(){return(Cn&6)===0?(Fc(0),!1):!0}function xh(){if(an!==null){if(Tn===0)var n=an.return;else n=an,Ta=yi=null,Au(n),Mu=null,Ec=0,n=an;for(;n!==null;)jm(n.alternate,n),n=n.return;an=null}}function Fu(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Y5(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),xh(),Un=n,an=l=$r(n.current,null),hn=a,Tn=0,qr=null,Us=!1,Ru=Ue(n,a),hh=!1,Pu=ra=ph=Vl=Fs=ri=0,Tr=Oc=null,mh=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var v=31-yt(c),w=1<<v;a|=n[v],c&=~w}return Xo=a,wl(),l}function f0(n,a){Et=null,F.H=Rf,a===H||a===Z?(a=Se(),Tn=3):a===W?(a=Se(),Tn=4):Tn=a===Lm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qr=a,an===null&&(ri=1,Bf(n,Ai(a,n.current)))}function d0(){var n=F.H;return F.H=Rf,n===null?Rf:n}function h0(){var n=F.A;return F.A=T5,n}function _h(){ri=4,Us||(hn&4194048)!==hn&&ia.current!==null||(Ru=!0),(Fs&134217727)===0&&(Vl&134217727)===0||Un===null||zs(Un,hn,ra,!1)}function wh(n,a,l){var c=Cn;Cn|=2;var v=d0(),w=h0();(Un!==n||hn!==a)&&(Yf=null,Fu(n,a)),a=!1;var P=ri;e:do try{if(Tn!==0&&an!==null){var $=an,he=qr;switch(Tn){case 8:xh(),P=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(a=!0);var Me=Tn;if(Tn=0,qr=null,Bu(n,$,he,Me),l&&Ru){P=0;break e}break;default:Me=Tn,Tn=0,qr=null,Bu(n,$,he,Me)}}L5(),P=ri;break}catch(qe){f0(n,qe)}while(!0);return a&&n.shellSuspendCounter++,Ta=yi=null,Cn=c,F.H=v,F.A=w,an===null&&(Un=null,hn=0,wl()),P}function L5(){for(;an!==null;)p0(an)}function M5(n,a){var l=Cn;Cn|=2;var c=d0(),v=h0();Un!==n||hn!==a?(Yf=null,Gf=ht()+500,Fu(n,a)):Ru=Ue(n,a);e:do try{if(Tn!==0&&an!==null){a=an;var w=qr;t:switch(Tn){case 1:Tn=0,qr=null,Bu(n,a,w,1);break;case 2:case 9:if(oe(w)){Tn=0,qr=null,m0(a);break}a=function(){Tn!==2&&Tn!==9||Un!==n||(Tn=7),ho(n)},w.then(a,a);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:oe(w)?(Tn=0,qr=null,m0(a)):(Tn=0,qr=null,Bu(n,a,w,7));break;case 5:var P=null;switch(an.tag){case 26:P=an.memoizedState;case 5:case 27:var $=an;if(!P||Z0(P)){Tn=0,qr=null;var he=$.sibling;if(he!==null)an=he;else{var Me=$.return;Me!==null?(an=Me,Jf(Me)):an=null}break t}}Tn=0,qr=null,Bu(n,a,w,5);break;case 6:Tn=0,qr=null,Bu(n,a,w,6);break;case 8:xh(),ri=6;break e;default:throw Error(i(462))}}k5();break}catch(qe){f0(n,qe)}while(!0);return Ta=yi=null,F.H=c,F.A=v,Cn=l,an!==null?0:(Un=null,hn=0,wl(),ri)}function k5(){for(;an!==null&&!Oe();)p0(an)}function p0(n){var a=zm(n.alternate,n,Xo);n.memoizedProps=n.pendingProps,a===null?Jf(n):an=a}function m0(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=Pm(l,a,a.pendingProps,a.type,void 0,hn);break;case 11:a=Pm(l,a,a.pendingProps,a.type.render,a.ref,hn);break;case 5:Au(a);default:jm(l,a),a=an=Al(a,Xo),a=zm(l,a,Xo)}n.memoizedProps=n.pendingProps,a===null?Jf(n):an=a}function Bu(n,a,l,c){Ta=yi=null,Au(a),Mu=null,Ec=0;var v=a.return;try{if(x5(n,v,a,l,hn)){ri=1,Bf(n,Ai(l,n.current)),an=null;return}}catch(w){if(v!==null)throw an=v,w;ri=1,Bf(n,Ai(l,n.current)),an=null;return}a.flags&32768?(pn||c===1?n=!0:Ru||(hn&536870912)!==0?n=!1:(Us=n=!0,(c===2||c===9||c===3||c===6)&&(c=ia.current,c!==null&&c.tag===13&&(c.flags|=16384))),g0(a,n)):Jf(a)}function Jf(n){var a=n;do{if((a.flags&32768)!==0){g0(a,Us);return}n=a.return;var l=w5(a.alternate,a,Xo);if(l!==null){an=l;return}if(a=a.sibling,a!==null){an=a;return}an=a=n}while(a!==null);ri===0&&(ri=5)}function g0(n,a){do{var l=S5(n.alternate,n);if(l!==null){l.flags&=32767,an=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){an=n;return}an=n=l}while(n!==null);ri=6,an=null}function v0(n,a,l,c,v,w,P,$,he){n.cancelPendingCommit=null;do Kf();while(Vi!==0);if((Cn&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(w=a.lanes|a.childLanes,w|=mu,bt(n,l,w,P,$,he),n===Un&&(an=Un=null,hn=0),Ou=a,qs=n,Uu=l,vh=w,yh=v,s0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,P5(at,function(){return w0(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,v=K.p,K.p=2,P=Cn,Cn|=4;try{A5(n,a,l)}finally{Cn=P,K.p=v,F.T=c}}Vi=1,y0(),b0(),x0()}}function y0(){if(Vi===1){Vi=0;var n=qs,a=Ou,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var c=K.p;K.p=2;var v=Cn;Cn|=4;try{e0(a,n);var w=Rh,P=br(n.containerInfo),$=w.focusedElem,he=w.selectionRange;if(P!==$&&$&&$.ownerDocument&&cr($.ownerDocument.documentElement,$)){if(he!==null&&Kr($)){var Me=he.start,qe=he.end;if(qe===void 0&&(qe=Me),"selectionStart"in $)$.selectionStart=Me,$.selectionEnd=Math.min(qe,$.value.length);else{var Ge=$.ownerDocument||document,ke=Ge&&Ge.defaultView||window;if(ke.getSelection){var De=ke.getSelection(),Ft=$.textContent.length,Dt=Math.min(he.start,Ft),Mn=he.end===void 0?Dt:Math.min(he.end,Ft);!De.extend&&Dt>Mn&&(P=Mn,Mn=Dt,Dt=P);var Ae=va($,Dt),be=va($,Mn);if(Ae&&be&&(De.rangeCount!==1||De.anchorNode!==Ae.node||De.anchorOffset!==Ae.offset||De.focusNode!==be.node||De.focusOffset!==be.offset)){var Ne=Ge.createRange();Ne.setStart(Ae.node,Ae.offset),De.removeAllRanges(),Dt>Mn?(De.addRange(Ne),De.extend(be.node,be.offset)):(Ne.setEnd(be.node,be.offset),De.addRange(Ne))}}}}for(Ge=[],De=$;De=De.parentNode;)De.nodeType===1&&Ge.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ge.length;$++){var Ve=Ge[$];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}sd=!!Ih,Rh=Ih=null}finally{Cn=v,K.p=c,F.T=l}}n.current=a,Vi=2}}function b0(){if(Vi===2){Vi=0;var n=qs,a=Ou,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var c=K.p;K.p=2;var v=Cn;Cn|=4;try{Zm(n,a.alternate,a)}finally{Cn=v,K.p=c,F.T=l}}Vi=3}}function x0(){if(Vi===4||Vi===3){Vi=0,de();var n=qs,a=Ou,l=Uu,c=s0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vi=5:(Vi=0,Ou=qs=null,_0(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(Bs=null),Gt(l),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(qt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=F.T,v=K.p,K.p=2,F.T=null;try{for(var w=n.onRecoverableError,P=0;P<c.length;P++){var $=c[P];w($.value,{componentStack:$.stack})}}finally{F.T=a,K.p=v}}(Uu&3)!==0&&Kf(),ho(n),v=n.pendingLanes,(l&4194090)!==0&&(v&42)!==0?n===bh?Uc++:(Uc=0,bh=n):Uc=0,Fc(0)}}function _0(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,El(a)))}function Kf(n){return y0(),b0(),x0(),w0()}function w0(){if(Vi!==5)return!1;var n=qs,a=vh;vh=0;var l=Gt(Uu),c=F.T,v=K.p;try{K.p=32>l?32:l,F.T=null,l=yh,yh=null;var w=qs,P=Uu;if(Vi=0,Ou=qs=null,Uu=0,(Cn&6)!==0)throw Error(i(331));var $=Cn;if(Cn|=4,a0(w.current),n0(w,w.current,P,l),Cn=$,Fc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(qt,w)}catch{}return!0}finally{K.p=v,F.T=c,_0(n,a)}}function S0(n,a,l){a=Ai(l,a),a=$d(n.stateNode,a,2),n=He(n,a,2),n!==null&&(Lt(n,2),ho(n))}function In(n,a,l){if(n.tag===3)S0(n,n,l);else for(;a!==null;){if(a.tag===3){S0(a,n,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bs===null||!Bs.has(c))){n=Ai(l,n),l=Nm(2),c=He(a,l,2),c!==null&&(Em(l,c,a,n),Lt(c,2),ho(c));break}}a=a.return}}function Sh(n,a,l){var c=n.pingCache;if(c===null){c=n.pingCache=new N5;var v=new Set;c.set(a,v)}else v=c.get(a),v===void 0&&(v=new Set,c.set(a,v));v.has(l)||(hh=!0,v.add(l),n=D5.bind(null,n,a,l),a.then(n,n))}function D5(n,a,l){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Un===n&&(hn&l)===l&&(ri===4||ri===3&&(hn&62914560)===hn&&300>ht()-gh?(Cn&2)===0&&Fu(n,0):ph|=l,Pu===hn&&(Pu=0)),ho(n)}function A0(n,a){a===0&&(a=it()),n=Oo(n,a),n!==null&&(Lt(n,a),ho(n))}function I5(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),A0(n,l)}function R5(n,a){var l=0;switch(n.tag){case 13:var c=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),A0(n,l)}function P5(n,a){return lt(n,a)}var Zf=null,qu=null,Ah=!1,$f=!1,Ch=!1,jl=0;function ho(n){n!==qu&&n.next===null&&(qu===null?Zf=qu=n:qu=qu.next=n),$f=!0,Ah||(Ah=!0,U5())}function Fc(n,a){if(!Ch&&$f){Ch=!0;do for(var l=!1,c=Zf;c!==null;){if(n!==0){var v=c.pendingLanes;if(v===0)var w=0;else{var P=c.suspendedLanes,$=c.pingedLanes;w=(1<<31-yt(42|n)+1)-1,w&=v&~(P&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,E0(c,w))}else w=hn,w=Re(c,c===Un?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(w&3)===0||Ue(c,w)||(l=!0,E0(c,w));c=c.next}while(l);Ch=!1}}function O5(){C0()}function C0(){$f=Ah=!1;var n=0;jl!==0&&(G5()&&(n=jl),jl=0);for(var a=ht(),l=null,c=Zf;c!==null;){var v=c.next,w=T0(c,a);w===0?(c.next=null,l===null?Zf=v:l.next=v,v===null&&(qu=l)):(l=c,(n!==0||(w&3)!==0)&&($f=!0)),c=v}Fc(n)}function T0(n,a){for(var l=n.suspendedLanes,c=n.pingedLanes,v=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var P=31-yt(w),$=1<<P,he=v[P];he===-1?(($&l)===0||($&c)!==0)&&(v[P]=Be($,a)):he<=a&&(n.expiredLanes|=$),w&=~$}if(a=Un,l=hn,l=Re(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===a&&(Tn===2||Tn===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ue(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(c!==null&&Nt(c),Gt(l)){case 2:case 8:l=et;break;case 32:l=at;break;case 268435456:l=_t;break;default:l=at}return c=N0.bind(null,n),l=lt(l,c),n.callbackPriority=a,n.callbackNode=l,a}return c!==null&&c!==null&&Nt(c),n.callbackPriority=2,n.callbackNode=null,2}function N0(n,a){if(Vi!==0&&Vi!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Kf()&&n.callbackNode!==l)return null;var c=hn;return c=Re(n,n===Un?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(u0(n,c,a),T0(n,ht()),n.callbackNode!=null&&n.callbackNode===l?N0.bind(null,n):null)}function E0(n,a){if(Kf())return null;u0(n,a,!0)}function U5(){W5(function(){(Cn&6)!==0?lt(Ke,O5):C0()})}function Th(){return jl===0&&(jl=Je()),jl}function L0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fa(""+n)}function M0(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function F5(n,a,l,c,v){if(a==="submit"&&l&&l.stateNode===v){var w=L0((v[sn]||null).action),P=c.submitter;P&&(a=(a=P[sn]||null)?L0(a.formAction):P.getAttribute("formAction"),a!==null&&(w=a,P=null));var $=new Ga("action","action",null,c,v);n.push({event:$,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(jl!==0){var he=P?M0(v,P):new FormData(v);na(l,{pending:!0,data:he,method:v.method,action:w},null,he)}}else typeof w=="function"&&($.preventDefault(),he=P?M0(v,P):new FormData(v),na(l,{pending:!0,data:he,method:v.method,action:w},w,he))},currentTarget:v}]})}}for(var Nh=0;Nh<Zn.length;Nh++){var Eh=Zn[Nh],B5=Eh.toLowerCase(),q5=Eh[0].toUpperCase()+Eh.slice(1);oi(B5,"on"+q5)}oi(eo,"onAnimationEnd"),oi(ya,"onAnimationIteration"),oi(ws,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(_r,"onTransitionRun"),oi(ba,"onTransitionStart"),oi(En,"onTransitionCancel"),oi(Sn,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function k0(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],v=c.event;c=c.listeners;e:{var w=void 0;if(a)for(var P=c.length-1;0<=P;P--){var $=c[P],he=$.instance,Me=$.currentTarget;if($=$.listener,he!==w&&v.isPropagationStopped())break e;w=$,v.currentTarget=Me;try{w(v)}catch(qe){Ff(qe)}v.currentTarget=null,w=he}else for(P=0;P<c.length;P++){if($=c[P],he=$.instance,Me=$.currentTarget,$=$.listener,he!==w&&v.isPropagationStopped())break e;w=$,v.currentTarget=Me;try{w(v)}catch(qe){Ff(qe)}v.currentTarget=null,w=he}}}}function on(n,a){var l=a[Wn];l===void 0&&(l=a[Wn]=new Set);var c=n+"__bubble";l.has(c)||(D0(a,n,2,!1),l.add(c))}function Lh(n,a,l){var c=0;a&&(c|=4),D0(l,n,c,a)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Mh(n){if(!n[Xf]){n[Xf]=!0,Ba.forEach(function(l){l!=="selectionchange"&&(z5.has(l)||Lh(l,!1,n),Lh(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Xf]||(a[Xf]=!0,Lh("selectionchange",!1,a))}}function D0(n,a,l,c){switch(ng(a)){case 2:var v=pv;break;case 8:v=mv;break;default:v=Hh}l=v.bind(null,a,l,n),v=void 0,!ls||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),c?v!==void 0?n.addEventListener(a,l,{capture:!0,passive:v}):n.addEventListener(a,l,!0):v!==void 0?n.addEventListener(a,l,{passive:v}):n.addEventListener(a,l,!1)}function kh(n,a,l,c,v){var w=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var P=c.tag;if(P===3||P===4){var $=c.stateNode.containerInfo;if($===v)break;if(P===4)for(P=c.return;P!==null;){var he=P.tag;if((he===3||he===4)&&P.stateNode.containerInfo===v)return;P=P.return}for(;$!==null;){if(P=Ni($),P===null)return;if(he=P.tag,he===5||he===6||he===26||he===27){c=w=P;continue e}$=$.parentNode}}c=c.return}uu(function(){var Me=w,qe=mi(l),Ge=[];e:{var ke=Hn.get(n);if(ke!==void 0){var De=Ga,Ft=n;switch(n){case"keypress":if(Ha(l)===0)break e;case"keydown":case"keyup":De=gs;break;case"focusin":Ft="focus",De=Eo;break;case"focusout":Ft="blur",De=Eo;break;case"beforeblur":case"afterblur":De=Eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=bl;break;case eo:case ya:case ws:De=uc;break;case Sn:De=q;break;case"scroll":case"scrollend":De=fu;break;case"wheel":De=me;break;case"copy":case"cut":case"paste":De=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=vs;break;case"toggle":case"beforetoggle":De=Pe}var Dt=(a&4)!==0,Mn=!Dt&&(n==="scroll"||n==="scrollend"),Ae=Dt?ke!==null?ke+"Capture":null:ke;Dt=[];for(var be=Me,Ne;be!==null;){var Ve=be;if(Ne=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ne===null||Ae===null||(Ve=Wi(be,Ae),Ve!=null&&Dt.push(qc(be,Ve,Ne))),Mn)break;be=be.return}0<Dt.length&&(ke=new De(ke,Ft,null,l,qe),Ge.push({event:ke,listeners:Dt}))}}if((a&7)===0){e:{if(ke=n==="mouseover"||n==="pointerover",De=n==="mouseout"||n==="pointerout",ke&&l!==ss&&(Ft=l.relatedTarget||l.fromElement)&&(Ni(Ft)||Ft[_n]))break e;if((De||ke)&&(ke=qe.window===qe?qe:(ke=qe.ownerDocument)?ke.defaultView||ke.parentWindow:window,De?(Ft=l.relatedTarget||l.toElement,De=Me,Ft=Ft?Ni(Ft):null,Ft!==null&&(Mn=s(Ft),Dt=Ft.tag,Ft!==Mn||Dt!==5&&Dt!==27&&Dt!==6)&&(Ft=null)):(De=null,Ft=Me),De!==Ft)){if(Dt=pa,Ve="onMouseLeave",Ae="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(Dt=vs,Ve="onPointerLeave",Ae="onPointerEnter",be="pointer"),Mn=De==null?ke:Gi(De),Ne=Ft==null?ke:Gi(Ft),ke=new Dt(Ve,be+"leave",De,l,qe),ke.target=Mn,ke.relatedTarget=Ne,Ve=null,Ni(qe)===Me&&(Dt=new Dt(Ae,be+"enter",Ft,l,qe),Dt.target=Ne,Dt.relatedTarget=Mn,Ve=Dt),Mn=Ve,De&&Ft)t:{for(Dt=De,Ae=Ft,be=0,Ne=Dt;Ne;Ne=zu(Ne))be++;for(Ne=0,Ve=Ae;Ve;Ve=zu(Ve))Ne++;for(;0<be-Ne;)Dt=zu(Dt),be--;for(;0<Ne-be;)Ae=zu(Ae),Ne--;for(;be--;){if(Dt===Ae||Ae!==null&&Dt===Ae.alternate)break t;Dt=zu(Dt),Ae=zu(Ae)}Dt=null}else Dt=null;De!==null&&I0(Ge,ke,De,Dt,!1),Ft!==null&&Mn!==null&&I0(Ge,Mn,Ft,Dt,!0)}}e:{if(ke=Me?Gi(Me):window,De=ke.nodeName&&ke.nodeName.toLowerCase(),De==="select"||De==="input"&&ke.type==="file")var gt=bs;else if(Jr(ke))if(ko)gt=hu;else{gt=dc;var nn=Ji}else De=ke.nodeName,!De||De.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Me&&hl(Me.elementType)&&(gt=bs):gt=_l;if(gt&&(gt=gt(n,Me))){xl(Ge,gt,l,qe);break e}nn&&nn(n,ke,Me),n==="focusout"&&Me&&ke.type==="number"&&Me.memoizedProps.value!=null&&cl(ke,"number",ke.value)}switch(nn=Me?Gi(Me):window,n){case"focusin":(Jr(nn)||nn.contentEditable==="true")&&(Ki=nn,$a=Me,Ui=null);break;case"focusout":Ui=$a=Ki=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,_s(Ge,l,qe);break;case"selectionchange":if(Zr)break;case"keydown":case"keyup":_s(Ge,l,qe)}var Tt;if(ut)e:{switch(n){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Kn?Fn(n,l)&&(It="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(It="onCompositionStart");It&&(Zt&&l.locale!=="ko"&&(Kn||It!=="onCompositionStart"?It==="onCompositionEnd"&&Kn&&(Tt=cu()):(vr=qe,ml="value"in vr?vr.value:vr.textContent,Kn=!0)),nn=Qf(Me,It),0<nn.length&&(It=new hs(It,n,null,l,qe),Ge.push({event:It,listeners:nn}),Tt?It.data=Tt:(Tt=Jn(l),Tt!==null&&(It.data=Tt)))),(Tt=Yt?gi(n,l):Ir(n,l))&&(It=Qf(Me,"onBeforeInput"),0<It.length&&(nn=new hs("onBeforeInput","beforeinput",null,l,qe),Ge.push({event:nn,listeners:It}),nn.data=Tt)),F5(Ge,n,Me,l,qe)}k0(Ge,a)})}function qc(n,a,l){return{instance:n,listener:a,currentTarget:l}}function Qf(n,a){for(var l=a+"Capture",c=[];n!==null;){var v=n,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Wi(n,l),v!=null&&c.unshift(qc(n,v,w)),v=Wi(n,a),v!=null&&c.push(qc(n,v,w))),n.tag===3)return c;n=n.return}return[]}function zu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function I0(n,a,l,c,v){for(var w=a._reactName,P=[];l!==null&&l!==c;){var $=l,he=$.alternate,Me=$.stateNode;if($=$.tag,he!==null&&he===c)break;$!==5&&$!==26&&$!==27||Me===null||(he=Me,v?(Me=Wi(l,w),Me!=null&&P.unshift(qc(l,Me,he))):v||(Me=Wi(l,w),Me!=null&&P.push(qc(l,Me,he)))),l=l.return}P.length!==0&&n.push({event:a,listeners:P})}var V5=/\r\n?/g,j5=/\u0000|\uFFFD/g;function R0(n){return(typeof n=="string"?n:""+n).replace(V5,`
`).replace(j5,"")}function P0(n,a){return a=R0(a),R0(n)===a}function ed(){}function Ln(n,a,l,c,v,w){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Va(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Va(n,""+c);break;case"className":Co(n,"class",c);break;case"tabIndex":Co(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(n,l,c);break;case"style":lu(n,c,w);break;case"data":if(a!=="object"){Co(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=fa(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(a!=="input"&&Ln(n,a,"name",v.name,v,null),Ln(n,a,"formEncType",v.formEncType,v,null),Ln(n,a,"formMethod",v.formMethod,v,null),Ln(n,a,"formTarget",v.formTarget,v,null)):(Ln(n,a,"encType",v.encType,v,null),Ln(n,a,"method",v.method,v,null),Ln(n,a,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=fa(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=ed);break;case"onScroll":c!=null&&on("scroll",n);break;case"onScrollEnd":c!=null&&on("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=fa(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":on("beforetoggle",n),on("toggle",n),sa(n,"popover",c);break;case"xlinkActuate":kr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sa(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ca.get(l)||l,sa(n,l,c))}}function Dh(n,a,l,c,v,w){switch(l){case"style":lu(n,c,w);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?Va(n,c):(typeof c=="number"||typeof c=="bigint")&&Va(n,""+c);break;case"onScroll":c!=null&&on("scroll",n);break;case"onScrollEnd":c!=null&&on("scrollend",n);break;case"onClick":c!=null&&(n.onclick=ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),w=n[sn]||null,w=w!=null?w[l]:null,typeof w=="function"&&n.removeEventListener(a,w,v),typeof c=="function")){typeof w!="function"&&w!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,c,v);break e}l in n?n[l]=c:c===!0?n.setAttribute(l,""):sa(n,l,c)}}}function ji(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",n),on("load",n);var c=!1,v=!1,w;for(w in l)if(l.hasOwnProperty(w)){var P=l[w];if(P!=null)switch(w){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ln(n,a,w,P,l,null)}}v&&Ln(n,a,"srcSet",l.srcSet,l,null),c&&Ln(n,a,"src",l.src,l,null);return;case"input":on("invalid",n);var $=w=P=v=null,he=null,Me=null;for(c in l)if(l.hasOwnProperty(c)){var qe=l[c];if(qe!=null)switch(c){case"name":v=qe;break;case"type":P=qe;break;case"checked":he=qe;break;case"defaultChecked":Me=qe;break;case"value":w=qe;break;case"defaultValue":$=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,a));break;default:Ln(n,a,c,qe,l,null)}}ul(n,w,$,he,Me,P,v,!1),za(n);return;case"select":on("invalid",n),c=P=w=null;for(v in l)if(l.hasOwnProperty(v)&&($=l[v],$!=null))switch(v){case"value":w=$;break;case"defaultValue":P=$;break;case"multiple":c=$;default:Ln(n,a,v,$,l,null)}a=w,l=P,n.multiple=!!c,a!=null?ua(n,!!c,a,!1):l!=null&&ua(n,!!c,l,!0);return;case"textarea":on("invalid",n),w=v=c=null;for(P in l)if(l.hasOwnProperty(P)&&($=l[P],$!=null))switch(P){case"value":c=$;break;case"defaultValue":v=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:Ln(n,a,P,$,l,null)}fl(n,c,v,w),za(n);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(c=l[he],c!=null))switch(he){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ln(n,a,he,c,l,null)}return;case"dialog":on("beforetoggle",n),on("toggle",n),on("cancel",n),on("close",n);break;case"iframe":case"object":on("load",n);break;case"video":case"audio":for(c=0;c<Bc.length;c++)on(Bc[c],n);break;case"image":on("error",n),on("load",n);break;case"details":on("toggle",n);break;case"embed":case"source":case"link":on("error",n),on("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in l)if(l.hasOwnProperty(Me)&&(c=l[Me],c!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ln(n,a,Me,c,l,null)}return;default:if(hl(a)){for(qe in l)l.hasOwnProperty(qe)&&(c=l[qe],c!==void 0&&Dh(n,a,qe,c,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(c=l[$],c!=null&&Ln(n,a,$,c,l,null))}function H5(n,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,P=null,$=null,he=null,Me=null,qe=null;for(De in l){var Ge=l[De];if(l.hasOwnProperty(De)&&Ge!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":he=Ge;default:c.hasOwnProperty(De)||Ln(n,a,De,null,c,Ge)}}for(var ke in c){var De=c[ke];if(Ge=l[ke],c.hasOwnProperty(ke)&&(De!=null||Ge!=null))switch(ke){case"type":w=De;break;case"name":v=De;break;case"checked":Me=De;break;case"defaultChecked":qe=De;break;case"value":P=De;break;case"defaultValue":$=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,a));break;default:De!==Ge&&Ln(n,a,ke,De,c,Ge)}}No(n,P,$,he,Me,qe,w,v);return;case"select":De=P=$=ke=null;for(w in l)if(he=l[w],l.hasOwnProperty(w)&&he!=null)switch(w){case"value":break;case"multiple":De=he;default:c.hasOwnProperty(w)||Ln(n,a,w,null,c,he)}for(v in c)if(w=c[v],he=l[v],c.hasOwnProperty(v)&&(w!=null||he!=null))switch(v){case"value":ke=w;break;case"defaultValue":$=w;break;case"multiple":P=w;default:w!==he&&Ln(n,a,v,w,c,he)}a=$,l=P,c=De,ke!=null?ua(n,!!l,ke,!1):!!c!=!!l&&(a!=null?ua(n,!!l,a,!0):ua(n,!!l,l?[]:"",!1));return;case"textarea":De=ke=null;for($ in l)if(v=l[$],l.hasOwnProperty($)&&v!=null&&!c.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Ln(n,a,$,null,c,v)}for(P in c)if(v=c[P],w=l[P],c.hasOwnProperty(P)&&(v!=null||w!=null))switch(P){case"value":ke=v;break;case"defaultValue":De=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==w&&Ln(n,a,P,v,c,w)}ou(n,ke,De);return;case"option":for(var Ft in l)if(ke=l[Ft],l.hasOwnProperty(Ft)&&ke!=null&&!c.hasOwnProperty(Ft))switch(Ft){case"selected":n.selected=!1;break;default:Ln(n,a,Ft,null,c,ke)}for(he in c)if(ke=c[he],De=l[he],c.hasOwnProperty(he)&&ke!==De&&(ke!=null||De!=null))switch(he){case"selected":n.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Ln(n,a,he,ke,c,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in l)ke=l[Dt],l.hasOwnProperty(Dt)&&ke!=null&&!c.hasOwnProperty(Dt)&&Ln(n,a,Dt,null,c,ke);for(Me in c)if(ke=c[Me],De=l[Me],c.hasOwnProperty(Me)&&ke!==De&&(ke!=null||De!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,a));break;default:Ln(n,a,Me,ke,c,De)}return;default:if(hl(a)){for(var Mn in l)ke=l[Mn],l.hasOwnProperty(Mn)&&ke!==void 0&&!c.hasOwnProperty(Mn)&&Dh(n,a,Mn,void 0,c,ke);for(qe in c)ke=c[qe],De=l[qe],!c.hasOwnProperty(qe)||ke===De||ke===void 0&&De===void 0||Dh(n,a,qe,ke,c,De);return}}for(var Ae in l)ke=l[Ae],l.hasOwnProperty(Ae)&&ke!=null&&!c.hasOwnProperty(Ae)&&Ln(n,a,Ae,null,c,ke);for(Ge in c)ke=c[Ge],De=l[Ge],!c.hasOwnProperty(Ge)||ke===De||ke==null&&De==null||Ln(n,a,Ge,ke,c,De)}var Ih=null,Rh=null;function td(n){return n.nodeType===9?n:n.ownerDocument}function O0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U0(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Ph(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Oh=null;function G5(){var n=window.event;return n&&n.type==="popstate"?n===Oh?!1:(Oh=n,!0):(Oh=null,!1)}var F0=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,W5=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(n){return B0.resolve(null).then(n).catch(J5)}:F0;function J5(n){setTimeout(function(){throw n})}function Vs(n){return n==="head"}function q0(n,a){var l=a,c=0,v=0;do{var w=l.nextSibling;if(n.removeChild(l),w&&w.nodeType===8)if(l=w.data,l==="/$"){if(0<c&&8>c){l=c;var P=n.ownerDocument;if(l&1&&zc(P.documentElement),l&2&&zc(P.body),l&4)for(l=P.head,zc(l),P=l.firstChild;P;){var $=P.nextSibling,he=P.nodeName;P[or]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&P.rel.toLowerCase()==="stylesheet"||l.removeChild(P),P=$}}if(v===0){n.removeChild(w),Kc(a);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:c=l.charCodeAt(0)-48;else c=0;l=w}while(l);Kc(a)}function Uh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Uh(l),sr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function K5(n,a,l,c){for(;n.nodeType===1;){var v=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[or])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=Ia(n.nextSibling),n===null)break}return null}function Z5(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Ia(n.nextSibling),n===null))return null;return n}function Fh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function $5(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Ia(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Bh=null;function z0(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function V0(n,a,l){switch(a=td(l),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function zc(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);sr(n)}var aa=new Map,j0=new Set;function nd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qo=K.d;K.d={f:X5,r:Q5,D:ev,C:tv,L:nv,m:iv,X:av,S:rv,M:ov};function X5(){var n=Qo.f(),a=Wf();return n||a}function Q5(n){var a=Ei(n);a!==null&&a.tag===5&&a.type==="form"?Fl(a):Qo.r(n)}var Vu=typeof document>"u"?null:document;function H0(n,a,l){var c=Vu;if(c&&typeof a=="string"&&a){var v=Dn(a);v='link[rel="'+n+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),j0.has(v)||(j0.add(v),n={rel:n,crossOrigin:l,href:a},c.querySelector(v)===null&&(a=c.createElement("link"),ji(a,"link",n),wn(a),c.head.appendChild(a)))}}function ev(n){Qo.D(n),H0("dns-prefetch",n,null)}function tv(n,a){Qo.C(n,a),H0("preconnect",n,a)}function nv(n,a,l){Qo.L(n,a,l);var c=Vu;if(c&&n&&a){var v='link[rel="preload"][as="'+Dn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Dn(l.imageSizes)+'"]')):v+='[href="'+Dn(n)+'"]';var w=v;switch(a){case"style":w=ju(n);break;case"script":w=Hu(n)}aa.has(w)||(n=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),aa.set(w,n),c.querySelector(v)!==null||a==="style"&&c.querySelector(Vc(w))||a==="script"&&c.querySelector(jc(w))||(a=c.createElement("link"),ji(a,"link",n),wn(a),c.head.appendChild(a)))}}function iv(n,a){Qo.m(n,a);var l=Vu;if(l&&n){var c=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Dn(c)+'"][href="'+Dn(n)+'"]',w=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Hu(n)}if(!aa.has(w)&&(n=b({rel:"modulepreload",href:n},a),aa.set(w,n),l.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jc(w)))return}c=l.createElement("link"),ji(c,"link",n),wn(c),l.head.appendChild(c)}}}function rv(n,a,l){Qo.S(n,a,l);var c=Vu;if(c&&n){var v=wi(c).hoistableStyles,w=ju(n);a=a||"default";var P=v.get(w);if(!P){var $={loading:0,preload:null};if(P=c.querySelector(Vc(w)))$.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},l),(l=aa.get(w))&&qh(n,l);var he=P=c.createElement("link");wn(he),ji(he,"link",n),he._p=new Promise(function(Me,qe){he.onload=Me,he.onerror=qe}),he.addEventListener("load",function(){$.loading|=1}),he.addEventListener("error",function(){$.loading|=2}),$.loading|=4,id(P,a,c)}P={type:"stylesheet",instance:P,count:1,state:$},v.set(w,P)}}}function av(n,a){Qo.X(n,a);var l=Vu;if(l&&n){var c=wi(l).hoistableScripts,v=Hu(n),w=c.get(v);w||(w=l.querySelector(jc(v)),w||(n=b({src:n,async:!0},a),(a=aa.get(v))&&zh(n,a),w=l.createElement("script"),wn(w),ji(w,"link",n),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},c.set(v,w))}}function ov(n,a){Qo.M(n,a);var l=Vu;if(l&&n){var c=wi(l).hoistableScripts,v=Hu(n),w=c.get(v);w||(w=l.querySelector(jc(v)),w||(n=b({src:n,async:!0,type:"module"},a),(a=aa.get(v))&&zh(n,a),w=l.createElement("script"),wn(w),ji(w,"link",n),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},c.set(v,w))}}function G0(n,a,l,c){var v=(v=ue.current)?nd(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ju(l.href),l=wi(v).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ju(l.href);var w=wi(v).hoistableStyles,P=w.get(n);if(P||(v=v.ownerDocument||v,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,P),(w=v.querySelector(Vc(n)))&&!w._p&&(P.instance=w,P.state.loading=5),aa.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},aa.set(n,l),w||sv(v,n,l,P.state))),a&&c===null)throw Error(i(528,""));return P}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hu(l),l=wi(v).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ju(n){return'href="'+Dn(n)+'"'}function Vc(n){return'link[rel="stylesheet"]['+n+"]"}function Y0(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function sv(n,a,l,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ji(a,"link",l),wn(a),n.head.appendChild(a))}function Hu(n){return'[src="'+Dn(n)+'"]'}function jc(n){return"script[async]"+n}function W0(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+Dn(l.href)+'"]');if(c)return a.instance=c,wn(c),c;var v=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),wn(c),ji(c,"style",v),id(c,l.precedence,n),a.instance=c;case"stylesheet":v=ju(l.href);var w=n.querySelector(Vc(v));if(w)return a.state.loading|=4,a.instance=w,wn(w),w;c=Y0(l),(v=aa.get(v))&&qh(c,v),w=(n.ownerDocument||n).createElement("link"),wn(w);var P=w;return P._p=new Promise(function($,he){P.onload=$,P.onerror=he}),ji(w,"link",c),a.state.loading|=4,id(w,l.precedence,n),a.instance=w;case"script":return w=Hu(l.src),(v=n.querySelector(jc(w)))?(a.instance=v,wn(v),v):(c=l,(v=aa.get(w))&&(c=b({},l),zh(c,v)),n=n.ownerDocument||n,v=n.createElement("script"),wn(v),ji(v,"link",c),n.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,id(c,l.precedence,n));return a.instance}function id(n,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,w=v,P=0;P<c.length;P++){var $=c[P];if($.dataset.precedence===a)w=$;else if(w!==v)break}w?w.parentNode.insertBefore(n,w.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function qh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function zh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var rd=null;function J0(n,a,l){if(rd===null){var c=new Map,v=rd=new Map;v.set(l,c)}else v=rd,c=v.get(l),c||(c=new Map,v.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),v=0;v<l.length;v++){var w=l[v];if(!(w[or]||w[cn]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(a)||"";P=n+P;var $=c.get(P);$?$.push(w):c.set(P,[w])}}return c}function K0(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function lv(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Z0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Hc=null;function uv(){}function cv(n,a,l){if(Hc===null)throw Error(i(475));var c=Hc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=ju(l.href),w=n.querySelector(Vc(v));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=ad.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=w,wn(w);return}w=n.ownerDocument||n,l=Y0(l),(v=aa.get(v))&&qh(l,v),w=w.createElement("link"),wn(w);var P=w;P._p=new Promise(function($,he){P.onload=$,P.onerror=he}),ji(w,"link",l),a.instance=w}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ad.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function fv(){if(Hc===null)throw Error(i(475));var n=Hc;return n.stylesheets&&n.count===0&&Vh(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var od=null;function Vh(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,od=new Map,a.forEach(dv,n),od=null,ad.call(n))}function dv(n,a){if(!(a.state.loading&4)){var l=od.get(n);if(l)var c=l.get(null);else{l=new Map,od.set(n,l);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var P=v[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(l.set(P.dataset.precedence,P),c=P)}c&&l.set(null,c)}v=a.instance,P=v.getAttribute("data-precedence"),w=l.get(P)||c,w===c&&l.set(null,v),l.set(P,v),this.count++,c=ad.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),w?w.parentNode.insertBefore(v,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),a.state.loading|=4}}var Gc={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function hv(n,a,l,c,v,w,P,$){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function $0(n,a,l,c,v,w,P,$,he,Me,qe,Ge){return n=new hv(n,a,l,P,$,he,Me,Ge),a=1,w===!0&&(a|=24),w=Di(3,null,null,a),n.current=w,w.stateNode=n,a=pc(),a.refCount++,n.pooledCache=a,a.refCount++,w.memoizedState={element:c,isDehydrated:l,cache:a},ve(w),n}function X0(n){return n?(n=vi,n):vi}function Q0(n,a,l,c,v,w){v=X0(v),c.context===null?c.context=v:c.pendingContext=v,c=Fe(a),c.payload={element:l},w=w===void 0?null:w,w!==null&&(c.callback=w),l=He(n,c,a),l!==null&&(Vr(l,n,a),ze(l,n,a))}function eg(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function jh(n,a){eg(n,a),(n=n.alternate)&&eg(n,a)}function tg(n){if(n.tag===13){var a=Oo(n,67108864);a!==null&&Vr(a,n,67108864),jh(n,67108864)}}var sd=!0;function pv(n,a,l,c){var v=F.T;F.T=null;var w=K.p;try{K.p=2,Hh(n,a,l,c)}finally{K.p=w,F.T=v}}function mv(n,a,l,c){var v=F.T;F.T=null;var w=K.p;try{K.p=8,Hh(n,a,l,c)}finally{K.p=w,F.T=v}}function Hh(n,a,l,c){if(sd){var v=Gh(c);if(v===null)kh(n,a,c,ld,l),ig(n,c);else if(vv(v,n,a,l,c))c.stopPropagation();else if(ig(n,c),a&4&&-1<gv.indexOf(n)){for(;v!==null;){var w=Ei(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=Le(w.pendingLanes);if(P!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;P;){var he=1<<31-yt(P);$.entanglements[1]|=he,P&=~he}ho(w),(Cn&6)===0&&(Gf=ht()+500,Fc(0))}}break;case 13:$=Oo(w,2),$!==null&&Vr($,w,2),Wf(),jh(w,2)}if(w=Gh(c),w===null&&kh(n,a,c,ld,l),w===v)break;v=w}v!==null&&c.stopPropagation()}else kh(n,a,c,null,l)}}function Gh(n){return n=mi(n),Yh(n)}var ld=null;function Yh(n){if(ld=null,n=Ni(n),n!==null){var a=s(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=u(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return ld=n,null}function ng(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Ke:return 2;case et:return 8;case at:case ot:return 32;case _t:return 268435456;default:return 32}default:return 32}}var Wh=!1,js=null,Hs=null,Gs=null,Yc=new Map,Wc=new Map,Ys=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ig(n,a){switch(n){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Yc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(a.pointerId)}}function Jc(n,a,l,c,v,w){return n===null||n.nativeEvent!==w?(n={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:w,targetContainers:[v]},a!==null&&(a=Ei(a),a!==null&&tg(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function vv(n,a,l,c,v){switch(a){case"focusin":return js=Jc(js,n,a,l,c,v),!0;case"dragenter":return Hs=Jc(Hs,n,a,l,c,v),!0;case"mouseover":return Gs=Jc(Gs,n,a,l,c,v),!0;case"pointerover":var w=v.pointerId;return Yc.set(w,Jc(Yc.get(w)||null,n,a,l,c,v)),!0;case"gotpointercapture":return w=v.pointerId,Wc.set(w,Jc(Wc.get(w)||null,n,a,l,c,v)),!0}return!1}function rg(n){var a=Ni(n.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){n.blockedOn=a,rr(n.priority,function(){if(l.tag===13){var c=zr();c=kn(c);var v=Oo(l,c);v!==null&&Vr(v,l,c),jh(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ud(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Gh(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);ss=c,l.target.dispatchEvent(c),ss=null}else return a=Ei(l),a!==null&&tg(a),n.blockedOn=l,!1;a.shift()}return!0}function ag(n,a,l){ud(n)&&l.delete(a)}function yv(){Wh=!1,js!==null&&ud(js)&&(js=null),Hs!==null&&ud(Hs)&&(Hs=null),Gs!==null&&ud(Gs)&&(Gs=null),Yc.forEach(ag),Wc.forEach(ag)}function cd(n,a){n.blockedOn===a&&(n.blockedOn=null,Wh||(Wh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yv)))}var fd=null;function og(n){fd!==n&&(fd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fd===n&&(fd=null);for(var a=0;a<n.length;a+=3){var l=n[a],c=n[a+1],v=n[a+2];if(typeof c!="function"){if(Yh(c||l)===null)continue;break}var w=Ei(l);w!==null&&(n.splice(a,3),a-=3,na(w,{pending:!0,data:v,method:l.method,action:c},c,v))}}))}function Kc(n){function a(he){return cd(he,n)}js!==null&&cd(js,n),Hs!==null&&cd(Hs,n),Gs!==null&&cd(Gs,n),Yc.forEach(a),Wc.forEach(a);for(var l=0;l<Ys.length;l++){var c=Ys[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ys.length&&(l=Ys[0],l.blockedOn===null);)rg(l),l.blockedOn===null&&Ys.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var v=l[c],w=l[c+1],P=v[sn]||null;if(typeof w=="function")P||og(l);else if(P){var $=null;if(w&&w.hasAttribute("formAction")){if(v=w,P=w[sn]||null)$=P.formAction;else if(Yh(v)!==null)continue}else $=P.action;typeof $=="function"?l[c+1]=$:(l.splice(c,3),c-=3),og(l)}}}function Jh(n){this._internalRoot=n}dd.prototype.render=Jh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=zr();Q0(l,c,n,a,null,null)},dd.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Q0(n.current,2,null,n,null,null),Wf(),a[_n]=null}};function dd(n){this._internalRoot=n}dd.prototype.unstable_scheduleHydration=function(n){if(n){var a=Hi();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Ys.length&&a!==0&&a<Ys[l].priority;l++);Ys.splice(l,0,n),l===0&&rg(n)}};var sg=e.version;if(sg!=="19.1.0")throw Error(i(527,sg,"19.1.0"));K.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var bv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{qt=hd.inject(bv),kt=hd}catch{}}return $c.createRoot=function(n,a){if(!o(n))throw Error(i(299));var l=!1,c="",v=Sm,w=Am,P=Cm,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&($=a.unstable_transitionCallbacks)),a=$0(n,1,!1,null,null,l,c,v,w,P,$,null),n[_n]=a.current,Mh(n),new Jh(a)},$c.hydrateRoot=function(n,a,l){if(!o(n))throw Error(i(299));var c=!1,v="",w=Sm,P=Am,$=Cm,he=null,Me=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(P=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(he=l.unstable_transitionCallbacks),l.formState!==void 0&&(Me=l.formState)),a=$0(n,1,!0,a,l??null,c,v,w,P,$,he,Me),a.context=X0(null),l=a.current,c=zr(),c=kn(c),v=Fe(c),v.callback=null,He(l,v,c),l=c,a.current.lanes=l,Lt(a,l),ho(a),n[_n]=a.current,Mh(n),new dd(a)},$c.version="19.1.0",$c}var vg;function kv(){if(vg)return $h.exports;vg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$h.exports=Mv(),$h.exports}var Dv=kv();const Iv=em(Dv),Rv="gemini-2.5-flash-preview-04-17",po="farmerChatDB_v5",S2="farmerChatOfflineQueue_v2",mp=5,Pv=30*1e3,Ov=`Eres FarmerChat, un asistente virtual experto en agricultura para gestionar registros y tareas.
Tu objetivo es comprender los comandos del usuario en lenguaje natural (Español) y traducirlos en acciones estructuradas o consultas relacionadas con las siguientes entidades del campo.
IMPORTANTE: Presta especial atención a interpretar el lenguaje coloquial, modismos comunes en el ámbito agropecuario (especialmente de Argentina), y posibles ruidos o variaciones en la calidad de los audios.
Intenta extraer la intención principal y las entidades relevantes incluso si la entrada no es perfectamente clara o formal. Si una parte crucial de un comando de audio es ininteligible debido al ruido,
puedes indicarlo, pero prioriza completar la acción con la información que sí fue claramente entendida. Tu capacidad para manejar estas imperfecciones es clave.

Las propiedades listadas son las que debes usar en el campo "data" de tu respuesta JSON, usando camelCase para los nombres de propiedad.

Se te proporcionará el contenido COMPLETO de la base de datos actual en formato JSON como parte del contexto del usuario. DEBES usar este JSON para:
1. Resolver nombres a IDs: Si el usuario menciona una entidad por nombre (ej. nombre de cliente, nombre de campo), busca su 'id' correspondiente en el JSON de la base de datos. Los IDs son la forma primaria de referencia.
2. Filtrar datos: Para acciones como LIST_ENTITIES, usa los IDs resueltos (o directamente proporcionados) y otros criterios del usuario para filtrar los registros relevantes del JSON de la base de datos.
3. Asegurar la consistencia: Verifica que las relaciones (ej. clientId en una tarea) sean válidas consultando el JSON de la base de datos.
4. Proponer opciones contextualmente: Para la creación de Tareas, si faltan detalles de maquinaria, personal o insumos, utiliza la acción PROPOSE_OPTIONS para sugerir hasta 5 elementos relevantes de la base de datos. Pregunta si el usuario desea ver más.
5. Confirmar antes de crear: Antes de una acción CREATE_ENTITY (especialmente para Tareas complejas), utiliza CONFIRM_CREATION para resumir los datos y pedir confirmación al usuario.
6. Informar post-creación: Para CREATE_ENTITY, el messageForUser debe confirmar la creación y OBLIGATORIAMENTE incluir el ID del nuevo registro.
7. Realizar VALIDACIONES DE SENTIDO COMÚN antes de confirmar la creación de una Tarea (ver sección "Validaciones de Sentido Común").

Entidades y sus propiedades (camelCase):
- Client (clients): id, name, phone, email, contactPerson, address
- User (users): id, name, role, clientId (ID del Client asociado)
- Contractor (contractors): id, name, contactPerson, address, phone, isInternal (boolean)
- Personnel (personnel): id, name, role, phone, clientId (ID del Client asociado), contractorId (ID del Contractor asociado), availability ('disponible', 'de licencia', 'ocupado', 'fuera de turno', 'reunión')
- Machinery (machineries): id, name, type, model, year, clientId (ID del Client asociado), contractorId (ID del Contractor asociado), status ('operativa', 'en reparación', 'mantenimiento', 'fuera de servicio')
- Field (fields): id, name, location, clientId (ID del Client asociado), area
- Lot (lots): id, name, fieldId (ID del Field asociado), area
- Parcel (parcels): id, name, lotId (ID del Lot asociado), area, crop
- Campaign (campaigns): id, name, startDate (YYYY-MM-DD), endDate (YYYY-MM-DD), clientId (ID del Client asociado), description
- TasksList (tasksList): id, taskName, description, category (Catálogo de tipos de tareas)
- ProductInsume (productsInsumes): id, name, type, unit (Catálogo de insumos)
- Task (tasks): id, tasksListId, createdByUserId, clientId, contractorId, campaignId, fieldId, lotId, parcelId, startDateTime (ISO String), endDateTime (ISO String), durationHours, status, costEstimated, costActual, resultDescription, notes, creationTimestamp (ISO String), additionalInfo (string)
  - Para crear Tareas (Task): Si el usuario especifica maquinaria, personal o insumos/productos por nombre, DEBES PRIMERO intentar resolver esos nombres a IDs existentes en la base de datos.
  - Si un nombre NO SE PUEDE RESOLVER a un ID existente, debes usar el flujo "PROMPT_CREATE_MISSING_ENTITY" (ver abajo) antes de continuar con la creación de la tarea.
  - Una vez todos los IDs están resueltos (o las entidades faltantes creadas), incluye sus IDs/detalles como arrays en el campo 'data' de la tarea.
    Ejemplo: "machineryIds": ["mach_id_1"], "personnelIds": ["pers_id_1"], "productInsumeDetails": [{ "id": "prod_id_1", "quantityUsed": 2, "unitUsed": "litros" }]
    Estos detalles se usarán para crear automáticamente entradas en las tablas de enlace correspondientes.
- TaskMachineryLink (taskMachineryLinks): id, taskId, machineryId, hoursUsed, notes
- TaskPersonnelLink (taskPersonnelLinks): id, taskId, personnelId, roleInTask, hoursWorked
- TaskInsumeLink (taskInsumeLinks): id, taskId, productInsumeId, quantityUsed, unitUsed, applicationDetails
- UserAccess (userAccess): id, userId, fieldId, accessTotal (boolean)

Cuando un usuario pida crear, actualizar o eliminar una entidad, o realizar una consulta que devuelva datos estructurados, responde SIEMPRE con un ÚNICO objeto JSON válido. No incluyas explicaciones adicionales fuera del JSON.
El JSON debe seguir esta estructura general:
{
  "action": "CREATE_ENTITY" | "UPDATE_ENTITY" | "DELETE_ENTITY" | "LIST_ENTITIES" | "GROUPED_QUERY" | "ANSWER_QUERY" | "HELP" | "ERROR" | "PROPOSE_OPTIONS" | "CONFIRM_CREATION" | "TOGGLE_VOICE_MODE" | "PROMPT_CREATE_MISSING_ENTITY",
  "entity": "nombreDeLaEntidadCamelCase" (ej. "clients", "tasks"), // Opcional para algunas actions
  "data": { ... } | [ { ... } ] | { "enable": true/false }, // Objeto para CREATE/UPDATE. Array filtrado para LIST_ENTITIES (solo si groupedData no se usa, preferir groupedData). Objeto para TOGGLE_VOICE_MODE.
  "query": { ... }, // Criterios para UPDATE/DELETE/LIST_ENTITIES.
  "messageForUser": "Mensaje claro y conciso para mostrar al usuario en el chat.",
  "groupedData": [{ "groupTitle": "string", "items": [{}], "count": number, "entityType": "nombreDeLaEntidadCamelCase" }], // Usar para LIST_ENTITIES y GROUPED_QUERY
  // Campos adicionales para PROMPT_CREATE_MISSING_ENTITY:
  "entityToCreate": "fields" | "machineries" | "personnel" | "productsInsumes" | "clients" | "contractors" | "campaigns" | "tasksList" | "lots" | "parcels", // Tipo de entidad que falta
  "suggestedData": { "name": "Nombre Inferido", /* otros campos con defaults si es posible */ }, // Datos mínimos inferidos para la nueva entidad
  "pendingTaskData": { /* datos de la tarea original que se estaba intentando crear */ }, // Contexto de la tarea original
  // Campo adicional para CREATE_ENTITY de una sub-entidad, para continuar con la tarea:
  "followUpAction": { /* Otro objeto LLMResponseAction para la siguiente acción, ej. confirmar o crear la tarea original */ }
}

IMPORTANTE: El campo "messageForUser" DEBE ser SIEMPRE un texto plano, simple y amigable para el usuario. NUNCA debe contener cadenas JSON, ni bloques de código JSON, EXCEPTO para la acción "HELP" (ver instrucciones específicas para "HELP").
MUY IMPORTANTE para "LIST_ENTITIES" y "GROUPED_QUERY": El campo "groupedData" en tu respuesta JSON DEBE OBLIGATORIAMENTE contener un array con UN ÚNICO objeto GroupedResult para LIST_ENTITIES, o MÚLTIPLES objetos GroupedResult para GROUPED_QUERY. Cada objeto GroupedResult debe tener "groupTitle", "items" (el array de entidades filtradas por ti), "count" (el número total de items) y "entityType" (el nombre de la entidad en camelCase, ej. "clients").
Cuando generes los "items" dentro de "groupedData", especialmente si son listas de entidades relacionadas (como maquinaria o personal de un cliente), prioriza incluir solo los campos más relevantes y amigables para el usuario (ej. name, type, role, status). Omite los campos de ID internos (id) si hay un name u otro identificador más descriptivo, a menos que el ID sea el único identificador del registro.

VALIDACIONES DE SENTIDO COMÚN PARA CREACIÓN DE TAREAS:
Antes de usar "CONFIRM_CREATION" o "CREATE_ENTITY" para una nueva "Task", DEBES realizar las siguientes validaciones:
1.  Validación de Fecha de Inicio (\`startDateTime\`):
    *   Compara la \`startDateTime\` de la tarea con la fecha y hora actuales (asume que tienes conocimiento de la fecha/hora actual).
    *   Si \`startDateTime\` es en el pasado o es la fecha actual pero una hora que ya pasó, DEBES preguntar al usuario: \\\`"La fecha de inicio que indicaste ('[fecha/hora]') es hoy o ya pasó. ¿Estás seguro de querer programar la tarea para este momento?"\\\`.
    *   Si el usuario NO confirma, sugiérele una fecha futura apropiada (ej. "mañana a las 8 AM") o pregúntale por una nueva fecha antes de continuar.
2.  Disponibilidad de Maquinaria:
    *   Verifica el campo \`status\` de cada maquinaria seleccionada en la base de datos.
    *   Si el \`status\` NO es 'operativa' (ej. 'en reparación', 'mantenimiento', 'fuera de servicio'), DEBES informar al usuario: \\\`"La maquinaria '[Machinery.name]' (ID: [Machinery.id]) figura como '[Machinery.status]'. ¿Deseas elegir otra opción o continuar de todas formas?"\\\`. Si es posible, sugiere alternativas del mismo tipo que estén 'operativa'.
3.  Disponibilidad de Personal:
    *   Verifica el campo \`availability\` de cada personal seleccionado en la base de datos.
    *   Si \`availability\` NO es 'disponible' (ej. 'de licencia', 'ocupado', 'fuera de turno'), DEBES informar: \\\`"El empleado '[Personnel.name]' (ID: [Personnel.id]) se encuentra actualmente '[Personnel.availability]'. ¿Deseas elegir a alguien más o continuar?"\\\`. Si es posible, sugiere alternativas con rol similar que estén 'disponible'.
4.  Consideraciones Adicionales (Conceptuales):
    *   Clima: Si el usuario menciona explícitamente condiciones climáticas adversas (ej. "lluvia intensa") para tareas sensibles (ej. "cosecha", "fumigación"), pregunta: \\\`"Las condiciones climáticas que mencionaste podrían afectar la tarea de [tipo de tarea]. ¿Estás seguro de continuar o prefieres buscar otra fecha?"\\\`.
    *   Horarios: Si una tarea se programa fuera de un horario laboral estándar (ej. 3 AM, domingo por la tarde) sin que el usuario especifique urgencia, pregunta: \\\`"La hora programada parece estar fuera del horario laboral habitual. ¿Es correcto?"\\\`.
5.  Manejo de Múltiples Problemas: Si detectas varios problemas, abórdalos secuencialmente o resúmelos en una única confirmación (\\\`CONFIRM_CREATION\\\` o \\\`PROPOSE_OPTIONS\\\`) para no abrumar al usuario.

Flujo MEJORADO de creación de Tareas (Task) con manejo de entidades faltantes:
1.  Usuario: "Quiero crear una tarea de siembra para el campo 'Lote Desconocido' con la maquinaria 'Tractor Nuevo JD' y el operario 'Pedro Gómez'."
2.  FarmerChat (TU):
    a.  Intentas resolver 'Lote Desconocido', 'Tractor Nuevo JD', 'Pedro Gómez' a IDs existentes. Supongamos que 'Lote Desconocido' no existe.
    b.  Respondes con (manejando UNA entidad faltante a la vez, prioriza campos, luego lotes, parcelas, clientes, contratistas, campañas, tipos de tarea, luego maquinaria, personal, insumos):
        {
          "action": "PROMPT_CREATE_MISSING_ENTITY",
          "entityToCreate": "fields",
          "suggestedData": { "name": "Lote Desconocido", "location": "desconocida" },
          "pendingTaskData": { "tasksListId": "task_siembra", "machineryName": "Tractor Nuevo JD", "personnelName": "Pedro Gómez" /* otros datos de la tarea */ },
          "messageForUser": "El campo 'Lote Desconocido' no existe. ¿Quieres crearlo ahora con nombre 'Lote Desconocido' y ubicación 'desconocida' para poder continuar con la tarea de siembra?"
        }
3.  Usuario: "Sí, créalo."
4.  FarmerChat (TU):
    a.  Generas un ID para el nuevo campo.
    b.  Respondes con:
        {
          "action": "CREATE_ENTITY",
          "entity": "fields",
          "data": { "id": "field-uuid-automatico-123", "name": "Lote Desconocido", "location": "desconocida", "clientId": "client_id_resuelto_o_predeterminado" },
          "messageForUser": "Campo 'Lote Desconocido' (ID: field-uuid-automatico-123) creado. Verificando 'Tractor Nuevo JD'...",
          "followUpAction": {
            "action": "PROMPT_CREATE_MISSING_ENTITY",
            "entityToCreate": "machineries",
            "suggestedData": { "name": "Tractor Nuevo JD", "type": "Tractor", "status": "operativa" }, // Default status
            "pendingTaskData": { "tasksListId": "task_siembra", "fieldId": "field-uuid-automatico-123", "personnelName": "Pedro Gómez" /* ... */ },
            "messageForUser": "La maquinaria 'Tractor Nuevo JD' no existe. ¿Quieres crearla ahora con nombre 'Tractor Nuevo JD', tipo 'Tractor' y estado 'operativa' para continuar?"
          }
        }
5.  Usuario: "Sí."
6.  FarmerChat (TU):
    a.  Generas ID para la nueva maquinaria.
    b.  Respondes con:
        {
          "action": "CREATE_ENTITY",
          "entity": "machineries",
          "data": { "id": "mach-uuid-456", "name": "Tractor Nuevo JD", "type": "Tractor", "status": "operativa", "clientId": "...", "contractorId": "..." },
          "messageForUser": "Maquinaria 'Tractor Nuevo JD' (ID: mach-uuid-456) creada. Verificando 'Pedro Gómez'...",
          "followUpAction": {
            // Supongamos que 'Pedro Gómez' también falta
            "action": "PROMPT_CREATE_MISSING_ENTITY",
            "entityToCreate": "personnel",
            "suggestedData": { "name": "Pedro Gómez", "role": "Operario", "availability": "disponible" }, // Default availability
            "pendingTaskData": { "tasksListId": "task_siembra", "fieldId": "field-uuid-automatico-123", "machineryIds": ["mach-uuid-456"] /* ... */ },
            "messageForUser": "El operario 'Pedro Gómez' no existe. ¿Quieres crearlo ahora con nombre 'Pedro Gómez', rol 'Operario' y disponibilidad 'disponible' para continuar?"
          }
        }
7. Usuario: "Sí."
8. FarmerChat (TU):
   a. Creas a Pedro Gómez.
   b. Respondes con:
      {
        "action": "CREATE_ENTITY",
        "entity": "personnel",
        "data": { "id": "pers-uuid-789", "name": "Pedro Gómez", "role": "Operario", "availability": "disponible", "clientId": "...", "contractorId": "..." },
        "messageForUser": "Personal 'Pedro Gómez' (ID: pers-uuid-789) creado. Ahora sí, vamos a confirmar la tarea.",
        "followUpAction": {
             // Ahora todas las entidades existen. Procede a confirmar la tarea.
            "action": "CONFIRM_CREATION",
            "entity": "tasks",
            "data": { "tasksListId": "task_siembra", "fieldId": "field-uuid-automatico-123", "machineryIds": ["mach-uuid-456"], "personnelIds": ["pers-uuid-789"] /* ... */ },
            "messageForUser": "Ok, voy a crear la tarea de siembra para el campo 'Lote Desconocido' (ID: field-uuid-automatico-123) con la maquinaria 'Tractor Nuevo JD' (ID: mach-uuid-456) y el operario 'Pedro Gómez' (ID: pers-uuid-789). ¿Es correcto?"
        }
      }
9.  Usuario: "Sí, y agrega nota 'Prioridad alta'."
10. FarmerChat (TU):
    {
      "action": "CREATE_ENTITY",
      "entity": "tasks",
      "data": { "id": "task-uuid-xyz", "tasksListId": "task_siembra", "fieldId": "field-uuid-automatico-123", "machineryIds": ["mach-uuid-456"], "personnelIds": ["pers-uuid-789"], "notes": "Prioridad alta" /* ... */ },
      "messageForUser": "Tarea de siembra (ID: task-uuid-xyz) creada con éxito para 'Lote Desconocido' con 'Tractor Nuevo JD' y 'Pedro Gómez'. Nota: Prioridad alta."
    }
Este flujo se aplica a 'fieldId', 'lotId', 'parcelId', 'clientId', 'contractorId', 'campaignId', 'tasksListId'.
También para los IDs dentro de 'machineryIds', 'personnelIds', y 'productInsumeDetails[].id'.
SIEMPRE maneja UNA entidad faltante a la vez para simplificar la conversación.
Si el usuario RECHAZA crear una entidad faltante, responde con un mensaje indicando que no puedes continuar con la tarea sin esa entidad y pregunta cómo desea proceder (ej. action: "ANSWER_QUERY").

Para 'suggestedData' en 'PROMPT_CREATE_MISSING_ENTITY', usa estos campos mínimos y sugiere valores por defecto razonables si es posible (basados en el esquema):
  - Para la entidad 'fields':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'location': (sugerir el valor "desconocida")
    - propiedad 'clientId': (intentar resolver del contexto o el último usado; si no, la app podría manejarlo)
  - Para la entidad 'machineries':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'type': (sugerir el valor "desconocido")
    - propiedad 'status': (sugerir el valor "operativa") // Default status
    - propiedades 'clientId'/'contractorId': (intentar resolver)
  - Para la entidad 'personnel':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'role': (sugerir el valor "Operario")
    - propiedad 'availability': (sugerir el valor "disponible") // Default availability
    - propiedades 'clientId'/'contractorId': (intentar resolver)
  - Para la entidad 'productsInsumes':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'type': (sugerir el valor "desconocido")
    - propiedad 'unit': (sugerir el valor "unidad")
  - Para la entidad 'clients':
    - propiedad 'name': (el nombre que proporcionó el usuario)
  - Para la entidad 'contractors':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'isInternal': (sugerir el valor false)
  - Para la entidad 'campaigns':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'clientId': (intentar resolver)
  - Para la entidad 'tasksList':
    - propiedad 'taskName': (el nombre que proporcionó el usuario)
    - propiedad 'category': (sugerir el valor "Cultivo")
  - Para la entidad 'lots':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'fieldId': (DEBE ser provisto o resuelto; si no, no se puede crear el lote sin campo)
  - Para la entidad 'parcels':
    - propiedad 'name': (el nombre que proporcionó el usuario)
    - propiedad 'lotId': (DEBE ser provisto o resuelto)

Ejemplos de JSON de respuesta:
- Crear Cliente: { "action": "CREATE_ENTITY", "entity": "clients", "data": { "name": "Sol Naciente", "id": "client-uuid-001" }, "messageForUser": "Cliente 'Sol Naciente' (ID: client-uuid-001) creado exitosamente." }
- Crear Tarea con maquinaria, personal, e info adicional (después de que todo existe o fue creado): { "action": "CREATE_ENTITY", "entity": "tasks", "data": { "id": "task-uuid-002", "tasksListId": "task_siembra", "additionalInfo": "Revisar humedad del suelo", "machineryIds": ["mach_jd_7200"], "personnelIds": ["pers_op_gimenez"], "productInsumeDetails": [{"id": "prod_sem_maiz_dk7210", "quantityUsed": 2, "unitUsed": "bolsas"}] }, "messageForUser": "Tarea de siembra (ID: task-uuid-002) programada para parcela X, asignando recursos. Info adicional: Revisar humedad del suelo." }
- Listar Tareas filtradas: { "action": "LIST_ENTITIES", "entity": "tasks", "groupedData": [{ "groupTitle": "Listado de Tareas Filtradas", "items": [ { /* tarea 1 filtrada */ }, { /* tarea 2 filtrada */ } ], "count": 2, "entityType": "tasks" }], "messageForUser": "Aquí están las tareas solicitadas." }
- Activar modo voz: { "action": "TOGGLE_VOICE_MODE", "data": { "enable": true }, "messageForUser": "Modo voz interactiva activado." }

Para consultas generales usa "ANSWER_QUERY".
Para ayuda ("HELP"):
- Cuando respondas para la acción HELP, formatea tu \`messageForUser\` usando Markdown. Utiliza encabezados (ej. \`## Título Principal\`, \`### Subtítulo\`), texto en negrita (\`**texto importante**\`), listas con guiones (\`- Elemento de lista\`), y \`backticks\` para nombres de botones o comandos (ej. \`\` \`Guardar BD\` \`\`). Puedes usar emojis relevantes (ej. 🌾, 📋, 🔧) para mejorar la presentación y organización del contenido, haciéndolo claro y atractivo visualmente.
- Además de explicar los comandos generales, si el usuario pregunta específicamente sobre cómo cargar o manejar datos, infórmale que puede gestionar sus datos usando los botones de la barra superior:
  - Usar \`Cargar BD\` para importar toda la base de datos como un archivo JSON.
  - Usar \`Cargar Tablas\` para importar múltiples archivos CSV a la vez.
  - Usar \`Cargar Tabla\` para importar un archivo CSV para una tabla individual.
  - Usar \`Guardar BD\` para exportar la base de datos como un archivo JSON.
  - Usar \`Guardar Tablas\` para exportar todas las tablas a archivos CSV individuales.
  - Usar \`Borrar BD\` para eliminar toda la base de datos actual (esta acción pedirá confirmación).
- También informa sobre las nuevas funciones de historial de chat:
  - Usar \`Guardar Hist.\` para guardar la conversación actual del chat en un archivo JSON.
  - Usar \`Cargar Hist.\` para cargar una conversación previamente guardada desde un archivo JSON.
- Recuérdale también que la base de datos se guarda localmente en su navegador.
- Si el usuario pregunta qué hacer si hay problemas de conexión con la IA:
  - Explica que puede usar \`Guardar Hist.\` para no perder su conversación actual.
  - Indica que una vez que la conexión se restablezca y, si es necesario, cargue el historial, la conversación puede continuar. Los mensajes o comandos que estaban en el chat (ya sea guardados o aún visibles en la app) formarán parte del contexto que recibirás para continuar ayudándole.
  - Anímale a reintentar sus comandos o a continuar la conversación una vez que la conexión se normalice.
Para errores usa "ERROR".
Prioriza IDs. Si un ID no se provee y es necesario para una *nueva* entidad, puedes generarlo (formato uuidv4, ej. "client-xxxx").
`,tp={clients:[],users:[],contractors:[],personnel:[],machineries:[],fields:[],lots:[],parcels:[],campaigns:[],tasksList:[],productsInsumes:[],tasks:[],taskMachineryLinks:[],taskPersonnelLinks:[],taskInsumeLinks:[],userAccess:[]},jr={clients:"Clientes",users:"Usuarios",contractors:"Contratistas",personnel:"Personal",machineries:"Maquinarias",fields:"Campos",lots:"Lotes",parcels:"Parcelas",campaigns:"Campañas",tasksList:"Tipos de Tareas",productsInsumes:"Productos/Insumos",tasks:"Tareas Ejecutadas",taskMachineryLinks:"Tareas-Maquinarias (Link)",taskPersonnelLinks:"Tareas-Personal (Link)",taskInsumeLinks:"Tareas-Insumos (Link)",userAccess:"Acceso de Usuarios (Link)"},ff={clients:["id","name","phone","email","contactPerson","address"],users:["id","name","role","clientId"],contractors:["contractor_id","name","contact_person","address","phone","is_internal"],personnel:["id","name","role","phone","clientId","contractor_id","availability"],machineries:["id","name","type","model","year","clientId","contractor_id","status"],fields:["id","name","location","clientId","area"],lots:["id","name","fieldId","area"],parcels:["id","name","lotId","area","crop"],campaigns:["id","name","startDate","endDate","clientId","description"],tasksList:["id","taskName","description","category"],productsInsumes:["id","name","type","unit"],tasks:["task_entry_id","task_id_ref","created_by_user_id","client_id","contractor_id","campaign_id","field_id","lot_id","parcel_id","start_datetime","end_datetime","duration_hours","status","cost_estimated","cost_actual","result_description","notes","creation_timestamp","additional_info"],taskMachineryLinks:["task_machinery_link_id","task_entry_id","machinery_id","hours_used","notes"],taskPersonnelLinks:["task_personnel_link_id","task_entry_id","personnel_id","role_in_task","hours_worked"],taskInsumeLinks:["task_insume_link_id","task_entry_id","product_insume_id","quantity_used","unit_used","application_details"],userAccess:["user_id","campo_id","acceso_total"]},Hr={id:"ID",name:"Nombre",description:"Descripción",notes:"Notas",type:"Tipo",status:"Estado",category:"Categoría",unit:"Unidad",area:"Área",location:"Ubicación",phone:"Teléfono",email:"Correo Electrónico",address:"Dirección",contactPerson:"Persona de Contacto",creationTimestamp:"Fecha Creación",additionalInfo:"Info. Adicional",role:"Rol",clientId:"ID Cliente",isInternal:"Interno",contractor_id:"ID Contratista",availability:"Disponibilidad",contractorId:"ID Contratista",model:"Modelo",year:"Año",fieldId:"ID Campo",lotId:"ID Lote",crop:"Cultivo",startDate:"Fecha Inicio",endDate:"Fecha Fin",taskName:"Nombre de Tarea",tasksListId:"ID Tipo Tarea",createdByUserId:"ID Usuario Creador",campaignId:"ID Campaña",startDateTime:"Fecha/Hora Inicio",endDateTime:"Fecha/Hora Fin",durationHours:"Duración (Horas)",costEstimated:"Costo Estimado",costActual:"Costo Real",resultDescription:"Descripción Resultado",machineryIds:"IDs Maquinaria",personnelIds:"IDs Personal",productInsumeDetails:"Detalles Insumos",taskId:"ID Tarea",machineryId:"ID Maquinaria",hoursUsed:"Horas Usadas",personnelId:"ID Personal",roleInTask:"Rol en Tarea",hoursWorked:"Horas Trabajadas",productInsumeId:"ID Producto/Insumo",quantityUsed:"Cantidad Usada",unitUsed:"Unidad Usada",applicationDetails:"Detalles Aplicación",userId:"ID Usuario",accessTotal:"Acceso Total",groupTitle:"Título del Grupo",items:"Elementos",count:"Cantidad",entityType:"Tipo de Entidad"},gp=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),vp=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),yp=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-1.5l-1.5.75M5.25 17.25h13.5"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v2.625a3.375 3.375 0 01-3.375 3.375H5.25A3.375 3.375 0 011.5 16.875V7.125A3.375 3.375 0 014.875 3.75h4.875a3.375 3.375 0 013.375 3.375V11.25"})]}),bp=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L16.5 10.5m0 0L13.5 13.5m3-3v6m0 0H10.5m6 0a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zM4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h5.25a.75.75 0 000-1.5H4.5a1.5 1.5 0 01-1.5-1.5V6.75a1.5 1.5 0 011.5-1.5h10.5a1.5 1.5 0 011.5 1.5V10.5a.75.75 0 001.5 0V6.75a3 3 0 00-3-3H4.5z"})}),xp=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.03 1.123 0 1.131.094 1.976 1.057 1.976 2.192V7.5M8.25 7.5h7.5M8.25 7.5V9a.75.75 0 01-.75.75H5.625a.75.75 0 01-.75-.75V7.5m7.5 0V9A.75.75 0 0015 9.75h2.625a.75.75 0 00.75-.75V7.5m-15 6.075A3.375 3.375 0 014.875 15h14.25a3.375 3.375 0 013.375 3.375V18.75A3.375 3.375 0 0119.125 21H4.875A3.375 3.375 0 011.5 18.75v-.375m15-6.075c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123 0c-1.131.094-1.976 1.057-1.976 2.192"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Uv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Fv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),Bv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6M1.06 6.81L3.182 4.688a1.5 1.5 0 011.06-.44h13.5a2.25 2.25 0 012.25 2.25v12a2.25 2.25 0 01-2.25 2.25h-15A2.25 2.25 0 012.25 18V9a2.25 2.25 0 012.25-2.25h5.379a1.5 1.5 0 001.06-.44zM9 19.5V12h6v7.5"})}),qv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l3 3"})]}),zv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 12a2.25 2.25 0 00-2.25 2.25 2.25 2.25 0 002.25 2.25 2.25 2.25 0 002.25-2.25A2.25 2.25 0 0012 12z"})}),Vv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),_p=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),wp=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-3l-4.72-4.72a.75.75 0 00-1.28.53v15.88a.75.75 0 001.28.53l4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75zM15.75 18L18 15.75"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a2.25 2.25 0 012.25-2.25m-2.25 2.25a2.25 2.25 0 00-2.25 2.25M12 12.75V15m0-.75V9.75M14.25 9.75A2.25 2.25 0 0012 7.5M7.5 15A2.25 2.25 0 009.75 12.75m0 0A2.25 2.25 0 0012 15"})]}),np=({triggerButton:r,menuItems:e,menuTitle:t,align:i="right",onClose:o})=>{const[s,u]=Qe.useState(!1),f=Qe.useRef(null),d=Qe.useRef(null),p=C=>{C.stopPropagation(),u(_=>!_)},b=()=>{u(!1),o&&o()};Qe.useEffect(()=>{const C=T=>{f.current&&!f.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&b()},_=T=>{T.key==="Escape"&&b()};return s&&(document.addEventListener("mousedown",C),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",C),document.removeEventListener("keydown",_)}},[s,o]);const x=i==="left"?"left-0":"right-0";return Y.jsxs("div",{className:"relative inline-block text-left",ref:d,children:[w2.cloneElement(r,{onClick:p,"aria-haspopup":"true","aria-expanded":s}),s&&Y.jsx("div",{ref:f,className:`${x} absolute mt-2 w-64 origin-top-${i} bg-white dark:bg-gray-700 rounded-md shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none z-30`,role:"menu","aria-orientation":"vertical","aria-labelledby":r.props.id||void 0,children:Y.jsxs("div",{className:"py-1",role:"none",children:[t&&Y.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t}),e.map((C,_)=>Y.jsxs("button",{onClick:()=>{C.onClick(),b()},disabled:C.disabled,className:`w-full text-left flex items-center px-4 py-2 text-sm 
                  ${C.isDangerous?"text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-800/50":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"}
                  ${C.disabled?"opacity-50 cursor-not-allowed":""}
                  transition-colors duration-150 ease-in-out`,role:"menuitem",children:[C.icon&&Y.jsx("span",{className:"mr-3 flex-shrink-0 h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500 dark:group-hover:text-gray-400","aria-hidden":"true",children:C.icon}),Y.jsx("span",{children:C.label})]},_))]})})]})},jv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25C15.75 18.4926 14.1426 19.5 12.375 19.5C10.6074 19.5 9 18.4926 9 17.25"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75C9 13.9926 10.6074 15 12.375 15C14.1426 15 15.75 13.9926 15.75 12.75"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25C9 9.49264 10.6074 10.5 12.375 10.5C14.1426 10.5 15.75 9.49264 15.75 8.25"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5V17.25C4.5 14.7337 7.91015 12.75 12.375 12.75C16.8398 12.75 20.25 14.7337 20.25 17.25V19.5"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15V12.75C4.5 10.2337 7.91015 8.25 12.375 8.25C16.8398 8.25 20.25 10.2337 20.25 12.75V15"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5V8.25C4.5 5.73371 7.91015 3.75 12.375 3.75C16.8398 3.75 20.25 5.73371 20.25 8.25V10.5"})]}),Hv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v12.75c0 .621.504 1.125 1.125 1.125z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M10.125 4.5v15"})]}),Gv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25h.01M12 15.75h.01M7.5 12h.01M16.5 12h.01"})]}),Yv=Qe.forwardRef(({onFileUpload:r,onFileExport:e,onExportToCsvs:t,entityTypes:i,currentTheme:o,onToggleTheme:s,isInteractiveVoiceMode:u,onToggleInteractiveVoiceMode:f,onMultipleFileUploadRequest:d,onDeleteDatabaseRequest:p,onSaveChatHistory:b,onLoadChatHistoryFile:x,pendingOfflineRequestCount:C},_)=>{const T=Qe.useRef(null),L=Qe.useRef(null),R=Qe.useRef(null),E=Qe.useRef(null),[k,D]=Qe.useState(null),[V,J]=Qe.useState(!1),ee=Qe.useRef(null);Qe.useImperativeHandle(_,()=>({})),Qe.useEffect(()=>{const O=ce=>{if(V&&ee.current&&!ee.current.contains(ce.target)){const M=document.getElementById("csv-entity-type-selector-dropdown");M&&!M.contains(ce.target)&&J(!1)}};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[V]);const G=()=>{var O;return(O=T.current)==null?void 0:O.click()},z=()=>{var O;return(O=R.current)==null?void 0:O.click()},re=()=>{var O;return(O=E.current)==null?void 0:O.click()},se=O=>{var M;const ce=(M=O.target.files)==null?void 0:M[0];ce&&r(ce,"json_db"),O.target.value=""},U=O=>{var M;const ce=(M=O.target.files)==null?void 0:M[0];ce&&k&&r(ce,k),O.target.value="",D(null),J(!1)},I=O=>{const ce=O.target.files;ce&&ce.length>0&&d(Array.from(ce)),O.target.value=""},te=O=>{var M;const ce=(M=O.target.files)==null?void 0:M[0];ce&&x(ce),O.target.value=""},ne=O=>{var ce;D(O),(ce=L.current)==null||ce.click()},ye=[{label:"Cargar BD (JSON)",icon:Y.jsx(gp,{className:"h-4 w-4"}),onClick:G},{label:"Guardar BD (JSON)",icon:Y.jsx(vp,{className:"h-4 w-4"}),onClick:()=>e("json_db")},{label:"Borrar BD",icon:Y.jsx(Uv,{className:"h-4 w-4"}),onClick:p,isDangerous:!0}],F=[{label:"Cargar Múltiples (CSV)",icon:Y.jsx(bp,{className:"h-4 w-4"}),onClick:z},{label:"Guardar Todas (CSV)",icon:Y.jsx(xp,{className:"h-4 w-4"}),onClick:t},{label:"Cargar Individual (CSV)",icon:Y.jsx(yp,{className:"h-4 w-4"}),onClick:()=>{J(O=>!O)}}],K=[{label:"Guardar Historial",icon:Y.jsx(Fv,{className:"h-4 w-4"}),onClick:b},{label:"Cargar Historial",icon:Y.jsx(Bv,{className:"h-4 w-4"}),onClick:re}],ie="flex items-center text-white py-2 px-2 sm:px-3 rounded-md text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800",ae="h-4 w-4 mr-0 sm:mr-1 md:mr-2";return Y.jsxs("div",{className:"bg-gray-200 dark:bg-gray-800 p-3 shadow-md flex items-center justify-between border-b border-gray-300 dark:border-gray-700 bg-transition",children:[Y.jsx("div",{className:"flex items-center",children:Y.jsx("h1",{className:"text-xl font-semibold text-green-600 dark:text-green-400",children:"FarmerChat AI v10.0"})}),Y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[C>0&&Y.jsxs("div",{className:"flex items-center bg-yellow-500 text-yellow-900 dark:bg-yellow-400 dark:text-yellow-900 py-1 px-2 sm:px-3 rounded-md text-xs sm:text-sm transition-colors animate-pulse",title:`${C} solicitud(es) pendientes de procesar`,children:[Y.jsx(qv,{className:"h-4 w-4 mr-1 sm:mr-2"}),Y.jsxs("span",{className:"hidden xxs:inline",children:[C," Pendiente",C>1?"s":""]}),Y.jsx("span",{className:"xxs:hidden",children:C})]}),Y.jsx(np,{triggerButton:Y.jsxs("button",{className:`${ie} bg-blue-600 hover:bg-blue-700 focus:ring-blue-500`,title:"Operaciones de Base de Datos",children:[Y.jsx(jv,{className:ae}),Y.jsx("span",{className:"hidden sm:inline",children:"BD"})]}),menuItems:ye}),Y.jsx("input",{type:"file",ref:T,onChange:se,accept:".json",className:"hidden"}),Y.jsxs("div",{className:"relative",children:[" ",Y.jsx(np,{triggerButton:Y.jsxs("button",{ref:ee,className:`${ie} bg-purple-500 hover:bg-purple-600 focus:ring-purple-500`,title:"Operaciones de Tablas (CSV)",children:[Y.jsx(Hv,{className:ae}),Y.jsx("span",{className:"hidden sm:inline",children:"Tablas"})]}),menuItems:F,onClose:()=>{}}),V&&Y.jsxs("div",{id:"csv-entity-type-selector-dropdown",className:"absolute right-0 sm:right-auto sm:left-0 mt-2 w-56 bg-white dark:bg-gray-700 rounded-md shadow-lg z-40 py-1 border dark:border-gray-600 max-h-60 overflow-y-auto",style:{top:ee.current?ee.current.offsetHeight+5:"100%"},children:[Y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 px-3 py-1",children:"Importar para:"}),i.map(O=>Y.jsx("a",{href:"#",onClick:ce=>{ce.preventDefault(),ne(O),J(!1)},className:"block px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",role:"menuitem",children:jr[O]},O))]})]}),Y.jsx("input",{type:"file",ref:R,onChange:I,accept:".csv",multiple:!0,className:"hidden"}),Y.jsx("input",{type:"file",ref:L,onChange:U,accept:".csv",className:"hidden"}),Y.jsx(np,{triggerButton:Y.jsxs("button",{className:`${ie} bg-orange-500 hover:bg-orange-600 focus:ring-orange-500`,title:"Operaciones de Historial de Chat",children:[Y.jsx(Gv,{className:ae}),Y.jsx("span",{className:"hidden sm:inline",children:"Historial"})]}),menuItems:K}),Y.jsx("input",{type:"file",ref:E,onChange:te,accept:".json",className:"hidden"}),Y.jsx("button",{onClick:f,className:`p-2 rounded-full transition-colors ${u?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200"}`,title:u?"Desactivar Modo Voz":"Activar Modo Voz",children:u?Y.jsx(_p,{className:"h-5 w-5"}):Y.jsx(wp,{className:"h-5 w-5"})}),Y.jsx("button",{onClick:s,className:"p-2 rounded-full bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-yellow-500 dark:text-yellow-400 transition-colors",title:o==="dark"?"Modo Claro":"Modo Oscuro",children:o==="dark"?Y.jsx(zv,{className:"h-5 w-5"}):Y.jsx(Vv,{className:"h-5 w-5"})})]})]})}),Wv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Jv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c.618 0 1.197-.096 1.752-.264M9.248 9.264A6.002 6.002 0 0112 7.5c2.143 0 4.067.966 5.334 2.517M12 7.5V3.75m0 3.75A2.25 2.25 0 009.75 9.75v1.5M12 7.5A2.25 2.25 0 0114.25 9.75v1.5"})}),Kv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})}),Zv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),$v=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5C7.5 4.5 4.5 7.5 4.5 12s3 7.5 7.5 7.5S19.5 16.5 19.5 12 16.5 4.5 12 4.5z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75h.008v.008H9.75v-.008zm0 4.5h.008v.008H9.75v-.008zm4.5-4.5h.008v.008H14.25v-.008zm0 4.5h.008v.008H14.25v-.008zM12 8.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75H12a.75.75 0 00.75-.75V9a.75.75 0 00-.75-.75h-.015z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75c-1.24 0-2.25.783-2.25 1.75s1.01 1.75 2.25 1.75 2.25-.783 2.25-1.75S13.24 12.75 12 12.75z"})]}),Xv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.032.388-2.357-.4-3.176L5.75 5.75c-.789-.789-2.148-.929-3.182-.4L2.496 2.496A2.25 2.25 0 00.07 4.425l1.086 1.086L5.75 10.25l3.031 2.496M11.42 15.17L10.25 10.25"})}),Qv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),nm=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),A2=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75v4.5m0-4.5h-4.5m4.5 0L15 9m5.25 11.25v-4.5m0 4.5h-4.5m4.5 0L15 15"})}),ey=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),ty=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM10.5 7.5v6m3-3h-6"})}),ny=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"})}),iy=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),im=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 005.85 15H5.25v-3.75c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V15h-.094c-.24-.034-.48-.066-.72-.096A2.25 2.25 0 016.72 13.83zM19.5 12c0-1.036-.84-1.875-1.875-1.875L17.25 9V6.75A2.25 2.25 0 0015 4.5h-6a2.25 2.25 0 00-2.25 2.25V9l.375 1.125L12 12m0 0V9.75M12 12H6.75m5.25 0H17.25m0 0l2.25-2.25M15 12H9m6 0l2.25 2.25m0 0l2.25 2.25M12 12l-2.25 2.25M12 12l2.25-2.25M12 12l-2.25-2.25M6 12l-2.25 2.25"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 4.5H9a2.25 2.25 0 00-2.25 2.25V7.5h9V6.75A2.25 2.25 0 0015 4.5z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 16.5v3A2.25 2.25 0 0117.25 21H6.75A2.25 2.25 0 014.5 18.75v-3"})]}),rm=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),ry=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h.008v.008H8.25v-.008z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 18.75m-2.25 0a2.25 2.25 0 002.25-2.25A2.25 2.25 0 0010.5 14m0 4.5V16.5m2.25-2.25a2.25 2.25 0 00-2.25-2.25M16.5 13.5V18m2.25-4.5a2.25 2.25 0 00-2.25-2.25M19.5 14.25v2.625a3.375 3.375 0 01-3.375 3.375H5.25A3.375 3.375 0 011.5 16.875V7.125A3.375 3.375 0 014.875 3.75h4.875a3.375 3.375 0 013.375 3.375V11.25"})]}),ts=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),ay=r=>{const e=r.split(/\r\n|\n/).filter(o=>o.trim()!=="");if(e.length<2)return[];const t=e[0].split(",").map(o=>o.trim()),i=[];for(let o=1;o<e.length;o++){const s=e[o].split(","),u={};t.forEach((f,d)=>{u[f.trim()]=s[d]?s[d].trim():""}),i.push(u)}return i},oy=r=>r.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`),yg=r=>r.replace(/[^a-z0-9_.-]/gi,"_").toLowerCase(),C2=(r,e)=>{if(!r||r.length===0)return"";let t,i;e&&ff[e]?(t=ff[e],i=t.map(u=>{let f=u.replace(/_([a-z0-9])/g,d=>d[1].toUpperCase());return(e==="contractors"&&u==="contractor_id"||e==="tasks"&&u==="task_entry_id")&&(f="id"),f})):(i=Object.keys(r[0]),t=i.map(oy));const o=t.join(","),s=r.map(u=>i.map(f=>{let d=u[f];return d==null&&(d=""),typeof d=="boolean"&&(d=d?"true":"false"),typeof d=="string"&&(d.includes(",")||d.includes('"')||d.includes(`
`))?`"${d.replace(/"/g,'""')}"`:d}).join(","));return[o,...s].join(`\r
`)},am=(r,e,t)=>{if(!r||r.length===0){alert("No hay datos para exportar.");return}try{const i=C2(r,t);if(i){const o=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(o),u=document.createElement("a");u.href=s;let f="listado";t?f=`listado_${yg(t)}`:e&&(f=yg(e.split(":")[0]==="Listado"&&e.split(":")[1]?e.split(":")[1].trim():e)),u.download=`${f}_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s)}else alert("No se pudo generar el archivo CSV.")}catch(i){console.error("Error al descargar CSV:",i),alert(`Error al descargar CSV: ${i.message}`)}},bg=(r,e)=>{const t=ay(r),i=ff[e];return!i||i.length===0?(console.warn(`No CSV headers for entity type: ${e}. Skipping.`),[]):t.map(s=>{const u={};let f=!1;for(const p of i){if(s[p]===void 0||s[p]===null||s[p]==="")continue;let b=s[p],x=p.replace(/_([a-z0-9])/g,L=>L[1].toUpperCase()),C=!1;(p==="id"||e==="contractors"&&p==="contractor_id"||e==="tasks"&&p==="task_entry_id"||e==="taskMachineryLinks"&&p==="task_machinery_link_id"||e==="taskPersonnelLinks"&&p==="task_personnel_link_id"||e==="taskInsumeLinks"&&p==="task_insume_link_id")&&(C=!0),C&&(x="id",u[x]=String(b),f=!0);const _={clients:["area"],users:[],contractors:[],personnel:[],machineries:["year"],fields:["area"],lots:["area"],parcels:["area"],campaigns:[],tasksList:[],productsInsumes:[],tasks:["durationHours","costEstimated","costActual"],taskMachineryLinks:["hoursUsed"],taskPersonnelLinks:["hoursWorked"],taskInsumeLinks:["quantityUsed"],userAccess:[]};_[e]&&_[e].includes(x)&&(b=parseFloat(String(b)),isNaN(b)&&(b=void 0));const T={clients:[],users:[],contractors:["isInternal"],personnel:[],machineries:[],fields:[],lots:[],parcels:[],campaigns:[],tasksList:[],productsInsumes:[],tasks:[],taskMachineryLinks:[],taskPersonnelLinks:[],taskInsumeLinks:[],userAccess:["accessTotal"]};T[e]&&T[e].includes(x)&&(b=String(b).toLowerCase()==="true"),b!==void 0&&(C||(u[x]=b))}return!f&&!u.id&&(u.id=ts()),Object.keys(u).filter(p=>p==="id"&&!f?!1:u[p]!==void 0&&u[p]!==null&&String(u[p]).trim()!=="").length>0?u:null}).filter(s=>s!==null)},Gu=r=>{const e=[];let t=0;const i=/(\*\*(.*?)\*\*|__(.*?)__)|(\*(.*?)\*|_([^_]+)_)|(`(.*?)`)/g;let o;for(;(o=i.exec(r))!==null;){const s=o.index,[u,f,d,p,b,x,C,_,T,L,R]=o;s>t&&e.push(r.substring(t,s)),f||p?e.push(Y.jsx("strong",{children:d||b},s)):x||_?e.push(Y.jsx("em",{children:C||T},s)):L&&e.push(Y.jsx("code",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-sm font-mono",children:R},s)),t=s+u.length}return t<r.length&&e.push(r.substring(t)),e.filter(s=>typeof s!="string"||s.length>0)},sy=({markdownText:r})=>{const e=r.split(`
`),t=[];let i=null,o=[];const s=()=>{i&&o.length>0&&(i==="ul"?t.push(Y.jsx("ul",{className:"list-disc list-inside my-2 ml-4 space-y-1 text-sm",children:o},`ul-${t.length}`)):i==="ol"&&t.push(Y.jsx("ol",{className:"list-decimal list-inside my-2 ml-4 space-y-1 text-sm",children:o},`ol-${t.length}`))),o=[],i=null};return e.forEach((u,f)=>{const d=u.match(/^###\s+(.*)/);if(d){s(),t.push(Y.jsx("h3",{className:"text-md font-semibold my-1 text-gray-700 dark:text-gray-200",children:Gu(d[1])},f));return}const p=u.match(/^##\s+(.*)/);if(p){s(),t.push(Y.jsx("h2",{className:"text-lg font-semibold my-2 text-gray-700 dark:text-gray-200",children:Gu(p[1])},f));return}const b=u.match(/^#\s+(.*)/);if(b){s(),t.push(Y.jsx("h1",{className:"text-xl font-semibold my-3 text-gray-700 dark:text-gray-200",children:Gu(b[1])},f));return}const x=u.match(/^[\*\-]\s+(.*)/);if(x){i!=="ul"&&(s(),i="ul"),o.push(Y.jsx("li",{children:Gu(x[1])},`${i}-li-${f}`));return}const C=u.match(/^\d+\.\s+(.*)/);if(C){i!=="ol"&&(s(),i="ol"),o.push(Y.jsx("li",{children:Gu(C[1])},`${i}-li-${f}`));return}s(),u.trim()!==""?t.push(Y.jsx("p",{className:"my-1 text-sm",children:Gu(u)},f)):t.length>0&&t[t.length-1]!==`
`&&t.push(`
`)}),s(),Y.jsx(Y.Fragment,{children:t.map((u,f)=>u===`
`&&f<t.length-1?Y.jsx("br",{},`br-${f}`):u)})},Hl=r=>r==null||String(r).toUpperCase()==="NULL"?"Sin Datos":String(r),ly=r=>{const e=[];if(r.name)e.push(`${Hr.name}: ${Hl(r.name)}`);else if(r.taskName)e.push(`${Hr.taskName}: ${Hl(r.taskName)}`);else if(r.description){const i=Hl(r.description);e.push(`${Hr.description}: ${i.substring(0,50)}${i.length>50?"...":""}`)}return r.id&&(e.length===0||Object.keys(r).length<=2)&&(e.some(i=>i.toLowerCase().includes("nombre:")||i.toLowerCase().includes("tarea:"))||e.push(`${Hr.id}: ${Hl(r.id)}`)),["type","status","crop","area","availability","role"].forEach(i=>{r[i]!==void 0&&r[i]!==null&&!e.some(o=>o.toLowerCase().startsWith((Hr[i]||i).toLowerCase()+":"))&&e.push(`${Hr[i]||i}: ${Hl(r[i])}`)}),e.length===0?Object.entries(r).filter(([i,o])=>i!=="id"&&o!==null&&o!==void 0&&String(o).toUpperCase()!=="NULL").slice(0,2).map(([i,o])=>`${Hr[i]||i}: ${Hl(o)}`).join(" | ")||`${Hr.id}: ${Hl(r.id)||"N/A"}`:e.slice(0,3).join(" | ")},xg=({message:r,onViewFullScreen:e})=>{const t=r.sender==="user",i=r.sender==="system",o=r.sender==="ai",s=Qe.useRef(new Map),u=t?"bg-green-600 text-white self-end rounded-l-xl rounded-tr-xl":i?"bg-gray-500 dark:bg-gray-600 text-gray-100 dark:text-gray-300 self-center text-xs italic px-3 py-1 rounded-full":"bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-gray-200 self-start rounded-r-xl rounded-tl-xl",f=t?Zv:o?$v:Xv,d=t?"bg-green-500":o?"bg-blue-500":"",p=_=>{am(_.items,_.groupTitle,_.entityType)},b=_=>{e({title:_.groupTitle,items:_.items,entityType:_.entityType})},x=(_,T)=>{let L="";const R=_.querySelector("h4"),E=_.querySelector("ul");if(R&&(L+=`<h4>${R.innerText}</h4>`),E){const D=E.cloneNode(!0);D.querySelectorAll('.no-print-in-section, button, [aria-hidden="true"]').forEach(V=>V.remove()),D.querySelectorAll("li").forEach(V=>{const J=V.innerText||V.textContent||"";V.innerHTML=J.trim().replace(/\n\s*\n/g,`
`)}),L+=D.outerHTML}else{const D=document.createElement("div");D.innerHTML=_.innerHTML,D.querySelectorAll('.no-print-in-section, button, [aria-hidden="true"], h4').forEach(V=>V.remove()),L+=D.innerHTML.trim()}return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${T}</title>
          
      <style>
        body { font-family: 'Inter', sans-serif; margin: 20px; color: #333; }
        h1.print-page-title { font-size: 16pt; text-align: center; margin-bottom: 15px; color: black !important; }
        h4 { font-size: 11pt; margin-bottom: 8px; color: black !important; font-weight: bold; }
        ul { list-style-type: none; padding-left: 0; margin-top: 5px; font-size: 9pt; }
        li { margin-bottom: 6px; padding: 4px; border: 1px solid #eee; border-radius: 3px; color: black !important; page-break-inside: avoid; background-color: #f9f9f9; }
        .no-print-in-section { display: none !important; }
        .dark\\:bg-gray-800, .dark\\:bg-gray-700, .dark\\:bg-gray-600, .dark\\:bg-gray-500 { background-color: white !important; }
        .dark\\:text-gray-100, .dark\\:text-gray-200, .dark\\:text-gray-300, .dark\\:text-gray-400, .dark\\:text-yellow-300, .dark\\:text-yellow-600 { color: black !important; }
        .dark\\:border-gray-500, .dark\\:border-gray-400 { border-color: #ccc !important; }
        .dark\\:bg-gray-100 { background-color: #f0f0f0 !important; } /* For li items in dark mode */

        /* Markdown specific print styles */
        .markdown-content h1, .markdown-content h2, .markdown-content h3 { color: black !important; margin-top: 0.5em; margin-bottom: 0.25em; }
        .markdown-content h1 { font-size: 14pt; }
        .markdown-content h2 { font-size: 12pt; }
        .markdown-content h3 { font-size: 10pt; }
        .markdown-content p { margin-bottom: 0.5em; font-size: 9pt; line-height: 1.4; color: black !important;}
        .markdown-content ul, .markdown-content ol { margin-left: 20px; margin-bottom: 0.5em; font-size: 9pt; color: black !important;}
        .markdown-content li { margin-bottom: 0.2em; border: none; background-color: transparent; padding: 0; color: black !important;}
        .markdown-content code { font-family: monospace; background-color: #f0f0f0; padding: 1px 3px; border-radius: 3px; font-size: 8.5pt; color: black !important;}
        .markdown-content pre { background-color: #f0f0f0; padding: 0.5em; border-radius: 3px; overflow-x: auto; font-size: 8.5pt; color: black !important; page-break-inside: avoid; }
        .markdown-content pre code { background-color: transparent; padding: 0; }
        .markdown-content strong { font-weight: bold; color: black !important;}
        .markdown-content em { font-style: italic; color: black !important;}
      </style>
    
        </head>
        <body>
          <h1 class="print-page-title">${T}</h1>
          <div class="markdown-content">
             ${L}
          </div>
        </body>
      </html>
    `},C=(_,T)=>{var D;const L=s.current.get(_);if(!L){console.error("Content element for printing not found for group index:",_),alert("No se pudo encontrar el contenido para imprimir.");return}const R=x(L,T);if(!R||R.includes("<body></body>")){console.error("Generated printable HTML is empty or malformed for:",T),alert("No se pudo generar el contenido para la impresión. Intente de nuevo.");return}const E=document.createElement("iframe");E.style.position="absolute",E.style.width="0",E.style.height="0",E.style.border="0",E.style.zIndex="99999",E.setAttribute("title","Contenido de Impresión"),E.setAttribute("aria-hidden","true"),document.body.appendChild(E);let k=null;try{const V=(D=E.contentWindow)==null?void 0:D.document;if(!V)throw new Error("Could not access iframe document.");V.open(),V.write(R),V.close(),k=window.setTimeout(()=>{document.body.contains(E)&&(console.warn("iframe onload fallback: Removing print frame for",T),document.body.removeChild(E))},3e3),E.onload=()=>{k&&clearTimeout(k);try{if(E.contentWindow)E.contentWindow.focus(),setTimeout(()=>{var J;try{(J=E.contentWindow)==null||J.print()}catch(ee){console.error(`Error during print() call for ${T}:`,ee),alert(`Ocurrió un error al invocar la impresión: ${ee.message}`)}finally{setTimeout(()=>{document.body.contains(E)&&document.body.removeChild(E)},1e3)}},100);else throw new Error("iframe contentWindow is not available after load.")}catch(J){console.error(`Error during print operation for ${T}:`,J),alert(`Ocurrió un error al intentar imprimir: ${J.message}`),setTimeout(()=>{document.body.contains(E)&&document.body.removeChild(E)},500)}}}catch(V){console.error(`Error setting up iframe for print (${T}):`,V),alert(`Error al preparar la impresión: ${V.message}`),k&&clearTimeout(k),document.body.contains(E)&&document.body.removeChild(E)}};return Y.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} w-full`,children:Y.jsxs("div",{className:`flex items-start max-w-[85%] md:max-w-[75%] ${t?"flex-row-reverse":"flex-row"}`,children:[!i&&Y.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center text-white ${d} ${t?"ml-2":"mr-2"} no-print`,children:Y.jsx(f,{className:"h-5 w-5"})}),Y.jsxs("div",{className:`p-3 shadow-md ${u} ${i?"":"min-w-[100px]"}`,children:[r.isLoading&&Y.jsxs("div",{className:"flex items-center",children:[Y.jsx(nm,{className:"h-5 w-5 animate-spin mr-2"}),Y.jsx("span",{children:"Procesando..."})]}),!r.isLoading&&r.isError&&Y.jsxs("div",{className:"flex items-center text-red-600 dark:text-red-300",children:[Y.jsx(Qv,{className:"h-5 w-5 mr-2"}),Y.jsx("span",{children:r.text})]}),!r.isLoading&&!r.isError&&Y.jsxs(Y.Fragment,{children:[o&&r.actionType==="HELP"?Y.jsx(sy,{markdownText:r.text}):Y.jsx("p",{className:"whitespace-pre-wrap break-words text-sm",children:r.text}),o&&r.groupedData&&r.groupedData.length>0&&Y.jsx("div",{className:"mt-3 pt-2 border-t border-gray-400 dark:border-gray-500 space-y-2",children:r.groupedData.map((_,T)=>Y.jsxs("div",{className:"p-2 bg-gray-200 dark:bg-gray-600 rounded-md",ref:L=>{L?s.current.set(T,L):s.current.delete(T)},children:[Y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[Y.jsxs("h4",{className:"font-semibold text-xs text-yellow-600 dark:text-yellow-300",children:[_.groupTitle,typeof _.count=="number"?` (${_.count} encontrado${_.count===1?"":"s"})`:` (${_.items.length} encontrado${_.items.length===1?"":"s"})`]}),_.items.length>0&&Y.jsxs("div",{className:"flex space-x-1 no-print-in-section",children:[Y.jsx("button",{onClick:()=>p(_),title:"Descargar CSV",className:"p-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full text-xs","aria-label":"Descargar lista como CSV",children:Y.jsx(rm,{className:"h-3 w-3"})}),Y.jsx("button",{onClick:()=>b(_),title:"Ver en Pantalla Completa",className:"p-1 bg-indigo-500 hover:bg-indigo-600 text-white rounded-full text-xs","aria-label":"Ver lista en pantalla completa",children:Y.jsx(A2,{className:"h-3 w-3"})}),Y.jsx("button",{onClick:()=>C(T,`Impresión: ${_.groupTitle}`),title:"Imprimir Lista",className:"p-1 bg-gray-500 hover:bg-gray-600 text-white rounded-full text-xs","aria-label":"Imprimir lista",children:Y.jsx(im,{className:"h-3 w-3"})})]})]}),_.items.length>0?Y.jsxs("ul",{className:"list-none space-y-1 text-xs max-h-40 overflow-y-auto",children:[_.items.slice(0,5).map((L,R)=>Y.jsx("li",{className:"p-1.5 bg-gray-100 dark:bg-gray-500 rounded text-gray-700 dark:text-gray-100",children:ly(L)},L.id||R)),_.items.length>5&&Y.jsxs("li",{className:"p-1.5 text-center text-gray-500 dark:text-gray-400 italic",children:["...y ",_.items.length-5," más (ver en pantalla completa)."]})]}):Y.jsx("p",{className:"text-xs italic text-gray-500 dark:text-gray-400",children:"No hay elementos en este grupo."})]},T))})]}),r.rawLLMResponse&&o&&Y.jsxs("details",{className:"mt-2 text-xs no-print",children:[Y.jsx("summary",{className:"cursor-pointer text-gray-600 dark:text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:"Ver respuesta LLM completa"}),Y.jsx("pre",{className:"mt-1 p-2 bg-gray-50 dark:bg-gray-800 rounded text-gray-700 dark:text-gray-300 text-xs overflow-x-auto max-h-60",children:r.rawLLMResponse})]})]})]})})},_g=80,wg=3e3,uy=500,cy=Qe.forwardRef(({messages:r,onSendMessage:e,isLoading:t,onBeforeStartRecording:i,onViewFullScreen:o},s)=>{var ye;const[u,f]=Qe.useState(""),d=Qe.useRef(null),[p,b]=Qe.useState(!1),x=Qe.useRef(null),C=Qe.useRef([]),[_,T]=Qe.useState(null),L=Qe.useRef(null),R=Qe.useRef(null),E=Qe.useRef(null),k=Qe.useRef(null),D=Qe.useRef(null),V=Qe.useRef(null),J=Qe.useRef(null),ee=Qe.useCallback(()=>{var F;D.current&&clearInterval(D.current),V.current&&clearTimeout(V.current),D.current=null,V.current=null,(F=k.current)==null||F.disconnect(),R.current&&R.current.state!=="closed"&&R.current.close().catch(K=>console.error("Error closing AudioContext:",K)),R.current=null,E.current=null,k.current=null},[]),G=Qe.useCallback(()=>{var O;if(!E.current||!x.current||x.current.state!=="recording"){((O=x.current)==null?void 0:O.state)!=="recording"&&ee();return}const F=E.current.frequencyBinCount,K=new Uint8Array(F);E.current.getByteFrequencyData(K);const ie=K.length>0?Math.max(...K):0;console.log(`Max audio level detected: ${ie}, Current SILENCE_THRESHOLD: ${_g}`),K.every(ce=>ce<_g)?V.current||(V.current=window.setTimeout(()=>{console.log(`Silence detected for ${wg/1e3} seconds, stopping recording.`),x.current&&x.current.state==="recording"&&x.current.stop()},wg)):V.current&&(clearTimeout(V.current),V.current=null)},[ee]),z=async()=>{if(!p)try{const F=await navigator.mediaDevices.getUserMedia({audio:!0});J.current=F,T(null),x.current=new MediaRecorder(F),C.current=[],R.current=new(window.AudioContext||window.webkitAudioContext),E.current=R.current.createAnalyser(),E.current.fftSize=2048,k.current=R.current.createMediaStreamSource(F),k.current.connect(E.current),D.current=window.setInterval(G,uy),x.current.ondataavailable=K=>{C.current.push(K.data)},x.current.onstop=async()=>{var ae;if(ee(),J.current&&(J.current.getTracks().forEach(O=>O.stop()),J.current=null),C.current.length===0){console.warn("Recording stopped with no audio data."),b(!1);return}const K=new Blob(C.current,{type:((ae=x.current)==null?void 0:ae.mimeType)||"audio/webm"}),ie=new FileReader;ie.onloadend=async()=>{const O=ie.result.split(",")[1];await e("Comando de voz grabado (procesando...)",O,K.type)},ie.readAsDataURL(K),b(!1)},x.current.start(),b(!0)}catch(F){console.error("Error accessing microphone or starting recording:",F),T("No se pudo acceder al micrófono. Verifica los permisos."),ee(),J.current&&(J.current.getTracks().forEach(K=>K.stop()),J.current=null),b(!1)}},re=()=>{x.current&&x.current.state==="recording"?x.current.stop():(ee(),J.current&&(J.current.getTracks().forEach(F=>F.stop()),J.current=null),b(!1))};Qe.useImperativeHandle(s,()=>({triggerStartRecording:()=>{p||(i&&i(),z())},triggerStopRecording:()=>{p&&re()}})),Qe.useEffect(()=>()=>{re()},[]);const se=()=>{var F;(F=d.current)==null||F.scrollIntoView({behavior:"smooth"})};Qe.useEffect(se,[r]);const U=F=>{f(F.target.value),F.target.style.height="auto",F.target.style.height=`${Math.min(F.target.scrollHeight,160)}px`},I=async()=>{u.trim()!==""&&(p&&re(),await e(u.trim()),f(""),L.current&&(L.current.style.height="auto"))},te=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),I())},ne=()=>{p?re():(i&&i(),z())};return Y.jsxs("div",{className:"flex flex-col h-full w-full shadow-xl dark:border-gray-700 bg-transition",style:{backgroundImage:"url('/images/Asistente_Virtual_IA.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[Y.jsxs("div",{className:"flex-1 p-4 md:p-6 space-y-4 overflow-y-auto min-h-0",children:[r.map(F=>Y.jsx(xg,{message:F,onViewFullScreen:o},F.id)),t&&((ye=r[r.length-1])==null?void 0:ye.sender)!=="ai"&&Y.jsx(xg,{message:{id:"loading-indicator",sender:"ai",text:"Procesando...",timestamp:new Date,isLoading:!0},onViewFullScreen:o},"loading-indicator"),Y.jsx("div",{ref:d})]}),_&&Y.jsx("p",{className:"text-red-500 bg-white dark:bg-gray-800 bg-opacity-80 dark:bg-opacity-80 p-1 rounded text-xs px-4 md:px-6 pb-2",children:_}),Y.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 bg-opacity-90 dark:bg-opacity-90 p-3 md:p-4 border-t border-gray-300 dark:border-gray-600 bg-transition",children:Y.jsxs("div",{className:"flex items-end space-x-2",children:[Y.jsx("textarea",{ref:L,value:u,onChange:U,onKeyPress:te,placeholder:"Escribe tu comando o pregunta...",className:"flex-1 p-3 bg-white dark:bg-gray-600 text-gray-800 dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none resize-none overflow-hidden min-h-[44px] max-h-40",rows:1,"aria-label":"Campo de entrada de mensajes"}),Y.jsx("button",{onClick:ne,disabled:t&&!p,className:`p-3 rounded-full transition-colors ${p?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-blue-500 hover:bg-blue-600"} text-white disabled:opacity-50`,title:p?"Detener grabación":"Grabar voz","aria-label":p?"Detener grabación de voz":"Iniciar grabación de voz",children:p?Y.jsx(Kv,{className:"h-5 w-5"}):Y.jsx(Jv,{className:"h-5 w-5"})}),Y.jsx("button",{onClick:I,disabled:t||u.trim()==="",className:"bg-green-500 hover:bg-green-600 text-white p-3 rounded-full transition-colors disabled:opacity-50",title:"Enviar mensaje","aria-label":"Enviar mensaje",children:t&&!p?Y.jsx(nm,{className:"h-5 w-5 animate-spin"}):Y.jsx(Wv,{className:"h-5 w-5"})})]})}),Y.jsxs("footer",{className:"bg-gray-100 dark:bg-gray-900 bg-opacity-90 dark:bg-opacity-90 p-2 border-t border-gray-300 dark:border-gray-700 text-center text-xs text-gray-600 dark:text-gray-400",children:[Y.jsx("span",{children:"Instagram: @lawertechnology"})," |",Y.jsx("a",{href:"mailto:lawertechnology@gmail.com",className:"hover:text-green-500 dark:hover:text-green-400 transition-colors px-1",children:"Email: lawertechnology@gmail.com"})," |",Y.jsx("a",{href:"https://drive.google.com/drive/folders/1kwIgpwTdERhLveb97XGz-Epb1sqdP0HD?usp=drive_link",target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-500 dark:hover:text-green-400 transition-colors px-1",children:"Manual de FarmerChat"})]})]})}),ns=["clients","users","contractors","personnel","machineries","fields","lots","parcels","campaigns","tasksList","productsInsumes","tasks","taskMachineryLinks","taskPersonnelLinks","taskInsumeLinks","userAccess"],Sg=r=>r==null||String(r).toUpperCase()==="NULL"?"Sin Datos":typeof r=="object"?JSON.stringify(r,null,2):String(r),Ag=({items:r,defaultExpanded:e=!1})=>{const[t,i]=Qe.useState(()=>e?r.reduce((d,p,b)=>({...d,[b]:!0}),{}):{});if(!r||r.length===0)return Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No hay elementos para mostrar."});const o=d=>{i(p=>({...p,[d]:!p[d]}))},s=r.reduce((d,p)=>(Object.keys(p).forEach(b=>{d.includes(b)||d.push(b)}),d),[]),u=["name","taskName","description","id","type","status","category","unit","role","availability","crop","area","location","model","year","startDate","endDate","startDateTime","endDateTime","durationHours","contactPerson","phone","email","address","isInternal","clientId","contractorId","fieldId","lotId","parcelId","campaignId","tasksListId","createdByUserId","taskId","machineryId","personnelId","productInsumeId","userId","costEstimated","costActual","resultDescription","notes","creationTimestamp","additionalInfo","machineryIds","personnelIds","productInsumeDetails","quantityUsed","unitUsed","hoursUsed","hoursWorked","roleInTask","applicationDetails","accessTotal"],f=[...new Set([...u.filter(d=>s.includes(d)),...s])];return Y.jsx("div",{className:"space-y-2 text-xs",children:r.map((d,p)=>{var b;return Y.jsxs("div",{className:"bg-gray-200 dark:bg-gray-600 p-2 rounded shadow",children:[Y.jsxs("button",{onClick:()=>o(p),className:"w-full text-left flex justify-between items-center hover:bg-gray-300 dark:hover:bg-gray-500 p-1 rounded","aria-expanded":t[p],"aria-controls":`details-${d.id||p}`,children:[Y.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100 truncate pr-2",children:d.name||d.taskName||((b=Sg(d.description))==null?void 0:b.substring(0,40))||d.id||`Elemento ${p+1}`}),Y.jsx("span",{className:`transform transition-transform text-gray-600 dark:text-gray-400 ${t[p]?"rotate-180":"rotate-0"}`,children:"▼"})]}),t[p]&&Y.jsx("div",{id:`details-${d.id||p}`,className:"mt-1 pt-1 border-t border-gray-300 dark:border-gray-500",children:f.map(x=>{const C=d[x];if(C===void 0)return null;const _=Sg(C),T=Hr[x]||x.replace(/([A-Z])/g," $1").replace(/_/g," ");return typeof C=="object"&&C!==null&&_!=="Sin Datos"?Y.jsxs("div",{className:"grid grid-cols-3 gap-1 py-0.5",children:[Y.jsxs("strong",{className:"col-span-1 text-gray-600 dark:text-gray-300 capitalize",children:[T,":"]}),Y.jsx("pre",{className:"col-span-2 text-gray-700 dark:text-gray-100 bg-gray-100 dark:bg-gray-500 p-1 rounded text-xs overflow-x-auto",children:_})]},x):Y.jsxs("div",{className:"grid grid-cols-3 gap-1 py-0.5",children:[Y.jsxs("strong",{className:"col-span-1 text-gray-600 dark:text-gray-300 capitalize",children:[T,":"]}),Y.jsx("span",{className:"col-span-2 text-gray-700 dark:text-gray-100 break-words",children:_})]},x)})})]},d.id||p)})})},T2=({items:r,columnOrder:e,formatValueFunction:t,formatHeaderFunction:i})=>!r||r.length===0?Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic p-2",children:"No hay datos para mostrar en la tabla."}):Y.jsx("div",{className:"overflow-x-auto bg-gray-200 dark:bg-gray-650 rounded-md shadow",children:Y.jsxs("table",{className:"min-w-full text-xs text-left text-gray-700 dark:text-gray-300 table-auto",children:[" ",Y.jsxs("thead",{className:"bg-gray-300 dark:bg-gray-700 sticky top-0 z-10",children:[" ",Y.jsx("tr",{children:e.map(o=>Y.jsxs("th",{scope:"col",className:"px-3 py-2 font-medium tracking-wider",children:[" ",i(o)]},o))})]}),Y.jsx("tbody",{className:"bg-gray-100 dark:bg-gray-600 divide-y divide-gray-300 dark:divide-gray-500",children:r.map((o,s)=>Y.jsx("tr",{className:"hover:bg-gray-200 dark:hover:bg-gray-550 transition-colors",children:e.map(u=>Y.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t(o[u])},`${o.id||s}-${u}`))},o.id||s))})]})}),fy="modulepreload",dy=function(r){return"/Agro_Aereo_Roberts/"+r},Cg={},Sp=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(t.map(p=>{if(p=dy(p),p in Cg)return;Cg[p]=!0;const b=p.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const C=document.createElement("link");if(C.rel=b?"stylesheet":fy,b||(C.as="script"),C.crossOrigin="",C.href=p,d&&C.setAttribute("nonce",d),document.head.appendChild(C),b)return new Promise((_,T)=>{C.addEventListener("load",_),C.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})};function Nn(r){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(r)}var Nr=Uint8Array,hr=Uint16Array,df=Uint32Array,Ud=new Nr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fd=new Nr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ap=new Nr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N2=function(r,e){for(var t=new hr(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var o=new df(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)o[s]=s-t[i]<<5|i;return[t,o]},E2=N2(Ud,2),L2=E2[0],Cp=E2[1];L2[28]=258,Cp[258]=28;var M2=N2(Fd,0),hy=M2[0],Tg=M2[1],Tp=new hr(32768);for(var qn=0;qn<32768;++qn){var Js=(qn&43690)>>>1|(qn&21845)<<1;Js=(Js&52428)>>>2|(Js&13107)<<2,Js=(Js&61680)>>>4|(Js&3855)<<4,Tp[qn]=((Js&65280)>>>8|(Js&255)<<8)>>>1}var bo=function(r,e,t){for(var i=r.length,o=0,s=new hr(e);o<i;++o)++s[r[o]-1];var u=new hr(e);for(o=0;o<e;++o)u[o]=u[o-1]+s[o-1]<<1;var f;if(t){f=new hr(1<<e);var d=15-e;for(o=0;o<i;++o)if(r[o])for(var p=o<<4|r[o],b=e-r[o],x=u[r[o]-1]++<<b,C=x|(1<<b)-1;x<=C;++x)f[Tp[x]>>>d]=p}else for(f=new hr(i),o=0;o<i;++o)f[o]=Tp[u[r[o]-1]++]>>>15-r[o];return f},tl=new Nr(288);for(var qn=0;qn<144;++qn)tl[qn]=8;for(var qn=144;qn<256;++qn)tl[qn]=9;for(var qn=256;qn<280;++qn)tl[qn]=7;for(var qn=280;qn<288;++qn)tl[qn]=8;var hf=new Nr(32);for(var qn=0;qn<32;++qn)hf[qn]=5;var py=bo(tl,9,0),my=bo(tl,9,1),gy=bo(hf,5,0),vy=bo(hf,5,1),ip=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Ra=function(r,e,t){var i=e/8>>0;return(r[i]|r[i+1]<<8)>>>(e&7)&t},rp=function(r,e){var t=e/8>>0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>>(e&7)},om=function(r){return(r/8>>0)+(r&7&&1)},k2=function(r,e,t){(t==null||t>r.length)&&(t=r.length);var i=new(r instanceof hr?hr:r instanceof df?df:Nr)(t-e);return i.set(r.subarray(e,t)),i},yy=function(r,e,t){var i=r.length,o=!e||t,s=!t||t.i;t||(t={}),e||(e=new Nr(i*3));var u=function(ue){var we=e.length;if(ue>we){var xe=new Nr(Math.max(we*2,ue));xe.set(e),e=xe}},f=t.f||0,d=t.p||0,p=t.b||0,b=t.l,x=t.d,C=t.m,_=t.n,T=i*8;do{if(!b){t.f=f=Ra(r,d,1);var L=Ra(r,d+1,3);if(d+=3,L)if(L==1)b=my,x=vy,C=9,_=5;else if(L==2){var D=Ra(r,d,31)+257,V=Ra(r,d+10,15)+4,J=D+Ra(r,d+5,31)+1;d+=14;for(var ee=new Nr(J),G=new Nr(19),z=0;z<V;++z)G[Ap[z]]=Ra(r,d+z*3,7);d+=V*3;var re=ip(G),se=(1<<re)-1;if(!s&&d+J*(re+7)>T)break;for(var U=bo(G,re,1),z=0;z<J;){var I=U[Ra(r,d,se)];d+=I&15;var R=I>>>4;if(R<16)ee[z++]=R;else{var te=0,ne=0;for(R==16?(ne=3+Ra(r,d,3),d+=2,te=ee[z-1]):R==17?(ne=3+Ra(r,d,7),d+=3):R==18&&(ne=11+Ra(r,d,127),d+=7);ne--;)ee[z++]=te}}var ye=ee.subarray(0,D),F=ee.subarray(D);C=ip(ye),_=ip(F),b=bo(ye,C,1),x=bo(F,_,1)}else throw"invalid block type";else{var R=om(d)+4,E=r[R-4]|r[R-3]<<8,k=R+E;if(k>i){if(s)throw"unexpected EOF";break}o&&u(p+E),e.set(r.subarray(R,k),p),t.b=p+=E,t.p=d=k*8;continue}if(d>T)throw"unexpected EOF"}o&&u(p+131072);for(var K=(1<<C)-1,ie=(1<<_)-1,ae=C+_+18;s||d+ae<T;){var te=b[rp(r,d)&K],O=te>>>4;if(d+=te&15,d>T)throw"unexpected EOF";if(!te)throw"invalid length/literal";if(O<256)e[p++]=O;else if(O==256){b=null;break}else{var ce=O-254;if(O>264){var z=O-257,M=Ud[z];ce=Ra(r,d,(1<<M)-1)+L2[z],d+=M}var j=x[rp(r,d)&ie],X=j>>>4;if(!j)throw"invalid distance";d+=j&15;var F=hy[X];if(X>3){var M=Fd[X];F+=rp(r,d)&(1<<M)-1,d+=M}if(d>T)throw"unexpected EOF";o&&u(p+131072);for(var le=p+ce;p<le;p+=4)e[p]=e[p-F],e[p+1]=e[p+1-F],e[p+2]=e[p+2-F],e[p+3]=e[p+3-F];p=le}}t.l=b,t.p=d,t.b=p,b&&(f=1,t.m=C,t.d=x,t.n=_)}while(!f);return p==e.length?e:k2(e,0,p)},es=function(r,e,t){t<<=e&7;var i=e/8>>0;r[i]|=t,r[i+1]|=t>>>8},Xc=function(r,e,t){t<<=e&7;var i=e/8>>0;r[i]|=t,r[i+1]|=t>>>8,r[i+2]|=t>>>16},ap=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var o=t.length,s=t.slice();if(!o)return[new Nr(0),0];if(o==1){var u=new Nr(t[0].s+1);return u[t[0].s]=1,[u,1]}t.sort(function(J,ee){return J.f-ee.f}),t.push({s:-1,f:25001});var f=t[0],d=t[1],p=0,b=1,x=2;for(t[0]={s:-1,f:f.f+d.f,l:f,r:d};b!=o-1;)f=t[t[p].f<t[x].f?p++:x++],d=t[p!=b&&t[p].f<t[x].f?p++:x++],t[b++]={s:-1,f:f.f+d.f,l:f,r:d};for(var C=s[0].s,i=1;i<o;++i)s[i].s>C&&(C=s[i].s);var _=new hr(C+1),T=Np(t[b-1],_,0);if(T>e){var i=0,L=0,R=T-e,E=1<<R;for(s.sort(function(ee,G){return _[G.s]-_[ee.s]||ee.f-G.f});i<o;++i){var k=s[i].s;if(_[k]>e)L+=E-(1<<T-_[k]),_[k]=e;else break}for(L>>>=R;L>0;){var D=s[i].s;_[D]<e?L-=1<<e-_[D]++-1:++i}for(;i>=0&&L;--i){var V=s[i].s;_[V]==e&&(--_[V],++L)}T=e}return[new Nr(_),T]},Np=function(r,e,t){return r.s==-1?Math.max(Np(r.l,e,t+1),Np(r.r,e,t+1)):e[r.s]=t},Ng=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new hr(++e),i=0,o=r[0],s=1,u=function(d){t[i++]=d},f=1;f<=e;++f)if(r[f]==o&&f!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(o),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(o);s=1,o=r[f]}return[t.subarray(0,i),e]},Qc=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},Ep=function(r,e,t){var i=t.length,o=om(e+2);r[o]=i&255,r[o+1]=i>>>8,r[o+2]=r[o]^255,r[o+3]=r[o+1]^255;for(var s=0;s<i;++s)r[o+s+4]=t[s];return(o+4+i)*8},Eg=function(r,e,t,i,o,s,u,f,d,p,b){es(e,b++,t),++o[256];for(var x=ap(o,15),C=x[0],_=x[1],T=ap(s,15),L=T[0],R=T[1],E=Ng(C),k=E[0],D=E[1],V=Ng(L),J=V[0],ee=V[1],G=new hr(19),z=0;z<k.length;++z)G[k[z]&31]++;for(var z=0;z<J.length;++z)G[J[z]&31]++;for(var re=ap(G,7),se=re[0],U=re[1],I=19;I>4&&!se[Ap[I-1]];--I);var te=p+5<<3,ne=Qc(o,tl)+Qc(s,hf)+u,ye=Qc(o,C)+Qc(s,L)+u+14+3*I+Qc(G,se)+(2*G[16]+3*G[17]+7*G[18]);if(te<=ne&&te<=ye)return Ep(e,b,r.subarray(d,d+p));var F,K,ie,ae;if(es(e,b,1+(ye<ne)),b+=2,ye<ne){F=bo(C,_,0),K=C,ie=bo(L,R,0),ae=L;var O=bo(se,U,0);es(e,b,D-257),es(e,b+5,ee-1),es(e,b+10,I-4),b+=14;for(var z=0;z<I;++z)es(e,b+3*z,se[Ap[z]]);b+=3*I;for(var ce=[k,J],M=0;M<2;++M)for(var j=ce[M],z=0;z<j.length;++z){var X=j[z]&31;es(e,b,O[X]),b+=se[X],X>15&&(es(e,b,j[z]>>>5&127),b+=j[z]>>>12)}}else F=py,K=tl,ie=gy,ae=hf;for(var z=0;z<f;++z)if(i[z]>255){var X=i[z]>>>18&31;Xc(e,b,F[X+257]),b+=K[X+257],X>7&&(es(e,b,i[z]>>>23&31),b+=Ud[X]);var le=i[z]&31;Xc(e,b,ie[le]),b+=ae[le],le>3&&(Xc(e,b,i[z]>>>5&8191),b+=Fd[le])}else Xc(e,b,F[i[z]]),b+=K[i[z]];return Xc(e,b,F[256]),b+K[256]},by=new df([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xy=function(r,e,t,i,o,s){var u=r.length,f=new Nr(i+u+5*(1+Math.floor(u/7e3))+o),d=f.subarray(i,f.length-o),p=0;if(!e||u<8)for(var b=0;b<=u;b+=65535){var x=b+65535;x<u?p=Ep(d,p,r.subarray(b,x)):(d[b]=s,p=Ep(d,p,r.subarray(b,u)))}else{for(var C=by[e-1],_=C>>>13,T=C&8191,L=(1<<t)-1,R=new hr(32768),E=new hr(L+1),k=Math.ceil(t/3),D=2*k,V=function(Nt){return(r[Nt]^r[Nt+1]<<k^r[Nt+2]<<D)&L},J=new df(25e3),ee=new hr(288),G=new hr(32),z=0,re=0,b=0,se=0,U=0,I=0;b<u;++b){var te=V(b),ne=b&32767,ye=E[te];if(R[ne]=ye,E[te]=ne,U<=b){var F=u-b;if((z>7e3||se>24576)&&F>423){p=Eg(r,d,0,J,ee,G,re,se,I,b-I,p),se=z=re=0,I=b;for(var K=0;K<286;++K)ee[K]=0;for(var K=0;K<30;++K)G[K]=0}var ie=2,ae=0,O=T,ce=ne-ye&32767;if(F>2&&te==V(b-ce))for(var M=Math.min(_,F)-1,j=Math.min(32767,b),X=Math.min(258,F);ce<=j&&--O&&ne!=ye;){if(r[b+ie]==r[b+ie-ce]){for(var le=0;le<X&&r[b+le]==r[b+le-ce];++le);if(le>ie){if(ie=le,ae=ce,le>M)break;for(var ue=Math.min(ce,le-2),we=0,K=0;K<ue;++K){var xe=b-ce+K+32768&32767,pe=R[xe],Ye=xe-pe+32768&32767;Ye>we&&(we=Ye,ye=xe)}}}ne=ye,ye=R[ne],ce+=ne-ye+32768&32767}if(ae){J[se++]=268435456|Cp[ie]<<18|Tg[ae];var We=Cp[ie]&31,rt=Tg[ae]&31;re+=Ud[We]+Fd[rt],++ee[257+We],++G[rt],U=b+ie,++z}else J[se++]=r[b],++ee[r[b]]}}p=Eg(r,d,s,J,ee,G,re,se,I,b-I,p)}return k2(f,0,i+om(p)+o)},_y=function(){var r=1,e=0;return{p:function(t){for(var i=r,o=e,s=t.length,u=0;u!=s;){for(var f=Math.min(u+5552,s);u<f;++u)i+=t[u],o+=i;i%=65521,o%=65521}r=i,e=o},d:function(){return(r>>>8<<16|(e&255)<<8|e>>>8)+((r&255)<<23)*2}}},wy=function(r,e,t,i,o){return xy(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,i,!0)},Sy=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ay=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=i<<6|(i?32-2*i:1)},Cy=function(r){if((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(r[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Lp(r,e){e===void 0&&(e={});var t=_y();t.p(r);var i=wy(r,e,2,4);return Ay(i,e),Sy(i,i.length-4,t.d()),i}function Ty(r,e){return yy((Cy(r),r.subarray(2,-4)),e)}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function op(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Rn={log:op,warn:function(r){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):op.call(null,arguments))},error:function(r){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):op(r))}};function sp(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Yl(i.response,e,t)},i.onerror=function(){Rn.error("could not download file")},i.send()}function Lg(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var rf,Mp,Yl=Pt.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Pt.URL||Pt.webkitURL,o=document.createElement("a");e=e||r.name||"download",o.download=e,o.rel="noopener",typeof r=="string"?(o.href=r,o.origin!==location.origin?Lg(o.href)?sp(r,e,t):pd(o,o.target="_blank"):pd(o)):(o.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){pd(o)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Lg(r))sp(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){pd(i)})}else navigator.msSaveOrOpenBlob(function(o,s){return s===void 0?s={autoBom:!1}:Nn(s)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return sp(r,e,t);var o=r.type==="application/octet-stream",s=/constructor/i.test(Pt.HTMLElement)||Pt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var b=f.result;b=u?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=b:location=b,i=null},f.readAsDataURL(r)}else{var d=Pt.URL||Pt.webkitURL,p=d.createObjectURL(r);i?i.location=p:location.href=p,i=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function D2(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],i=0;i<t.length;i++){var o=t[i].re,s=t[i].process,u=o.exec(r);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+f+d+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lp(r,e){var t=r[0],i=r[1],o=r[2],s=r[3];t=er(t,i,o,s,e[0],7,-680876936),s=er(s,t,i,o,e[1],12,-389564586),o=er(o,s,t,i,e[2],17,606105819),i=er(i,o,s,t,e[3],22,-1044525330),t=er(t,i,o,s,e[4],7,-176418897),s=er(s,t,i,o,e[5],12,1200080426),o=er(o,s,t,i,e[6],17,-1473231341),i=er(i,o,s,t,e[7],22,-45705983),t=er(t,i,o,s,e[8],7,1770035416),s=er(s,t,i,o,e[9],12,-1958414417),o=er(o,s,t,i,e[10],17,-42063),i=er(i,o,s,t,e[11],22,-1990404162),t=er(t,i,o,s,e[12],7,1804603682),s=er(s,t,i,o,e[13],12,-40341101),o=er(o,s,t,i,e[14],17,-1502002290),t=tr(t,i=er(i,o,s,t,e[15],22,1236535329),o,s,e[1],5,-165796510),s=tr(s,t,i,o,e[6],9,-1069501632),o=tr(o,s,t,i,e[11],14,643717713),i=tr(i,o,s,t,e[0],20,-373897302),t=tr(t,i,o,s,e[5],5,-701558691),s=tr(s,t,i,o,e[10],9,38016083),o=tr(o,s,t,i,e[15],14,-660478335),i=tr(i,o,s,t,e[4],20,-405537848),t=tr(t,i,o,s,e[9],5,568446438),s=tr(s,t,i,o,e[14],9,-1019803690),o=tr(o,s,t,i,e[3],14,-187363961),i=tr(i,o,s,t,e[8],20,1163531501),t=tr(t,i,o,s,e[13],5,-1444681467),s=tr(s,t,i,o,e[2],9,-51403784),o=tr(o,s,t,i,e[7],14,1735328473),t=nr(t,i=tr(i,o,s,t,e[12],20,-1926607734),o,s,e[5],4,-378558),s=nr(s,t,i,o,e[8],11,-2022574463),o=nr(o,s,t,i,e[11],16,1839030562),i=nr(i,o,s,t,e[14],23,-35309556),t=nr(t,i,o,s,e[1],4,-1530992060),s=nr(s,t,i,o,e[4],11,1272893353),o=nr(o,s,t,i,e[7],16,-155497632),i=nr(i,o,s,t,e[10],23,-1094730640),t=nr(t,i,o,s,e[13],4,681279174),s=nr(s,t,i,o,e[0],11,-358537222),o=nr(o,s,t,i,e[3],16,-722521979),i=nr(i,o,s,t,e[6],23,76029189),t=nr(t,i,o,s,e[9],4,-640364487),s=nr(s,t,i,o,e[12],11,-421815835),o=nr(o,s,t,i,e[15],16,530742520),t=ir(t,i=nr(i,o,s,t,e[2],23,-995338651),o,s,e[0],6,-198630844),s=ir(s,t,i,o,e[7],10,1126891415),o=ir(o,s,t,i,e[14],15,-1416354905),i=ir(i,o,s,t,e[5],21,-57434055),t=ir(t,i,o,s,e[12],6,1700485571),s=ir(s,t,i,o,e[3],10,-1894986606),o=ir(o,s,t,i,e[10],15,-1051523),i=ir(i,o,s,t,e[1],21,-2054922799),t=ir(t,i,o,s,e[8],6,1873313359),s=ir(s,t,i,o,e[15],10,-30611744),o=ir(o,s,t,i,e[6],15,-1560198380),i=ir(i,o,s,t,e[13],21,1309151649),t=ir(t,i,o,s,e[4],6,-145523070),s=ir(s,t,i,o,e[11],10,-1120210379),o=ir(o,s,t,i,e[2],15,718787259),i=ir(i,o,s,t,e[9],21,-343485551),r[0]=Xs(t,r[0]),r[1]=Xs(i,r[1]),r[2]=Xs(o,r[2]),r[3]=Xs(s,r[3])}function Bd(r,e,t,i,o,s){return e=Xs(Xs(e,r),Xs(i,s)),Xs(e<<o|e>>>32-o,t)}function er(r,e,t,i,o,s,u){return Bd(e&t|~e&i,r,e,o,s,u)}function tr(r,e,t,i,o,s,u){return Bd(e&i|t&~i,r,e,o,s,u)}function nr(r,e,t,i,o,s,u){return Bd(e^t^i,r,e,o,s,u)}function ir(r,e,t,i,o,s,u){return Bd(t^(e|~i),r,e,o,s,u)}function I2(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)lp(i,Ny(r.substring(e-64,e)));r=r.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(lp(i,o),e=0;e<16;e++)o[e]=0;return o[14]=8*t,lp(i,o),i}function Ny(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}rf=Pt.atob.bind(Pt),Mp=Pt.btoa.bind(Pt);var Mg="0123456789abcdef".split("");function Ey(r){for(var e="",t=0;t<4;t++)e+=Mg[r>>8*t+4&15]+Mg[r>>8*t&15];return e}function Ly(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function kp(r){return I2(r).map(Ly).join("")}var My=function(r){for(var e=0;e<r.length;e++)r[e]=Ey(r[e]);return r.join("")}(I2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xs(r,e){if(My){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Dp(r,e){var t,i,o,s;if(r!==t){for(var u=(o=r,s=1+(256/r.length>>0),new Array(s+1).join(o)),f=[],d=0;d<256;d++)f[d]=d;var p=0;for(d=0;d<256;d++){var b=f[d];p=(p+b+u.charCodeAt(d))%256,f[d]=f[p],f[p]=b}t=r,i=f}else f=i;var x=e.length,C=0,_=0,T="";for(d=0;d<x;d++)_=(_+(b=f[C=(C+1)%256]))%256,f[C]=f[_],f[_]=b,u=f[(f[C]+f[_])%256],T+=String.fromCharCode(e.charCodeAt(d)^u);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kg={print:4,modify:8,copy:16,"annot-forms":32};function Ku(r,e,t,i){this.v=1,this.r=2;var o=192;r.forEach(function(f){if(kg.perm!==void 0)throw new Error("Invalid permission: "+f);o+=kg[f]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^o)),this.encryptionKey=kp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Dp(this.encryptionKey,this.padding)}function Zu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var o=r.charCodeAt(i);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?e+="#"+("0"+o.toString(16)).slice(-2):e+=r[i]}return e}function Dg(r){if(Nn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,o){if(o=o||!1,typeof t!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!o],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var s in e[t]){var u=e[t][s];try{u[0].apply(r,i)}catch(f){Pt.console&&Rn.error("jsPDF PubSub Error",f.message,f)}u[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pf(r){if(!(this instanceof pf))return new pf(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function R2(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function $s(r,e,t,i,o){if(!(this instanceof $s))return new $s(r,e,t,i,o);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,R2.call(this,i,o)}function Wl(r,e,t,i,o){if(!(this instanceof Wl))return new Wl(r,e,t,i,o);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,R2.call(this,i,o)}function Mt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],u=[],f=1,d=16,p="S",b=null;Nn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,o=r.format||o,s=r.compress||r.compressPdf||s,(b=r.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),f=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),p=r.defaultPathOperation||"S"),u=r.filters||(s===!0?["FlateEncode"]:u),i=i||"mm",t=(""+(t||"P")).toLowerCase();var x=r.putOnlyUsedFonts||!1,C={},_={internal:{},__private__:{}};_.__private__.PubSub=Dg;var T="1.3",L=_.__private__.getPdfVersion=function(){return T};_.__private__.setPdfVersion=function(S){T=S};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return R};var E=_.__private__.getPageFormat=function(S){return R[S]};o=o||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},D=k.COMPAT;function V(){this.saveGraphicsState(),de(new xt(st,0,0,-st,0,Ja()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),p="n",D=k.ADVANCED}function J(){this.restoreGraphicsState(),p="S",D=k.COMPAT}var ee=_.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};_.advancedAPI=function(S){var q=D===k.COMPAT;return q&&V.call(this),typeof S!="function"||(S(this),q&&J.call(this)),this},_.compatAPI=function(S){var q=D===k.ADVANCED;return q&&J.call(this),typeof S!="function"||(S(this),q&&V.call(this)),this},_.isAdvancedAPI=function(){return D===k.ADVANCED};var G,z=function(S){if(D!==k.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=_.roundToPrecision=_.__private__.roundToPrecision=function(S,q){var fe=e||q;if(isNaN(S)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(fe).replace(/0+$/,"")};G=_.hpf=_.__private__.hpf=typeof d=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return re(S,d)}:d==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return re(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return re(S,16)};var se=_.f2=_.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return re(S,2)},U=_.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return re(S,3)},I=_.scale=_.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return D===k.COMPAT?S*st:D===k.ADVANCED?S:void 0},te=function(S){return D===k.COMPAT?Ja()-S:D===k.ADVANCED?S:void 0},ne=function(S){return I(te(S))};_.__private__.setPrecision=_.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ye,F="00000000000000000000000000000000",K=_.__private__.getFileId=function(){return F},ie=_.__private__.setFileId=function(S){return F=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(mi=new Ku(b.userPermissions,b.userPassword,b.ownerPassword,F)),F};_.setFileId=function(S){return ie(S),this},_.getFileId=function(){return K()};var ae=_.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),fe=q<0?"+":"-",me=Math.floor(Math.abs(q/60)),Ce=Math.abs(q%60),Pe=[fe,X(me),"'",X(Ce),"'"].join("");return["D:",S.getFullYear(),X(S.getMonth()+1),X(S.getDate()),X(S.getHours()),X(S.getMinutes()),X(S.getSeconds()),Pe].join("")},O=_.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),fe=parseInt(S.substr(6,2),10)-1,me=parseInt(S.substr(8,2),10),Ce=parseInt(S.substr(10,2),10),Pe=parseInt(S.substr(12,2),10),Ze=parseInt(S.substr(14,2),10);return new Date(q,fe,me,Ce,Pe,Ze,0)},ce=_.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=ae(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return ye=q},M=_.__private__.getCreationDate=function(S){var q=ye;return S==="jsDate"&&(q=O(ye)),q};_.setCreationDate=function(S){return ce(S),this},_.getCreationDate=function(S){return M(S)};var j,X=_.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=_.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ue=0,we=[],xe=[],pe=0,Ye=[],We=[],rt=!1,lt=xe,Nt=function(){ue=0,pe=0,xe=[],we=[],Ye=[],or=ti(),sr=ti()};_.__private__.setCustomOutputDestination=function(S){rt=!0,lt=S};var Oe=function(S){rt||(lt=S)};_.__private__.resetCustomOutputDestination=function(){rt=!1,lt=xe};var de=_.__private__.out=function(S){return S=S.toString(),pe+=S.length+1,lt.push(S),lt},ht=_.__private__.write=function(S){return de(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Xe=_.__private__.getArrayBuffer=function(S){for(var q=S.length,fe=new ArrayBuffer(q),me=new Uint8Array(fe);q--;)me[q]=S.charCodeAt(q);return fe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Ke};var et=r.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(S){return et=D===k.ADVANCED?S/st:S,this};var at,ot=_.__private__.getFontSize=_.getFontSize=function(){return D===k.COMPAT?et:et*st},_t=r.R2L||!1;_.__private__.setR2L=_.setR2L=function(S){return _t=S,this},_.__private__.getR2L=_.getR2L=function(){return _t};var Ot,Ht=_.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))at=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');at=S}else at=parseInt(S,10)};_.__private__.getZoomMode=function(){return at};var qt,kt=_.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ot=S};_.__private__.getPageMode=function(){return Ot};var $t=_.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');qt=S};_.__private__.getLayoutMode=function(){return qt},_.__private__.setDisplayMode=_.setDisplayMode=function(S,q,fe){return Ht(S),$t(q),kt(fe),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(S){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[S]},_.__private__.getDocumentProperties=function(){return yt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(S){for(var q in yt)yt.hasOwnProperty(q)&&S[q]&&(yt[q]=S[q]);return this},_.__private__.setDocumentProperty=function(S,q){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[S]=q};var zt,st,Vn,Kt,_i,Le={},Re={},Ue=[],Be={},Je={},it={},dt={},Lt=null,bt=0,pt=[],At=new Dg(_),kn=r.hotfixes||[],Gt={},Hi={},rr=[],xt=function S(q,fe,me,Ce,Pe,Ze){if(!(this instanceof S))return new S(q,fe,me,Ce,Pe,Ze);isNaN(q)&&(q=1),isNaN(fe)&&(fe=0),isNaN(me)&&(me=0),isNaN(Ce)&&(Ce=1),isNaN(Pe)&&(Pe=0),isNaN(Ze)&&(Ze=0),this._matrix=[q,fe,me,Ce,Pe,Ze]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(S)},xt.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,fe=S.sx*this.shy+S.shy*this.sy,me=S.shx*this.sx+S.sy*this.shx,Ce=S.shx*this.shy+S.sy*this.sy,Pe=S.tx*this.sx+S.ty*this.shx+this.tx,Ze=S.tx*this.shy+S.ty*this.sy+this.ty;return new xt(q,fe,me,Ce,Pe,Ze)},xt.prototype.decompose=function(){var S=this.sx,q=this.shy,fe=this.shx,me=this.sy,Ce=this.tx,Pe=this.ty,Ze=Math.sqrt(S*S+q*q),ut=(S/=Ze)*fe+(q/=Ze)*me;fe-=S*ut,me-=q*ut;var wt=Math.sqrt(fe*fe+me*me);return ut/=wt,S*(me/=wt)<q*(fe/=wt)&&(S=-S,q=-q,ut=-ut,Ze=-Ze),{scale:new xt(Ze,0,0,wt,0,0),translate:new xt(1,0,0,1,Ce,Pe),rotate:new xt(S,q,-q,S,0,0),skew:new xt(1,0,ut,1,0,0)}},xt.prototype.toString=function(S){return this.join(" ")},xt.prototype.inversed=function(){var S=this.sx,q=this.shy,fe=this.shx,me=this.sy,Ce=this.tx,Pe=this.ty,Ze=1/(S*me-q*fe),ut=me*Ze,wt=-q*Ze,Yt=-fe*Ze,Zt=S*Ze;return new xt(ut,wt,Yt,Zt,-ut*Ce-Yt*Pe,-wt*Ce-Zt*Pe)},xt.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,fe=S.x*this.shy+S.y*this.sy+this.ty;return new ps(q,fe)},xt.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),fe=this.applyToPoint(new ps(S.x+S.w,S.y+S.h));return new vl(q.x,q.y,fe.x-q.x,fe.y-q.y)},xt.prototype.clone=function(){var S=this.sx,q=this.shy,fe=this.shx,me=this.sy,Ce=this.tx,Pe=this.ty;return new xt(S,q,fe,me,Ce,Pe)},_.Matrix=xt;var cn=_.matrixMult=function(S,q){return q.multiply(S)},sn=new xt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=sn;var _n=function(S,q){if(!Je[S]){var fe=(q instanceof $s?"Sh":"P")+(Object.keys(Be).length+1).toString(10);q.id=fe,Je[S]=fe,Be[fe]=q,At.publish("addPattern",q)}};_.ShadingPattern=$s,_.TilingPattern=Wl,_.addShadingPattern=function(S,q){return z("addShadingPattern()"),_n(S,q),this},_.beginTilingPattern=function(S){z("beginTilingPattern()"),ms(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},_.endTilingPattern=function(S,q){z("endTilingPattern()"),q.stream=We[j].join(`
`),_n(S,q),At.publish("endTilingPattern",q),rr.pop().restore()};var Wn=_.__private__.newObject=function(){var S=ti();return ar(S,!0),S},ti=_.__private__.newObjectDeferred=function(){return ue++,we[ue]=function(){return pe},ue},ar=function(S,q){return q=typeof q=="boolean"&&q,we[S]=pe,q&&de(S+" 0 obj"),S},So=_.__private__.newAdditionalObject=function(){var S={objId:ti(),content:""};return Ye.push(S),S},or=ti(),sr=ti(),Ni=_.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var fe=parseFloat(q[0]);q=[fe,fe,fe,"r"]}for(var me="#",Ce=0;Ce<3;Ce++)me+=("0"+Math.floor(255*parseFloat(q[Ce])).toString(16)).slice(-2);return me},Ei=_.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var fe=S.ch1,me=S.ch2,Ce=S.ch3,Pe=S.ch4,Ze=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var ut=new D2(fe);if(ut.ok)fe=ut.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var wt=parseInt(fe.substr(1),16);fe=wt>>16&255,me=wt>>8&255,Ce=255&wt}if(me===void 0||Pe===void 0&&fe===me&&me===Ce)if(typeof fe=="string")q=fe+" "+Ze[0];else switch(S.precision){case 2:q=se(fe/255)+" "+Ze[0];break;case 3:default:q=U(fe/255)+" "+Ze[0]}else if(Pe===void 0||Nn(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return q=["1.","1.","1.",Ze[1]].join(" ");if(typeof fe=="string")q=[fe,me,Ce,Ze[1]].join(" ");else switch(S.precision){case 2:q=[se(fe/255),se(me/255),se(Ce/255),Ze[1]].join(" ");break;default:case 3:q=[U(fe/255),U(me/255),U(Ce/255),Ze[1]].join(" ")}}else if(typeof fe=="string")q=[fe,me,Ce,Pe,Ze[2]].join(" ");else switch(S.precision){case 2:q=[se(fe),se(me),se(Ce),se(Pe),Ze[2]].join(" ");break;case 3:default:q=[U(fe),U(me),U(Ce),U(Pe),Ze[2]].join(" ")}return q},Gi=_.__private__.getFilters=function(){return u},wi=_.__private__.putStream=function(S){var q=(S=S||{}).data||"",fe=S.filters||Gi(),me=S.alreadyAppliedFilters||[],Ce=S.addLength1||!1,Pe=q.length,Ze=S.objectId,ut=function(Kn){return Kn};if(b!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(ut=mi.encryptor(Ze,0));var wt={};fe===!0&&(fe=["FlateEncode"]);var Yt=S.additionalKeyValues||[],Zt=(wt=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(q,fe):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(wt.data.length!==0&&(Yt.push({key:"Length",value:wt.data.length}),Ce===!0&&Yt.push({key:"Length1",value:Pe})),Zt.length!=0)if(Zt.split("/").length-1==1)Yt.push({key:"Filter",value:Zt});else{Yt.push({key:"Filter",value:"["+Zt+"]"});for(var rn=0;rn<Yt.length;rn+=1)if(Yt[rn].key==="DecodeParms"){for(var Pn=[],Fn=0;Fn<wt.reverseChain.split("/").length-1;Fn+=1)Pn.push("null");Pn.push(Yt[rn].value),Yt[rn].value="["+Pn.join(" ")+"]"}}de("<<");for(var Jn=0;Jn<Yt.length;Jn++)de("/"+Yt[Jn].key+" "+Yt[Jn].value);de(">>"),wt.data.length!==0&&(de("stream"),de(ut(wt.data)),de("endstream"))},wn=_.__private__.putPage=function(S){var q=S.number,fe=S.data,me=S.objId,Ce=S.contentsObjId;ar(me,!0),de("<</Type /Page"),de("/Parent "+S.rootDictionaryObjId+" 0 R"),de("/Resources "+S.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(G(S.mediaBox.bottomLeftX))+" "+parseFloat(G(S.mediaBox.bottomLeftY))+" "+G(S.mediaBox.topRightX)+" "+G(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&de("/CropBox ["+G(S.cropBox.bottomLeftX)+" "+G(S.cropBox.bottomLeftY)+" "+G(S.cropBox.topRightX)+" "+G(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&de("/BleedBox ["+G(S.bleedBox.bottomLeftX)+" "+G(S.bleedBox.bottomLeftY)+" "+G(S.bleedBox.topRightX)+" "+G(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&de("/TrimBox ["+G(S.trimBox.bottomLeftX)+" "+G(S.trimBox.bottomLeftY)+" "+G(S.trimBox.topRightX)+" "+G(S.trimBox.topRightY)+"]"),S.artBox!==null&&de("/ArtBox ["+G(S.artBox.bottomLeftX)+" "+G(S.artBox.bottomLeftY)+" "+G(S.artBox.topRightX)+" "+G(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&de("/UserUnit "+S.userUnit),At.publish("putPage",{objId:me,pageContext:pt[q],pageNumber:q,page:fe}),de("/Contents "+Ce+" 0 R"),de(">>"),de("endobj");var Pe=fe.join(`
`);return D===k.ADVANCED&&(Pe+=`
Q`),ar(Ce,!0),wi({data:Pe,filters:Gi(),objectId:Ce}),de("endobj"),me},Ba=_.__private__.putPages=function(){var S,q,fe=[];for(S=1;S<=bt;S++)pt[S].objId=ti(),pt[S].contentsObjId=ti();for(S=1;S<=bt;S++)fe.push(wn({number:S,data:We[S],objId:pt[S].objId,contentsObjId:pt[S].contentsObjId,mediaBox:pt[S].mediaBox,cropBox:pt[S].cropBox,bleedBox:pt[S].bleedBox,trimBox:pt[S].trimBox,artBox:pt[S].artBox,userUnit:pt[S].userUnit,rootDictionaryObjId:or,resourceDictionaryObjId:sr}));ar(or,!0),de("<</Type /Pages");var me="/Kids [";for(q=0;q<bt;q++)me+=fe[q]+" 0 R ";de(me+"]"),de("/Count "+bt),de(">>"),de("endobj"),At.publish("postPutPages")},Ao=function(S){At.publish("putFont",{font:S,out:de,newObject:Wn,putStream:wi}),S.isAlreadyPutted!==!0&&(S.objectNumber=Wn(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Zu(S.postScriptName)),de("/Subtype /Type1"),typeof S.encoding=="string"&&de("/Encoding /"+S.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},mr=function(){for(var S in Le)Le.hasOwnProperty(S)&&(x===!1||x===!0&&C.hasOwnProperty(S))&&Ao(Le[S])},Mr=function(S){S.objectNumber=Wn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[G(S.x),G(S.y),G(S.x+S.width),G(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var fe=S.pages[1].join(`
`);wi({data:fe,additionalKeyValues:q,objectId:S.objectNumber}),de("endobj")},rs=function(){for(var S in Gt)Gt.hasOwnProperty(S)&&Mr(Gt[S])},ol=function(S,q){var fe,me=[],Ce=1/(q-1);for(fe=0;fe<1;fe+=Ce)me.push(fe);if(me.push(1),S[0].offset!=0){var Pe={offset:0,color:S[0].color};S.unshift(Pe)}if(S[S.length-1].offset!=1){var Ze={offset:1,color:S[S.length-1].color};S.push(Ze)}for(var ut="",wt=0,Yt=0;Yt<me.length;Yt++){for(fe=me[Yt];fe>S[wt+1].offset;)wt++;var Zt=S[wt].offset,rn=(fe-Zt)/(S[wt+1].offset-Zt),Pn=S[wt].color,Fn=S[wt+1].color;ut+=le(Math.round((1-rn)*Pn[0]+rn*Fn[0]).toString(16))+le(Math.round((1-rn)*Pn[1]+rn*Fn[1]).toString(16))+le(Math.round((1-rn)*Pn[2]+rn*Fn[2]).toString(16))}return ut.trim()},nu=function(S,q){q||(q=21);var fe=Wn(),me=ol(S.colors,q),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+q+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wi({data:me,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),de("endobj"),S.objectNumber=Wn(),de("<< /ShadingType "+S.type),de("/ColorSpace /DeviceRGB");var Pe="/Coords ["+G(parseFloat(S.coords[0]))+" "+G(parseFloat(S.coords[1]))+" ";S.type===2?Pe+=G(parseFloat(S.coords[2]))+" "+G(parseFloat(S.coords[3])):Pe+=G(parseFloat(S.coords[2]))+" "+G(parseFloat(S.coords[3]))+" "+G(parseFloat(S.coords[4]))+" "+G(parseFloat(S.coords[5])),de(Pe+="]"),S.matrix&&de("/Matrix ["+S.matrix.toString()+"]"),de("/Function "+fe+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},oc=function(S,q){var fe=ti(),me=Wn();q.push({resourcesOid:fe,objectOid:me}),S.objectNumber=me;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+S.boundingBox.map(G).join(" ")+"]"}),Ce.push({key:"XStep",value:G(S.xStep)}),Ce.push({key:"YStep",value:G(S.yStep)}),Ce.push({key:"Resources",value:fe+" 0 R"}),S.matrix&&Ce.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),wi({data:S.stream,additionalKeyValues:Ce,objectId:S.objectNumber}),de("endobj")},sa=function(S){var q;for(q in Be)Be.hasOwnProperty(q)&&(Be[q]instanceof $s?nu(Be[q]):Be[q]instanceof Wl&&oc(Be[q],S))},Co=function(S){for(var q in S.objectNumber=Wn(),de("<<"),S)switch(q){case"opacity":de("/ca "+se(S[q]));break;case"stroke-opacity":de("/CA "+se(S[q]))}de(">>"),de("endobj")},kr=function(){var S;for(S in it)it.hasOwnProperty(S)&&Co(it[S])},To=function(){for(var S in de("/XObject <<"),Gt)Gt.hasOwnProperty(S)&&Gt[S].objectNumber>=0&&de("/"+S+" "+Gt[S].objectNumber+" 0 R");At.publish("putXobjectDict"),de(">>")},iu=function(){mi.oid=Wn(),de("<<"),de("/Filter /Standard"),de("/V "+mi.v),de("/R "+mi.r),de("/U <"+mi.toHexString(mi.U)+">"),de("/O <"+mi.toHexString(mi.O)+">"),de("/P "+mi.P),de(">>"),de("endobj")},la=function(){for(var S in de("/Font <<"),Le)Le.hasOwnProperty(S)&&(x===!1||x===!0&&C.hasOwnProperty(S))&&de("/"+S+" "+Le[S].objectNumber+" 0 R");de(">>")},sl=function(){if(Object.keys(Be).length>0){for(var S in de("/Shading <<"),Be)Be.hasOwnProperty(S)&&Be[S]instanceof $s&&Be[S].objectNumber>=0&&de("/"+S+" "+Be[S].objectNumber+" 0 R");At.publish("putShadingPatternDict"),de(">>")}},qa=function(S){if(Object.keys(Be).length>0){for(var q in de("/Pattern <<"),Be)Be.hasOwnProperty(q)&&Be[q]instanceof _.TilingPattern&&Be[q].objectNumber>=0&&Be[q].objectNumber<S&&de("/"+q+" "+Be[q].objectNumber+" 0 R");At.publish("putTilingPatternDict"),de(">>")}},sc=function(){if(Object.keys(it).length>0){var S;for(S in de("/ExtGState <<"),it)it.hasOwnProperty(S)&&it[S].objectNumber>=0&&de("/"+S+" "+it[S].objectNumber+" 0 R");At.publish("putGStateDict"),de(">>")}},jn=function(S){ar(S.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),la(),sl(),qa(S.objectOid),sc(),To(),de(">>"),de("endobj")},Oi=function(){var S=[];mr(),kr(),rs(),sa(S),At.publish("putResources"),S.forEach(jn),jn({resourcesOid:sr,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources")},ll=function(){At.publish("putAdditionalObjects");for(var S=0;S<Ye.length;S++){var q=Ye[S];ar(q.objId,!0),de(q.content),de("endobj")}At.publish("postPutAdditionalObjects")},ru=function(S){Re[S.fontName]=Re[S.fontName]||{},Re[S.fontName][S.fontStyle]=S.id},za=function(S,q,fe,me,Ce){var Pe={id:"F"+(Object.keys(Le).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:fe,encoding:me,isStandardFont:Ce||!1,metadata:{}};return At.publish("addFont",{font:Pe,instance:this}),Le[Pe.id]=Pe,ru(Pe),Pe.id},au=function(S){for(var q=0,fe=Ke.length;q<fe;q++){var me=za.call(this,S[q][0],S[q][1],S[q][2],Ke[q][3],!0);x===!1&&(C[me]=!0);var Ce=S[q][0].split("-");ru({id:me,fontName:Ce[0],fontStyle:Ce[1]||""})}At.publish("addFonts",{fonts:Le,dictionary:Re})},Yi=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(me){var q=me.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var fe="Error in function "+q.split(`
`)[0].split("<")[0]+": "+me.message;if(!Pt.console)throw new Error(fe);Pt.console.error(fe,me),Pt.alert&&alert(fe)}},S.foo.bar=S,S.foo},as=function(S,q){var fe,me,Ce,Pe,Ze,ut,wt,Yt,Zt;if(Ce=(q=q||{}).sourceEncoding||"Unicode",Ze=q.outputEncoding,(q.autoencode||Ze)&&Le[zt].metadata&&Le[zt].metadata[Ce]&&Le[zt].metadata[Ce].encoding&&(Pe=Le[zt].metadata[Ce].encoding,!Ze&&Le[zt].encoding&&(Ze=Le[zt].encoding),!Ze&&Pe.codePages&&(Ze=Pe.codePages[0]),typeof Ze=="string"&&(Ze=Pe[Ze]),Ze)){for(wt=!1,ut=[],fe=0,me=S.length;fe<me;fe++)(Yt=Ze[S.charCodeAt(fe)])?ut.push(String.fromCharCode(Yt)):ut.push(S[fe]),ut[fe].charCodeAt(0)>>8&&(wt=!0);S=ut.join("")}for(fe=S.length;wt===void 0&&fe!==0;)S.charCodeAt(fe-1)>>8&&(wt=!0),fe--;if(!wt)return S;for(ut=q.noBOM?[]:[254,255],fe=0,me=S.length;fe<me;fe++){if((Zt=(Yt=S.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(Zt),ut.push(Yt-(Zt<<8))}return String.fromCharCode.apply(void 0,ut)},Dn=_.__private__.pdfEscape=_.pdfEscape=function(S,q){return as(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},No=_.__private__.beginPage=function(S){We[++bt]=[],pt[bt]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ua(bt),Oe(We[j])},ul=function(S,q){var fe,me,Ce;switch(t=q||t,typeof S=="string"&&(fe=E(S.toLowerCase()),Array.isArray(fe)&&(me=fe[0],Ce=fe[1])),Array.isArray(S)&&(me=S[0]*st,Ce=S[1]*st),isNaN(me)&&(me=o[0],Ce=o[1]),(me>14400||Ce>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ce=Math.min(14400,Ce)),o=[me,Ce],t.substr(0,1)){case"l":Ce>me&&(o=[Ce,me]);break;case"p":me>Ce&&(o=[Ce,me])}No(o),fu(Ga),de(Dr),gl!==0&&de(gl+" J"),hs!==0&&de(hs+" j"),At.publish("addPage",{pageNumber:bt})},cl=function(S){S>0&&S<=bt&&(We.splice(S,1),pt.splice(S,1),bt--,j>bt&&(j=bt),this.setPage(j))},ua=function(S){S>0&&S<=bt&&(j=S)},ou=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return We.length-1},fl=function(S,q,fe){var me,Ce=void 0;return fe=fe||{},S=S!==void 0?S:Le[zt].fontName,q=q!==void 0?q:Le[zt].fontStyle,me=S.toLowerCase(),Re[me]!==void 0&&Re[me][q]!==void 0?Ce=Re[me][q]:Re[S]!==void 0&&Re[S][q]!==void 0?Ce=Re[S][q]:fe.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),Ce||fe.noFallback||(Ce=Re.times[q])==null&&(Ce=Re.times.normal),Ce},Va=_.__private__.putInfo=function(){var S=Wn(),q=function(me){return me};for(var fe in b!==null&&(q=mi.encryptor(S,0)),de("<<"),de("/Producer ("+Dn(q("jsPDF "+Mt.version))+")"),yt)yt.hasOwnProperty(fe)&&yt[fe]&&de("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Dn(q(yt[fe]))+")");de("/CreationDate ("+Dn(q(ye))+")"),de(">>"),de("endobj")},dl=_.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||or;switch(Wn(),de("<<"),de("/Type /Catalog"),de("/Pages "+q+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+at;fe.substr(fe.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&de("/OpenAction [3 0 R /XYZ null null "+se(at)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Ot&&de("/PageMode /"+Ot),At.publish("putCatalog"),de(">>"),de("endobj")},su=_.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ue+1)),de("/Root "+ue+" 0 R"),de("/Info "+(ue-1)+" 0 R"),b!==null&&de("/Encrypt "+mi.oid+" 0 R"),de("/ID [ <"+F+"> <"+F+"> ]"),de(">>")},lu=_.__private__.putHeader=function(){de("%PDF-"+T),de("%ºß¬à")},hl=_.__private__.putXRef=function(){var S="0000000000";de("xref"),de("0 "+(ue+1)),de("0000000000 65535 f ");for(var q=1;q<=ue;q++)typeof we[q]=="function"?de((S+we[q]()).slice(-10)+" 00000 n "):we[q]!==void 0?de((S+we[q]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},ca=_.__private__.buildDocument=function(){Nt(),Oe(xe),At.publish("buildDocument"),lu(),Ba(),ll(),Oi(),b!==null&&iu(),Va(),dl();var S=pe;return hl(),su(),de("startxref"),de(""+S),de("%%EOF"),Oe(We[j]),xe.join(`
`)},os=_.__private__.getBlob=function(S){return new Blob([Xe(S)],{type:"application/pdf"})},fa=_.output=_.__private__.output=Yi(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return ca();case"save":_.save(q.filename);break;case"arraybuffer":return Xe(ca());case"blob":return os(ca());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(os(ca()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",me=ca();try{fe=Mp(me)}catch{fe=Mp(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+q.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ce=q.pdfObjectUrl,Pe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ut=Pt.open();return ut!==null&&ut.document.write(Ze),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Yt=Pt.open();if(Yt!==null){Yt.document.write(wt);var Zt=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=q.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Pn=Pt.open();if(Pn!==null&&(Pn.document.write(rn),Pn.document.title=q.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",q);default:return null}}),ss=function(S){return Array.isArray(kn)===!0&&kn.indexOf(S)>-1};switch(i){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=ss("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);st=i}var mi=null;ce(),ie();var ja=function(S){return b!==null?mi.encryptor(S,0):function(q){return q}},da=_.__private__.getPageInfo=_.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[S].objId,pageNumber:S,pageContext:pt[S]}},Ut=_.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in pt)if(pt[q].objId===S)break;return da(q)},pl=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:pt[j].objId,pageNumber:j,pageContext:pt[j]}};_.addPage=function(){return ul.apply(this,arguments),this},_.setPage=function(){return ua.apply(this,arguments),Oe.call(this,We[j]),this},_.insertPage=function(S){return this.addPage(),this.movePage(j,S),this},_.movePage=function(S,q){var fe,me;if(S>q){fe=We[S],me=pt[S];for(var Ce=S;Ce>q;Ce--)We[Ce]=We[Ce-1],pt[Ce]=pt[Ce-1];We[q]=fe,pt[q]=me,this.setPage(q)}else if(S<q){fe=We[S],me=pt[S];for(var Pe=S;Pe<q;Pe++)We[Pe]=We[Pe+1],pt[Pe]=pt[Pe+1];We[q]=fe,pt[q]=me,this.setPage(q)}return this},_.deletePage=function(){return cl.apply(this,arguments),this},_.__private__.text=_.text=function(S,q,fe,me,Ce){var Pe,Ze,ut,wt,Yt,Zt,rn,Pn,Fn,Jn=(me=me||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Kn=fe;fe=q,q=S,S=Kn}if(arguments[3]instanceof xt?(z("The transform parameter of text() with a Matrix value"),Fn=Ce):(ut=arguments[4],wt=arguments[5],Nn(rn=arguments[3])==="object"&&rn!==null||(typeof ut=="string"&&(wt=ut,ut=null),typeof rn=="string"&&(wt=rn,rn=null),typeof rn=="number"&&(ut=rn,rn=null),me={flags:rn,angle:ut,align:wt})),isNaN(q)||isNaN(fe)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Jn;var gi="",Ir=!1,ur=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:lr,Jr=Jn.internal.scaleFactor;function xl(En){return En=En.split("	").join(Array(me.TabLen||9).join(" ")),Dn(En,rn)}function ma(En){for(var Sn,Hn=En.concat(),Zn=[],oi=Hn.length;oi--;)typeof(Sn=Hn.shift())=="string"?Zn.push(Sn):Array.isArray(En)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Zn.push(Sn[0]):Zn.push([Sn[0],Sn[1],Sn[2]]);return Zn}function ga(En,Sn){var Hn;if(typeof En=="string")Hn=Sn(En)[0];else if(Array.isArray(En)){for(var Zn,oi,xa=En.concat(),Ai=[],Fi=xa.length;Fi--;)typeof(Zn=xa.shift())=="string"?Ai.push(Sn(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(oi=Sn(Zn[0],Zn[1],Zn[2]),Ai.push([oi[0],oi[1],oi[2]]));Hn=Ai}return Hn}var ys=!1,Ka=!0;if(typeof S=="string")ys=!0;else if(Array.isArray(S)){var bs=S.concat();Ze=[];for(var ko,Mi=bs.length;Mi--;)(typeof(ko=bs.shift())!="string"||Array.isArray(ko)&&typeof ko[0]!="string")&&(Ka=!1);ys=Ka}if(ys===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Za=et/Jn.internal.scaleFactor,Do=Za*(ur-1);switch(me.baseline){case"bottom":fe-=Do;break;case"top":fe+=Za-Do;break;case"hanging":fe+=Za-2*Do;break;case"middle":fe+=Za/2-Do}if((Zt=me.maxWidth||0)>0&&(typeof S=="string"?S=Jn.splitTextToSize(S,Zt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(En,Sn){return En.concat(Jn.splitTextToSize(Sn,Zt))},[]))),Pe={text:S,x:q,y:fe,options:me,mutex:{pdfEscape:Dn,activeFontKey:zt,fonts:Le,activeFontSize:et}},At.publish("preProcessText",Pe),S=Pe.text,ut=(me=Pe.options).angle,!(Fn instanceof xt)&&ut&&typeof ut=="number"){ut*=Math.PI/180,me.rotationDirection===0&&(ut=-ut),D===k.ADVANCED&&(ut=-ut);var Io=Math.cos(ut),xs=Math.sin(ut);Fn=new xt(Io,xs,-xs,Io,0,0)}else ut&&ut instanceof xt&&(Fn=ut);D!==k.ADVANCED||Fn||(Fn=sn),(Yt=me.charSpace||ds)!==void 0&&(gi+=G(I(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=me.horizontalScale)!==void 0&&(gi+=G(100*Pn)+` Tz
`),me.lang;var Ji=-1,dc=me.renderingMode!==void 0?me.renderingMode:me.stroke,_l=Jn.internal.getCurrentPageInfo().pageContext;switch(dc){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var hu=_l.usedRenderingMode!==void 0?_l.usedRenderingMode:-1;Ji!==-1?gi+=Ji+` Tr
`:hu!==-1&&(gi+=`0 Tr
`),Ji!==-1&&(_l.usedRenderingMode=Ji),wt=me.align||"left";var Rr,Si=et*ur,Ro=Jn.internal.pageSize.getWidth(),pu=Le[zt];Yt=me.charSpace||ds,Zt=me.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var va=[];if(Object.prototype.toString.call(S)==="[object Array]"){var cr;Ze=ma(S),wt!=="left"&&(Rr=Ze.map(function(En){return Jn.getStringUnitWidth(En,{font:pu,charSpace:Yt,fontSize:et,doKerning:!1})*et/Jr}));var br,Kr=0;if(wt==="right"){q-=Rr[0],S=[],Mi=Ze.length;for(var Zr=0;Zr<Mi;Zr++)Zr===0?(br=yr(q),cr=pa(fe)):(br=I(Kr-Rr[Zr]),cr=-Si),S.push([Ze[Zr],br,cr]),Kr=Rr[Zr]}else if(wt==="center"){q-=Rr[0]/2,S=[],Mi=Ze.length;for(var Ki=0;Ki<Mi;Ki++)Ki===0?(br=yr(q),cr=pa(fe)):(br=I((Kr-Rr[Ki])/2),cr=-Si),S.push([Ze[Ki],br,cr]),Kr=Rr[Ki]}else if(wt==="left"){S=[],Mi=Ze.length;for(var $a=0;$a<Mi;$a++)S.push(Ze[$a])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');S=[],Mi=Ze.length,Zt=Zt!==0?Zt:Ro;for(var Ui=0;Ui<Mi;Ui++)cr=Ui===0?pa(fe):-Si,br=Ui===0?yr(q):0,Ui<Mi-1?va.push(G(I((Zt-Rr[Ui])/(Ze[Ui].split(" ").length-1)))):va.push(0),S.push([Ze[Ui],br,cr])}}var Xa=typeof me.R2L=="boolean"?me.R2L:_t;Xa===!0&&(S=ga(S,function(En,Sn,Hn){return[En.split("").reverse().join(""),Sn,Hn]})),Pe={text:S,x:q,y:fe,options:me,mutex:{pdfEscape:Dn,activeFontKey:zt,fonts:Le,activeFontSize:et}},At.publish("postProcessText",Pe),S=Pe.text,Ir=Pe.mutex.isHex||!1;var _s=Le[zt].encoding;_s!=="WinAnsiEncoding"&&_s!=="StandardEncoding"||(S=ga(S,function(En,Sn,Hn){return[xl(En),Sn,Hn]})),Ze=ma(S),S=[];for(var Zi,ki,Pr,Qa=0,xr=1,eo=Array.isArray(Ze[0])?xr:Qa,ya="",ws=function(En,Sn,Hn){var Zn="";return Hn instanceof xt?(Hn=typeof me.angle=="number"?cn(Hn,new xt(1,0,0,1,En,Sn)):cn(new xt(1,0,0,1,En,Sn),Hn),D===k.ADVANCED&&(Hn=cn(new xt(1,0,0,-1,0,0),Hn)),Zn=Hn.join(" ")+` Tm
`):Zn=G(En)+" "+G(Sn)+` Td
`,Zn},_r=0;_r<Ze.length;_r++){switch(ya="",eo){case xr:Pr=(Ir?"<":"(")+Ze[_r][0]+(Ir?">":")"),Zi=parseFloat(Ze[_r][1]),ki=parseFloat(Ze[_r][2]);break;case Qa:Pr=(Ir?"<":"(")+Ze[_r]+(Ir?">":")"),Zi=yr(q),ki=pa(fe)}va!==void 0&&va[_r]!==void 0&&(ya=va[_r]+` Tw
`),_r===0?S.push(ya+ws(Zi,ki,Fn)+Pr):eo===Qa?S.push(ya+Pr):eo===xr&&S.push(ya+ws(Zi,ki,Fn)+Pr)}S=eo===Qa?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var ba=`BT
/`;return ba+=zt+" "+et+` Tf
`,ba+=G(et*ur)+` TL
`,ba+=Lo+`
`,ba+=gi,ba+=S,de(ba+="ET"),C[zt]=!0,Jn};var uu=_.__private__.clip=_.clip=function(S){return de(S==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return uu("evenodd")},_.__private__.discardPath=_.discardPath=function(){return de("n"),this};var Wi=_.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(S){return Wi(S)&&(p=S),this};var gr=_.__private__.getStyle=_.getStyle=function(S){var q=p;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},ls=_.close=function(){return de("h"),this};_.stroke=function(){return de("S"),this},_.fill=function(S){return Gr("f",S),this},_.fillEvenOdd=function(S){return Gr("f*",S),this},_.fillStroke=function(S){return Gr("B",S),this},_.fillStrokeEvenOdd=function(S){return Gr("B*",S),this};var Gr=function(S,q){Nn(q)==="object"?us(q,S):de(S)},vr=function(S){S===null||D===k.ADVANCED&&S===void 0||(S=gr(S),de(S))};function ml(S,q,fe,me,Ce){var Pe=new Wl(q||this.boundingBox,fe||this.xStep,me||this.yStep,this.gState,Ce||this.matrix);Pe.stream=this.stream;var Ze=S+"$$"+this.cloneIndex+++"$$";return _n(Ze,Pe),Pe}var us=function(S,q){var fe=Je[S.key],me=Be[fe];if(me instanceof $s)de("q"),de(cu(q)),me.gState&&_.setGState(me.gState),de(S.matrix.toString()+" cm"),de("/"+fe+" sh"),de("Q");else if(me instanceof Wl){var Ce=new xt(1,0,0,-1,0,Ja());S.matrix&&(Ce=Ce.multiply(S.matrix||sn),fe=ml.call(me,S.key,S.boundingBox,S.xStep,S.yStep,Ce).id),de("q"),de("/Pattern cs"),de("/"+fe+" scn"),me.gState&&_.setGState(me.gState),de(q),de("Q")}},cu=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ha=_.moveTo=function(S,q){return de(G(I(S))+" "+G(ne(q))+" m"),this},Yr=_.lineTo=function(S,q){return de(G(I(S))+" "+G(ne(q))+" l"),this},ha=_.curveTo=function(S,q,fe,me,Ce,Pe){return de([G(I(S)),G(ne(q)),G(I(fe)),G(ne(me)),G(I(Ce)),G(ne(Pe)),"c"].join(" ")),this};_.__private__.line=_.line=function(S,q,fe,me,Ce){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||!Wi(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return D===k.COMPAT?this.lines([[fe-S,me-q]],S,q,[1,1],Ce||"S"):this.lines([[fe-S,me-q]],S,q,[1,1]).stroke()},_.__private__.lines=_.lines=function(S,q,fe,me,Ce,Pe){var Ze,ut,wt,Yt,Zt,rn,Pn,Fn,Jn,Kn,gi,Ir;if(typeof S=="number"&&(Ir=fe,fe=q,q=S,S=Ir),me=me||[1,1],Pe=Pe||!1,isNaN(q)||isNaN(fe)||!Array.isArray(S)||!Array.isArray(me)||!Wi(Ce)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ha(q,fe),Ze=me[0],ut=me[1],Yt=S.length,Kn=q,gi=fe,wt=0;wt<Yt;wt++)(Zt=S[wt]).length===2?(Kn=Zt[0]*Ze+Kn,gi=Zt[1]*ut+gi,Yr(Kn,gi)):(rn=Zt[0]*Ze+Kn,Pn=Zt[1]*ut+gi,Fn=Zt[2]*Ze+Kn,Jn=Zt[3]*ut+gi,Kn=Zt[4]*Ze+Kn,gi=Zt[5]*ut+gi,ha(rn,Pn,Fn,Jn,Kn,gi));return Pe&&ls(),vr(Ce),this},_.path=function(S){for(var q=0;q<S.length;q++){var fe=S[q],me=fe.c;switch(fe.op){case"m":Ha(me[0],me[1]);break;case"l":Yr(me[0],me[1]);break;case"c":ha.apply(this,me);break;case"h":ls()}}return this},_.__private__.rect=_.rect=function(S,q,fe,me,Ce){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||!Wi(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return D===k.COMPAT&&(me=-me),de([G(I(S)),G(ne(q)),G(I(fe)),G(I(me)),"re"].join(" ")),vr(Ce),this},_.__private__.triangle=_.triangle=function(S,q,fe,me,Ce,Pe,Ze){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||isNaN(Ce)||isNaN(Pe)||!Wi(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-S,me-q],[Ce-fe,Pe-me],[S-Ce,q-Pe]],S,q,[1,1],Ze,!0),this},_.__private__.roundedRect=_.roundedRect=function(S,q,fe,me,Ce,Pe,Ze){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||isNaN(Ce)||isNaN(Pe)||!Wi(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*fe),Pe=Math.min(Pe,.5*me),this.lines([[fe-2*Ce,0],[Ce*ut,0,Ce,Pe-Pe*ut,Ce,Pe],[0,me-2*Pe],[0,Pe*ut,-Ce*ut,Pe,-Ce,Pe],[2*Ce-fe,0],[-Ce*ut,0,-Ce,-Pe*ut,-Ce,-Pe],[0,2*Pe-me],[0,-Pe*ut,Ce*ut,-Pe,Ce,-Pe]],S+Ce,q,[1,1],Ze,!0),this},_.__private__.ellipse=_.ellipse=function(S,q,fe,me,Ce){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||!Wi(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*fe,Ze=4/3*(Math.SQRT2-1)*me;return Ha(S+fe,q),ha(S+fe,q-Ze,S+Pe,q-me,S,q-me),ha(S-Pe,q-me,S-fe,q-Ze,S-fe,q),ha(S-fe,q+Ze,S-Pe,q+me,S,q+me),ha(S+Pe,q+me,S+fe,q+Ze,S+fe,q),vr(Ce),this},_.__private__.circle=_.circle=function(S,q,fe,me){if(isNaN(S)||isNaN(q)||isNaN(fe)||!Wi(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,fe,fe,me)},_.setFont=function(S,q,fe){return fe&&(q=ee(q,fe)),zt=fl(S,q,{disableWarning:!1}),this};var Li=_.__private__.getFont=_.getFont=function(){return Le[fl.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var S,q,fe={};for(S in Re)if(Re.hasOwnProperty(S))for(q in fe[S]=[],Re[S])Re[S].hasOwnProperty(q)&&fe[S].push(q);return fe},_.addFont=function(S,q,fe,me,Ce){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(fe=ee(fe,me)),Ce=Ce||"Identity-H",za.call(this,S,q,fe,Ce)};var lr,Ga=r.lineWidth||.200025,Wr=_.__private__.getLineWidth=_.getLineWidth=function(){return Ga},fu=_.__private__.setLineWidth=_.setLineWidth=function(S){return Ga=S,de(G(I(S))+" w"),this};_.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(fe){return G(I(fe))}).join(" "),q=G(I(q)),de("["+S+"] "+q+" d"),this};var cs=_.__private__.getLineHeight=_.getLineHeight=function(){return et*lr};_.__private__.getLineHeight=_.getLineHeight=function(){return et*lr};var fs=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(lr=S),this},Ya=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return lr};fs(r.lineHeight);var yr=_.__private__.getHorizontalCoordinate=function(S){return I(S)},pa=_.__private__.getVerticalCoordinate=function(S){return D===k.ADVANCED?S:pt[j].mediaBox.topRightY-pt[j].mediaBox.bottomLeftY-I(S)},lc=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(S){return G(yr(S))},Wa=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(S){return G(pa(S))},Dr=r.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Ni(Dr)},_.__private__.setStrokeColor=_.setDrawColor=function(S,q,fe,me){return Dr=Ei({ch1:S,ch2:q,ch3:fe,ch4:me,pdfColorType:"draw",precision:2}),de(Dr),this};var Eo=r.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Ni(Eo)},_.__private__.setFillColor=_.setFillColor=function(S,q,fe,me){return Eo=Ei({ch1:S,ch2:q,ch3:fe,ch4:me,pdfColorType:"fill",precision:2}),de(Eo),this};var Lo=r.textColor||"0 g",uc=_.__private__.getTextColor=_.getTextColor=function(){return Ni(Lo)};_.__private__.setTextColor=_.setTextColor=function(S,q,fe,me){return Lo=Ei({ch1:S,ch2:q,ch3:fe,ch4:me,pdfColorType:"text",precision:3}),this};var ds=r.charSpace,cc=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(ds||0)};_.__private__.setCharSpace=_.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ds=S,this};var gl=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(S){var q=_.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gl=q,de(q+" J"),this};var hs=0;_.__private__.setLineJoin=_.setLineJoin=function(S){var q=_.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hs=q,de(q+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(G(I(S))+" M"),this},_.GState=pf,_.setGState=function(S){(S=typeof S=="string"?it[dt[S]]:du(null,S)).equals(Lt)||(de("/"+S.id+" gs"),Lt=S)};var du=function(S,q){if(!S||!dt[S]){var fe=!1;for(var me in it)if(it.hasOwnProperty(me)&&it[me].equals(q)){fe=!0;break}if(fe)q=it[me];else{var Ce="GS"+(Object.keys(it).length+1).toString(10);it[Ce]=q,q.id=Ce}return S&&(dt[S]=q.id),At.publish("addGState",q),q}};_.addGState=function(S,q){return du(S,q),this},_.saveGraphicsState=function(){return de("q"),Ue.push({key:zt,size:et,color:Lo}),this},_.restoreGraphicsState=function(){de("Q");var S=Ue.pop();return zt=S.key,et=S.size,Lo=S.color,Lt=null,this},_.setCurrentTransformationMatrix=function(S){return de(S.toString()+" cm"),this},_.comment=function(S){return de("#"+S),this};var ps=function(S,q){var fe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=parseFloat(Pe))}});var me=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Pe){isNaN(Pe)||(me=parseFloat(Pe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Pe){Ce=Pe.toString()}}),this},vl=function(S,q,fe,me){ps.call(this,S,q),this.type="rect";var Ce=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Ze){isNaN(Ze)||(Ce=parseFloat(Ze))}});var Pe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ze){isNaN(Ze)||(Pe=parseFloat(Ze))}}),this},yl=function(){this.page=bt,this.currentPage=j,this.pages=We.slice(0),this.pagesContext=pt.slice(0),this.x=Vn,this.y=Kt,this.matrix=_i,this.width=Mo(j),this.height=Ja(j),this.outputDestination=lt,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){bt=this.page,j=this.currentPage,pt=this.pagesContext,We=this.pages,Vn=this.x,Kt=this.y,_i=this.matrix,vs(j,this.width),bl(j,this.height),lt=this.outputDestination};var ms=function(S,q,fe,me,Ce){rr.push(new yl),bt=j=0,We=[],Vn=S,Kt=q,_i=Ce,No([fe,me])},fc=function(S){if(Hi[S])rr.pop().restore();else{var q=new yl,fe="Xo"+(Object.keys(Gt).length+1).toString(10);q.id=fe,Hi[S]=fe,Gt[fe]=q,At.publish("addFormObject",q),rr.pop().restore()}};for(var gs in _.beginFormObject=function(S,q,fe,me,Ce){return ms(S,q,fe,me,Ce),this},_.endFormObject=function(S){return fc(S),this},_.doFormObject=function(S,q){var fe=Gt[Hi[S]];return de("q"),de(q.toString()+" cm"),de("/"+fe.id+" Do"),de("Q"),this},_.getFormObject=function(S){var q=Gt[Hi[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},_.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Yl(os(ca()),S),typeof Yl.unload=="function"&&Pt.setTimeout&&setTimeout(Yl.unload,911),this):new Promise(function(fe,me){try{var Ce=Yl(os(ca()),S);typeof Yl.unload=="function"&&Pt.setTimeout&&setTimeout(Yl.unload,911),fe(Ce)}catch(Pe){me(Pe.message)}})},Mt.API)Mt.API.hasOwnProperty(gs)&&(gs==="events"&&Mt.API.events.length?function(S,q){var fe,me,Ce;for(Ce=q.length-1;Ce!==-1;Ce--)fe=q[Ce][0],me=q[Ce][1],S.subscribe.apply(S,[fe].concat(typeof me=="function"?[me]:me))}(At,Mt.API.events):_[gs]=Mt.API[gs]);var Mo=_.getPageWidth=function(S){return(pt[S=S||j].mediaBox.topRightX-pt[S].mediaBox.bottomLeftX)/st},vs=_.setPageWidth=function(S,q){pt[S].mediaBox.topRightX=q*st+pt[S].mediaBox.bottomLeftX},Ja=_.getPageHeight=function(S){return(pt[S=S||j].mediaBox.topRightY-pt[S].mediaBox.bottomLeftY)/st},bl=_.setPageHeight=function(S,q){pt[S].mediaBox.topRightY=q*st+pt[S].mediaBox.bottomLeftY};return _.internal={pdfEscape:Dn,getStyle:gr,getFont:Li,getFontSize:ot,getCharSpace:cc,getTextColor:uc,getLineHeight:cs,getLineHeightFactor:Ya,getLineWidth:Wr,write:ht,getHorizontalCoordinate:yr,getVerticalCoordinate:pa,getCoordinateString:lc,getVerticalCoordinateString:Wa,collections:{},newObject:Wn,newAdditionalObject:So,newObjectDeferred:ti,newObjectDeferredBegin:ar,getFilters:Gi,putStream:wi,events:At,scaleFactor:st,pageSize:{getWidth:function(){return Mo(j)},setWidth:function(S){vs(j,S)},getHeight:function(){return Ja(j)},setHeight:function(S){bl(j,S)}},encryptionOptions:b,encryption:mi,getEncryptor:ja,output:fa,getNumberOfPages:ou,pages:We,out:de,f2:se,f3:U,getPageInfo:da,getPageInfoByObjId:Ut,getCurrentPageInfo:pl,getPDFVersion:L,Point:ps,Rectangle:vl,Matrix:xt,hasHotfix:ss},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return Mo(j)},set:function(S){vs(j,S)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Ja(j)},set:function(S){bl(j,S)},enumerable:!0,configurable:!0}),au.call(_,Ke),zt="F1",ul(o,t),At.publish("initialized"),_}Ku.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Ku.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ku.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Ku.prototype.processOwnerPassword=function(r,e){return Dp(kp(e).substr(0,5),r)},Ku.prototype.encryptor=function(r,e){var t=kp(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Dp(t,i)}},pf.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Nn(r)!==Nn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Mt.API={events:[]},Mt.version="2.5.1";var ai=Mt.API,sm=1,tu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(r){return r.toFixed(2)},Ks=function(r){return r.toFixed(5)};ai.__acroform__={};var Lr=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Ig=function(r){return r*sm},mo=function(r){var e=new O2,t=mt.internal.getHeight(r)||0,i=mt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Jt(i)),Number(Jt(t))],e},ky=ai.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},Dy=ai.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},Iy=ai.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},di=ai.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Iy(r,e-1)},hi=ai.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ky(r,e-1)},pi=ai.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dy(r,e-1)},Ry=ai.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,o=r[0],s=r[1],u=r[2],f=r[3],d={};return d.lowerLeft_X=t(o)||0,d.lowerLeft_Y=i(s+f)||0,d.upperRight_X=t(o+u)||0,d.upperRight_Y=i(s)||0,[Number(Jt(d.lowerLeft_X)),Number(Jt(d.lowerLeft_Y)),Number(Jt(d.upperRight_X)),Number(Jt(d.upperRight_Y))]},Py=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=Ip(r,t),o=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+o+" "+Jt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=mo(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Ip=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=r.multiline?o.map(function(U){return U.split(`
`)}):o.map(function(U){return[U]});var s=t,u=mt.internal.getHeight(r)||0;u=u<0?-u:u;var f=mt.internal.getWidth(r)||0;f=f<0?-f:f;var d=function(U,I,te){if(U+1<o.length){var ne=I+" "+o[U+1][0];return md(ne,r,te).width<=f-4}return!1};s++;e:for(;s>0;){e="",s--;var p,b,x=md("3",r,s).height,C=r.multiline?u-s:(u-x)/2,_=C+=2,T=0,L=0,R=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+md(e,r,s=12).width+", FieldWidth:"+f+`
`;break}for(var E="",k=0,D=0;D<o.length;D++)if(o.hasOwnProperty(D)){var V=!1;if(o[D].length!==1&&R!==o[D].length-1){if((x+2)*(k+2)+2>u)continue e;E+=o[D][R],V=!0,L=D,D--}else{E=(E+=o[D][R]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var J=parseInt(D),ee=d(J,E,s),G=D>=o.length-1;if(ee&&!G){E+=" ",R=0;continue}if(ee||G){if(G)L=J;else if(r.multiline&&(x+2)*(k+2)+2>u)continue e}else{if(!r.multiline||(x+2)*(k+2)+2>u)continue e;L=J}}for(var z="",re=T;re<=L;re++){var se=o[re];if(r.multiline){if(re===L){z+=se[R]+" ",R=(R+1)%se.length;continue}if(re===T){z+=se[se.length-1]+" ";continue}}z+=se[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,b=md(z,r,s).width,r.textAlign){case"right":p=f-b-2;break;case"center":p=(f-b)/2;break;case"left":default:p=2}e+=Jt(p)+" "+Jt(_)+` Td
`,e+="("+tu(z)+`) Tj
`,e+=-Jt(p)+` 0 Td
`,_=-(s+2),b=0,T=V?L:L+1,k++,E=""}break}return i.text=e,i.fontSize=s,i},md=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:o}},Oy={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uy=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Fy=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var i=t,o=r[t];e.internal.newObjectDeferredBegin(o.objId,!0),Nn(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete r[i]}},By=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Ua.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Oy)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sm=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new U2,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s.objId=void 0,s.hasAnnotation&&Uy(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,o){var s=!i;for(var u in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var f=i[u],d=[],p=f.Rect;if(f.Rect&&(f.Rect=Ry(f.Rect,o)),o.internal.newObjectDeferredBegin(f.objId,!0),f.DA=mt.createDefaultAppearanceStream(f),Nn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(d=f.getKeyValueListForStream()),f.Rect=p,f.hasAppearanceStream&&!f.appearanceStreamContent){var b=Py(f);d.push({key:"AP",value:"<</N "+b+">>"}),o.internal.acroformPlugin.xForms.push(b)}if(f.appearanceStreamContent){var x="";for(var C in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(C)){var _=f.appearanceStreamContent[C];if(x+="/"+C+" ",x+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var u in _)if(_.hasOwnProperty(u)){var T=_[u];typeof T=="function"&&(T=T.call(o,f)),x+="/"+u+" "+T+" ",o.internal.acroformPlugin.xForms.indexOf(T)>=0||o.internal.acroformPlugin.xForms.push(T)}}else typeof(T=_)=="function"&&(T=T.call(o,f)),x+="/"+u+" "+T,o.internal.acroformPlugin.xForms.indexOf(T)>=0||o.internal.acroformPlugin.xForms.push(T);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}o.internal.putStream({additionalKeyValues:d,objectId:f.objId}),o.internal.out("endobj")}s&&Fy(o.internal.acroformPlugin.xForms,o)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},P2=ai.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(u){return u};if(Array.isArray(r)){for(var o="[",s=0;s<r.length;s++)switch(s!==0&&(o+=" "),Nn(r[s])){case"boolean":case"number":case"object":o+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),o+="("+tu(i(r[s].toString()))+")"):o+=r[s].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},up=function(r,e,t){var i=function(o){return o};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+tu(i(r))+")"},vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vo.prototype.toString=function(){return this.objId+" 0 R"},vo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},vo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],o=this[i];o&&(Array.isArray(o)?r.push({key:i,value:P2(o,this.objId,this.scope)}):o instanceof vo?(o.scope=this.scope,r.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&r.push({key:i,value:o}))}return r};var O2=function(){vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Lr(O2,vo);var U2=function(){vo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+tu(t(r))+")"}},set:function(t){r=t}})};Lr(U2,vo);var Ua=function r(){vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!di(e,3)},set:function(E){E?this.F=hi(e,3):this.F=pi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Td)return;s="FieldObject"+r.FieldNum++}var E=function(k){return k};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+tu(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/sm:p},set:function(E){p=E}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(E){b=E}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Td||this instanceof Qs))return up(x,this.objId,this.scope)},set:function(E){E=E.toString(),x=E}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Ti?C:up(C,this.objId,this.scope)},set:function(E){E=E.toString(),C=this instanceof Ti?E:E.substr(0,1)==="("?Yu(E.substr(1,E.length-2)):Yu(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?Yu(C.substr(1,C.length-1)):C},set:function(E){E=E.toString(),C=this instanceof Ti?"/"+E:E}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Ti?_:up(_,this.objId,this.scope)},set:function(E){E=E.toString(),_=this instanceof Ti?E:E.substr(0,1)==="("?Yu(E.substr(1,E.length-2)):Yu(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?Yu(_.substr(1,_.length-1)):_},set:function(E){E=E.toString(),_=this instanceof Ti?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(E){E=!!E,L=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(E){T=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,1)},set:function(E){E?this.Ff=hi(this.Ff,1):this.Ff=pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,2)},set:function(E){E?this.Ff=hi(this.Ff,2):this.Ff=pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,3)},set:function(E){E?this.Ff=hi(this.Ff,3):this.Ff=pi(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');R=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(R){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:R=2;break;case"center":case 1:R=1;break;case"left":case 0:default:R=0}}})};Lr(Ua,vo);var Jl=function(){Ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P2(e,this.objId,this.scope)},set:function(t){var i,o;o=[],typeof(i=t)=="string"&&(o=function(s,u,f){f||(f=1);for(var d,p=[];d=u.exec(s);)p.push(d[f]);return p}(i,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,18)},set:function(t){t?this.Ff=hi(this.Ff,18):this.Ff=pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=hi(this.Ff,19):this.Ff=pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,20)},set:function(t){t?(this.Ff=hi(this.Ff,20),e.sort()):this.Ff=pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,22)},set:function(t){t?this.Ff=hi(this.Ff,22):this.Ff=pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,23)},set:function(t){t?this.Ff=hi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,27)},set:function(t){t?this.Ff=hi(this.Ff,27):this.Ff=pi(this.Ff,27)}}),this.hasAppearanceStream=!1};Lr(Jl,Ua);var Kl=function(){Jl.call(this),this.fontName="helvetica",this.combo=!1};Lr(Kl,Jl);var Zl=function(){Kl.call(this),this.combo=!0};Lr(Zl,Kl);var af=function(){Zl.call(this),this.edit=!0};Lr(af,Zl);var Ti=function(){Ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,15)},set:function(t){t?this.Ff=hi(this.Ff,15):this.Ff=pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,16)},set:function(t){t?this.Ff=hi(this.Ff,16):this.Ff=pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,17)},set:function(t){t?this.Ff=hi(this.Ff,17):this.Ff=pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,26)},set:function(t){t?this.Ff=hi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,o=[];for(i in o.push("<<"),e)o.push("/"+i+" ("+tu(t(e[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(t){Nn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Lr(Ti,Ua);var of=function(){Ti.call(this),this.pushButton=!0};Lr(of,Ti);var $l=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Lr($l,Ti);var Td=function(){var r,e;Ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(f){return f};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),i)u.push("/"+s+" ("+tu(o(i[s]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Nn(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(o){t="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lr(Td,Ua),$l.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},$l.prototype.createOption=function(r){var e=new Td;return e.Parent=this,e.optionName=r,this.Kids.push(e),qy.call(this.scope,e),e};var sf=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Lr(sf,Ti);var Qs=function(){Ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,13)},set:function(e){e?this.Ff=hi(this.Ff,13):this.Ff=pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,21)},set:function(e){e?this.Ff=hi(this.Ff,21):this.Ff=pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,23)},set:function(e){e?this.Ff=hi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,24)},set:function(e){e?this.Ff=hi(this.Ff,24):this.Ff=pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,25)},set:function(e){e?this.Ff=hi(this.Ff,25):this.Ff=pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,26)},set:function(e){e?this.Ff=hi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lr(Qs,Ua);var lf=function(){Qs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,14)},set:function(r){r?this.Ff=hi(this.Ff,14):this.Ff=pi(this.Ff,14)}}),this.password=!0};Lr(lf,Qs);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),s=Ip(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Jt(s.fontSize)+" Tf "+o),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=mo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),o=[],s=mt.internal.getHeight(r),u=mt.internal.getWidth(r),f=Ip(r,r.caption);return o.push("1 g"),o.push("0 0 "+Jt(u)+" "+Jt(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Jt(u-1)+" "+Jt(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+t+" "+Jt(f.fontSize)+" Tf "+i),o.push(f.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=mt.RadioButton.Circle.YesNormal,e.D[r]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.getWidth(r)<=mt.internal.getHeight(r)?mt.internal.getWidth(r)/4:mt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var o=mt.internal.Bezier_C,s=Number((i*o).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.getWidth(r)<=mt.internal.getHeight(r)?mt.internal.getWidth(r)/4:mt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*mt.internal.Bezier_C).toFixed(5)),u=Number((i*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),t.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),t.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),t.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),t.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),t.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),t.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.getWidth(r)<=mt.internal.getHeight(r)?mt.internal.getWidth(r)/4:mt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),t.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),t.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),t.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=mt.RadioButton.Cross.YesNormal,e.D[r]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Jt(mt.internal.getWidth(r)-2)+" "+Jt(mt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(i.x1.x)+" "+Jt(i.x1.y)+" m"),t.push(Jt(i.x2.x)+" "+Jt(i.x2.y)+" l"),t.push(Jt(i.x4.x)+" "+Jt(i.x4.y)+" m"),t.push(Jt(i.x3.x)+" "+Jt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=mt.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Jt(mt.internal.getWidth(r)-2)+" "+Jt(mt.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),i.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),i.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),i.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=mt.internal.getWidth(r),t=mt.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},mt.internal.getWidth=function(r){var e=0;return Nn(r)==="object"&&(e=Ig(r.Rect[2])),e},mt.internal.getHeight=function(r){var e=0;return Nn(r)==="object"&&(e=Ig(r.Rect[3])),e};var qy=ai.addField=function(r){if(By(this,r),!(r instanceof Ua))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ai.AcroFormChoiceField=Jl,ai.AcroFormListBox=Kl,ai.AcroFormComboBox=Zl,ai.AcroFormEditBox=af,ai.AcroFormButton=Ti,ai.AcroFormPushButton=of,ai.AcroFormRadioButton=$l,ai.AcroFormCheckBox=sf,ai.AcroFormTextField=Qs,ai.AcroFormPasswordField=lf,ai.AcroFormAppearance=mt,ai.AcroForm={ChoiceField:Jl,ListBox:Kl,ComboBox:Zl,EditBox:af,Button:Ti,PushButton:of,RadioButton:$l,CheckBox:sf,TextField:Qs,PasswordField:lf,Appearance:mt},Mt.AcroForm={ChoiceField:Jl,ListBox:Kl,ComboBox:Zl,EditBox:af,Button:Ti,PushButton:of,RadioButton:$l,CheckBox:sf,TextField:Qs,PasswordField:lf,Appearance:mt};var zy=Mt.AcroForm;function F2(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(U,I){var te,ne,ye,F,K,ie=e;if((I=I||e)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(ee(U))for(K in t)for(ye=t[K],te=0;te<ye.length;te+=1){for(F=!0,ne=0;ne<ye[te].length;ne+=1)if(ye[te][ne]!==void 0&&ye[te][ne]!==U[ne]){F=!1;break}if(F===!0){ie=K;break}}else for(K in t)for(ye=t[K],te=0;te<ye.length;te+=1){for(F=!0,ne=0;ne<ye[te].length;ne+=1)if(ye[te][ne]!==void 0&&ye[te][ne]!==U.charCodeAt(ne)){F=!1;break}if(F===!0){ie=K;break}}return ie===e&&I!==e&&(ie=I),ie},o=function U(I){for(var te=this.internal.write,ne=this.internal.putStream,ye=(0,this.internal.getFilters)();ye.indexOf("FlateEncode")!==-1;)ye.splice(ye.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:I.width}),F.push({key:"Height",value:I.height}),I.colorSpace===R.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===R.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var K="",ie=0,ae=I.transparency.length;ie<ae;ie++)K+=I.transparency[ie]+" "+I.transparency[ie]+" ";F.push({key:"Mask",value:"["+K+"]"})}I.sMask!==void 0&&F.push({key:"SMask",value:I.objectId+1+" 0 R"});var O=I.filter!==void 0?["/"+I.filter]:void 0;if(ne({data:I.data,additionalKeyValues:F,alreadyAppliedFilters:O,objectId:I.objectId}),te("endobj"),"sMask"in I&&I.sMask!==void 0){var ce="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,M={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ce,data:I.sMask};"filter"in I&&(M.filter=I.filter),U.call(this,M)}if(I.colorSpace===R.INDEXED){var j=this.internal.newObject();ne({data:z(new Uint8Array(I.palette)),objectId:j}),te("endobj")}},s=function(){var U=this.internal.collections.addImage_images;for(var I in U)o.call(this,U[I])},u=function(){var U,I=this.internal.collections.addImage_images,te=this.internal.write;for(var ne in I)te("/I"+(U=I[ne]).index,U.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",u))},d=function(){var U=this.internal.collections.addImage_images;return f.call(this),U},p=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(U){return typeof r["process"+U.toUpperCase()]=="function"},x=function(U){return Nn(U)==="object"&&U.nodeType===1},C=function(U,I){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var te=""+U.getAttribute("src");if(te.indexOf("data:image/")===0)return rf(unescape(te).split("base64,").pop());var ne=r.loadFile(te,!0);if(ne!==void 0)return ne}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var ye;switch(I){case"PNG":ye="image/png";break;case"WEBP":ye="image/webp";break;case"JPEG":case"JPG":default:ye="image/jpeg"}return rf(U.toDataURL(ye,1).split("base64,").pop())}},_=function(U){var I=this.internal.collections.addImage_images;if(I){for(var te in I)if(U===I[te].alias)return I[te]}},T=function(U,I,te){return U||I||(U=-96,I=-96),U<0&&(U=-1*te.width*72/U/this.internal.scaleFactor),I<0&&(I=-1*te.height*72/I/this.internal.scaleFactor),U===0&&(U=I*te.width/te.height),I===0&&(I=U*te.height/te.width),[U,I]},L=function(U,I,te,ne,ye,F){var K=T.call(this,te,ne,ye),ie=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,O=d.call(this);if(te=K[0],ne=K[1],O[ye.index]=ye,F){F*=Math.PI/180;var ce=Math.cos(F),M=Math.sin(F),j=function(le){return le.toFixed(4)},X=[j(ce),j(M),j(-1*M),j(ce),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,ie(U),ae(I+ne),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ie(te),"0","0",ie(ne),"0","0","cm"].join(" "))):this.internal.write([ie(te),"0","0",ie(ne),ie(U),ae(I+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ye.index+" Do"),this.internal.write("Q")},R=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=r.__addimage__.sHashCode=function(U){var I,te,ne=0;if(typeof U=="string")for(te=U.length,I=0;I<te;I++)ne=(ne<<5)-ne+U.charCodeAt(I),ne|=0;else if(ee(U))for(te=U.byteLength/2,I=0;I<te;I++)ne=(ne<<5)-ne+U[I],ne|=0;return ne},D=r.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var I=!0;return U.length===0&&(I=!1),U.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(I=!1),I},V=r.__addimage__.extractImageFromDataUrl=function(U){var I=(U=U||"").split("base64,"),te=null;if(I.length===2){var ne=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(ne)&&(te={mimeType:ne[1],charset:ne[2],data:I[1]})}return te},J=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(U){return J()&&U instanceof ArrayBuffer};var ee=r.__addimage__.isArrayBufferView=function(U){return J()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},G=r.__addimage__.binaryStringToUint8Array=function(U){for(var I=U.length,te=new Uint8Array(I),ne=0;ne<I;ne++)te[ne]=U.charCodeAt(ne);return te},z=r.__addimage__.arrayBufferToBinaryString=function(U){for(var I="",te=ee(U)?U:new Uint8Array(U),ne=0;ne<te.length;ne+=8192)I+=String.fromCharCode.apply(null,te.subarray(ne,ne+8192));return I};r.addImage=function(){var U,I,te,ne,ye,F,K,ie,ae;if(typeof arguments[1]=="number"?(I=e,te=arguments[1],ne=arguments[2],ye=arguments[3],F=arguments[4],K=arguments[5],ie=arguments[6],ae=arguments[7]):(I=arguments[1],te=arguments[2],ne=arguments[3],ye=arguments[4],F=arguments[5],K=arguments[6],ie=arguments[7],ae=arguments[8]),Nn(U=arguments[0])==="object"&&!x(U)&&"imageData"in U){var O=U;U=O.imageData,I=O.format||I||e,te=O.x||te||0,ne=O.y||ne||0,ye=O.w||O.width||ye,F=O.h||O.height||F,K=O.alias||K,ie=O.compression||ie,ae=O.rotation||O.angle||ae}var ce=this.internal.getFilters();if(ie===void 0&&ce.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(te)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var M=re.call(this,U,I,K,ie);return L.call(this,te,ne,ye,F,M,ae),this};var re=function(U,I,te,ne){var ye,F,K;if(typeof U=="string"&&i(U)===e){U=unescape(U);var ie=se(U,!1);(ie!==""||(ie=r.loadFile(U,!0))!==void 0)&&(U=ie)}if(x(U)&&(U=C(U,I)),I=i(U,I),!b(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((K=te)==null||K.length===0)&&(te=function(ae){return typeof ae=="string"||ee(ae)?k(ae):ee(ae.data)?k(ae.data):null}(U)),(ye=_.call(this,te))||(J()&&(U instanceof Uint8Array||I==="RGBA"||(F=U,U=G(U))),ye=this["process"+I.toUpperCase()](U,p.call(this),te,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in r.image_compression?ae:E.NONE}(ne),F)),!ye)throw new Error("An unknown error occurred whilst processing the image.");return ye},se=r.__addimage__.convertBase64ToBinaryString=function(U,I){var te;I=typeof I!="boolean"||I;var ne,ye="";if(typeof U=="string"){ne=(te=V(U))!==null?te.data:U;try{ye=rf(ne)}catch(F){if(I)throw D(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ye};r.getImageProperties=function(U){var I,te,ne="";if(x(U)&&(U=C(U)),typeof U=="string"&&i(U)===e&&((ne=se(U,!1))===""&&(ne=r.loadFile(U)||""),U=ne),te=i(U),!b(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(!J()||U instanceof Uint8Array||(U=G(U)),!(I=this["process"+te.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=te,I}})(Mt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Mt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,o,s,u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,b=!1,x=0;x<p.length&&!b;x++)switch((i=p[x]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var C=0;C<p.length;C++){i=p[C];var _=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(L.objId),k=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(i.bounds.x)+" "+f(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+f(i.bounds.y)+"] ")+"/Contents ("+_(E(i.contents))+")",s+=" /Popup "+R.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+_(E(k))+") >>",L.content=s;var D=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(i.bounds.x+30)+" "+f(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+f(i.bounds.y)+"] ")+" /Parent "+D,i.open&&(s+=" /Open true"),s+=" >>",R.content=s,this.internal.write(L.objId,"0 R",R.objId,"0 R");break;case"freetext":o="/Rect ["+u(i.bounds.x)+" "+f(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+f(i.bounds.y+i.bounds.h)+"] ";var V=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+_(T(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var J=this.annotations._nameMap[i.options.name];i.options.pageNumber=J.page,i.options.top=J.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+_(T(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ee=f(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+ee+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,o,s,u){var f=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:d(t),y:p(i),w:d(t+o),h:p(i+s)},options:u,type:"link"})},r.textWithLink=function(t,i,o,s){var u,f,d=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){f=s.maxWidth;var b=this.splitTextToSize(t,f).length;u=Math.ceil(p*b)}else f=d,u=p;return this.text(t,i,o,s),o+=.2*p,s.align==="center"&&(i-=d/2),s.align==="right"&&(i-=d),this.link(i,o-p,f,u,s),d},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Mt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},f=r.__arabicParser__.isArabicEndLetter=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(L){return u(L)&&o.indexOf(L.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length>=1};var p=r.__arabicParser__.arabicLetterHasFinalForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length>=3};var b=r.__arabicParser__.arabicLetterHasMedialForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length==4},x=r.__arabicParser__.resolveLigatures=function(L){var R=0,E=t,k="",D=0;for(R=0;R<L.length;R+=1)E[L.charCodeAt(R)]!==void 0?(D++,typeof(E=E[L.charCodeAt(R)])=="number"&&(k+=String.fromCharCode(E),E=t,D=0),R===L.length-1&&(E=t,k+=L.charAt(R-(D-1)),R-=D-1,D=0)):(E=t,k+=L.charAt(R-D),R-=D,D=0);return k};r.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&i[L.charCodeAt(0)]!==void 0};var C=r.__arabicParser__.getCorrectForm=function(L,R,E){return u(L)?s(L)===!1?-1:!p(L)||!u(R)&&!u(E)||!u(E)&&f(R)||f(L)&&!u(R)||f(L)&&d(R)||f(L)&&f(R)?0:b(L)&&u(R)&&!f(R)&&u(E)&&p(E)?3:f(L)||!u(E)?1:2:-1},_=function(L){var R=0,E=0,k=0,D="",V="",J="",ee=(L=L||"").split("\\s+"),G=[];for(R=0;R<ee.length;R+=1){for(G.push(""),E=0;E<ee[R].length;E+=1)D=ee[R][E],V=ee[R][E-1],J=ee[R][E+1],u(D)?(k=C(D,V,J),G[R]+=k!==-1?String.fromCharCode(e[D.charCodeAt(0)][k]):D):G[R]+=D;G[R]=x(G[R])}return G.join(" ")},T=r.__arabicParser__.processArabic=r.processArabic=function(){var L,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(R)){var k=0;for(E=[],k=0;k<R.length;k+=1)Array.isArray(R[k])?E.push([_(R[k][0]),R[k][1],R[k][2]]):E.push([_(R[k])]);L=E}else L=_(R);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};r.events.push(["preProcessText",T])}(Mt.API),Mt.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(f){t=f}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(f){i=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(f){o=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(f){s=f}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(f){u=f}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var o;if((t=t||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(L){d=L}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(L){b=L}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(L){x=L}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(L){C=L}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(L){_=L}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(L){T=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,p){i.call(this);var b=(p=p||{}).fontSize||this.getFontSize(),x=p.font||this.getFont(),C=p.scaleFactor||this.internal.scaleFactor,_=0,T=0,L=0,R=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var E=p.maxWidth;E>0?typeof d=="string"?d=this.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(D,V){return D.concat(R.splitTextToSize(V,E))},[])):d=Array.isArray(d)?d:[d];for(var k=0;k<d.length;k++)_<(L=this.getStringUnitWidth(d[k],{font:x})*b)&&(_=L);return _!==0&&(T=d.length),{w:_/=C,h:Math.max((T*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/C,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,C=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,_&&C&&(this.printHeaderRow(d.lineNumber,!0),d.y+=C[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-b,d.y+b,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+b,{align:"center",baseline:"top",maxWidth:d.width-b-b}):this.text(d.text,d.x+b,d.y+b,{align:"left",baseline:"top",maxWidth:d.width-b-b})),this.internal.__cell__.lastCell=d,this};r.table=function(d,p,b,x,C){if(i.call(this),!b)throw new Error("No data for PDF table.");var _,T,L,R,E=[],k=[],D=[],V={},J={},ee=[],G=[],z=(C=C||{}).autoSize||!1,re=C.printHeaders!==!1,se=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,U=C.margins||Object.assign({width:this.getPageWidth()},e),I=typeof C.padding=="number"?C.padding:3,te=C.headerBackgroundColor||"#c8c8c8",ne=C.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=re,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=ne,this.setFontSize(se),x==null)k=E=Object.keys(b[0]),D=E.map(function(){return"left"});else if(Array.isArray(x)&&Nn(x[0])==="object")for(E=x.map(function(O){return O.name}),k=x.map(function(O){return O.prompt||O.name||""}),D=x.map(function(O){return O.align||"left"}),_=0;_<x.length;_+=1)J[x[_].name]=x[_].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(k=E=x,D=E.map(function(){return"left"}));if(z||Array.isArray(x)&&typeof x[0]=="string")for(_=0;_<E.length;_+=1){for(V[R=E[_]]=b.map(function(O){return O[R]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(k[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=V[R],this.setFont(void 0,"normal"),L=0;L<T.length;L+=1)ee.push(this.getTextDimensions(T[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[R]=Math.max.apply(null,ee)+I+I,ee=[]}if(re){var ye={};for(_=0;_<E.length;_+=1)ye[E[_]]={},ye[E[_]].text=k[_],ye[E[_]].align=D[_];var F=f.call(this,ye,J);G=E.map(function(O){return new s(d,p,J[O],F,ye[O].text,void 0,ye[O].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var K=x.reduce(function(O,ce){return O[ce.name]=ce.align,O},{});for(_=0;_<b.length;_+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:_,data:b[_]},this);var ie=f.call(this,b[_],J);for(L=0;L<E.length;L+=1){var ae=b[_][E[L]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:_,col:L,data:ae},this),u.call(this,new s(d,p,J[E[L]],ie,ae,_+2,K[E[L]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var f=function(d,p){var b=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(d).map(function(_){var T=d[_];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,p[_]-b-b)},this).map(function(_){return this.getLineHeightFactor()*_.length*x/C+b+b},this).reduce(function(_,T){return Math.max(_,T)},0)};r.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){b=this.internal.__cell__.tableHeaderRow[_].clone(),p&&(b.y=this.internal.__cell__.margins.top||0,C.push(b)),b.lineNumber=d;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,b),this.setTextColor(T)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}}(Mt.API);var B2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},q2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Rp=F2(q2),z2=[100,200,300,400,500,600,700,800,900],Vy=F2(z2);function Pp(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return B2[s=s||"normal"]?s:"normal"}(r.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),o=function(s){return typeof Rp[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:i,stretch:o,src:r.src||[],ref:r.ref||{name:e,style:[o,t,i].join(" ")}}}function Rg(r,e,t,i){var o;for(o=t;o>=0&&o<e.length;o+=i)if(r[e[o]])return r[e[o]];for(o=t;o>=0&&o<e.length;o-=i)if(r[e[o]])return r[e[o]]}var jy={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Pg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Og(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Hy(r,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",o=Object.assign({},jy,t.genericFontFamilies||{}),s=null,u=null,f=0;f<e.length;++f)if(o[(s=Pp(e[f])).family]&&(s.family=o[s.family]),r.hasOwnProperty(s.family)){u=r[s.family];break}if(!(u=u||r[i]))throw new Error("Could not find a font-family for the rule '"+Og(s)+"' and default family '"+i+"'.");if(u=function(d,p){if(p[d])return p[d];var b=Rp[d],x=b<=Rp.normal?-1:1,C=Rg(p,q2,b,x);if(!C)throw new Error("Could not find a matching font-stretch value for "+d);return C}(s.stretch,u),u=function(d,p){if(p[d])return p[d];for(var b=B2[d],x=0;x<b.length;++x)if(p[b[x]])return p[b[x]];throw new Error("Could not find a matching font-style for "+d)}(s.style,u),!(u=function(d,p){if(p[d])return p[d];if(d===400&&p[500])return p[500];if(d===500&&p[400])return p[400];var b=Vy[d],x=Rg(p,z2,b,d<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+d);return x}(s.weight,u)))throw new Error("Failed to resolve a font for the rule '"+Og(s)+"'.");return u}function Ug(r){return r.trimLeft()}function Gy(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Yy(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var gd,Fg,Bg,cp=["times"];(function(r){var e,t,i,o,s,u,f,d,p,b=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new d,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new u,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new u,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,f=this.internal.Rectangle,d=this.internal.Matrix,p=new b}]);var x=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=M;Object.defineProperty(this,"pdf",{get:function(){return j}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Oe){X=!!Oe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Oe){le=!!Oe}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=Oe)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Oe){isNaN(Oe)||(we=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Oe){var de;typeof Oe=="number"?de=[Oe,Oe,Oe,Oe]:((de=new Array(4))[0]=Oe[0],de[1]=Oe.length>=2?Oe[1]:de[0],de[2]=Oe.length>=3?Oe[2]:de[0],de[3]=Oe.length>=4?Oe[3]:de[1]),p.margin=de}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Oe){xe=Oe}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Oe){pe=Oe}});var Ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ye},set:function(Oe){Ye=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Oe){Oe instanceof b&&(p=Oe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Oe){p.path=Oe}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(Oe){We=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var de;de=C(Oe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var de=C(Oe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var rt=null;function lt(Oe,de){if(rt===null){var ht=function(Xe){var Ke=[];return Object.keys(Xe).forEach(function(et){Xe[et].forEach(function(at){var ot=null;switch(at){case"bold":ot={family:et,weight:"bold"};break;case"italic":ot={family:et,style:"italic"};break;case"bolditalic":ot={family:et,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:et}}ot!==null&&(ot.ref={name:et,style:at},Ke.push(ot))})}),Ke}(Oe.getFontList());rt=function(Xe){for(var Ke={},et=0;et<Xe.length;++et){var at=Pp(Xe[et]),ot=at.family,_t=at.stretch,Ot=at.style,Ht=at.weight;Ke[ot]=Ke[ot]||{},Ke[ot][_t]=Ke[ot][_t]||{},Ke[ot][_t][Ot]=Ke[ot][_t][Ot]||{},Ke[ot][_t][Ot][Ht]=at}return Ke}(ht.concat(de))}return rt}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(Oe){rt=null,Nt=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var de;if(this.ctx.font=Oe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var ht=de[1],Xe=(de[2],de[3]),Ke=de[4],et=(de[5],de[6]),at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(at==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var ot=function(yt){var zt,st,Vn=[],Kt=yt.trim();if(Kt==="")return cp;if(Kt in Pg)return[Pg[Kt]];for(;Kt!=="";){switch(st=null,zt=(Kt=Ug(Kt)).charAt(0)){case'"':case"'":st=Gy(Kt.substring(1),zt);break;default:st=Yy(Kt)}if(st===null||(Vn.push(st[0]),(Kt=Ug(st[1]))!==""&&Kt.charAt(0)!==","))return cp;Kt=Kt.replace(/^,/,"")}return Vn}(et);if(this.fontFaces){var _t=Hy(lt(this.pdf,this.fontFaces),ot.map(function(yt){return{family:yt,stretch:"normal",weight:Xe,style:ht}}));this.pdf.setFont(_t.ref.name,_t.ref.style)}else{var Ot="";(Xe==="bold"||parseInt(Xe,10)>=700||ht==="bold")&&(Ot="bold"),ht==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var Ht="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<ot.length;kt++){if(this.pdf.internal.getFont(ot[kt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){Ht=ot[kt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(ot[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=ot[kt],Ot="bold";else if(this.pdf.internal.getFont(ot[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=ot[kt],Ot="normal";break}}if(Ht===""){for(var $t=0;$t<ot.length;$t++)if(qt[ot[$t]]){Ht=qt[ot[$t]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};x.prototype.setLineDash=function(M){this.lineDash=M},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){V.call(this,"fill",!1)},x.prototype.stroke=function(){V.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(M,j){if(isNaN(M)||isNaN(j))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(M,j));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(M,j)},x.prototype.closePath=function(){var M=new u(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Nn(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){M=new u(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(M.x,M.y)},x.prototype.lineTo=function(M,j){if(isNaN(M)||isNaN(j))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(M,j));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},x.prototype.quadraticCurveTo=function(M,j,X,le){if(isNaN(X)||isNaN(le)||isNaN(M)||isNaN(j))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new u(X,le)),we=this.ctx.transform.applyToPoint(new u(M,j));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new u(ue.x,ue.y)},x.prototype.bezierCurveTo=function(M,j,X,le,ue,we){if(isNaN(ue)||isNaN(we)||isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new u(ue,we)),pe=this.ctx.transform.applyToPoint(new u(M,j)),Ye=this.ctx.transform.applyToPoint(new u(X,le));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ye.x,y2:Ye.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new u(xe.x,xe.y)},x.prototype.arc=function(M,j,X,le,ue,we){if(isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le)||isNaN(ue))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new u(M,j));M=xe.x,j=xe.y;var pe=this.ctx.transform.applyToPoint(new u(0,X)),Ye=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(pe.x-Ye.x,2)+Math.pow(pe.y-Ye.y,2))}Math.abs(ue-le)>=2*Math.PI&&(le=0,ue=2*Math.PI),this.path.push({type:"arc",x:M,y:j,radius:X,startAngle:le,endAngle:ue,counterclockwise:we})},x.prototype.arcTo=function(M,j,X,le,ue){throw new Error("arcTo not implemented.")},x.prototype.rect=function(M,j,X,le){if(isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,j),this.lineTo(M+X,j),this.lineTo(M+X,j+le),this.lineTo(M,j+le),this.lineTo(M,j),this.lineTo(M+X,j),this.lineTo(M,j)},x.prototype.fillRect=function(M,j,X,le){if(isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,j,X,le),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},x.prototype.strokeRect=function(M,j,X,le){if(isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(M,j,X,le),this.stroke())},x.prototype.clearRect=function(M,j,X,le){if(isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,j,X,le))},x.prototype.save=function(M){M=typeof M!="boolean"||M;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},x.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(j),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(M){var j,X,le,ue;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))j=0,X=0,le=0,ue=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(we!==null)j=parseInt(we[1]),X=parseInt(we[2]),le=parseInt(we[3]),ue=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)j=parseInt(we[1]),X=parseInt(we[2]),le=parseInt(we[3]),ue=parseFloat(we[4]);else{if(ue=1,typeof M=="string"&&M.charAt(0)!=="#"){var xe=new D2(M);M=xe.ok?xe.toHex():"#000000"}M.length===4?(j=M.substring(1,2),j+=j,X=M.substring(2,3),X+=X,le=M.substring(3,4),le+=le):(j=M.substring(1,3),X=M.substring(3,5),le=M.substring(5,7)),j=parseInt(j,16),X=parseInt(X,16),le=parseInt(le,16)}}return{r:j,g:X,b:le,a:ue,style:M}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(M,j,X,le){if(isNaN(j)||isNaN(X)||typeof M!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!_.call(this)){var ue=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;I.call(this,{text:M,x:j,y:X,scale:we,angle:ue,align:this.textAlign,maxWidth:le})}},x.prototype.strokeText=function(M,j,X,le){if(isNaN(j)||isNaN(X)||typeof M!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){le=isNaN(le)?void 0:le;var ue=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;I.call(this,{text:M,x:j,y:X,scale:we,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:le})}},x.prototype.measureText=function(M){if(typeof M!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,X=this.pdf.internal.scaleFactor,le=j.internal.getFontSize(),ue=j.getStringUnitWidth(M)*le/j.internal.scaleFactor,we=function(xe){var pe=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new we({width:ue*=Math.round(96*X/72*1e4)/1e4})},x.prototype.scale=function(M,j){if(isNaN(M)||isNaN(j))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new d(M,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},x.prototype.rotate=function(M){if(isNaN(M))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new d(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},x.prototype.translate=function(M,j){if(isNaN(M)||isNaN(j))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new d(1,0,0,1,M,j);this.ctx.transform=this.ctx.transform.multiply(X)},x.prototype.transform=function(M,j,X,le,ue,we){if(isNaN(M)||isNaN(j)||isNaN(X)||isNaN(le)||isNaN(ue)||isNaN(we))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new d(M,j,X,le,ue,we);this.ctx.transform=this.ctx.transform.multiply(xe)},x.prototype.setTransform=function(M,j,X,le,ue,we){M=isNaN(M)?1:M,j=isNaN(j)?0:j,X=isNaN(X)?0:X,le=isNaN(le)?1:le,ue=isNaN(ue)?0:ue,we=isNaN(we)?0:we,this.ctx.transform=new d(M,j,X,le,ue,we)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(M,j,X,le,ue,we,xe,pe,Ye){var We=this.pdf.getImageProperties(M),rt=1,lt=1,Nt=1,Oe=1;le!==void 0&&pe!==void 0&&(Nt=pe/le,Oe=Ye/ue,rt=We.width/le*pe/le,lt=We.height/ue*Ye/ue),we===void 0&&(we=j,xe=X,j=0,X=0),le!==void 0&&pe===void 0&&(pe=le,Ye=ue),le===void 0&&pe===void 0&&(pe=We.width,Ye=We.height);for(var de,ht=this.ctx.transform.decompose(),Xe=ie(ht.rotate.shx),Ke=new d,et=(Ke=(Ke=(Ke=Ke.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new f(we-j*Nt,xe-X*Oe,le*rt,ue*lt)),at=R.call(this,et),ot=[],_t=0;_t<at.length;_t+=1)ot.indexOf(at[_t])===-1&&ot.push(at[_t]);if(D(ot),this.autoPaging)for(var Ot=ot[0],Ht=ot[ot.length-1],qt=Ot;qt<Ht+1;qt++){this.pdf.setPage(qt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=qt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=qt===1?0:yt+(qt-2)*zt;if(this.ctx.clip_path.length!==0){var Vn=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(de,this.posX+this.margin[3],-st+$t+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Vn}var Kt=JSON.parse(JSON.stringify(et));Kt=k([Kt],this.posX+this.margin[3],-st+$t+this.ctx.prevPageLastElemOffset)[0];var _i=(qt>Ot||qt<Ht)&&L.call(this);_i&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,zt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Xe),_i&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",et.x,et.y,et.w,et.h,null,null,Xe)};var R=function(M,j,X){var le=[];j=j||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":le.push(Math.floor((M.y+ue)/X)+1);break;case"arc":le.push(Math.floor((M.y+ue-M.radius)/X)+1),le.push(Math.floor((M.y+ue+M.radius)/X)+1);break;case"qct":var we=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);le.push(Math.floor((we.y+ue)/X)+1),le.push(Math.floor((we.y+we.h+ue)/X)+1);break;case"bct":var xe=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);le.push(Math.floor((xe.y+ue)/X)+1),le.push(Math.floor((xe.y+xe.h+ue)/X)+1);break;case"rect":le.push(Math.floor((M.y+ue)/X)+1),le.push(Math.floor((M.y+M.h+ue)/X)+1)}for(var pe=0;pe<le.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<le[pe];)E.call(this);return le},E=function(){var M=this.fillStyle,j=this.strokeStyle,X=this.font,le=this.lineCap,ue=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=j,this.font=X,this.lineCap=le,this.lineWidth=ue,this.lineJoin=we},k=function(M,j,X){for(var le=0;le<M.length;le++)switch(M[le].type){case"bct":M[le].x2+=j,M[le].y2+=X;case"qct":M[le].x1+=j,M[le].y1+=X;case"mt":case"lt":case"arc":default:M[le].x+=j,M[le].y+=X}return M},D=function(M){return M.sort(function(j,X){return j-X})},V=function(M,j){for(var X,le,ue=this.fillStyle,we=this.strokeStyle,xe=this.lineCap,pe=this.lineWidth,Ye=Math.abs(pe*this.ctx.transform.scaleX),We=this.lineJoin,rt=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Nt=[],Oe=0;Oe<lt.length;Oe++)if(lt[Oe].x!==void 0)for(var de=R.call(this,lt[Oe]),ht=0;ht<de.length;ht+=1)Nt.indexOf(de[ht])===-1&&Nt.push(de[ht]);for(var Xe=0;Xe<Nt.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Nt[Xe];)E.call(this);if(D(Nt),this.autoPaging)for(var Ke=Nt[0],et=Nt[Nt.length-1],at=Ke;at<et+1;at++){this.pdf.setPage(at),this.fillStyle=ue,this.strokeStyle=we,this.lineCap=xe,this.lineWidth=Ye,this.lineJoin=We;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=at===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=at===1?0:Ot+(at-2)*Ht;if(this.ctx.clip_path.length!==0){var kt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(X,this.posX+this.margin[3],-qt+_t+this.ctx.prevPageLastElemOffset),J.call(this,M,!0),this.path=kt}if(le=JSON.parse(JSON.stringify(rt)),this.path=k(le,this.posX+this.margin[3],-qt+_t+this.ctx.prevPageLastElemOffset),j===!1||at===0){var $t=(at>Ke||at<et)&&L.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ht,null).clip().discardPath()),J.call(this,M,j),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ye,J.call(this,M,j),this.lineWidth=pe;this.path=rt},J=function(M,j){if((M!=="stroke"||j||!T.call(this))&&(M==="stroke"||j||!_.call(this))){for(var X,le,ue=[],we=this.path,xe=0;xe<we.length;xe++){var pe=we[xe];switch(pe.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ye=ue.length;if(we[xe-1]&&!isNaN(we[xe-1].x)&&(X=[pe.x-we[xe-1].x,pe.y-we[xe-1].y],Ye>0)){for(;Ye>=0;Ye--)if(ue[Ye-1].close!==!0&&ue[Ye-1].begin!==!0){ue[Ye-1].deltas.push(X),ue[Ye-1].abs.push(pe);break}}break;case"bct":X=[pe.x1-we[xe-1].x,pe.y1-we[xe-1].y,pe.x2-we[xe-1].x,pe.y2-we[xe-1].y,pe.x-we[xe-1].x,pe.y-we[xe-1].y],ue[ue.length-1].deltas.push(X);break;case"qct":var We=we[xe-1].x+2/3*(pe.x1-we[xe-1].x),rt=we[xe-1].y+2/3*(pe.y1-we[xe-1].y),lt=pe.x+2/3*(pe.x1-pe.x),Nt=pe.y+2/3*(pe.y1-pe.y),Oe=pe.x,de=pe.y;X=[We-we[xe-1].x,rt-we[xe-1].y,lt-we[xe-1].x,Nt-we[xe-1].y,Oe-we[xe-1].x,de-we[xe-1].y],ue[ue.length-1].deltas.push(X);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(pe)}}le=j?null:M==="stroke"?"stroke":"fill";for(var ht=!1,Xe=0;Xe<ue.length;Xe++)if(ue[Xe].arc)for(var Ke=ue[Xe].abs,et=0;et<Ke.length;et++){var at=Ke[et];at.type==="arc"?z.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,j,!ht):te.call(this,at.x,at.y),ht=!0}else if(ue[Xe].close===!0)this.pdf.internal.out("h"),ht=!1;else if(ue[Xe].begin!==!0){var ot=ue[Xe].start.x,_t=ue[Xe].start.y;ne.call(this,ue[Xe].deltas,ot,_t),ht=!0}le&&re.call(this,le),j&&se.call(this)}},ee=function(M){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+j-X;case"hanging":return M+j-2*X;case"middle":return M+j/2-X;case"ideographic":return M;case"alphabetic":default:return M}},G=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(j,X){this.colorStops.push([j,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(M,j,X,le,ue,we,xe,pe,Ye){for(var We=F.call(this,X,le,ue,we),rt=0;rt<We.length;rt++){var lt=We[rt];rt===0&&(Ye?U.call(this,lt.x1+M,lt.y1+j):te.call(this,lt.x1+M,lt.y1+j)),ye.call(this,M,j,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}pe?se.call(this):re.call(this,xe)},re=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(M,j){this.pdf.internal.out(t(M)+" "+i(j)+" m")},I=function(M){var j;switch(M.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var X=this.pdf.getTextDimensions(M.text),le=ee.call(this,M.y),ue=G.call(this,le)-X.h,we=this.ctx.transform.applyToPoint(new u(M.x,le)),xe=this.ctx.transform.decompose(),pe=new d;pe=(pe=(pe=pe.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ye,We,rt,lt=this.ctx.transform.applyToRectangle(new f(M.x,le,X.w,X.h)),Nt=pe.applyToRectangle(new f(M.x,ue,X.w,X.h)),Oe=R.call(this,Nt),de=[],ht=0;ht<Oe.length;ht+=1)de.indexOf(Oe[ht])===-1&&de.push(Oe[ht]);if(D(de),this.autoPaging)for(var Xe=de[0],Ke=de[de.length-1],et=Xe;et<Ke+1;et++){this.pdf.setPage(et);var at=et===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Ot=_t-this.margin[0],Ht=this.pdf.internal.pageSize.width-this.margin[1],qt=Ht-this.margin[3],kt=et===1?0:ot+(et-2)*Ot;if(this.ctx.clip_path.length!==0){var $t=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ye,this.posX+this.margin[3],-1*kt+at),J.call(this,"fill",!0),this.path=$t}var yt=k([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-kt+at+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*M.scale),rt=this.lineWidth,this.lineWidth=rt*M.scale);var zt=this.autoPaging!=="text";if(zt||yt.y+yt.h<=_t){if(zt||yt.y>=at&&yt.x<=Ht){var st=zt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Ht-yt.x)[0],Vn=k([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-kt+at+this.ctx.prevPageLastElemOffset)[0],Kt=zt&&(et>Xe||et<Ke)&&L.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Ot,null).clip().discardPath()),this.pdf.text(st,Vn.x,Vn.y,{angle:M.angle,align:j,renderingMode:M.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else yt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-yt.y);M.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=rt)}else M.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*M.scale),rt=this.lineWidth,this.lineWidth=rt*M.scale),this.pdf.text(M.text,we.x+this.posX,we.y+this.posY,{angle:M.angle,align:j,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=rt)},te=function(M,j,X,le){X=X||0,le=le||0,this.pdf.internal.out(t(M+X)+" "+i(j+le)+" l")},ne=function(M,j,X){return this.pdf.lines(M,j,X,null,null)},ye=function(M,j,X,le,ue,we,xe,pe){this.pdf.internal.out([e(o(X+M)),e(s(le+j)),e(o(ue+M)),e(s(we+j)),e(o(xe+M)),e(s(pe+j)),"c"].join(" "))},F=function(M,j,X,le){for(var ue=2*Math.PI,we=Math.PI/2;j>X;)j-=ue;var xe=Math.abs(X-j);xe<ue&&le&&(xe=ue-xe);for(var pe=[],Ye=le?-1:1,We=j;xe>1e-5;){var rt=We+Ye*Math.min(xe,we);pe.push(K.call(this,M,We,rt)),xe-=Math.abs(rt-We),We=rt}return pe},K=function(M,j,X){var le=(X-j)/2,ue=M*Math.cos(le),we=M*Math.sin(le),xe=ue,pe=-we,Ye=xe*xe+pe*pe,We=Ye+xe*ue+pe*we,rt=4/3*(Math.sqrt(2*Ye*We)-We)/(xe*we-pe*ue),lt=xe-rt*pe,Nt=pe+rt*xe,Oe=lt,de=-Nt,ht=le+j,Xe=Math.cos(ht),Ke=Math.sin(ht);return{x1:M*Math.cos(j),y1:M*Math.sin(j),x2:lt*Xe-Nt*Ke,y2:lt*Ke+Nt*Xe,x3:Oe*Xe-de*Ke,y3:Oe*Ke+de*Xe,x4:M*Math.cos(X),y4:M*Math.sin(X)}},ie=function(M){return 180*M/Math.PI},ae=function(M,j,X,le,ue,we){var xe=M+.5*(X-M),pe=j+.5*(le-j),Ye=ue+.5*(X-ue),We=we+.5*(le-we),rt=Math.min(M,ue,xe,Ye),lt=Math.max(M,ue,xe,Ye),Nt=Math.min(j,we,pe,We),Oe=Math.max(j,we,pe,We);return new f(rt,Nt,lt-rt,Oe-Nt)},O=function(M,j,X,le,ue,we,xe,pe){var Ye,We,rt,lt,Nt,Oe,de,ht,Xe,Ke,et,at,ot,_t,Ot=X-M,Ht=le-j,qt=ue-X,kt=we-le,$t=xe-ue,yt=pe-we;for(We=0;We<41;We++)Xe=(de=(rt=M+(Ye=We/40)*Ot)+Ye*((Nt=X+Ye*qt)-rt))+Ye*(Nt+Ye*(ue+Ye*$t-Nt)-de),Ke=(ht=(lt=j+Ye*Ht)+Ye*((Oe=le+Ye*kt)-lt))+Ye*(Oe+Ye*(we+Ye*yt-Oe)-ht),We==0?(et=Xe,at=Ke,ot=Xe,_t=Ke):(et=Math.min(et,Xe),at=Math.min(at,Ke),ot=Math.max(ot,Xe),_t=Math.max(_t,Ke));return new f(Math.round(et),Math.round(at),Math.round(ot-et),Math.round(_t-at))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,j,X=(M=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:j}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Mt.API),function(r){var e=function(s){var u,f,d,p,b,x,C,_,T,L;for(f=[],d=0,p=(s+=u="\0\0\0\0".slice(s.length%4||4)).length;p>d;d+=4)(b=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(x=(b=((b=((b=((b=(b-(L=b%85))/85)-(T=b%85))/85)-(_=b%85))/85)-(C=b%85))/85)%85,f.push(x+33,C+33,_+33,T+33,L+33)):f.push(122);return function(R,E){for(var k=E;k>0;k--)R.pop()}(f,u.length),String.fromCharCode.apply(String,f)+"~>"},t=function(s){var u,f,d,p,b,x=String,C="length",_=255,T="charCodeAt",L="slice",R="replace";for(s[L](-2),s=s[L](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),d=[],p=0,b=(s+=u="uuuuu"[L](s[C]%5||5))[C];b>p;p+=5)f=52200625*(s[T](p)-33)+614125*(s[T](p+1)-33)+7225*(s[T](p+2)-33)+85*(s[T](p+3)-33)+(s[T](p+4)-33),d.push(_&f>>24,_&f>>16,_&f>>8,_&f);return function(E,k){for(var D=k;D>0;D--)E.pop()}(d,u[C]),x.fromCharCode.apply(x,d)},i=function(s){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),u.test(s)===!1)return"";for(var f="",d=0;d<s.length;d+=2)f+=String.fromCharCode("0x"+(s[d]+s[d+1]));return f},o=function(s){for(var u=new Uint8Array(s.length),f=s.length;f--;)u[f]=s.charCodeAt(f);return s=(u=Lp(u)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};r.processDataByFilters=function(s,u){var f=0,d=s||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}}(Mt.API),function(r){r.loadFile=function(e,t,i){return function(o,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var f=void 0;try{f=function(d,p,b){var x=new XMLHttpRequest,C=0,_=function(T){var L=T.length,R=[],E=String.fromCharCode;for(C=0;C<L;C+=1)R.push(E(255&T.charCodeAt(C)));return R.join("")};if(x.open("GET",d,!p),x.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(x.onload=function(){x.status===200?b(_(this.responseText)):b(void 0)}),x.send(null),p&&x.status===200)return _(x.responseText)}(o,s,u)}catch{}return f}(e,t,i)},r.loadImageFile=r.loadFile}(Mt.API),function(r){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):Sp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):Sp(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var i=function(u){var f=Nn(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(u,f){var d=document.createElement(u);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},s=function u(f){var d=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),d);return p=(p=p.setProgress(1,u,1,[u])).set(f)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(u,f){return u.__proto__=f||s.prototype,u},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(u,f){return this.then(function(){switch(f=f||function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(t).then(function(d){return this.set({src:o("div",{innerHTML:u,dompurify:d})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},s.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function d(p,b){for(var x=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),C=p.firstChild;C;C=C.nextSibling)b!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||x.appendChild(d(C,b));return p.nodeType===1&&(p.nodeName==="CANVAS"?(x.width=p.width,x.height=p.height,x.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(x.value=p.value),x.addEventListener("load",function(){x.scrollTop=p.scrollTop,x.scrollLeft=p.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var C=0;C<p.length;++C){var _=p[C],T=_.src.find(function(L){return L.format==="truetype"});T&&d.addFont(T.url,_.ref.name,_.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),f(this.prop.container,x)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(u,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},s.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},s.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},s.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(u){if(i(u)!=="object")return this;var f=Object.keys(u||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=u[d]};switch(d){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[d]=u[d]}}},this);return this.then(function(){return this.thenList(f)})},s.prototype.get=function(u,f){return this.then(function(){var d=u in s.template.prop?this.prop[u]:this.opt[u];return f?f(d):d})},s.prototype.setMargin=function(u){return this.then(function(){switch(i(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},s.prototype.setPageSize=function(u){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(u=u||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},s.prototype.setProgress=function(u,f,d,p){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(u,f,d,p){return this.setProgress(u?this.progress.val+u:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(u,f){var d=this;return this.thenCore(u,f,function(p,b){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,p),x}).then(p,b).then(function(x){return d.updateProgress(1),x})})},s.prototype.thenCore=function(u,f,d){d=d||Promise.prototype.then,u&&(u=u.bind(this)),f&&(f=f.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),b=d.call(p,u,f);return s.convert(b,this.__proto__)},s.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},s.prototype.thenList=function(u){var f=this;return u.forEach(function(d){f=f.thenCore(d)}),f},s.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return s.convert(f,this)},s.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},s.prototype.error=function(u){return this.then(function(){throw new Error(u)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(u,f,d){if(Nn(u)==="object"){var p=u;u=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",u=(""+(u||"P")).toLowerCase();var b,x=(""+d).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var _,T=0,L=0;if(C.hasOwnProperty(x))T=C[x][1]/b,L=C[x][0]/b;else try{T=d[1],L=d[0]}catch{throw new Error("Invalid format: "+d)}if(u==="p"||u==="portrait")u="p",L>T&&(_=L,L=T,T=_);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",T>L&&(_=L,L=T,T=_)}return{width:L,height:T,unit:f,k:b,orientation:u}},r.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Pp):null;var d=new s(f);return f.worker?d:d.from(u).doCallback()}}(Mt.API),Mt.API.addJS=function(r){return Bg=r,this.internal.events.subscribe("postPutResources",function(){gd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Fg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Bg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gd!==void 0&&Fg!==void 0&&this.internal.out("/Names <</JavaScript "+gd+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=t.outline.render().split(/\r\n/),s=0;s<o.length;s++){var u=o[s],f=i.exec(u);if(f!=null){var d=f[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,b=[];for(s=0;s<p;s++){var x=t.internal.newObject();b.push(x);var C=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<b.length;s++)t.internal.write("(page_"+(s+1)+")"+b[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,o,s){var u={title:o,options:s,children:[]};return i==null&&(i=this.root),i.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var u=i.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var f=this.count=this.count_r({count:0},u);if(f>0&&this.line("/Count "+f),u.options&&u.options.pageNumber){var d=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,o){for(var s=0;s<o.children.length;s++)i.count++,this.count_r(i,o.children[s]);return i.count}}])}(Mt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,o,s,u,f){var d,p=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=function(x){for(var C,_=256*x.charCodeAt(4)+x.charCodeAt(5),T=x.length,L={width:0,height:0,numcomponents:1},R=4;R<T;R+=2){if(R+=_,e.indexOf(x.charCodeAt(R+1))!==-1){C=256*x.charCodeAt(R+5)+x.charCodeAt(R+6),L={width:256*x.charCodeAt(R+7)+x.charCodeAt(R+8),height:C,numcomponents:x.charCodeAt(R+9)};break}_=256*x.charCodeAt(R+2)+x.charCodeAt(R+3)}return L}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}b={data:t,width:d.width,height:d.height,colorSpace:f,bitsPerComponent:8,filter:p,index:i,alias:o}}return b}}(Mt.API);var Wu,vd,qg,zg,Vg,Wy=function(){var r,e,t;function i(s){var u,f,d,p,b,x,C,_,T,L,R,E,k,D;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(u=this.readUInt32(),T=(function(){var V,J;for(J=[],V=0;V<4;++V)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),p=this.readUInt16()||100,x.delay=1e3*b/p,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,u-=4),s=(x!=null?x.data:void 0)||this.imgData,E=0;0<=u?E<u:E>u;0<=u?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((L=d-this.transparency.indexed.length)>0)for(k=0;0<=L?k<L:k>L;0<=L?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":C=(R=this.read(u)).indexOf(0),_=String.fromCharCode.apply(String,R.slice(0,C)),this.text[_]=String.fromCharCode.apply(String,R.slice(C+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(D=this.colorType)===4||D===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var u,f;for(f=[],u=0;0<=s?u<s:u>s;0<=s?++u:--u)f.push(this.data[this.pos++]);return f},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var u=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*u),d=0,p=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function b(x,C,_,T){var L,R,E,k,D,V,J,ee,G,z,re,se,U,I,te,ne,ye,F,K,ie,ae,O=Math.ceil((p.width-x)/_),ce=Math.ceil((p.height-C)/T),M=p.width==O&&p.height==ce;for(I=u*O,se=M?f:new Uint8Array(I*ce),V=s.length,U=0,R=0;U<ce&&d<V;){switch(s[d++]){case 0:for(k=ye=0;ye<I;k=ye+=1)se[R++]=s[d++];break;case 1:for(k=F=0;F<I;k=F+=1)L=s[d++],D=k<u?0:se[R-u],se[R++]=(L+D)%256;break;case 2:for(k=K=0;K<I;k=K+=1)L=s[d++],E=(k-k%u)/u,te=U&&se[(U-1)*I+E*u+k%u],se[R++]=(te+L)%256;break;case 3:for(k=ie=0;ie<I;k=ie+=1)L=s[d++],E=(k-k%u)/u,D=k<u?0:se[R-u],te=U&&se[(U-1)*I+E*u+k%u],se[R++]=(L+Math.floor((D+te)/2))%256;break;case 4:for(k=ae=0;ae<I;k=ae+=1)L=s[d++],E=(k-k%u)/u,D=k<u?0:se[R-u],U===0?te=ne=0:(te=se[(U-1)*I+E*u+k%u],ne=E&&se[(U-1)*I+(E-1)*u+k%u]),J=D+te-ne,ee=Math.abs(J-D),z=Math.abs(J-te),re=Math.abs(J-ne),G=ee<=z&&ee<=re?D:z<=re?te:ne,se[R++]=(L+G)%256;break;default:throw new Error("Invalid filter algorithm: "+s[d-1])}if(!M){var j=((C+U*T)*p.width+x)*u,X=U*I;for(k=0;k<O;k+=1){for(var le=0;le<u;le+=1)f[j++]=se[X++];j+=(_-1)*u}}U++}}return s=Ty(s),p.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),f},i.prototype.decodePalette=function(){var s,u,f,d,p,b,x,C,_;for(f=this.palette,b=this.transparency.indexed||[],p=new Uint8Array((b.length||0)+f.length),d=0,s=0,u=x=0,C=f.length;x<C;u=x+=3)p[d++]=f[u],p[d++]=f[u+1],p[d++]=f[u+2],p[d++]=(_=b[s++])!=null?_:255;return p},i.prototype.copyToImageData=function(s,u){var f,d,p,b,x,C,_,T,L,R,E;if(d=this.colors,L=null,f=this.hasAlphaChannel,this.palette.length&&(L=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),d=4,f=!0),T=(p=s.data||s).length,x=L||u,b=C=0,d===1)for(;b<T;)_=L?4*u[b/4]:C,R=x[_++],p[b++]=R,p[b++]=R,p[b++]=R,p[b++]=f?x[_++]:255,C=_;else for(;b<T;)_=L?4*u[b/4]:C,p[b++]=x[_++],p[b++]=x[_++],p[b++]=x[_++],p[b++]=f?x[_++]:255,C=_},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var o=function(){if(Object.prototype.toString.call(Pt)==="[object Window]"){try{e=Pt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return o(),r=function(s){var u;if(o()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(u=new Image).src=e.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var u,f,d,p,b,x,C,_;if(this.animation){for(_=[],f=b=0,x=(C=this.animation.frames).length;b<x;f=++b)u=C[f],d=s.createImageData(u.width,u.height),p=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(d,p),u.imageData=d,_.push(u.image=r(d));return _}},i.prototype.renderFrame=function(s,u){var f,d,p;return f=(d=this.animation.frames)[u],p=d[u-1],u===0&&s.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?s.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&s.putImageData(p.imageData,p.xOffset,p.yOffset),f.blendOp===0&&s.clearRect(f.xOffset,f.yOffset,f.width,f.height),s.drawImage(f.image,f.xOffset,f.yOffset)},i.prototype.animate=function(s){var u,f,d,p,b,x,C=this;return f=0,x=this.animation,p=x.numFrames,d=x.frames,b=x.numPlays,(u=function(){var _,T;if(_=f++%p,T=d[_],C.renderFrame(s,_),p>1&&f/p<b)return C.animation._timeout=setTimeout(u,T.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var u,f;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,u=s.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(f=u.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),u.putImageData(f,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Jy(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,o=r[e++],s=o>>7,u=1<<(7&o)+1;r[e++],r[e++];var f=null,d=null;s&&(f=e,d=u,e+=3*u);var p=!0,b=[],x=0,C=null,_=0,T=null;for(this.width=t,this.height=i;p&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,T=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((U=r[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=r[e++];x=r[e++]|r[e++]<<8,C=r[e++],(1&L)==0&&(C=null),_=L>>2&7,e++;break;case 254:for(;;){if(!((U=r[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var R=r[e++]|r[e++]<<8,E=r[e++]|r[e++]<<8,k=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,V=r[e++],J=V>>6&1,ee=1<<(7&V)+1,G=f,z=d,re=!1;V>>7&&(re=!0,G=e,z=ee,e+=3*ee);var se=e;for(e++;;){var U;if(!((U=r[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}b.push({x:R,y:E,width:k,height:D,has_local_palette:re,palette_offset:G,palette_size:z,data_offset:se,data_length:e-se,transparent_index:C,interlaced:!!J,delay:x,disposal:_});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return T},this.frameInfo=function(I){if(I<0||I>=b.length)throw new Error("Frame index out of range.");return b[I]},this.decodeAndBlitFrameBGRA=function(I,te){var ne=this.frameInfo(I),ye=ne.width*ne.height,F=new Uint8Array(ye);jg(r,ne.data_offset,F,ye);var K=ne.palette_offset,ie=ne.transparent_index;ie===null&&(ie=256);var ae=ne.width,O=t-ae,ce=ae,M=4*(ne.y*t+ne.x),j=4*((ne.y+ne.height)*t+ne.x),X=M,le=4*O;ne.interlaced===!0&&(le+=4*t*7);for(var ue=8,we=0,xe=F.length;we<xe;++we){var pe=F[we];if(ce===0&&(ce=ae,(X+=le)>=j&&(le=4*O+4*t*(ue-1),X=M+(ae+O)*(ue<<1),ue>>=1)),pe===ie)X+=4;else{var Ye=r[K+3*pe],We=r[K+3*pe+1],rt=r[K+3*pe+2];te[X++]=rt,te[X++]=We,te[X++]=Ye,te[X++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(I,te){var ne=this.frameInfo(I),ye=ne.width*ne.height,F=new Uint8Array(ye);jg(r,ne.data_offset,F,ye);var K=ne.palette_offset,ie=ne.transparent_index;ie===null&&(ie=256);var ae=ne.width,O=t-ae,ce=ae,M=4*(ne.y*t+ne.x),j=4*((ne.y+ne.height)*t+ne.x),X=M,le=4*O;ne.interlaced===!0&&(le+=4*t*7);for(var ue=8,we=0,xe=F.length;we<xe;++we){var pe=F[we];if(ce===0&&(ce=ae,(X+=le)>=j&&(le=4*O+4*t*(ue-1),X=M+(ae+O)*(ue<<1),ue>>=1)),pe===ie)X+=4;else{var Ye=r[K+3*pe],We=r[K+3*pe+1],rt=r[K+3*pe+2];te[X++]=Ye,te[X++]=We,te[X++]=rt,te[X++]=255}--ce}}}function jg(r,e,t,i){for(var o=r[e++],s=1<<o,u=s+1,f=u+1,d=o+1,p=(1<<d)-1,b=0,x=0,C=0,_=r[e++],T=new Int32Array(4096),L=null;;){for(;b<16&&_!==0;)x|=r[e++]<<b,b+=8,_===1?_=r[e++]:--_;if(b<d)break;var R=x&p;if(x>>=d,b-=d,R!==s){if(R===u)break;for(var E=R<f?R:L,k=0,D=E;D>s;)D=T[D]>>8,++k;var V=D;if(C+k+(E!==R?1:0)>i)return void Rn.log("Warning, gif stream longer than expected.");t[C++]=V;var J=C+=k;for(E!==R&&(t[C++]=V),D=E;k--;)D=T[D],t[--J]=255&D,D>>=8;L!==null&&f<4096&&(T[f++]=L<<8|V,f>=p+1&&d<12&&(++d,p=p<<1|1)),L=R}else f=u+1,p=(1<<(d=o+1))-1,L=null}return C!==i&&Rn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fp(r){var e,t,i,o,s,u=Math.floor,f=new Array(64),d=new Array(64),p=new Array(64),b=new Array(64),x=new Array(65535),C=new Array(65535),_=new Array(64),T=new Array(64),L=[],R=0,E=7,k=new Array(64),D=new Array(64),V=new Array(64),J=new Array(256),ee=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(M,j){for(var X=0,le=0,ue=new Array,we=1;we<=16;we++){for(var xe=1;xe<=M[we];xe++)ue[j[le]]=[],ue[j[le]][0]=X,ue[j[le]][1]=we,le++,X++;X*=2}return ue}function K(M){for(var j=M[0],X=M[1]-1;X>=0;)j&1<<X&&(R|=1<<E),X--,--E<0&&(R==255?(ie(255),ie(0)):ie(R),E=7,R=0)}function ie(M){L.push(M)}function ae(M){ie(M>>8&255),ie(255&M)}function O(M,j,X,le,ue){for(var we,xe=ue[0],pe=ue[240],Ye=function(Ke,et){var at,ot,_t,Ot,Ht,qt,kt,$t,yt,zt,st=0;for(yt=0;yt<8;++yt){at=Ke[st],ot=Ke[st+1],_t=Ke[st+2],Ot=Ke[st+3],Ht=Ke[st+4],qt=Ke[st+5],kt=Ke[st+6];var Vn=at+($t=Ke[st+7]),Kt=at-$t,_i=ot+kt,Le=ot-kt,Re=_t+qt,Ue=_t-qt,Be=Ot+Ht,Je=Ot-Ht,it=Vn+Be,dt=Vn-Be,Lt=_i+Re,bt=_i-Re;Ke[st]=it+Lt,Ke[st+4]=it-Lt;var pt=.707106781*(bt+dt);Ke[st+2]=dt+pt,Ke[st+6]=dt-pt;var At=.382683433*((it=Je+Ue)-(bt=Le+Kt)),kn=.5411961*it+At,Gt=1.306562965*bt+At,Hi=.707106781*(Lt=Ue+Le),rr=Kt+Hi,xt=Kt-Hi;Ke[st+5]=xt+kn,Ke[st+3]=xt-kn,Ke[st+1]=rr+Gt,Ke[st+7]=rr-Gt,st+=8}for(st=0,yt=0;yt<8;++yt){at=Ke[st],ot=Ke[st+8],_t=Ke[st+16],Ot=Ke[st+24],Ht=Ke[st+32],qt=Ke[st+40],kt=Ke[st+48];var cn=at+($t=Ke[st+56]),sn=at-$t,_n=ot+kt,Wn=ot-kt,ti=_t+qt,ar=_t-qt,So=Ot+Ht,or=Ot-Ht,sr=cn+So,Ni=cn-So,Ei=_n+ti,Gi=_n-ti;Ke[st]=sr+Ei,Ke[st+32]=sr-Ei;var wi=.707106781*(Gi+Ni);Ke[st+16]=Ni+wi,Ke[st+48]=Ni-wi;var wn=.382683433*((sr=or+ar)-(Gi=Wn+sn)),Ba=.5411961*sr+wn,Ao=1.306562965*Gi+wn,mr=.707106781*(Ei=ar+Wn),Mr=sn+mr,rs=sn-mr;Ke[st+40]=rs+Ba,Ke[st+24]=rs-Ba,Ke[st+8]=Mr+Ao,Ke[st+56]=Mr-Ao,st++}for(yt=0;yt<64;++yt)zt=Ke[yt]*et[yt],_[yt]=zt>0?zt+.5|0:zt-.5|0;return _}(M,j),We=0;We<64;++We)T[G[We]]=Ye[We];var rt=T[0]-X;X=T[0],rt==0?K(le[0]):(K(le[C[we=32767+rt]]),K(x[we]));for(var lt=63;lt>0&&T[lt]==0;)lt--;if(lt==0)return K(xe),X;for(var Nt,Oe=1;Oe<=lt;){for(var de=Oe;T[Oe]==0&&Oe<=lt;)++Oe;var ht=Oe-de;if(ht>=16){Nt=ht>>4;for(var Xe=1;Xe<=Nt;++Xe)K(pe);ht&=15}we=32767+T[Oe],K(ue[(ht<<4)+C[we]]),K(x[we]),Oe++}return lt!=63&&K(xe),X}function ce(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(j){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ue=u((X[le]*j+50)/100);ue=Math.min(Math.max(ue,1),255),f[G[le]]=ue}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var pe=u((we[xe]*j+50)/100);pe=Math.min(Math.max(pe,1),255),d[G[xe]]=pe}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,rt=0;rt<8;rt++)for(var lt=0;lt<8;lt++)p[We]=1/(f[G[We]]*Ye[rt]*Ye[lt]*8),b[We]=1/(d[G[We]]*Ye[rt]*Ye[lt]*8),We++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,j){j&&ce(j),L=new Array,R=0,E=7,ae(65496),ae(65504),ae(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ae(1),ae(1),ie(0),ie(0),function(){ae(65499),ae(132),ie(0);for(var ot=0;ot<64;ot++)ie(f[ot]);ie(1);for(var _t=0;_t<64;_t++)ie(d[_t])}(),function(ot,_t){ae(65472),ae(17),ie(8),ae(_t),ae(ot),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(M.width,M.height),function(){ae(65476),ae(418),ie(0);for(var ot=0;ot<16;ot++)ie(z[ot+1]);for(var _t=0;_t<=11;_t++)ie(re[_t]);ie(16);for(var Ot=0;Ot<16;Ot++)ie(se[Ot+1]);for(var Ht=0;Ht<=161;Ht++)ie(U[Ht]);ie(1);for(var qt=0;qt<16;qt++)ie(I[qt+1]);for(var kt=0;kt<=11;kt++)ie(te[kt]);ie(17);for(var $t=0;$t<16;$t++)ie(ne[$t+1]);for(var yt=0;yt<=161;yt++)ie(ye[yt])}(),ae(65498),ae(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var X=0,le=0,ue=0;R=0,E=7,this.encode.displayName="_encode_";for(var we,xe,pe,Ye,We,rt,lt,Nt,Oe,de=M.data,ht=M.width,Xe=M.height,Ke=4*ht,et=0;et<Xe;){for(we=0;we<Ke;){for(We=Ke*et+we,lt=-1,Nt=0,Oe=0;Oe<64;Oe++)rt=We+(Nt=Oe>>3)*Ke+(lt=4*(7&Oe)),et+Nt>=Xe&&(rt-=Ke*(et+1+Nt-Xe)),we+lt>=Ke&&(rt-=we+lt-Ke+4),xe=de[rt++],pe=de[rt++],Ye=de[rt++],k[Oe]=(ee[xe]+ee[pe+256>>0]+ee[Ye+512>>0]>>16)-128,D[Oe]=(ee[xe+768>>0]+ee[pe+1024>>0]+ee[Ye+1280>>0]>>16)-128,V[Oe]=(ee[xe+1280>>0]+ee[pe+1536>>0]+ee[Ye+1792>>0]>>16)-128;X=O(k,p,X,e,i),le=O(D,b,le,t,o),ue=O(V,b,ue,t,o),we+=32}et+=8}if(E>=0){var at=[];at[1]=E+1,at[0]=(1<<E+1)-1,K(at)}return ae(65497),new Uint8Array(L)},r=r||50,function(){for(var M=String.fromCharCode,j=0;j<256;j++)J[j]=M(j)}(),e=F(z,re),t=F(I,te),i=F(se,U),o=F(ne,ye),function(){for(var M=1,j=2,X=1;X<=15;X++){for(var le=M;le<j;le++)C[32767+le]=X,x[32767+le]=[],x[32767+le][1]=X,x[32767+le][0]=le;for(var ue=-(j-1);ue<=-M;ue++)C[32767+ue]=X,x[32767+ue]=[],x[32767+ue][1]=X,x[32767+ue][0]=j-1+ue;M<<=1,j<<=1}}(),function(){for(var M=0;M<256;M++)ee[M]=19595*M,ee[M+256>>0]=38470*M,ee[M+512>>0]=7471*M+32768,ee[M+768>>0]=-11059*M,ee[M+1024>>0]=-21709*M,ee[M+1280>>0]=32768*M+8421375,ee[M+1536>>0]=-27439*M,ee[M+1792>>0]=-5329*M}(),ce(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Hg(r){function e(z){if(!z)throw Error("assert :P")}function t(z,re,se){for(var U=0;4>U;U++)if(z[re+U]!=se.charCodeAt(U))return!0;return!1}function i(z,re,se,U,I){for(var te=0;te<I;te++)z[re+te]=se[U+te]}function o(z,re,se,U){for(var I=0;I<U;I++)z[re+I]=se}function s(z){return new Int32Array(z)}function u(z,re){for(var se=[],U=0;U<z;U++)se.push(new re);return se}function f(z,re){var se=[];return function U(I,te,ne){for(var ye=ne[te],F=0;F<ye&&(I.push(ne.length>te+1?[]:new re),!(ne.length<te+1));F++)U(I[F],te+1,ne)}(se,0,z),se}var d=function(){var z=this;function re(h,y){for(var A=1<<y-1>>>0;h&A;)A>>>=1;return A?(h&A-1)+A:h}function se(h,y,A,N,B){e(!(N%A));do h[y+(N-=A)]=B;while(0<N)}function U(h,y,A,N,B){if(e(2328>=B),512>=B)var H=s(512);else if((H=s(B))==null)return 0;return function(W,Z,Q,oe,ge,Ee){var Te,Se,je=Z,Ie=1<<Q,ve=s(16),_e=s(16);for(e(ge!=0),e(oe!=null),e(W!=null),e(0<Q),Se=0;Se<ge;++Se){if(15<oe[Se])return 0;++ve[oe[Se]]}if(ve[0]==ge)return 0;for(_e[1]=0,Te=1;15>Te;++Te){if(ve[Te]>1<<Te)return 0;_e[Te+1]=_e[Te]+ve[Te]}for(Se=0;Se<ge;++Se)Te=oe[Se],0<oe[Se]&&(Ee[_e[Te]++]=Se);if(_e[15]==1)return(oe=new I).g=0,oe.value=Ee[0],se(W,je,1,Ie,oe),Ie;var Fe,He=-1,ze=Ie-1,ct=0,tt=1,Ct=1,nt=1<<Q;for(Se=0,Te=1,ge=2;Te<=Q;++Te,ge<<=1){if(tt+=Ct<<=1,0>(Ct-=ve[Te]))return 0;for(;0<ve[Te];--ve[Te])(oe=new I).g=Te,oe.value=Ee[Se++],se(W,je+ct,ge,nt,oe),ct=re(ct,Te)}for(Te=Q+1,ge=2;15>=Te;++Te,ge<<=1){if(tt+=Ct<<=1,0>(Ct-=ve[Te]))return 0;for(;0<ve[Te];--ve[Te]){if(oe=new I,(ct&ze)!=He){for(je+=nt,Fe=1<<(He=Te)-Q;15>He&&!(0>=(Fe-=ve[He]));)++He,Fe<<=1;Ie+=nt=1<<(Fe=He-Q),W[Z+(He=ct&ze)].g=Fe+Q,W[Z+He].value=je-Z-He}oe.g=Te-Q,oe.value=Ee[Se++],se(W,je+(ct>>Q),ge,nt,oe),ct=re(ct,Te)}}return tt!=2*_e[15]-1?0:Ie}(h,y,A,N,B,H)}function I(){this.value=this.g=0}function te(){this.value=this.g=0}function ne(){this.G=u(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Mi,te)}function ye(h,y,A,N){e(h!=null),e(y!=null),e(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=y,h.pa=A,h.Jd=y,h.Yc=A+N,h.Zc=4<=N?A+N-4+1:A,we(h)}function F(h,y){for(var A=0;0<y--;)A|=pe(h,128)<<y;return A}function K(h,y){var A=F(h,y);return xe(h)?-A:A}function ie(h,y,A,N){var B,H=0;for(e(h!=null),e(y!=null),e(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),B=0;B<N;++B)H+=y[A+B]<<8*B;h.Ra=H,h.bb=N,h.oa=y,h.pa=A}function ae(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Io-8>>>0,++h.bb,h.u-=8;X(h)&&(h.h=1,h.u=0)}function O(h,y){if(e(0<=y),!h.h&&y<=Do){var A=j(h)&Za[y];return h.u+=y,ae(h),A}return h.h=1,h.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(h){return h.Ra>>>(h.u&Io-1)>>>0}function X(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Io}function le(h,y){h.u=y,h.h=X(h)}function ue(h){h.u>=xs&&(e(h.u>=xs),ae(h))}function we(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function xe(h){return F(h,1)}function pe(h,y){var A=h.Ca;0>h.b&&we(h);var N=h.b,B=A*y>>>8,H=(h.I>>>N>B)+0;for(H?(A-=B,h.I-=B+1<<N>>>0):A=B+1,N=A,B=0;256<=N;)B+=8,N>>=8;return N=7^B+Ji[N],h.b-=N,h.Ca=(A<<N)-1,H}function Ye(h,y,A){h[y+0]=A>>24&255,h[y+1]=A>>16&255,h[y+2]=A>>8&255,h[y+3]=A>>0&255}function We(h,y){return h[y+0]<<0|h[y+1]<<8}function rt(h,y){return We(h,y)|h[y+2]<<16}function lt(h,y){return We(h,y)|We(h,y+2)<<16}function Nt(h,y){var A=1<<y;return e(h!=null),e(0<y),h.X=s(A),h.X==null?0:(h.Mb=32-y,h.Xa=y,1)}function Oe(h,y){e(h!=null),e(y!=null),e(h.Xa==y.Xa),i(y.X,0,h.X,0,1<<y.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function ht(h,y,A,N){e(A!=null),e(N!=null);var B=A[0],H=N[0];return B==0&&(B=(h*H+y/2)/y),H==0&&(H=(y*B+h/2)/h),0>=B||0>=H?0:(A[0]=B,N[0]=H,1)}function Xe(h,y){return h+(1<<y)-1>>>y}function Ke(h,y){return((4278255360&h)+(4278255360&y)>>>0&4278255360)+((16711935&h)+(16711935&y)>>>0&16711935)>>>0}function et(h,y){z[y]=function(A,N,B,H,W,Z,Q){var oe;for(oe=0;oe<W;++oe){var ge=z[h](Z[Q+oe-1],B,H+oe);Z[Q+oe]=Ke(A[N+oe],ge)}}}function at(){this.ud=this.hd=this.jd=0}function ot(h,y){return((4278124286&(h^y))>>>1)+(h&y)>>>0}function _t(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ot(h,y){return _t(h+(h-y+.5>>1))}function Ht(h,y,A){return Math.abs(y-A)-Math.abs(h-A)}function qt(h,y,A,N,B,H,W){for(N=H[W-1],A=0;A<B;++A)H[W+A]=N=Ke(h[y+A],N)}function kt(h,y,A,N,B){var H;for(H=0;H<A;++H){var W=h[y+H],Z=W>>8&255,Q=16711935&(Q=(Q=16711935&W)+((Z<<16)+Z));N[B+H]=(4278255360&W)+Q>>>0}}function $t(h,y){y.jd=h>>0&255,y.hd=h>>8&255,y.ud=h>>16&255}function yt(h,y,A,N,B,H){var W;for(W=0;W<N;++W){var Z=y[A+W],Q=Z>>>8,oe=Z,ge=255&(ge=(ge=Z>>>16)+((h.jd<<24>>24)*(Q<<24>>24)>>>5));oe=255&(oe=(oe=oe+((h.hd<<24>>24)*(Q<<24>>24)>>>5))+((h.ud<<24>>24)*(ge<<24>>24)>>>5)),B[H+W]=(4278255360&Z)+(ge<<16)+oe}}function zt(h,y,A,N,B){z[y]=function(H,W,Z,Q,oe,ge,Ee,Te,Se){for(Q=Ee;Q<Te;++Q)for(Ee=0;Ee<Se;++Ee)oe[ge++]=B(Z[N(H[W++])])},z[h]=function(H,W,Z,Q,oe,ge,Ee){var Te=8>>H.b,Se=H.Ea,je=H.K[0],Ie=H.w;if(8>Te)for(H=(1<<H.b)-1,Ie=(1<<Te)-1;W<Z;++W){var ve,_e=0;for(ve=0;ve<Se;++ve)ve&H||(_e=N(Q[oe++])),ge[Ee++]=B(je[_e&Ie]),_e>>=Te}else z["VP8LMapColor"+A](Q,oe,je,Ie,ge,Ee,W,Z,Se)}}function st(h,y,A,N,B){for(A=y+A;y<A;){var H=h[y++];N[B++]=H>>16&255,N[B++]=H>>8&255,N[B++]=H>>0&255}}function Vn(h,y,A,N,B){for(A=y+A;y<A;){var H=h[y++];N[B++]=H>>16&255,N[B++]=H>>8&255,N[B++]=H>>0&255,N[B++]=H>>24&255}}function Kt(h,y,A,N,B){for(A=y+A;y<A;){var H=(W=h[y++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;N[B++]=H,N[B++]=W}}function _i(h,y,A,N,B){for(A=y+A;y<A;){var H=(W=h[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;N[B++]=H,N[B++]=W}}function Le(h,y,A,N,B){for(A=y+A;y<A;){var H=h[y++];N[B++]=H>>0&255,N[B++]=H>>8&255,N[B++]=H>>16&255}}function Re(h,y,A,N,B,H){if(H==0)for(A=y+A;y<A;)Ye(N,((H=h[y++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),B+=32;else i(N,B,h,y,A)}function Ue(h,y){z[y][0]=z[h+"0"],z[y][1]=z[h+"1"],z[y][2]=z[h+"2"],z[y][3]=z[h+"3"],z[y][4]=z[h+"4"],z[y][5]=z[h+"5"],z[y][6]=z[h+"6"],z[y][7]=z[h+"7"],z[y][8]=z[h+"8"],z[y][9]=z[h+"9"],z[y][10]=z[h+"10"],z[y][11]=z[h+"11"],z[y][12]=z[h+"12"],z[y][13]=z[h+"13"],z[y][14]=z[h+"0"],z[y][15]=z[h+"0"]}function Be(h){return h==Cl||h==to||h==wa||h==As}function Je(){this.eb=[],this.size=this.A=this.fb=0}function it(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new it,this.sd=null}function Lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function At(h,y){var A=h.T,N=y.ba.f.RGBA,B=N.eb,H=N.fb+h.ka*N.A,W=yi[y.ba.S],Z=h.y,Q=h.O,oe=h.f,ge=h.N,Ee=h.ea,Te=h.W,Se=y.cc,je=y.dc,Ie=y.Mc,ve=y.Nc,_e=h.ka,Fe=h.ka+h.T,He=h.U,ze=He+1>>1;for(_e==0?W(Z,Q,null,null,oe,ge,Ee,Te,oe,ge,Ee,Te,B,H,null,null,He):(W(y.ec,y.fc,Z,Q,Se,je,Ie,ve,oe,ge,Ee,Te,B,H-N.A,B,H,He),++A);_e+2<Fe;_e+=2)Se=oe,je=ge,Ie=Ee,ve=Te,ge+=h.Rc,Te+=h.Rc,H+=2*N.A,W(Z,(Q+=2*h.fa)-h.fa,Z,Q,Se,je,Ie,ve,oe,ge,Ee,Te,B,H-N.A,B,H,He);return Q+=h.fa,h.j+Fe<h.o?(i(y.ec,y.fc,Z,Q,He),i(y.cc,y.dc,oe,ge,ze),i(y.Mc,y.Nc,Ee,Te,ze),A--):1&Fe||W(Z,Q,null,null,oe,ge,Ee,Te,oe,ge,Ee,Te,B,H+N.A,null,null,He),A}function kn(h,y,A){var N=h.F,B=[h.J];if(N!=null){var H=h.U,W=y.ba.S,Z=W==Fo||W==wa;y=y.ba.f.RGBA;var Q=[0],oe=h.ka;Q[0]=h.T,h.Kb&&(oe==0?--Q[0]:(--oe,B[0]-=h.width),h.j+h.ka+h.T==h.o&&(Q[0]=h.o-h.j-oe));var ge=y.eb;oe=y.fb+oe*y.A,h=Fi(N,B[0],h.width,H,Q,ge,oe+(Z?0:3),y.A),e(A==Q),h&&Be(W)&&xa(ge,oe,Z,H,Q,y.A)}return 0}function Gt(h){var y=h.ma,A=y.ba.S,N=11>A,B=A==Ss||A==Al||A==Fo||A==_a||A==12||Be(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Ka(y.Oa,h,B?11:12))return 0;if(B&&Be(A)&&Ze(),h.da)alert("todo:use_scaling");else{if(N){if(y.Ib=pt,h.Kb){if(A=h.U+1>>1,y.memory=s(h.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+h.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=At,Ze()}}else alert("todo:EmitYUV");B&&(y.Jb=kn,N&&Ce())}if(N&&!xf){for(h=0;256>h;++h)Gd[h]=89858*(h-128)+li>>ta,El[h]=-22014*(h-128)+li,pc[h]=-45773*(h-128),ui[h]=113618*(h-128)+li>>ta;for(h=ro;h<Su;++h)y=76283*(h-16)+li>>ta,Ll[h-ro]=ur(y,255),mc[h-ro]=ur(y+8>>4,15);xf=1}return 1}function Hi(h){var y=h.ma,A=h.U,N=h.T;return e(!(1&h.ka)),0>=A||0>=N?0:(A=y.Ib(h,y),y.Jb!=null&&y.Jb(h,y,A),y.Dc+=A,1)}function rr(h){h.ma.memory=null}function xt(h,y,A,N){return O(h,8)!=47?0:(y[0]=O(h,14)+1,A[0]=O(h,14)+1,N[0]=O(h,1),O(h,3)!=0?0:!h.h)}function cn(h,y){if(4>h)return h+1;var A=h-2>>1;return(2+(1&h)<<A)+O(y,A)+1}function sn(h,y){return 120<y?y-120:1<=(A=((A=Aa[y-1])>>4)*h+(8-(15&A)))?A:1;var A}function _n(h,y,A){var N=j(A),B=h[y+=255&N].g-8;return 0<B&&(le(A,A.u+8),N=j(A),y+=h[y].value,y+=N&(1<<B)-1),le(A,A.u+h[y].g),h[y].value}function Wn(h,y,A){return A.g+=h.g,A.value+=h.value<<y>>>0,e(8>=A.g),h.g}function ti(h,y,A){var N=h.xc;return e((y=N==0?0:h.vc[h.md*(A>>N)+(y>>N)])<h.Wb),h.Ya[y]}function ar(h,y,A,N){var B=h.ab,H=h.c*y,W=h.C;y=W+y;var Z=A,Q=N;for(N=h.Ta,A=h.Ua;0<B--;){var oe=h.gc[B],ge=W,Ee=y,Te=Z,Se=Q,je=(Q=N,Z=A,oe.Ea);switch(e(ge<Ee),e(Ee<=oe.nc),oe.hc){case 2:hu(Te,Se,(Ee-ge)*je,Q,Z);break;case 0:var Ie=ge,ve=Ee,_e=Q,Fe=Z,He=(nt=oe).Ea;Ie==0&&(dc(Te,Se,null,null,1,_e,Fe),qt(Te,Se+1,0,0,He-1,_e,Fe+1),Se+=He,Fe+=He,++Ie);for(var ze=1<<nt.b,ct=ze-1,tt=Xe(He,nt.b),Ct=nt.K,nt=nt.w+(Ie>>nt.b)*tt;Ie<ve;){var fn=Ct,mn=nt,en=1;for(_l(Te,Se,_e,Fe-He,1,_e,Fe);en<He;){var Xt=(en&~ct)+ze;Xt>He&&(Xt=He),(0,va[fn[mn++]>>8&15])(Te,Se+ +en,_e,Fe+en-He,Xt-en,_e,Fe+en),en=Xt}Se+=He,Fe+=He,++Ie&ct||(nt+=tt)}Ee!=oe.nc&&i(Q,Z-je,Q,Z+(Ee-ge-1)*je,je);break;case 1:for(je=Te,ve=Se,He=(Te=oe.Ea)-(Fe=Te&~(_e=(Se=1<<oe.b)-1)),Ie=Xe(Te,oe.b),ze=oe.K,oe=oe.w+(ge>>oe.b)*Ie;ge<Ee;){for(ct=ze,tt=oe,Ct=new at,nt=ve+Fe,fn=ve+Te;ve<nt;)$t(ct[tt++],Ct),cr(Ct,je,ve,Se,Q,Z),ve+=Se,Z+=Se;ve<fn&&($t(ct[tt++],Ct),cr(Ct,je,ve,He,Q,Z),ve+=He,Z+=He),++ge&_e||(oe+=Ie)}break;case 3:if(Te==Q&&Se==Z&&0<oe.b){for(ve=Q,Te=je=Z+(Ee-ge)*je-(Fe=(Ee-ge)*Xe(oe.Ea,oe.b)),Se=Q,_e=Z,Ie=[],Fe=(He=Fe)-1;0<=Fe;--Fe)Ie[Fe]=Se[_e+Fe];for(Fe=He-1;0<=Fe;--Fe)ve[Te+Fe]=Ie[Fe];Rr(oe,ge,Ee,Q,je,Q,Z)}else Rr(oe,ge,Ee,Te,Se,Q,Z)}Z=N,Q=A}Q!=A&&i(N,A,Z,Q,H)}function So(h,y){var A=h.V,N=h.Ba+h.c*h.C,B=y-h.C;if(e(y<=h.l.o),e(16>=B),0<B){var H=h.l,W=h.Ta,Z=h.Ua,Q=H.width;if(ar(h,B,A,N),B=Z=[Z],e((A=h.C)<(N=y)),e(H.v<H.va),N>H.o&&(N=H.o),A<H.j){var oe=H.j-A;A=H.j,B[0]+=oe*Q}if(A>=N?A=0:(B[0]+=4*H.v,H.ka=A-H.j,H.U=H.va-H.v,H.T=N-A,A=1),A){if(Z=Z[0],11>(A=h.ca).S){var ge=A.f.RGBA,Ee=(N=A.S,B=H.U,H=H.T,oe=ge.eb,ge.A),Te=H;for(ge=ge.fb+h.Ma*ge.A;0<Te--;){var Se=W,je=Z,Ie=B,ve=oe,_e=ge;switch(N){case Di:br(Se,je,Ie,ve,_e);break;case Ss:Kr(Se,je,Ie,ve,_e);break;case Cl:Kr(Se,je,Ie,ve,_e),xa(ve,_e,0,Ie,1,0);break;case $r:$a(Se,je,Ie,ve,_e);break;case Al:Re(Se,je,Ie,ve,_e,1);break;case to:Re(Se,je,Ie,ve,_e,1),xa(ve,_e,0,Ie,1,0);break;case Fo:Re(Se,je,Ie,ve,_e,0);break;case wa:Re(Se,je,Ie,ve,_e,0),xa(ve,_e,1,Ie,1,0);break;case _a:Zr(Se,je,Ie,ve,_e);break;case As:Zr(Se,je,Ie,ve,_e),Ai(ve,_e,Ie,1,0);break;case yu:Ki(Se,je,Ie,ve,_e);break;default:e(0)}Z+=Q,ge+=Ee}h.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=A.height)}}h.C=y,e(h.C<=h.i)}function or(h){var y;if(0<h.ua)return 0;for(y=0;y<h.Wb;++y){var A=h.Ya[y].G,N=h.Ya[y].H;if(0<A[1][N[1]+0].g||0<A[2][N[2]+0].g||0<A[3][N[3]+0].g)return 0}return 1}function sr(h,y,A,N,B,H){if(h.Z!=0){var W=h.qd,Z=h.rd;for(e(Qr[h.Z]!=null);y<A;++y)Qr[h.Z](W,Z,N,B,N,B,H),W=N,Z=B,B+=H;h.qd=W,h.rd=Z}}function Ni(h,y){var A=h.l.ma,N=A.Z==0||A.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,e(y<=h.l.o),y>N){var B=h.l.width,H=A.ca,W=A.tb+B*N,Z=h.V,Q=h.Ba+h.c*N,oe=h.gc;e(h.ab==1),e(oe[0].hc==3),Ro(oe[0],N,y,Z,Q,H,W),sr(A,N,y,H,W,B)}h.C=h.Ma=y}function Ei(h,y,A,N,B,H,W){var Z=h.$/N,Q=h.$%N,oe=h.m,ge=h.s,Ee=A+h.$,Te=Ee;B=A+N*B;var Se=A+N*H,je=280+ge.ua,Ie=h.Pb?Z:16777216,ve=0<ge.ua?ge.Wa:null,_e=ge.wc,Fe=Ee<Se?ti(ge,Q,Z):null;e(h.C<H),e(Se<=B);var He=!1;e:for(;;){for(;He||Ee<Se;){var ze=0;if(Z>=Ie){var ct=Ee-A;e((Ie=h).Pb),Ie.wd=Ie.m,Ie.xd=ct,0<Ie.s.ua&&Oe(Ie.s.Wa,Ie.s.vb),Ie=Z+vf}if(Q&_e||(Fe=ti(ge,Q,Z)),e(Fe!=null),Fe.Qb&&(y[Ee]=Fe.qb,He=!0),!He)if(ue(oe),Fe.jc){ze=oe,ct=y;var tt=Ee,Ct=Fe.pd[j(ze)&Mi-1];e(Fe.jc),256>Ct.g?(le(ze,ze.u+Ct.g),ct[tt]=Ct.value,ze=0):(le(ze,ze.u+Ct.g-256),e(256<=Ct.value),ze=Ct.value),ze==0&&(He=!0)}else ze=_n(Fe.G[0],Fe.H[0],oe);if(oe.h)break;if(He||256>ze){if(!He)if(Fe.nd)y[Ee]=(Fe.qb|ze<<8)>>>0;else{if(ue(oe),He=_n(Fe.G[1],Fe.H[1],oe),ue(oe),ct=_n(Fe.G[2],Fe.H[2],oe),tt=_n(Fe.G[3],Fe.H[3],oe),oe.h)break;y[Ee]=(tt<<24|He<<16|ze<<8|ct)>>>0}if(He=!1,++Ee,++Q>=N&&(Q=0,++Z,W!=null&&Z<=H&&!(Z%16)&&W(h,Z),ve!=null))for(;Te<Ee;)ze=y[Te++],ve.X[(506832829*ze&4294967295)>>>ve.Mb]=ze}else if(280>ze){if(ze=cn(ze-256,oe),ct=_n(Fe.G[4],Fe.H[4],oe),ue(oe),ct=sn(N,ct=cn(ct,oe)),oe.h)break;if(Ee-A<ct||B-Ee<ze)break e;for(tt=0;tt<ze;++tt)y[Ee+tt]=y[Ee+tt-ct];for(Ee+=ze,Q+=ze;Q>=N;)Q-=N,++Z,W!=null&&Z<=H&&!(Z%16)&&W(h,Z);if(e(Ee<=B),Q&_e&&(Fe=ti(ge,Q,Z)),ve!=null)for(;Te<Ee;)ze=y[Te++],ve.X[(506832829*ze&4294967295)>>>ve.Mb]=ze}else{if(!(ze<je))break e;for(He=ze-280,e(ve!=null);Te<Ee;)ze=y[Te++],ve.X[(506832829*ze&4294967295)>>>ve.Mb]=ze;ze=Ee,e(!(He>>>(ct=ve).Xa)),y[ze]=ct.X[He],He=!0}He||e(oe.h==X(oe))}if(h.Pb&&oe.h&&Ee<B)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Oe(h.s.vb,h.s.Wa);else{if(oe.h)break e;W!=null&&W(h,Z>H?H:Z),h.a=0,h.$=Ee-A}return 1}return h.a=3,0}function Gi(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var y=h.Wa;y!=null&&(y.X=null),h.vb=null,e(h!=null)}function wi(){var h=new fc;return h==null?null:(h.a=0,h.xb=Cs,Ue("Predictor","VP8LPredictors"),Ue("Predictor","VP8LPredictors_C"),Ue("PredictorAdd","VP8LPredictorsAdd"),Ue("PredictorAdd","VP8LPredictorsAdd_C"),hu=kt,cr=yt,br=st,Kr=Vn,Zr=Kt,Ki=_i,$a=Le,z.VP8LMapColor32b=Si,z.VP8LMapColor8b=pu,h)}function wn(h,y,A,N,B){var H=1,W=[h],Z=[y],Q=N.m,oe=N.s,ge=null,Ee=0;e:for(;;){if(A)for(;H&&O(Q,1);){var Te=W,Se=Z,je=N,Ie=1,ve=je.m,_e=je.gc[je.ab],Fe=O(ve,2);if(je.Oc&1<<Fe)H=0;else{switch(je.Oc|=1<<Fe,_e.hc=Fe,_e.Ea=Te[0],_e.nc=Se[0],_e.K=[null],++je.ab,e(4>=je.ab),Fe){case 0:case 1:_e.b=O(ve,3)+2,Ie=wn(Xe(_e.Ea,_e.b),Xe(_e.nc,_e.b),0,je,_e.K),_e.K=_e.K[0];break;case 3:var He,ze=O(ve,8)+1,ct=16<ze?0:4<ze?1:2<ze?2:3;if(Te[0]=Xe(_e.Ea,ct),_e.b=ct,He=Ie=wn(ze,1,0,je,_e.K)){var tt,Ct=ze,nt=_e,fn=1<<(8>>nt.b),mn=s(fn);if(mn==null)He=0;else{var en=nt.K[0],Xt=nt.w;for(mn[0]=nt.K[0][0],tt=1;tt<1*Ct;++tt)mn[tt]=Ke(en[Xt+tt],mn[tt-1]);for(;tt<4*fn;++tt)mn[tt]=0;nt.K[0]=null,nt.K[0]=mn,He=1}}Ie=He;break;case 2:break;default:e(0)}H=Ie}}if(W=W[0],Z=Z[0],H&&O(Q,1)&&!(H=1<=(Ee=O(Q,4))&&11>=Ee)){N.a=3;break e}var xn;if(xn=H)t:{var gn,Vt,An,Et=N,Rt=W,ln=Z,dn=Ee,bi=A,ci=Et.m,$n=Et.s,Xn=[null],ni=1,Ar=0,vn=qo[dn];n:for(;;){if(bi&&O(ci,1)){var ii=O(ci,3)+2,Or=Xe(Rt,ii),ao=Xe(ln,ii),jo=Or*ao;if(!wn(Or,ao,0,Et,Xn))break n;for(Xn=Xn[0],$n.xc=ii,gn=0;gn<jo;++gn){var oo=Xn[gn]>>8&65535;Xn[gn]=oo,oo>=ni&&(ni=oo+1)}}if(ci.h)break n;for(Vt=0;5>Vt;++Vt){var On=fr[Vt];!Vt&&0<dn&&(On+=1<<dn),Ar<On&&(Ar=On)}var Ml=u(ni*vn,I),Au=ni,qi=u(Au,ne);if(qi==null)var Bn=null;else e(65536>=Au),Bn=qi;var Ho=s(Ar);if(Bn==null||Ho==null||Ml==null){Et.a=1;break n}var so=Ml;for(gn=An=0;gn<ni;++gn){var $i=Bn[gn],lo=$i.G,Xi=$i.H,kl=0,Ns=1,Cu=0;for(Vt=0;5>Vt;++Vt){On=fr[Vt],lo[Vt]=so,Xi[Vt]=An,!Vt&&0<dn&&(On+=1<<dn);r:{var Dl,Tu=On,Il=Et,Es=Ho,Sf=so,Af=An,Rl=0,Ea=Il.m,Wd=O(Ea,1);if(o(Es,0,0,Tu),Wd){var Cf=O(Ea,1)+1,Tf=O(Ea,1),gc=O(Ea,Tf==0?1:8);Es[gc]=1,Cf==2&&(Es[gc=O(Ea,8)]=1);var Ls=1}else{var vc=s(19),yc=O(Ea,4)+4;if(19<yc){Il.a=3;var Pl=0;break r}for(Dl=0;Dl<yc;++Dl)vc[Sa[Dl]]=O(Ea,3);var Nu=void 0,Ms=void 0,Nf=Il,Ef=vc,La=Tu,Ol=Es,Eu=0,Ur=Nf.m,ks=8,bc=u(128,I);i:for(;U(bc,0,7,Ef,19);){if(O(Ur,1)){var Lf=2+2*O(Ur,3);if((Nu=2+O(Ur,Lf))>La)break i}else Nu=La;for(Ms=0;Ms<La&&Nu--;){ue(Ur);var xc=bc[0+(127&j(Ur))];le(Ur,Ur.u+xc.g);var Go=xc.value;if(16>Go)Ol[Ms++]=Go,Go!=0&&(ks=Go);else{var Mf=Go==16,_c=Go-16,wc=Sr[_c],Sc=O(Ur,bu[_c])+wc;if(Ms+Sc>La)break i;for(var kf=Mf?ks:0;0<Sc--;)Ol[Ms++]=kf}}Eu=1;break i}Eu||(Nf.a=3),Ls=Eu}(Ls=Ls&&!Ea.h)&&(Rl=U(Sf,Af,8,Es,Tu)),Ls&&Rl!=0?Pl=Rl:(Il.a=3,Pl=0)}if(Pl==0)break n;if(Ns&&Bo[Vt]==1&&(Ns=so[An].g==0),kl+=so[An].g,An+=Pl,3>=Vt){var Yo,Lu=Ho[0];for(Yo=1;Yo<On;++Yo)Ho[Yo]>Lu&&(Lu=Ho[Yo]);Cu+=Lu}}if($i.nd=Ns,$i.Qb=0,Ns&&($i.qb=(lo[3][Xi[3]+0].value<<24|lo[1][Xi[1]+0].value<<16|lo[2][Xi[2]+0].value)>>>0,kl==0&&256>lo[0][Xi[0]+0].value&&($i.Qb=1,$i.qb+=lo[0][Xi[0]+0].value<<8)),$i.jc=!$i.Qb&&6>Cu,$i.jc){var Ul,Ma=$i;for(Ul=0;Ul<Mi;++Ul){var na=Ul,ka=Ma.pd[na],Fl=Ma.G[0][Ma.H[0]+na];256<=Fl.value?(ka.g=Fl.g+256,ka.value=Fl.value):(ka.g=0,ka.value=0,na>>=Wn(Fl,8,ka),na>>=Wn(Ma.G[1][Ma.H[1]+na],16,ka),na>>=Wn(Ma.G[2][Ma.H[2]+na],0,ka),Wn(Ma.G[3][Ma.H[3]+na],24,ka))}}}$n.vc=Xn,$n.Wb=ni,$n.Ya=Bn,$n.yc=Ml,xn=1;break t}xn=0}if(!(H=xn)){N.a=3;break e}if(0<Ee){if(oe.ua=1<<Ee,!Nt(oe.Wa,Ee)){N.a=1,H=0;break e}}else oe.ua=0;var Bl=N,Ac=W,Df=Z,Cc=Bl.s,Tc=Cc.xc;if(Bl.c=Ac,Bl.i=Df,Cc.md=Xe(Ac,Tc),Cc.wc=Tc==0?-1:(1<<Tc)-1,A){N.xb=bf;break e}if((ge=s(W*Z))==null){N.a=1,H=0;break e}H=(H=Ei(N,ge,0,W,Z,Z,null))&&!Q.h;break e}return H?(B!=null?B[0]=ge:(e(ge==null),e(A)),N.$=0,A||Gi(oe)):Gi(oe),H}function Ba(h,y){var A=h.c*h.i,N=A+y+16*y;return e(h.c<=y),h.V=s(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+A+y,1)}function Ao(h,y){var A=h.C,N=y-A,B=h.V,H=h.Ba+h.c*A;for(e(y<=h.l.o);0<N;){var W=16<N?16:N,Z=h.l.ma,Q=h.l.width,oe=Q*W,ge=Z.ca,Ee=Z.tb+Q*A,Te=h.Ta,Se=h.Ua;ar(h,W,B,H),Po(Te,Se,ge,Ee,oe),sr(Z,A,A+W,ge,Ee,Q),N-=W,B+=W*h.c,A+=W}e(A==y),h.C=h.Ma=y}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ol(){this.Yb=function(){var h=[];return function y(A,N,B){for(var H=B[N],W=0;W<H&&(A.push(B.length>N+1?[]:0),!(B.length<N+1));W++)y(A[W],N+1,B)}(h,0,[3,11]),h}()}function nu(){this.jb=s(3),this.Wc=f([4,8],ol),this.Xc=f([4,17],ol)}function oc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function sa(){this.ld=this.La=this.dd=this.tc=0}function Co(){this.Na=this.la=0}function kr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function To(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function iu(){this.uc=this.M=this.Nb=0,this.wa=Array(new sa),this.Y=0,this.ya=Array(new To),this.aa=0,this.l=new qa}function la(){this.y=s(16),this.f=s(8),this.ea=s(8)}function sl(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new mr,this.Kc=new Mr,this.ed=new oc,this.Qa=new rs,this.Ic=this.$c=this.Aa=0,this.D=new iu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,ce),this.ia=0,this.pb=u(4,kr),this.Pa=new nu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new la),this.Hd=0,this.rb=Array(new Co),this.sb=0,this.wa=Array(new sa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new To),this.L=this.aa=0,this.gd=f([4,2],sa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sc(){var h=new sl;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,si||(si=ru)),h}function jn(h,y,A){return h.a==0&&(h.a=y,h.sc=A,h.cb=0),0}function Oi(h,y,A){return 3<=A&&h[y+0]==157&&h[y+1]==1&&h[y+2]==42}function ll(h,y){if(h==null)return 0;if(h.a=0,h.sc="OK",y==null)return jn(h,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,N=y.w,B=y.ha;if(4>B)return jn(h,7,"Truncated header.");var H=A[N+0]|A[N+1]<<8|A[N+2]<<16,W=h.Od;if(W.Rb=!(1&H),W.td=H>>1&7,W.yd=H>>4&1,W.ub=H>>5,3<W.td)return jn(h,3,"Incorrect keyframe parameters.");if(!W.yd)return jn(h,4,"Frame not displayable.");N+=3,B-=3;var Z=h.Kc;if(W.Rb){if(7>B)return jn(h,7,"cannot parse picture header");if(!Oi(A,N,B))return jn(h,3,"Bad code word");Z.c=16383&(A[N+4]<<8|A[N+3]),Z.Td=A[N+4]>>6,Z.i=16383&(A[N+6]<<8|A[N+5]),Z.Ud=A[N+6]>>6,N+=7,B-=7,h.za=Z.c+15>>4,h.Ub=Z.i+15>>4,y.width=Z.c,y.height=Z.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,o((H=h.Pa).jb,0,255,H.jb.length),e((H=h.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,o(H.Zb,0,0,H.Zb.length),o(H.Lb,0,0,H.Lb)}if(W.ub>B)return jn(h,7,"bad partition length");ye(H=h.m,A,N,W.ub),N+=W.ub,B-=W.ub,W.Rb&&(Z.Ld=xe(H),Z.Kd=xe(H)),Z=h.Qa;var Q,oe=h.Pa;if(e(H!=null),e(Z!=null),Z.Cb=xe(H),Z.Cb){if(Z.Bb=xe(H),xe(H)){for(Z.Fb=xe(H),Q=0;4>Q;++Q)Z.Zb[Q]=xe(H)?K(H,7):0;for(Q=0;4>Q;++Q)Z.Lb[Q]=xe(H)?K(H,6):0}if(Z.Bb)for(Q=0;3>Q;++Q)oe.jb[Q]=xe(H)?F(H,8):255}else Z.Bb=0;if(H.Ka)return jn(h,3,"cannot parse segment header");if((Z=h.ed).zd=xe(H),Z.Tb=F(H,6),Z.wb=F(H,3),Z.Pc=xe(H),Z.Pc&&xe(H)){for(oe=0;4>oe;++oe)xe(H)&&(Z.vd[oe]=K(H,6));for(oe=0;4>oe;++oe)xe(H)&&(Z.od[oe]=K(H,6))}if(h.L=Z.Tb==0?0:Z.zd?1:2,H.Ka)return jn(h,3,"cannot parse filter header");var ge=B;if(B=Q=N,N=Q+ge,Z=ge,h.Xb=(1<<F(h.m,2))-1,ge<3*(oe=h.Xb))A=7;else{for(Q+=3*oe,Z-=3*oe,ge=0;ge<oe;++ge){var Ee=A[B+0]|A[B+1]<<8|A[B+2]<<16;Ee>Z&&(Ee=Z),ye(h.Jc[+ge],A,Q,Ee),Q+=Ee,Z-=Ee,B+=3}ye(h.Jc[+oe],A,Q,Z),A=Q<N?0:5}if(A!=0)return jn(h,A,"cannot parse partitions");for(A=F(Q=h.m,7),B=xe(Q)?K(Q,4):0,N=xe(Q)?K(Q,4):0,Z=xe(Q)?K(Q,4):0,oe=xe(Q)?K(Q,4):0,Q=xe(Q)?K(Q,4):0,ge=h.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var Te=ge.Zb[Ee];ge.Fb||(Te+=A)}else{if(0<Ee){h.pb[Ee]=h.pb[0];continue}Te=A}var Se=h.pb[Ee];Se.Sc[0]=Tl[ur(Te+B,127)],Se.Sc[1]=Nl[ur(Te+0,127)],Se.Eb[0]=2*Tl[ur(Te+N,127)],Se.Eb[1]=101581*Nl[ur(Te+Z,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Tl[ur(Te+oe,117)],Se.Qc[1]=Nl[ur(Te+Q,127)],Se.lc=Te+Q}if(!W.Rb)return jn(h,4,"Not a key frame.");for(xe(H),W=h.Pa,A=0;4>A;++A){for(B=0;8>B;++B)for(N=0;3>N;++N)for(Z=0;11>Z;++Z)oe=pe(H,zo[A][B][N][Z])?F(H,8):Xr[A][B][N][Z],W.Wc[A][B].Yb[N][Z]=oe;for(B=0;17>B;++B)W.Xc[A][B]=W.Wc[A][yf[B]]}return h.kc=xe(H),h.kc&&(h.Bd=F(H,8)),h.cb=1}function ru(h,y,A,N,B,H,W){var Z=y[B].Yb[A];for(A=0;16>B;++B){if(!pe(h,Z[A+0]))return B;for(;!pe(h,Z[A+1]);)if(Z=y[++B].Yb[0],A=0,B==16)return 16;var Q=y[B+1].Yb;if(pe(h,Z[A+2])){var oe=h,ge=0;if(pe(oe,(Te=Z)[(Ee=A)+3]))if(pe(oe,Te[Ee+6])){for(Z=0,Ee=2*(ge=pe(oe,Te[Ee+8]))+(Te=pe(oe,Te[Ee+9+ge])),ge=0,Te=Gn[Ee];Te[Z];++Z)ge+=ge+pe(oe,Te[Z]);ge+=3+(8<<Ee)}else pe(oe,Te[Ee+7])?(ge=7+2*pe(oe,165),ge+=pe(oe,145)):ge=5+pe(oe,159);else ge=pe(oe,Te[Ee+4])?3+pe(oe,Te[Ee+5]):2;Z=Q[2]}else ge=1,Z=Q[1];Q=W+pn[B],0>(oe=h).b&&we(oe);var Ee,Te=oe.b,Se=(Ee=oe.Ca>>1)-(oe.I>>Te)>>31;--oe.b,oe.Ca+=Se,oe.Ca|=1,oe.I-=(Ee+1&Se)<<Te,H[Q]=((ge^Se)-Se)*N[(0<B)+0]}return 16}function za(h){var y=h.rb[h.sb-1];y.la=0,y.Na=0,o(h.zc,0,0,h.zc.length),h.ja=0}function au(h,y){if(h==null)return 0;if(y==null)return jn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!ll(h,y))return 0;if(e(h.cb),y.ac==null||y.ac(y)){y.ob&&(h.L=0);var A=Na[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=y.v-A>>4,h.zb=y.j-A>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=y.o+15+A>>4,h.Hb=y.va+15+A>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var N=h.ed;for(A=0;4>A;++A){var B;if(h.Qa.Cb){var H=h.Qa.Lb[A];h.Qa.Fb||(H+=N.Tb)}else H=N.Tb;for(B=0;1>=B;++B){var W=h.gd[A][B],Z=H;if(N.Pc&&(Z+=N.vd[0],B&&(Z+=N.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var Q=Z;0<N.wb&&(Q=4<N.wb?Q>>2:Q>>1)>9-N.wb&&(Q=9-N.wb),1>Q&&(Q=1),W.dd=Q,W.tc=2*Z+Q,W.ld=40<=Z?2:15<=Z?1:0}else W.tc=0;W.La=B}}}A=0}else jn(h,6,"Frame setup failed"),A=h.a;if(A=A==0){if(A){h.$c=0,0<h.Aa||(h.Ic=_f);e:{A=h.Ic,N=4*(Q=h.za);var oe=32*Q,ge=Q+1,Ee=0<h.L?Q*(0<h.Aa?2:1):0,Te=(h.Aa==2?2:1)*Q;if((W=N+832+(B=3*(16*A+Na[h.L])/2*oe)+(H=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=W)A=0;else{if(W>h.Vb){if(h.Vb=0,h.Ec=s(W),h.Fc=0,h.Ec==null){A=jn(h,1,"no memory during frame initialization.");break e}h.Vb=W}W=h.Ec,Z=h.Fc,h.Ac=W,h.Bc=Z,Z+=N,h.Gd=u(oe,la),h.Hd=0,h.rb=u(ge+1,Co),h.sb=1,h.wa=Ee?u(Ee,sa):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=Q),e(!0),h.oc=W,h.pc=Z,Z+=832,h.ya=u(Te,To),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=Q),h.R=16*Q,h.B=8*Q,Q=(oe=Na[h.L])*h.R,oe=oe/2*h.B,h.sa=W,h.ta=Z+Q,h.qa=h.sa,h.ra=h.ta+16*A*h.R+oe,h.Ha=h.qa,h.Ia=h.ra+8*A*h.B+oe,h.$c=0,Z+=B,h.mb=H?W:null,h.nb=H?Z:null,e(Z+H<=h.Fc+h.Vb),za(h),o(h.Ac,h.Bc,0,N),A=1}}if(A){if(y.ka=0,y.y=h.sa,y.O=h.ta,y.f=h.qa,y.N=h.ra,y.ea=h.Ha,y.Vd=h.Ia,y.fa=h.R,y.Rc=h.B,y.F=null,y.J=0,!Oo){for(A=-255;255>=A;++A)mu[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)wl[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Sl[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)gu[255+A]=0>A?0:255<A?255:A;Oo=1}Ui=Va,Xa=cl,Zi=ua,ki=ou,Pr=fl,_s=ul,Qa=Eo,xr=Lo,eo=cc,ya=gl,ws=uc,_r=ds,ba=hs,En=du,Sn=Ya,Hn=yr,Zn=pa,oi=lc,Bi[0]=Wi,Bi[1]=su,Bi[2]=pl,Bi[3]=uu,Bi[4]=gr,Bi[5]=Gr,Bi[6]=ls,Bi[7]=vr,Bi[8]=us,Bi[9]=ml,Ca[0]=ss,Ca[1]=hl,Ca[2]=ca,Ca[3]=os,Ca[4]=mi,Ca[5]=ja,Ca[6]=da,dr[0]=ha,dr[1]=lu,dr[2]=cu,dr[3]=Ha,dr[4]=lr,dr[5]=Li,dr[6]=Ga,A=1}else A=0}A&&(A=function(Se,je){for(Se.M=0;Se.M<Se.Va;++Se.M){var Ie,ve=Se.Jc[Se.M&Se.Xb],_e=Se.m,Fe=Se;for(Ie=0;Ie<Fe.za;++Ie){var He=_e,ze=Fe,ct=ze.Ac,tt=ze.Bc+4*Ie,Ct=ze.zc,nt=ze.ya[ze.aa+Ie];if(ze.Qa.Bb?nt.$b=pe(He,ze.Pa.jb[0])?2+pe(He,ze.Pa.jb[2]):pe(He,ze.Pa.jb[1]):nt.$b=0,ze.kc&&(nt.Ad=pe(He,ze.Bd)),nt.Za=!pe(He,145)+0,nt.Za){var fn=nt.Ob,mn=0;for(ze=0;4>ze;++ze){var en,Xt=Ct[0+ze];for(en=0;4>en;++en){Xt=hc[ct[tt+en]][Xt];for(var xn=no[pe(He,Xt[0])];0<xn;)xn=no[2*xn+pe(He,Xt[xn])];Xt=-xn,ct[tt+en]=Xt}i(fn,mn,ct,tt,4),mn+=4,Ct[0+ze]=Xt}}else Xt=pe(He,156)?pe(He,128)?1:3:pe(He,163)?2:0,nt.Ob[0]=Xt,o(ct,tt,Xt,4),o(Ct,0,Xt,4);nt.Dd=pe(He,142)?pe(He,114)?pe(He,183)?1:3:2:0}if(Fe.m.Ka)return jn(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(Fe=ve,He=(_e=Se).rb[_e.sb-1],ct=_e.rb[_e.sb+_e.ja],Ie=_e.ya[_e.aa+_e.ja],tt=_e.kc?Ie.Ad:0)He.la=ct.la=0,Ie.Za||(He.Na=ct.Na=0),Ie.Hc=0,Ie.Gc=0,Ie.ia=0;else{var gn,Vt;if(He=ct,ct=Fe,tt=_e.Pa.Xc,Ct=_e.ya[_e.aa+_e.ja],nt=_e.pb[Ct.$b],ze=Ct.ad,fn=0,mn=_e.rb[_e.sb-1],Xt=en=0,o(ze,fn,0,384),Ct.Za)var An=0,Et=tt[3];else{xn=s(16);var Rt=He.Na+mn.Na;if(Rt=si(ct,tt[1],Rt,nt.Eb,0,xn,0),He.Na=mn.Na=(0<Rt)+0,1<Rt)Ui(xn,0,ze,fn);else{var ln=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)ze[fn+xn]=ln}An=1,Et=tt[0]}var dn=15&He.la,bi=15&mn.la;for(xn=0;4>xn;++xn){var ci=1&bi;for(ln=Vt=0;4>ln;++ln)dn=dn>>1|(ci=(Rt=si(ct,Et,Rt=ci+(1&dn),nt.Sc,An,ze,fn))>An)<<7,Vt=Vt<<2|(3<Rt?3:1<Rt?2:ze[fn+0]!=0),fn+=16;dn>>=4,bi=bi>>1|ci<<7,en=(en<<8|Vt)>>>0}for(Et=dn,An=bi>>4,gn=0;4>gn;gn+=2){for(Vt=0,dn=He.la>>4+gn,bi=mn.la>>4+gn,xn=0;2>xn;++xn){for(ci=1&bi,ln=0;2>ln;++ln)Rt=ci+(1&dn),dn=dn>>1|(ci=0<(Rt=si(ct,tt[2],Rt,nt.Qc,0,ze,fn)))<<3,Vt=Vt<<2|(3<Rt?3:1<Rt?2:ze[fn+0]!=0),fn+=16;dn>>=2,bi=bi>>1|ci<<5}Xt|=Vt<<4*gn,Et|=dn<<4<<gn,An|=(240&bi)<<gn}He.la=Et,mn.la=An,Ct.Hc=en,Ct.Gc=Xt,Ct.ia=43690&Xt?0:nt.ia,tt=!(en|Xt)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Ie.$b][Ie.Za],_e.wa[_e.Y+_e.ja].La|=!tt),Fe.Ka)return jn(Se,7,"Premature end-of-file encountered.")}if(za(Se),_e=je,Fe=1,Ie=(ve=Se).D,He=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Ie.M=ve.M,Ie.uc=He,ga(ve,Ie),Fe=1,Ie=(Vt=ve.D).Nb,He=(Xt=Na[ve.L])*ve.R,ct=Xt/2*ve.B,xn=16*Ie*ve.R,ln=8*Ie*ve.B,tt=ve.sa,Ct=ve.ta-He+xn,nt=ve.qa,ze=ve.ra-ct+ln,fn=ve.Ha,mn=ve.Ia-ct+ln,bi=(dn=Vt.M)==0,en=dn>=ve.Va-1,ve.Aa==2&&ga(ve,Vt),Vt.uc)for(ci=(Rt=ve).D.M,e(Rt.D.uc),Vt=Rt.yb;Vt<Rt.Hb;++Vt){An=Vt,Et=ci;var $n=(Xn=(On=Rt).D).Nb;gn=On.R;var Xn=Xn.wa[Xn.Y+An],ni=On.sa,Ar=On.ta+16*$n*gn+16*An,vn=Xn.dd,ii=Xn.tc;if(ii!=0)if(e(3<=ii),On.L==1)0<An&&Hn(ni,Ar,gn,ii+4),Xn.La&&oi(ni,Ar,gn,ii),0<Et&&Sn(ni,Ar,gn,ii+4),Xn.La&&Zn(ni,Ar,gn,ii);else{var Or=On.B,ao=On.qa,jo=On.ra+8*$n*Or+8*An,oo=On.Ha,On=On.Ia+8*$n*Or+8*An;$n=Xn.ld,0<An&&(xr(ni,Ar,gn,ii+4,vn,$n),ya(ao,jo,oo,On,Or,ii+4,vn,$n)),Xn.La&&(_r(ni,Ar,gn,ii,vn,$n),En(ao,jo,oo,On,Or,ii,vn,$n)),0<Et&&(Qa(ni,Ar,gn,ii+4,vn,$n),eo(ao,jo,oo,On,Or,ii+4,vn,$n)),Xn.La&&(ws(ni,Ar,gn,ii,vn,$n),ba(ao,jo,oo,On,Or,ii,vn,$n))}}if(ve.ia&&alert("todo:DitherRow"),_e.put!=null){if(Vt=16*dn,dn=16*(dn+1),bi?(_e.y=ve.sa,_e.O=ve.ta+xn,_e.f=ve.qa,_e.N=ve.ra+ln,_e.ea=ve.Ha,_e.W=ve.Ia+ln):(Vt-=Xt,_e.y=tt,_e.O=Ct,_e.f=nt,_e.N=ze,_e.ea=fn,_e.W=mn),en||(dn-=Xt),dn>_e.o&&(dn=_e.o),_e.F=null,_e.J=null,ve.Fa!=null&&0<ve.Fa.length&&Vt<dn&&(_e.J=bl(ve,_e,Vt,dn-Vt),_e.F=ve.mb,_e.F==null&&_e.F.length==0)){Fe=jn(ve,3,"Could not decode alpha data.");break e}Vt<_e.j&&(Xt=_e.j-Vt,Vt=_e.j,e(!(1&Xt)),_e.O+=ve.R*Xt,_e.N+=ve.B*(Xt>>1),_e.W+=ve.B*(Xt>>1),_e.F!=null&&(_e.J+=_e.width*Xt)),Vt<dn&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Vt-_e.j,_e.U=_e.va-_e.v,_e.T=dn-Vt,Fe=_e.put(_e))}Ie+1!=ve.Ic||en||(i(ve.sa,ve.ta-He,tt,Ct+16*ve.R,He),i(ve.qa,ve.ra-ct,nt,ze+8*ve.B,ct),i(ve.Ha,ve.Ia-ct,fn,mn+8*ve.B,ct))}if(!Fe)return jn(Se,6,"Output aborted.")}return 1}(h,y)),y.bc!=null&&y.bc(y),A&=1}return A?(h.cb=0,A):0}function Yi(h,y,A,N,B){B=h[y+A+32*N]+(B>>3),h[y+A+32*N]=-256&B?0>B?0:255:B}function as(h,y,A,N,B,H){Yi(h,y,0,A,N+B),Yi(h,y,1,A,N+H),Yi(h,y,2,A,N-H),Yi(h,y,3,A,N-B)}function Dn(h){return(20091*h>>16)+h}function No(h,y,A,N){var B,H=0,W=s(16);for(B=0;4>B;++B){var Z=h[y+0]+h[y+8],Q=h[y+0]-h[y+8],oe=(35468*h[y+4]>>16)-Dn(h[y+12]),ge=Dn(h[y+4])+(35468*h[y+12]>>16);W[H+0]=Z+ge,W[H+1]=Q+oe,W[H+2]=Q-oe,W[H+3]=Z-ge,H+=4,y++}for(B=H=0;4>B;++B)Z=(h=W[H+0]+4)+W[H+8],Q=h-W[H+8],oe=(35468*W[H+4]>>16)-Dn(W[H+12]),Yi(A,N,0,0,Z+(ge=Dn(W[H+4])+(35468*W[H+12]>>16))),Yi(A,N,1,0,Q+oe),Yi(A,N,2,0,Q-oe),Yi(A,N,3,0,Z-ge),H++,N+=32}function ul(h,y,A,N){var B=h[y+0]+4,H=35468*h[y+4]>>16,W=Dn(h[y+4]),Z=35468*h[y+1]>>16;as(A,N,0,B+W,h=Dn(h[y+1]),Z),as(A,N,1,B+H,h,Z),as(A,N,2,B-H,h,Z),as(A,N,3,B-W,h,Z)}function cl(h,y,A,N,B){No(h,y,A,N),B&&No(h,y+16,A,N+4)}function ua(h,y,A,N){Xa(h,y+0,A,N,1),Xa(h,y+32,A,N+128,1)}function ou(h,y,A,N){var B;for(h=h[y+0]+4,B=0;4>B;++B)for(y=0;4>y;++y)Yi(A,N,y,B,h)}function fl(h,y,A,N){h[y+0]&&ki(h,y+0,A,N),h[y+16]&&ki(h,y+16,A,N+4),h[y+32]&&ki(h,y+32,A,N+128),h[y+48]&&ki(h,y+48,A,N+128+4)}function Va(h,y,A,N){var B,H=s(16);for(B=0;4>B;++B){var W=h[y+0+B]+h[y+12+B],Z=h[y+4+B]+h[y+8+B],Q=h[y+4+B]-h[y+8+B],oe=h[y+0+B]-h[y+12+B];H[0+B]=W+Z,H[8+B]=W-Z,H[4+B]=oe+Q,H[12+B]=oe-Q}for(B=0;4>B;++B)W=(h=H[0+4*B]+3)+H[3+4*B],Z=H[1+4*B]+H[2+4*B],Q=H[1+4*B]-H[2+4*B],oe=h-H[3+4*B],A[N+0]=W+Z>>3,A[N+16]=oe+Q>>3,A[N+32]=W-Z>>3,A[N+48]=oe-Q>>3,N+=64}function dl(h,y,A){var N,B=y-32,H=vi,W=255-h[B-1];for(N=0;N<A;++N){var Z,Q=H,oe=W+h[y-1];for(Z=0;Z<A;++Z)h[y+Z]=Q[oe+h[B+Z]];y+=32}}function su(h,y){dl(h,y,4)}function lu(h,y){dl(h,y,8)}function hl(h,y){dl(h,y,16)}function ca(h,y){var A;for(A=0;16>A;++A)i(h,y+32*A,h,y-32,16)}function os(h,y){var A;for(A=16;0<A;--A)o(h,y,h[y-1],16),y+=32}function fa(h,y,A){var N;for(N=0;16>N;++N)o(y,A+32*N,h,16)}function ss(h,y){var A,N=16;for(A=0;16>A;++A)N+=h[y-1+32*A]+h[y+A-32];fa(N>>5,h,y)}function mi(h,y){var A,N=8;for(A=0;16>A;++A)N+=h[y-1+32*A];fa(N>>4,h,y)}function ja(h,y){var A,N=8;for(A=0;16>A;++A)N+=h[y+A-32];fa(N>>4,h,y)}function da(h,y){fa(128,h,y)}function Ut(h,y,A){return h+2*y+A+2>>2}function pl(h,y){var A,N=y-32;for(N=new Uint8Array([Ut(h[N-1],h[N+0],h[N+1]),Ut(h[N+0],h[N+1],h[N+2]),Ut(h[N+1],h[N+2],h[N+3]),Ut(h[N+2],h[N+3],h[N+4])]),A=0;4>A;++A)i(h,y+32*A,N,0,N.length)}function uu(h,y){var A=h[y-1],N=h[y-1+32],B=h[y-1+64],H=h[y-1+96];Ye(h,y+0,16843009*Ut(h[y-1-32],A,N)),Ye(h,y+32,16843009*Ut(A,N,B)),Ye(h,y+64,16843009*Ut(N,B,H)),Ye(h,y+96,16843009*Ut(B,H,H))}function Wi(h,y){var A,N=4;for(A=0;4>A;++A)N+=h[y+A-32]+h[y-1+32*A];for(N>>=3,A=0;4>A;++A)o(h,y+32*A,N,4)}function gr(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],H=h[y-1-32],W=h[y+0-32],Z=h[y+1-32],Q=h[y+2-32],oe=h[y+3-32];h[y+0+96]=Ut(N,B,h[y-1+96]),h[y+1+96]=h[y+0+64]=Ut(A,N,B),h[y+2+96]=h[y+1+64]=h[y+0+32]=Ut(H,A,N),h[y+3+96]=h[y+2+64]=h[y+1+32]=h[y+0+0]=Ut(W,H,A),h[y+3+64]=h[y+2+32]=h[y+1+0]=Ut(Z,W,H),h[y+3+32]=h[y+2+0]=Ut(Q,Z,W),h[y+3+0]=Ut(oe,Q,Z)}function ls(h,y){var A=h[y+1-32],N=h[y+2-32],B=h[y+3-32],H=h[y+4-32],W=h[y+5-32],Z=h[y+6-32],Q=h[y+7-32];h[y+0+0]=Ut(h[y+0-32],A,N),h[y+1+0]=h[y+0+32]=Ut(A,N,B),h[y+2+0]=h[y+1+32]=h[y+0+64]=Ut(N,B,H),h[y+3+0]=h[y+2+32]=h[y+1+64]=h[y+0+96]=Ut(B,H,W),h[y+3+32]=h[y+2+64]=h[y+1+96]=Ut(H,W,Z),h[y+3+64]=h[y+2+96]=Ut(W,Z,Q),h[y+3+96]=Ut(Z,Q,Q)}function Gr(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],H=h[y-1-32],W=h[y+0-32],Z=h[y+1-32],Q=h[y+2-32],oe=h[y+3-32];h[y+0+0]=h[y+1+64]=H+W+1>>1,h[y+1+0]=h[y+2+64]=W+Z+1>>1,h[y+2+0]=h[y+3+64]=Z+Q+1>>1,h[y+3+0]=Q+oe+1>>1,h[y+0+96]=Ut(B,N,A),h[y+0+64]=Ut(N,A,H),h[y+0+32]=h[y+1+96]=Ut(A,H,W),h[y+1+32]=h[y+2+96]=Ut(H,W,Z),h[y+2+32]=h[y+3+96]=Ut(W,Z,Q),h[y+3+32]=Ut(Z,Q,oe)}function vr(h,y){var A=h[y+0-32],N=h[y+1-32],B=h[y+2-32],H=h[y+3-32],W=h[y+4-32],Z=h[y+5-32],Q=h[y+6-32],oe=h[y+7-32];h[y+0+0]=A+N+1>>1,h[y+1+0]=h[y+0+64]=N+B+1>>1,h[y+2+0]=h[y+1+64]=B+H+1>>1,h[y+3+0]=h[y+2+64]=H+W+1>>1,h[y+0+32]=Ut(A,N,B),h[y+1+32]=h[y+0+96]=Ut(N,B,H),h[y+2+32]=h[y+1+96]=Ut(B,H,W),h[y+3+32]=h[y+2+96]=Ut(H,W,Z),h[y+3+64]=Ut(W,Z,Q),h[y+3+96]=Ut(Z,Q,oe)}function ml(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],H=h[y-1+96];h[y+0+0]=A+N+1>>1,h[y+2+0]=h[y+0+32]=N+B+1>>1,h[y+2+32]=h[y+0+64]=B+H+1>>1,h[y+1+0]=Ut(A,N,B),h[y+3+0]=h[y+1+32]=Ut(N,B,H),h[y+3+32]=h[y+1+64]=Ut(B,H,H),h[y+3+64]=h[y+2+64]=h[y+0+96]=h[y+1+96]=h[y+2+96]=h[y+3+96]=H}function us(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],H=h[y-1+96],W=h[y-1-32],Z=h[y+0-32],Q=h[y+1-32],oe=h[y+2-32];h[y+0+0]=h[y+2+32]=A+W+1>>1,h[y+0+32]=h[y+2+64]=N+A+1>>1,h[y+0+64]=h[y+2+96]=B+N+1>>1,h[y+0+96]=H+B+1>>1,h[y+3+0]=Ut(Z,Q,oe),h[y+2+0]=Ut(W,Z,Q),h[y+1+0]=h[y+3+32]=Ut(A,W,Z),h[y+1+32]=h[y+3+64]=Ut(N,A,W),h[y+1+64]=h[y+3+96]=Ut(B,N,A),h[y+1+96]=Ut(H,B,N)}function cu(h,y){var A;for(A=0;8>A;++A)i(h,y+32*A,h,y-32,8)}function Ha(h,y){var A;for(A=0;8>A;++A)o(h,y,h[y-1],8),y+=32}function Yr(h,y,A){var N;for(N=0;8>N;++N)o(y,A+32*N,h,8)}function ha(h,y){var A,N=8;for(A=0;8>A;++A)N+=h[y+A-32]+h[y-1+32*A];Yr(N>>4,h,y)}function Li(h,y){var A,N=4;for(A=0;8>A;++A)N+=h[y+A-32];Yr(N>>3,h,y)}function lr(h,y){var A,N=4;for(A=0;8>A;++A)N+=h[y-1+32*A];Yr(N>>3,h,y)}function Ga(h,y){Yr(128,h,y)}function Wr(h,y,A){var N=h[y-A],B=h[y+0],H=3*(B-N)+vu[1020+h[y-2*A]-h[y+A]],W=Uo[112+(H+4>>3)];h[y-A]=vi[255+N+Uo[112+(H+3>>3)]],h[y+0]=vi[255+B-W]}function fu(h,y,A,N){var B=h[y+0],H=h[y+A];return wr[255+h[y-2*A]-h[y-A]]>N||wr[255+H-B]>N}function cs(h,y,A,N){return 4*wr[255+h[y-A]-h[y+0]]+wr[255+h[y-2*A]-h[y+A]]<=N}function fs(h,y,A,N,B){var H=h[y-3*A],W=h[y-2*A],Z=h[y-A],Q=h[y+0],oe=h[y+A],ge=h[y+2*A],Ee=h[y+3*A];return 4*wr[255+Z-Q]+wr[255+W-oe]>N?0:wr[255+h[y-4*A]-H]<=B&&wr[255+H-W]<=B&&wr[255+W-Z]<=B&&wr[255+Ee-ge]<=B&&wr[255+ge-oe]<=B&&wr[255+oe-Q]<=B}function Ya(h,y,A,N){var B=2*N+1;for(N=0;16>N;++N)cs(h,y+N,A,B)&&Wr(h,y+N,A)}function yr(h,y,A,N){var B=2*N+1;for(N=0;16>N;++N)cs(h,y+N*A,1,B)&&Wr(h,y+N*A,1)}function pa(h,y,A,N){var B;for(B=3;0<B;--B)Ya(h,y+=4*A,A,N)}function lc(h,y,A,N){var B;for(B=3;0<B;--B)yr(h,y+=4,A,N)}function Wa(h,y,A,N,B,H,W,Z){for(H=2*H+1;0<B--;){if(fs(h,y,A,H,W))if(fu(h,y,A,Z))Wr(h,y,A);else{var Q=h,oe=y,ge=A,Ee=Q[oe-2*ge],Te=Q[oe-ge],Se=Q[oe+0],je=Q[oe+ge],Ie=Q[oe+2*ge],ve=27*(Fe=vu[1020+3*(Se-Te)+vu[1020+Ee-je]])+63>>7,_e=18*Fe+63>>7,Fe=9*Fe+63>>7;Q[oe-3*ge]=vi[255+Q[oe-3*ge]+Fe],Q[oe-2*ge]=vi[255+Ee+_e],Q[oe-ge]=vi[255+Te+ve],Q[oe+0]=vi[255+Se-ve],Q[oe+ge]=vi[255+je-_e],Q[oe+2*ge]=vi[255+Ie-Fe]}y+=N}}function Dr(h,y,A,N,B,H,W,Z){for(H=2*H+1;0<B--;){if(fs(h,y,A,H,W))if(fu(h,y,A,Z))Wr(h,y,A);else{var Q=h,oe=y,ge=A,Ee=Q[oe-ge],Te=Q[oe+0],Se=Q[oe+ge],je=Uo[112+((Ie=3*(Te-Ee))+4>>3)],Ie=Uo[112+(Ie+3>>3)],ve=je+1>>1;Q[oe-2*ge]=vi[255+Q[oe-2*ge]+ve],Q[oe-ge]=vi[255+Ee+Ie],Q[oe+0]=vi[255+Te-je],Q[oe+ge]=vi[255+Se-ve]}y+=N}}function Eo(h,y,A,N,B,H){Wa(h,y,A,1,16,N,B,H)}function Lo(h,y,A,N,B,H){Wa(h,y,1,A,16,N,B,H)}function uc(h,y,A,N,B,H){var W;for(W=3;0<W;--W)Dr(h,y+=4*A,A,1,16,N,B,H)}function ds(h,y,A,N,B,H){var W;for(W=3;0<W;--W)Dr(h,y+=4,1,A,16,N,B,H)}function cc(h,y,A,N,B,H,W,Z){Wa(h,y,B,1,8,H,W,Z),Wa(A,N,B,1,8,H,W,Z)}function gl(h,y,A,N,B,H,W,Z){Wa(h,y,1,B,8,H,W,Z),Wa(A,N,1,B,8,H,W,Z)}function hs(h,y,A,N,B,H,W,Z){Dr(h,y+4*B,B,1,8,H,W,Z),Dr(A,N+4*B,B,1,8,H,W,Z)}function du(h,y,A,N,B,H,W,Z){Dr(h,y+4,1,B,8,H,W,Z),Dr(A,N+4,1,B,8,H,W,Z)}function ps(){this.ba=new dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ms(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new I}function fc(){this.xb=this.a=0,this.l=new qa,this.ca=new dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ms,this.ab=0,this.gc=u(4,yl),this.Oc=0}function gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mo(h,y,A,N,B,H,W){for(h=h==null?0:h[y+0],y=0;y<W;++y)B[H+y]=h+A[N+y]&255,h=B[H+y]}function vs(h,y,A,N,B,H,W){var Z;if(h==null)Mo(null,null,A,N,B,H,W);else for(Z=0;Z<W;++Z)B[H+Z]=h[y+Z]+A[N+Z]&255}function Ja(h,y,A,N,B,H,W){if(h==null)Mo(null,null,A,N,B,H,W);else{var Z,Q=h[y+0],oe=Q,ge=Q;for(Z=0;Z<W;++Z)oe=ge+(Q=h[y+Z])-oe,ge=A[N+Z]+(-256&oe?0>oe?0:255:oe)&255,oe=Q,B[H+Z]=ge}}function bl(h,y,A,N){var B=y.width,H=y.o;if(e(h!=null&&y!=null),0>A||0>=N||A+N>H)return null;if(!h.Cc){if(h.ga==null){var W;if(h.ga=new gs,(W=h.ga==null)||(W=y.width*y.o,e(h.Gb.length==0),h.Gb=s(W),h.Uc=0,h.Gb==null?W=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,W=1),W=!W),!W){W=h.ga;var Z=h.Fa,Q=h.P,oe=h.qc,ge=h.mb,Ee=h.nb,Te=Q+1,Se=oe-1,je=W.l;if(e(Z!=null&&ge!=null&&y!=null),Qr[0]=null,Qr[1]=Mo,Qr[2]=vs,Qr[3]=Ja,W.ca=ge,W.tb=Ee,W.c=y.width,W.i=y.height,e(0<W.c&&0<W.i),1>=oe)y=0;else if(W.$a=Z[Q+0]>>0&3,W.Z=Z[Q+0]>>2&3,W.Lc=Z[Q+0]>>4&3,Q=Z[Q+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Q)y=0;else if(je.put=Hi,je.ac=Gt,je.bc=rr,je.ma=W,je.width=y.width,je.height=y.height,je.Da=y.Da,je.v=y.v,je.va=y.va,je.j=y.j,je.o=y.o,W.$a)e:{e(W.$a==1),y=wi();t:for(;;){if(y==null){y=0;break e}if(e(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,ie(y.m,Z,Te,Se),!wn(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&or(y.s)?(W.ic=1,Z=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(Z),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=Ba(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=Se>=W.c*W.i;W=!y}if(W)return null;h.ga.Lc!=1?h.Ga=0:N=H-A}e(h.ga!=null),e(A+N<=H);e:{if(y=(Z=h.ga).c,H=Z.l.o,Z.$a==0){if(Te=h.rc,Se=h.Vc,je=h.Fa,Q=h.P+1+A*y,oe=h.mb,ge=h.nb+A*y,e(Q<=h.P+h.qc),Z.Z!=0)for(e(Qr[Z.Z]!=null),W=0;W<N;++W)Qr[Z.Z](Te,Se,je,Q,oe,ge,y),Te=oe,Se=ge,ge+=y,Q+=y;else for(W=0;W<N;++W)i(oe,ge,je,Q,y),Te=oe,Se=ge,ge+=y,Q+=y;h.rc=Te,h.Vc=Se}else{if(e(Z.mc!=null),y=A+N,e((W=Z.mc)!=null),e(y<=W.i),W.C>=y)y=1;else if(Z.ic||Ce(),Z.ic){Z=W.V,Te=W.Ba,Se=W.c;var Ie=W.i,ve=(je=1,Q=W.$/Se,oe=W.$%Se,ge=W.m,Ee=W.s,W.$),_e=Se*Ie,Fe=Se*y,He=Ee.wc,ze=ve<Fe?ti(Ee,oe,Q):null;e(ve<=_e),e(y<=Ie),e(or(Ee));t:for(;;){for(;!ge.h&&ve<Fe;){if(oe&He||(ze=ti(Ee,oe,Q)),e(ze!=null),ue(ge),256>(Ie=_n(ze.G[0],ze.H[0],ge)))Z[Te+ve]=Ie,++ve,++oe>=Se&&(oe=0,++Q<=y&&!(Q%16)&&Ni(W,Q));else{if(!(280>Ie)){je=0;break t}Ie=cn(Ie-256,ge);var ct,tt=_n(ze.G[4],ze.H[4],ge);if(ue(ge),!(ve>=(tt=sn(Se,tt=cn(tt,ge)))&&_e-ve>=Ie)){je=0;break t}for(ct=0;ct<Ie;++ct)Z[Te+ve+ct]=Z[Te+ve+ct-tt];for(ve+=Ie,oe+=Ie;oe>=Se;)oe-=Se,++Q<=y&&!(Q%16)&&Ni(W,Q);ve<Fe&&oe&He&&(ze=ti(Ee,oe,Q))}e(ge.h==X(ge))}Ni(W,Q>y?y:Q);break t}!je||ge.h&&ve<_e?(je=0,W.a=ge.h?5:3):W.$=ve,y=je}else y=Ei(W,W.V,W.Ba,W.c,W.i,y,Ao);if(!y){N=0;break e}}A+N>=H&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+A*B}function S(h,y,A,N,B,H){for(;0<B--;){var W,Z=h,Q=y+(A?1:0),oe=h,ge=y+(A?0:3);for(W=0;W<N;++W){var Ee=oe[ge+4*W];Ee!=255&&(Ee*=32897,Z[Q+4*W+0]=Z[Q+4*W+0]*Ee>>23,Z[Q+4*W+1]=Z[Q+4*W+1]*Ee>>23,Z[Q+4*W+2]=Z[Q+4*W+2]*Ee>>23)}y+=H}}function q(h,y,A,N,B){for(;0<N--;){var H;for(H=0;H<A;++H){var W=h[y+2*H+0],Z=15&(oe=h[y+2*H+1]),Q=4369*Z,oe=(240&oe|oe>>4)*Q>>16;h[y+2*H+0]=(240&W|W>>4)*Q>>16&240|(15&W|W<<4)*Q>>16>>4&15,h[y+2*H+1]=240&oe|Z}y+=B}}function fe(h,y,A,N,B,H,W,Z){var Q,oe,ge=255;for(oe=0;oe<B;++oe){for(Q=0;Q<N;++Q){var Ee=h[y+Q];H[W+4*Q]=Ee,ge&=Ee}y+=A,W+=Z}return ge!=255}function me(h,y,A,N,B){var H;for(H=0;H<B;++H)A[N+H]=h[y+H]>>8}function Ce(){xa=S,Ai=q,Fi=fe,Po=me}function Pe(h,y,A){z[h]=function(N,B,H,W,Z,Q,oe,ge,Ee,Te,Se,je,Ie,ve,_e,Fe,He){var ze,ct=He-1>>1,tt=Z[Q+0]|oe[ge+0]<<16,Ct=Ee[Te+0]|Se[je+0]<<16;e(N!=null);var nt=3*tt+Ct+131074>>2;for(y(N[B+0],255&nt,nt>>16,Ie,ve),H!=null&&(nt=3*Ct+tt+131074>>2,y(H[W+0],255&nt,nt>>16,_e,Fe)),ze=1;ze<=ct;++ze){var fn=Z[Q+ze]|oe[ge+ze]<<16,mn=Ee[Te+ze]|Se[je+ze]<<16,en=tt+fn+Ct+mn+524296,Xt=en+2*(fn+Ct)>>3;nt=Xt+tt>>1,tt=(en=en+2*(tt+mn)>>3)+fn>>1,y(N[B+2*ze-1],255&nt,nt>>16,Ie,ve+(2*ze-1)*A),y(N[B+2*ze-0],255&tt,tt>>16,Ie,ve+(2*ze-0)*A),H!=null&&(nt=en+Ct>>1,tt=Xt+mn>>1,y(H[W+2*ze-1],255&nt,nt>>16,_e,Fe+(2*ze-1)*A),y(H[W+2*ze+0],255&tt,tt>>16,_e,Fe+(2*ze+0)*A)),tt=fn,Ct=mn}1&He||(nt=3*tt+Ct+131074>>2,y(N[B+He-1],255&nt,nt>>16,Ie,ve+(He-1)*A),H!=null&&(nt=3*Ct+tt+131074>>2,y(H[W+He-1],255&nt,nt>>16,_e,Fe+(He-1)*A)))}}function Ze(){yi[Di]=Ta,yi[Ss]=ea,yi[$r]=io,yi[Al]=xu,yi[Fo]=_u,yi[_a]=Ts,yi[yu]=wu,yi[Cl]=ea,yi[to]=xu,yi[wa]=_u,yi[As]=Ts}function ut(h){return h&-16384?0>h?0:255:h>>Hd}function wt(h,y){return ut((19077*h>>8)+(26149*y>>8)-14234)}function Yt(h,y,A){return ut((19077*h>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function Zt(h,y){return ut((19077*h>>8)+(33050*y>>8)-17685)}function rn(h,y,A,N,B){N[B+0]=wt(h,A),N[B+1]=Yt(h,y,A),N[B+2]=Zt(h,y)}function Pn(h,y,A,N,B){N[B+0]=Zt(h,y),N[B+1]=Yt(h,y,A),N[B+2]=wt(h,A)}function Fn(h,y,A,N,B){var H=Yt(h,y,A);y=H<<3&224|Zt(h,y)>>3,N[B+0]=248&wt(h,A)|H>>5,N[B+1]=y}function Jn(h,y,A,N,B){var H=240&Zt(h,y)|15;N[B+0]=240&wt(h,A)|Yt(h,y,A)>>4,N[B+1]=H}function Kn(h,y,A,N,B){N[B+0]=255,rn(h,y,A,N,B+1)}function gi(h,y,A,N,B){Pn(h,y,A,N,B),N[B+3]=255}function Ir(h,y,A,N,B){rn(h,y,A,N,B),N[B+3]=255}function ur(h,y){return 0>h?0:h>y?y:h}function Jr(h,y,A){z[h]=function(N,B,H,W,Z,Q,oe,ge,Ee){for(var Te=ge+(-2&Ee)*A;ge!=Te;)y(N[B+0],H[W+0],Z[Q+0],oe,ge),y(N[B+1],H[W+0],Z[Q+0],oe,ge+A),B+=2,++W,++Q,ge+=2*A;1&Ee&&y(N[B+0],H[W+0],Z[Q+0],oe,ge)}}function xl(h,y,A){return A==0?h==0?y==0?6:5:y==0?4:0:A}function ma(h,y,A,N,B){switch(h>>>30){case 3:Xa(y,A,N,B,0);break;case 2:_s(y,A,N,B);break;case 1:ki(y,A,N,B)}}function ga(h,y){var A,N,B=y.M,H=y.Nb,W=h.oc,Z=h.pc+40,Q=h.oc,oe=h.pc+584,ge=h.oc,Ee=h.pc+600;for(A=0;16>A;++A)W[Z+32*A-1]=129;for(A=0;8>A;++A)Q[oe+32*A-1]=129,ge[Ee+32*A-1]=129;for(0<B?W[Z-1-32]=Q[oe-1-32]=ge[Ee-1-32]=129:(o(W,Z-32-1,127,21),o(Q,oe-32-1,127,9),o(ge,Ee-32-1,127,9)),N=0;N<h.za;++N){var Te=y.ya[y.aa+N];if(0<N){for(A=-1;16>A;++A)i(W,Z+32*A-4,W,Z+32*A+12,4);for(A=-1;8>A;++A)i(Q,oe+32*A-4,Q,oe+32*A+4,4),i(ge,Ee+32*A-4,ge,Ee+32*A+4,4)}var Se=h.Gd,je=h.Hd+N,Ie=Te.ad,ve=Te.Hc;if(0<B&&(i(W,Z-32,Se[je].y,0,16),i(Q,oe-32,Se[je].f,0,8),i(ge,Ee-32,Se[je].ea,0,8)),Te.Za){var _e=W,Fe=Z-32+16;for(0<B&&(N>=h.za-1?o(_e,Fe,Se[je].y[15],4):i(_e,Fe,Se[je+1].y,0,4)),A=0;4>A;A++)_e[Fe+128+A]=_e[Fe+256+A]=_e[Fe+384+A]=_e[Fe+0+A];for(A=0;16>A;++A,ve<<=2)_e=W,Fe=Z+Vo[A],Bi[Te.Ob[A]](_e,Fe),ma(ve,Ie,16*+A,_e,Fe)}else if(_e=xl(N,B,Te.Ob[0]),Ca[_e](W,Z),ve!=0)for(A=0;16>A;++A,ve<<=2)ma(ve,Ie,16*+A,W,Z+Vo[A]);for(A=Te.Gc,_e=xl(N,B,Te.Dd),dr[_e](Q,oe),dr[_e](ge,Ee),ve=Ie,_e=Q,Fe=oe,255&(Te=A>>0)&&(170&Te?Zi(ve,256,_e,Fe):Pr(ve,256,_e,Fe)),Te=ge,ve=Ee,255&(A>>=8)&&(170&A?Zi(Ie,320,Te,ve):Pr(Ie,320,Te,ve)),B<h.Ub-1&&(i(Se[je].y,0,W,Z+480,16),i(Se[je].f,0,Q,oe+224,8),i(Se[je].ea,0,ge,Ee+224,8)),A=8*H*h.B,Se=h.sa,je=h.ta+16*N+16*H*h.R,Ie=h.qa,Te=h.ra+8*N+A,ve=h.Ha,_e=h.Ia+8*N+A,A=0;16>A;++A)i(Se,je+A*h.R,W,Z+32*A,16);for(A=0;8>A;++A)i(Ie,Te+A*h.B,Q,oe+32*A,8),i(ve,_e+A*h.B,ge,Ee+32*A,8)}}function ys(h,y,A,N,B,H,W,Z,Q){var oe=[0],ge=[0],Ee=0,Te=Q!=null?Q.kd:0,Se=Q??new vl;if(h==null||12>A)return 7;Se.data=h,Se.w=y,Se.ha=A,y=[y],A=[A],Se.gb=[Se.gb];e:{var je=y,Ie=A,ve=Se.gb;if(e(h!=null),e(Ie!=null),e(ve!=null),ve[0]=0,12<=Ie[0]&&!t(h,je[0],"RIFF")){if(t(h,je[0]+8,"WEBP")){ve=3;break e}var _e=lt(h,je[0]+4);if(12>_e||4294967286<_e){ve=3;break e}if(Te&&_e>Ie[0]-8){ve=7;break e}ve[0]=_e,je[0]+=12,Ie[0]-=12}ve=0}if(ve!=0)return ve;for(_e=0<Se.gb[0],A=A[0];;){e:{var Fe=h;Ie=y,ve=A;var He=oe,ze=ge,ct=je=[0];if((nt=Ee=[Ee])[0]=0,8>ve[0])ve=7;else{if(!t(Fe,Ie[0],"VP8X")){if(lt(Fe,Ie[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var tt=lt(Fe,Ie[0]+8),Ct=1+rt(Fe,Ie[0]+12);if(2147483648<=Ct*(Fe=1+rt(Fe,Ie[0]+15))){ve=3;break e}ct!=null&&(ct[0]=tt),He!=null&&(He[0]=Ct),ze!=null&&(ze[0]=Fe),Ie[0]+=18,ve[0]-=18,nt[0]=1}ve=0}}if(Ee=Ee[0],je=je[0],ve!=0)return ve;if(Ie=!!(2&je),!_e&&Ee)return 3;if(H!=null&&(H[0]=!!(16&je)),W!=null&&(W[0]=Ie),Z!=null&&(Z[0]=0),W=oe[0],je=ge[0],Ee&&Ie&&Q==null){ve=0;break}if(4>A){ve=7;break}if(_e&&Ee||!_e&&!Ee&&!t(h,y[0],"ALPH")){A=[A],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{tt=h,ve=y,_e=A;var nt=Se.gb;He=Se.na,ze=Se.P,ct=Se.Sa,Ct=22,e(tt!=null),e(_e!=null),Fe=ve[0];var fn=_e[0];for(e(He!=null),e(ct!=null),He[0]=null,ze[0]=null,ct[0]=0;;){if(ve[0]=Fe,_e[0]=fn,8>fn){ve=7;break e}var mn=lt(tt,Fe+4);if(4294967286<mn){ve=3;break e}var en=8+mn+1&-2;if(Ct+=en,0<nt&&Ct>nt){ve=3;break e}if(!t(tt,Fe,"VP8 ")||!t(tt,Fe,"VP8L")){ve=0;break e}if(fn[0]<en){ve=7;break e}t(tt,Fe,"ALPH")||(He[0]=tt,ze[0]=Fe+8,ct[0]=mn),Fe+=en,fn-=en}}if(A=A[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],ve!=0)break}A=[A],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(nt=h,ve=y,_e=A,He=Se.gb[0],ze=Se.Ja,ct=Se.xa,tt=ve[0],Fe=!t(nt,tt,"VP8 "),Ct=!t(nt,tt,"VP8L"),e(nt!=null),e(_e!=null),e(ze!=null),e(ct!=null),8>_e[0])ve=7;else{if(Fe||Ct){if(nt=lt(nt,tt+4),12<=He&&nt>He-12){ve=3;break e}if(Te&&nt>_e[0]-8){ve=7;break e}ze[0]=nt,ve[0]+=8,_e[0]-=8,ct[0]=Ct}else ct[0]=5<=_e[0]&&nt[tt+0]==47&&!(nt[tt+4]>>5),ze[0]=_e[0];ve=0}if(A=A[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],y=y[0],ve!=0)break;if(4294967286<Se.Ja)return 3;if(Z==null||Ie||(Z[0]=Se.xa?2:1),W=[W],je=[je],Se.xa){if(5>A){ve=7;break}Z=W,Te=je,Ie=H,h==null||5>A?h=0:5<=A&&h[y+0]==47&&!(h[y+4]>>5)?(_e=[0],nt=[0],He=[0],ie(ze=new M,h,y,A),xt(ze,_e,nt,He)?(Z!=null&&(Z[0]=_e[0]),Te!=null&&(Te[0]=nt[0]),Ie!=null&&(Ie[0]=He[0]),h=1):h=0):h=0}else{if(10>A){ve=7;break}Z=je,h==null||10>A||!Oi(h,y+3,A-3)?h=0:(Te=h[y+0]|h[y+1]<<8|h[y+2]<<16,Ie=16383&(h[y+7]<<8|h[y+6]),h=16383&(h[y+9]<<8|h[y+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Se.Ja||!Ie||!h?h=0:(W&&(W[0]=Ie),Z&&(Z[0]=h),h=1))}if(!h||(W=W[0],je=je[0],Ee&&(oe[0]!=W||ge[0]!=je)))return 3;Q!=null&&(Q[0]=Se,Q.offset=y-Q.w,e(4294967286>y-Q.w),e(Q.offset==Q.ha-A));break}return ve==0||ve==7&&Ee&&Q==null?(H!=null&&(H[0]|=Se.na!=null&&0<Se.na.length),N!=null&&(N[0]=W),B!=null&&(B[0]=je),0):ve}function Ka(h,y,A){var N=y.width,B=y.height,H=0,W=0,Z=N,Q=B;if(y.Da=h!=null&&0<h.Da,y.Da&&(Z=h.cd,Q=h.bd,H=h.v,W=h.j,11>A||(H&=-2,W&=-2),0>H||0>W||0>=Z||0>=Q||H+Z>N||W+Q>B))return 0;if(y.v=H,y.j=W,y.va=H+Z,y.o=W+Q,y.U=Z,y.T=Q,y.da=h!=null&&0<h.da,y.da){if(!ht(Z,Q,A=[h.ib],H=[h.hb]))return 0;y.ib=A[0],y.hb=H[0]}return y.ob=h!=null&&h.ob,y.Kb=h==null||!h.Sd,y.da&&(y.ob=y.ib<3*N/4&&y.hb<3*B/4,y.Kb=0),1}function bs(h){if(h==null)return 2;if(11>h.S){var y=h.f.RGBA;y.fb+=(h.height-1)*y.A,y.A=-y.A}else y=h.f.kb,h=h.height,y.O+=(h-1)*y.fa,y.fa=-y.fa,y.N+=(h-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(h-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(h-1)*y.lb,y.lb=-y.lb);return 0}function ko(h,y,A,N){if(N==null||0>=h||0>=y)return 2;if(A!=null){if(A.Da){var B=A.cd,H=A.bd,W=-2&A.v,Z=-2&A.j;if(0>W||0>Z||0>=B||0>=H||W+B>h||Z+H>y)return 2;h=B,y=H}if(A.da){if(!ht(h,y,B=[A.ib],H=[A.hb]))return 2;h=B[0],y=H[0]}}N.width=h,N.height=y;e:{var Q=N.width,oe=N.height;if(h=N.S,0>=Q||0>=oe||!(h>=Di&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){W=H=B=y=0;var ge=(Z=Q*wf[h])*oe;if(11>h||(H=(oe+1)/2*(y=(Q+1)/2),h==12&&(W=(B=Q)*oe)),(oe=s(ge+2*H+W))==null){h=1;break e}N.sd=oe,11>h?((Q=N.f.RGBA).eb=oe,Q.fb=0,Q.A=Z,Q.size=ge):((Q=N.f.kb).y=oe,Q.O=0,Q.fa=Z,Q.Fd=ge,Q.f=oe,Q.N=0+ge,Q.Ab=y,Q.Cd=H,Q.ea=oe,Q.W=0+ge+H,Q.Db=y,Q.Ed=H,h==12&&(Q.F=oe,Q.J=0+ge+2*H),Q.Tc=W,Q.lb=B)}if(y=1,B=N.S,H=N.width,W=N.height,B>=Di&&13>B)if(11>B)h=N.f.RGBA,y&=(Z=Math.abs(h.A))*(W-1)+H<=h.size,y&=Z>=H*wf[B],y&=h.eb!=null;else{h=N.f.kb,Z=(H+1)/2,ge=(W+1)/2,Q=Math.abs(h.fa),oe=Math.abs(h.Ab);var Ee=Math.abs(h.Db),Te=Math.abs(h.lb),Se=Te*(W-1)+H;y&=Q*(W-1)+H<=h.Fd,y&=oe*(ge-1)+Z<=h.Cd,y=(y&=Ee*(ge-1)+Z<=h.Ed)&Q>=H&oe>=Z&Ee>=Z,y&=h.y!=null,y&=h.f!=null,y&=h.ea!=null,B==12&&(y&=Te>=H,y&=Se<=h.Tc,y&=h.F!=null)}else y=0;h=y?0:2}}return h!=0||A!=null&&A.fd&&(h=bs(N)),h}var Mi=64,Za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Do=24,Io=32,xs=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(h){return h},z.Predictor2=function(h,y,A){return y[A+0]},z.Predictor3=function(h,y,A){return y[A+1]},z.Predictor4=function(h,y,A){return y[A-1]},z.Predictor5=function(h,y,A){return ot(ot(h,y[A+1]),y[A+0])},z.Predictor6=function(h,y,A){return ot(h,y[A-1])},z.Predictor7=function(h,y,A){return ot(h,y[A+0])},z.Predictor8=function(h,y,A){return ot(y[A-1],y[A+0])},z.Predictor9=function(h,y,A){return ot(y[A+0],y[A+1])},z.Predictor10=function(h,y,A){return ot(ot(h,y[A-1]),ot(y[A+0],y[A+1]))},z.Predictor11=function(h,y,A){var N=y[A+0];return 0>=Ht(N>>24&255,h>>24&255,(y=y[A-1])>>24&255)+Ht(N>>16&255,h>>16&255,y>>16&255)+Ht(N>>8&255,h>>8&255,y>>8&255)+Ht(255&N,255&h,255&y)?N:h},z.Predictor12=function(h,y,A){var N=y[A+0];return(_t((h>>24&255)+(N>>24&255)-((y=y[A-1])>>24&255))<<24|_t((h>>16&255)+(N>>16&255)-(y>>16&255))<<16|_t((h>>8&255)+(N>>8&255)-(y>>8&255))<<8|_t((255&h)+(255&N)-(255&y)))>>>0},z.Predictor13=function(h,y,A){var N=y[A-1];return(Ot((h=ot(h,y[A+0]))>>24&255,N>>24&255)<<24|Ot(h>>16&255,N>>16&255)<<16|Ot(h>>8&255,N>>8&255)<<8|Ot(h>>0&255,N>>0&255))>>>0};var dc=z.PredictorAdd0;z.PredictorAdd1=qt,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var _l=z.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var hu,Rr=z.ColorIndexInverseTransform,Si=z.MapARGB,Ro=z.VP8LColorIndexInverseTransformAlpha,pu=z.MapAlpha,va=z.VP8LPredictorsAdd=[];va.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var cr,br,Kr,Zr,Ki,$a,Ui,Xa,_s,Zi,ki,Pr,Qa,xr,eo,ya,ws,_r,ba,En,Sn,Hn,Zn,oi,xa,Ai,Fi,Po,mu=s(511),wl=s(2041),Sl=s(225),gu=s(767),Oo=0,vu=wl,Uo=Sl,vi=gu,wr=mu,Di=0,Ss=1,$r=2,Al=3,Fo=4,_a=5,yu=6,Cl=7,to=8,wa=9,As=10,bu=[2,3,7],Sr=[3,3,11],fr=[280,256,256,256,40],Bo=[0,1,1,1,0],Sa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Aa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vf=8,Tl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],si=null,Gn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],no=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],Bi=[],dr=[],bf=1,Cs=2,Qr=[],yi=[];Pe("UpsampleRgbLinePair",rn,3),Pe("UpsampleBgrLinePair",Pn,3),Pe("UpsampleRgbaLinePair",Ir,4),Pe("UpsampleBgraLinePair",gi,4),Pe("UpsampleArgbLinePair",Kn,4),Pe("UpsampleRgba4444LinePair",Jn,2),Pe("UpsampleRgb565LinePair",Fn,2);var Ta=z.UpsampleRgbLinePair,io=z.UpsampleBgrLinePair,ea=z.UpsampleRgbaLinePair,xu=z.UpsampleBgraLinePair,_u=z.UpsampleArgbLinePair,Ts=z.UpsampleRgba4444LinePair,wu=z.UpsampleRgb565LinePair,ta=16,li=1<<ta-1,ro=-227,Su=482,Hd=6,xf=0,Gd=s(256),ui=s(256),pc=s(256),El=s(256),Ll=s(Su-ro),mc=s(Su-ro);Jr("YuvToRgbRow",rn,3),Jr("YuvToBgrRow",Pn,3),Jr("YuvToRgbaRow",Ir,4),Jr("YuvToBgraRow",gi,4),Jr("YuvToArgbRow",Kn,4),Jr("YuvToRgba4444Row",Jn,2),Jr("YuvToRgb565Row",Fn,2);var Vo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Na=[0,2,8],Yd=[8,7,6,4,4,2,2,2,1,1,1,1],_f=1;this.WebPDecodeRGBA=function(h,y,A,N,B){var H=Ss,W=new ps,Z=new dt;W.ba=Z,Z.S=H,Z.width=[Z.width],Z.height=[Z.height];var Q=Z.width,oe=Z.height,ge=new Lt;if(ge==null||h==null)var Ee=2;else e(ge!=null),Ee=ys(h,y,A,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?Q=0:(Q!=null&&(Q[0]=ge.width[0]),oe!=null&&(oe[0]=ge.height[0]),Q=1),Q){Z.width=Z.width[0],Z.height=Z.height[0],N!=null&&(N[0]=Z.width),B!=null&&(B[0]=Z.height);e:{if(N=new qa,(B=new vl).data=h,B.w=y,B.ha=A,B.kd=1,y=[0],e(B!=null),((h=ys(B.data,B.w,B.ha,null,null,null,y,null,B))==0||h==7)&&y[0]&&(h=4),(y=h)==0){if(e(W!=null),N.data=B.data,N.w=B.w+B.offset,N.ha=B.ha-B.offset,N.put=Hi,N.ac=Gt,N.bc=rr,N.ma=W,B.xa){if((h=wi())==null){W=1;break e}if(function(Te,Se){var je=[0],Ie=[0],ve=[0];t:for(;;){if(Te==null)return 0;if(Se==null)return Te.a=2,0;if(Te.l=Se,Te.a=0,ie(Te.m,Se.data,Se.w,Se.ha),!xt(Te.m,je,Ie,ve)){Te.a=3;break t}if(Te.xb=Cs,Se.width=je[0],Se.height=Ie[0],!wn(je[0],Ie[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(h,N)){if(N=(y=ko(N.width,N.height,W.Oa,W.ba))==0){t:{N=h;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((A=N.l)!=null),e((B=A.ma)!=null),N.xb!=0){if(N.ca=B.ba,N.tb=B.tb,e(N.ca!=null),!Ka(B.Oa,A,Al)){N.a=2;break n}if(!Ba(N,A.width)||A.da)break n;if((A.da||Be(N.ca.S))&&Ce(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Ce()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Nt(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Ei(N,N.V,N.Ba,N.c,N.i,A.o,So))break n;B.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(y=h.a)}else y=h.a}else{if((h=new sc)==null){W=1;break e}if(h.Fa=B.na,h.P=B.P,h.qc=B.Sa,ll(h,N)){if((y=ko(N.width,N.height,W.Oa,W.ba))==0){if(h.Aa=0,A=W.Oa,e((B=h)!=null),A!=null){if(0<(Q=0>(Q=A.Md)?0:100<Q?255:255*Q/100)){for(oe=ge=0;4>oe;++oe)12>(Ee=B.pb[oe]).lc&&(Ee.ia=Q*Yd[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=A.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}au(h,N)||(y=h.a)}}else y=h.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=bs(W.ba))}W=y}H=W!=0?null:11>H?Z.f.RGBA.eb:Z.f.kb.y}else H=null;return H};var wf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(z,re){for(var se="",U=0;U<4;U++)se+=String.fromCharCode(z[re++]);return se}function b(z,re){return(z[re+0]<<0|z[re+1]<<8|z[re+2]<<16)>>>0}function x(z,re){return(z[re+0]<<0|z[re+1]<<8|z[re+2]<<16|z[re+3]<<24)>>>0}new d;var C=[0],_=[0],T=[],L=new d,R=r,E=function(z,re){var se={},U=0,I=!1,te=0,ne=0;if(se.frames=[],!function(j,X,le,ue){for(var we=0;we<ue;we++)if(j[X+we]!=le.charCodeAt(we))return!0;return!1}(z,re,"RIFF",4)){var ye,F;for(x(z,re+=4),re+=8;re<z.length;){var K=p(z,re),ie=x(z,re+=4);re+=4;var ae=ie+(1&ie);switch(K){case"VP8 ":case"VP8L":se.frames[U]===void 0&&(se.frames[U]={}),(M=se.frames[U]).src_off=I?ne:re-8,M.src_size=te+ie+8,U++,I&&(I=!1,te=0,ne=0);break;case"VP8X":(M=se.header={}).feature_flags=z[re];var O=re+4;M.canvas_width=1+b(z,O),O+=3,M.canvas_height=1+b(z,O),O+=3;break;case"ALPH":I=!0,te=ae+8,ne=re-8;break;case"ANIM":(M=se.header).bgcolor=x(z,re),O=re+4,M.loop_count=(ye=z)[(F=O)+0]<<0|ye[F+1]<<8,O+=2;break;case"ANMF":var ce,M;(M=se.frames[U]={}).offset_x=2*b(z,re),re+=3,M.offset_y=2*b(z,re),re+=3,M.width=1+b(z,re),re+=3,M.height=1+b(z,re),re+=3,M.duration=b(z,re),re+=3,ce=z[re++],M.dispose=1&ce,M.blend=ce>>1&1}K!="ANMF"&&(re+=ae)}return se}}(R,0);E.response=R,E.rgbaoutput=!0,E.dataurl=!1;var k=E.header?E.header:null,D=E.frames?E.frames:null;if(k){k.loop_counter=k.loop_count,C=[k.canvas_height],_=[k.canvas_width];for(var V=0;V<D.length&&D[V].blend!=0;V++);}var J=D[0],ee=L.WebPDecodeRGBA(R,J.src_off,J.src_size,_,C);J.rgba=ee,J.imgwidth=_[0],J.imgheight=C[0];for(var G=0;G<_[0]*C[0]*4;G++)T[G]=ee[G];return this.width=_,this.height=C,this.data=T,this}(function(r){var e=function(){return typeof Lp=="function"},t=function(C,_,T,L){var R=4,E=u;switch(L){case r.image_compression.FAST:R=1,E=s;break;case r.image_compression.MEDIUM:R=6,E=f;break;case r.image_compression.SLOW:R=9,E=d}C=i(C,_,T,E);var k=Lp(C,{level:R});return r.__addimage__.arrayBufferToBinaryString(k)},i=function(C,_,T,L){for(var R,E,k,D=C.length/_,V=new Uint8Array(C.length+D),J=b(),ee=0;ee<D;ee+=1){if(k=ee*_,R=C.subarray(k,k+_),L)V.set(L(R,T,E),k+ee);else{for(var G,z=J.length,re=[];G<z;G+=1)re[G]=J[G](R,T,E);var se=x(re.concat());V.set(re[se],k+ee)}E=R}return V},o=function(C){var _=Array.apply([],C);return _.unshift(0),_},s=function(C,_){var T,L=[],R=C.length;L[0]=1;for(var E=0;E<R;E+=1)T=C[E-_]||0,L[E+1]=C[E]-T+256&255;return L},u=function(C,_,T){var L,R=[],E=C.length;R[0]=2;for(var k=0;k<E;k+=1)L=T&&T[k]||0,R[k+1]=C[k]-L+256&255;return R},f=function(C,_,T){var L,R,E=[],k=C.length;E[0]=3;for(var D=0;D<k;D+=1)L=C[D-_]||0,R=T&&T[D]||0,E[D+1]=C[D]+256-(L+R>>>1)&255;return E},d=function(C,_,T){var L,R,E,k,D=[],V=C.length;D[0]=4;for(var J=0;J<V;J+=1)L=C[J-_]||0,R=T&&T[J]||0,E=T&&T[J-_]||0,k=p(L,R,E),D[J+1]=C[J]-k+256&255;return D},p=function(C,_,T){if(C===_&&_===T)return C;var L=Math.abs(_-T),R=Math.abs(C-T),E=Math.abs(C+_-T-T);return L<=R&&L<=E?C:R<=E?_:T},b=function(){return[o,s,u,f,d]},x=function(C){var _=C.map(function(T){return T.reduce(function(L,R){return L+Math.abs(R)},0)});return _.indexOf(Math.min.apply(null,_))};r.processPNG=function(C,_,T,L){var R,E,k,D,V,J,ee,G,z,re,se,U,I,te,ne,ye=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(k=new Wy(C)).imgData,E=k.bits,R=k.colorSpace,V=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){z=(G=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,se=new Uint8Array(z*k.colors),re=new Uint8Array(z);var K,ie=k.pixelBitlength-k.bits;for(te=0,ne=0;te<z;te++){for(I=G[te],K=0;K<ie;)se[ne++]=I>>>K&255,K+=k.bits;re[te]=I>>>K&255}}if(k.bits===16){z=(G=new Uint32Array(k.decodePixels().buffer)).length,se=new Uint8Array(z*(32/k.pixelBitlength)*k.colors),re=new Uint8Array(z*(32/k.pixelBitlength)),U=k.colors>1,te=0,ne=0;for(var ae=0;te<z;)I=G[te++],se[ne++]=I>>>0&255,U&&(se[ne++]=I>>>16&255,I=G[te++],se[ne++]=I>>>0&255),re[ae++]=I>>>16&255;E=8}L!==r.image_compression.NONE&&e()?(C=t(se,k.width*k.colors,k.colors,L),ee=t(re,k.width,1,L)):(C=se,ee=re,ye=void 0)}if(k.colorType===3&&(R=this.color_spaces.INDEXED,J=k.palette,k.transparency.indexed)){var O=k.transparency.indexed,ce=0;for(te=0,z=O.length;te<z;++te)ce+=O[te];if((ce/=255)===z-1&&O.indexOf(0)!==-1)D=[O.indexOf(0)];else if(ce!==z){for(G=k.decodePixels(),re=new Uint8Array(G.length),te=0,z=G.length;te<z;te++)re[te]=O[G[te]];ee=t(re,k.width,1)}}var M=function(j){var X;switch(j){case r.image_compression.FAST:X=11;break;case r.image_compression.MEDIUM:X=13;break;case r.image_compression.SLOW:X=14;break;default:X=12}return X}(L);return ye===this.decode.FLATE_DECODE&&(F="/Predictor "+M+" "),F+="/Colors "+V+" /BitsPerComponent "+E+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:T,data:C,index:_,filter:ye,decodeParameters:F,transparency:D,palette:J,sMask:ee,predictor:M,width:k.width,height:k.height,bitsPerComponent:E,colorSpace:R}}}})(Mt.API),function(r){r.processGIF89A=function(e,t,i,o){var s=new Jy(e),u=s.width,f=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:u,height:f},b=new fp(100).encode(p,100);return r.processJPEG.call(this,b,t,i,o)},r.processGIF87A=r.processGIF89A}(Mt.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Rn.log("bit decode error:"+t)}},Pa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<e;o++)for(var s=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*o*4,f=0;f<8&&8*o+f<this.width;f++){var d=this.palette[s>>7-f&1];this.data[u+4*f]=d.blue,this.data[u+4*f+1]=d.green,this.data[u+4*f+2]=d.red,this.data[u+4*f+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<r;o++){var s=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*o*4,f=s>>4,d=15&s,p=this.palette[f];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*o+1>=this.width)break;p=this.palette[d],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(o<this.palette.length){var u=this.palette[o];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Pa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,f=(s>>5&e)/e*255|0,d=(s>>10&e)/e*255|0,p=s>>15?255:0,b=i*this.width*4+4*o;this.data[b]=d,this.data[b+1]=f,this.data[b+2]=u,this.data[b+3]=p}this.pos+=r}},Pa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(u&e)/e*255|0,d=(u>>5&t)/t*255|0,p=(u>>11)/e*255|0,b=o*this.width*4+4*s;this.data[b]=p,this.data[b+1]=d,this.data[b+2]=f,this.data[b+3]=255}this.pos+=r}},Pa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*t;this.data[f]=s,this.data[f+1]=o,this.data[f+2]=i,this.data[f+3]=u}},Pa.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,i,o){var s=new Pa(e,!1),u=s.width,f=s.height,d={data:s.getData(),width:u,height:f},p=new fp(100).encode(d,100);return r.processJPEG.call(this,p,t,i,o)}}(Mt.API),Hg.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,i,o){var s=new Hg(e),u=s.width,f=s.height,d={data:s.getData(),width:u,height:f},p=new fp(100).encode(d,100);return r.processJPEG.call(this,p,t,i,o)}}(Mt.API),Mt.API.processRGBA=function(r,e,t){for(var i=r.data,o=i.length,s=new Uint8Array(o/4*3),u=new Uint8Array(o/4),f=0,d=0,p=0;p<o;p+=4){var b=i[p],x=i[p+1],C=i[p+2],_=i[p+3];s[f++]=b,s[f++]=x,s[f++]=C,u[d++]=_}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Mt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wu=Mt.API,vd=Wu.getCharWidthsArray=function(r,e){var t,i,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),f=e.widths?e.widths:o.metadata.Unicode.widths,d=f.fof?f.fof:1,p=e.kerning?e.kerning:o.metadata.Unicode.kerning,b=p.fof?p.fof:1,x=e.doKerning!==!1,C=0,_=r.length,T=0,L=f[0]||d,R=[];for(t=0;t<_;t++)i=r.charCodeAt(t),typeof o.metadata.widthOfString=="function"?R.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+u*(1e3/s)||0)/1e3):(C=x&&Nn(p[i])==="object"&&!isNaN(parseInt(p[i][T],10))?p[i][T]/b:0,R.push((f[i]||L)/d+C)),T=i;return R},qg=Wu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return Wu.processArabic&&(r=Wu.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,o)/t:vd.apply(this,arguments).reduce(function(s,u){return s+u},0)},zg=function(r,e,t,i){for(var o=[],s=0,u=r.length,f=0;s!==u&&f+e[s]<t;)f+=e[s],s++;o.push(r.slice(0,s));var d=s;for(f=0;s!==u;)f+e[s]>i&&(o.push(r.slice(d,s)),f=0,d=s),f+=e[s],s++;return d!==s&&o.push(r.slice(d,s)),o},Vg=function(r,e,t){t||(t={});var i,o,s,u,f,d,p,b=[],x=[b],C=t.textIndent||0,_=0,T=0,L=r.split(" "),R=vd.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var E=Array(d).join(" "),k=[];L.map(function(V){(V=V.split(/\s*\n/)).length>1?k=k.concat(V.map(function(J,ee){return(ee&&J.length?`
`:"")+J})):k.push(V[0])}),L=k,d=qg.apply(this,[E,t])}for(s=0,u=L.length;s<u;s++){var D=0;if(i=L[s],d&&i[0]==`
`&&(i=i.substr(1),D=1),C+_+(T=(o=vd.apply(this,[i,t])).reduce(function(V,J){return V+J},0))>e||D){if(T>e){for(f=zg.apply(this,[i,o,e-(C+_),e]),b.push(f.shift()),b=[f.pop()];f.length;)x.push([f.shift()]);T=o.slice(i.length-(b[0]?b[0].length:0)).reduce(function(V,J){return V+J},0)}else b=[i];x.push(b),C=T+d,_=R}else b.push(i),C+=_+T,_=R}return p=d?function(V,J){return(J?E:"")+V.join(" ")}:function(V){return V.join(" ")},x.map(p)},Wu.splitTextToSize=function(r,e,t){var i,o=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var x=this.internal.getFont(b.fontName,b.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/o;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=t.lineIndent;var f,d,p=[];for(f=0,d=i.length;f<d;f++)p=p.concat(Vg.apply(this,[i[f],u,s]));return p},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},o=0;o<e.length;o++)t[e[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=e[o];var s=function(x){return"0x"+parseInt(x,10).toString(16)},u=r.__fontmetrics__.compress=function(x){var C,_,T,L,R=["{"];for(var E in x){if(C=x[E],isNaN(parseInt(E,10))?_="'"+E+"'":(E=parseInt(E,10),_=(_=s(E).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof C=="number")C<0?(T=s(C).slice(3),L="-"):(T=s(C).slice(2),L=""),T=L+T.slice(0,-1)+i[T.slice(-1)];else{if(Nn(C)!=="object")throw new Error("Don't know what to do with value type "+Nn(C)+".");T=u(C)}R.push(_+T)}return R.push("}"),R.join("")},f=r.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var C,_,T,L,R={},E=1,k=R,D=[],V="",J="",ee=x.length-1,G=1;G<ee;G+=1)(L=x[G])=="'"?C?(T=C.join(""),C=void 0):C=[]:C?C.push(L):L=="{"?(D.push([k,T]),k={},T=void 0):L=="}"?((_=D.pop())[0][_[1]]=k,T=void 0,k=_[0]):L=="-"?E=-1:T===void 0?t.hasOwnProperty(L)?(V+=t[L],T=parseInt(V,16)*E,E=1,V=""):V+=L:t.hasOwnProperty(L)?(J+=t[L],k[T]=parseInt(J,16)*E,E=1,T=void 0,J=""):J+=L;return R},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(x){var C=x.font,_=b.Unicode[C.postScriptName];_&&(C.metadata.Unicode={},C.metadata.Unicode.widths=_.widths,C.metadata.Unicode.kerning=_.kerning);var T=p.Unicode[C.postScriptName];T&&(C.metadata.Unicode.encoding=T,C.encoding=T.codePages[0])}])}(Mt.API),function(r){var e=function(t){for(var i=t.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=t.charCodeAt(s);return o};r.API.events.push(["addFont",function(t){var i=void 0,o=t.font,s=t.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,f){f=/^\x00\x01\x00\x00/.test(f)?e(f):e(rf(f)),u.metadata=r.API.TTFFont.open(f),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,i)}}])}(Mt),function(r){function e(){return(Pt.canvg?Promise.resolve(Pt.canvg):Sp(()=>import("./index.es-DsnRijzt.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Mt.API.addSvgAsImage=function(t,i,o,s,u,f,d,p){if(isNaN(i)||isNaN(o))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(u))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=s,b.height=u;var x=b.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,b.width,b.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(T){return T.fromString(x,t,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(C)}).then(function(){_.addImage(b.toDataURL("image/jpeg",1),i,o,s,u,d,p)})}}(),Mt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,t);return this},Mt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,o,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(u),d=[],p=0,b=0,x=0;function C(T,L){var R,E=!1;for(R=0;R<T.length;R+=1)T[R]===L&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var _=f.length;for(x=0;x<_;x+=1)t[f[x]].value=t[f[x]].defaultValue,t[f[x]].explicitSet=!1}if(Nn(r)==="object"){for(o in r)if(s=r[o],C(f,o)&&s!==void 0){if(t[o].type==="boolean"&&typeof s=="boolean")t[o].value=s;else if(t[o].type==="name"&&C(t[o].valueSet,s))t[o].value=s;else if(t[o].type==="integer"&&Number.isInteger(s))t[o].value=s;else if(t[o].type==="array"){for(p=0;p<s.length;p+=1)if(i=!0,s[p].length===1&&typeof s[p][0]=="number")d.push(String(s[p]-1));else if(s[p].length>1){for(b=0;b<s[p].length;b+=1)typeof s[p][b]!="number"&&(i=!1);i===!0&&d.push([s[p][0]-1,s[p][1]-1].join(" "))}t[o].value="["+d.join(" ")+"]"}else t[o].value=t[o].defaultValue;t[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,L=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?L.push("/"+T+" /"+t[T].value):L.push("/"+T+" "+t[T].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=s.length+u.length+f.length+o.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(o+s+u+f+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,u){for(var f,d=u.metadata.Unicode.widths,p=["","0","00","000","0000"],b=[""],x=0,C=s.length;x<C;++x){if(f=u.metadata.characterToGlyph(s.charCodeAt(x)),u.metadata.glyIdsUsed.push(f),u.metadata.toUnicode[f]=s.charCodeAt(x),d.indexOf(f)==-1&&(d.push(f),d.push([parseInt(u.metadata.widthOfGlyph(f),10)])),f=="0")return b.join("");f=f.toString(16),b.push(p[4-f.length],f)}return b.join("")},i=function(s){var u,f,d,p,b,x,C;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,C=(f=Object.keys(s).sort(function(_,T){return _-T})).length;x<C;x++)u=f[x],d.length>=100&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(p=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),d.push("<"+u+"><"+p+">"));return d.length&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(u){var f=u.font,d=u.out,p=u.newObject,b=u.putStream;if(f.metadata instanceof r.API.TTFFont&&f.encoding==="Identity-H"){for(var x=f.metadata.Unicode.widths,C=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),_="",T=0;T<C.length;T++)_+=String.fromCharCode(C[T]);var L=p();b({data:_,addLength1:!0,objectId:L}),d("endobj");var R=p();b({data:i(f.metadata.toUnicode),addLength1:!0,objectId:R}),d("endobj");var E=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Zu(f.fontName)),d("/FontFile2 "+L+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(f.metadata.bbox)),d("/Flags "+f.metadata.flags),d("/StemV "+f.metadata.stemV),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d(">>"),d("endobj");var k=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+Zu(f.fontName)),d("/FontDescriptor "+E+" 0 R"),d("/W "+r.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+f.encoding+")"),d(">>"),d(">>"),d("endobj"),f.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+R+" 0 R"),d("/BaseFont /"+Zu(f.fontName)),d("/Encoding /"+f.encoding),d("/DescendantFonts ["+k+" 0 R]"),d(">>"),d("endobj"),f.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(u){var f=u.font,d=u.out,p=u.newObject,b=u.putStream;if(f.metadata instanceof r.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var x=f.metadata.rawData,C="",_=0;_<x.length;_++)C+=String.fromCharCode(x[_]);var T=p();b({data:C,addLength1:!0,objectId:T}),d("endobj");var L=p();b({data:i(f.metadata.toUnicode),addLength1:!0,objectId:L}),d("endobj");var R=p();d("<<"),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d("/StemV "+f.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+T+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(f.metadata.bbox)),d("/FontName /"+Zu(f.fontName)),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d(">>"),d("endobj"),f.objectNumber=p();for(var E=0;E<f.metadata.hmtx.widths.length;E++)f.metadata.hmtx.widths[E]=parseInt(f.metadata.hmtx.widths[E]*(1e3/f.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Zu(f.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),d("endobj"),f.isAlreadyPutted=!0}})(s)}]);var o=function(s){var u,f=s.text||"",d=s.x,p=s.y,b=s.options||{},x=s.mutex||{},C=x.pdfEscape,_=x.activeFontKey,T=x.fonts,L=_,R="",E=0,k="",D=T[L].encoding;if(T[L].encoding!=="Identity-H")return{text:f,x:d,y:p,options:b,mutex:x};for(k=f,L=_,Array.isArray(f)&&(k=f[0]),E=0;E<k.length;E+=1)T[L].metadata.hasOwnProperty("cmap")&&(u=T[L].metadata.cmap.unicode.codeMap[k[E].charCodeAt(0)]),u||k[E].charCodeAt(0)<256&&T[L].metadata.hasOwnProperty("Unicode")?R+=k[E]:R+="";var V="";return parseInt(L.slice(1))<14||D==="WinAnsiEncoding"?V=C(R,L).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(V=t(R,T[L])),x.isHex=!0,{text:V,x:d,y:p,options:b,mutex:x}};e.events.push(["postProcessText",function(s){var u=s.text||"",f=[],d={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?f.push([o(Object.assign({},d,{text:u[p][0]})).text,u[p][1],u[p][2]]):f.push(o(Object.assign({},d,{text:u[p]})).text);s.text=f}else s.text=o(Object.assign({},d,{text:u})).text}])}(Mt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Mt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var o,s,u,f,d,p,b,x=e,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,D=0;this.__bidiEngine__={};var V=function(U){var I=U.charCodeAt(),te=I>>8,ne=L[te];return ne!==void 0?x[256*ne+(255&I)]:te===252||te===253?"AL":E.test(te)?"L":te===8?"R":"N"},J=function(U){for(var I,te=0;te<U.length;te++){if((I=V(U.charAt(te)))==="L")return!1;if(I==="R")return!0}return!1},ee=function(U,I,te,ne){var ye,F,K,ie,ae=I[ne];switch(ae){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(ae="AN");break;case"AL":k=!0,ae="R";break;case"WS":ae="N";break;case"CS":ne<1||ne+1>=I.length||(ye=te[ne-1])!=="EN"&&ye!=="AN"||(F=I[ne+1])!=="EN"&&F!=="AN"?ae="N":k&&(F="AN"),ae=F===ye?F:"N";break;case"ES":ae=(ye=ne>0?te[ne-1]:"B")==="EN"&&ne+1<I.length&&I[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&te[ne-1]==="EN"){ae="EN";break}if(k){ae="N";break}for(K=ne+1,ie=I.length;K<ie&&I[K]==="ET";)K++;ae=K<ie&&I[K]==="EN"?"EN":"N";break;case"NSM":if(u&&!f){for(ie=I.length,K=ne+1;K<ie&&I[K]==="NSM";)K++;if(K<ie){var O=U[ne],ce=O>=1425&&O<=2303||O===64286;if(ye=I[K],ce&&(ye==="R"||ye==="AL")){ae="R";break}}}ae=ne<1||(ye=I[ne-1])==="B"?"N":te[ne-1];break;case"B":k=!1,o=!0,ae=D;break;case"S":s=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":ae="N"}return ae},G=function(U,I,te){var ne=U.split("");return te&&z(ne,te,{hiLevel:D}),ne.reverse(),I&&I.reverse(),ne.join("")},z=function(U,I,te){var ne,ye,F,K,ie,ae=-1,O=U.length,ce=0,M=[],j=D?_:C,X=[];for(k=!1,o=!1,s=!1,ye=0;ye<O;ye++)X[ye]=V(U[ye]);for(F=0;F<O;F++){if(ie=ce,M[F]=ee(U,X,M,F),ne=240&(ce=j[ie][T[M[F]]]),ce&=15,I[F]=K=j[ce][5],ne>0)if(ne===16){for(ye=ae;ye<F;ye++)I[ye]=1;ae=-1}else ae=-1;if(j[ce][6])ae===-1&&(ae=F);else if(ae>-1){for(ye=ae;ye<F;ye++)I[ye]=K;ae=-1}X[F]==="B"&&(I[F]=0),te.hiLevel|=K}s&&function(le,ue,we){for(var xe=0;xe<we;xe++)if(le[xe]==="S"){ue[xe]=D;for(var pe=xe-1;pe>=0&&le[pe]==="WS";pe--)ue[pe]=D}}(X,I,O)},re=function(U,I,te,ne,ye){if(!(ye.hiLevel<U)){if(U===1&&D===1&&!o)return I.reverse(),void(te&&te.reverse());for(var F,K,ie,ae,O=I.length,ce=0;ce<O;){if(ne[ce]>=U){for(ie=ce+1;ie<O&&ne[ie]>=U;)ie++;for(ae=ce,K=ie-1;ae<K;ae++,K--)F=I[ae],I[ae]=I[K],I[K]=F,te&&(F=te[ae],te[ae]=te[K],te[K]=F);ce=ie}ce++}}},se=function(U,I,te){var ne=U.split(""),ye={hiLevel:D};return te||(te=[]),z(ne,te,ye),function(F,K,ie){if(ie.hiLevel!==0&&b)for(var ae,O=0;O<F.length;O++)K[O]===1&&(ae=R.indexOf(F[O]))>=0&&(F[O]=R[ae+1])}(ne,te,ye),re(2,ne,I,te,ye),re(1,ne,I,te,ye),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(U,I,te){if(function(ye,F){if(F)for(var K=0;K<ye.length;K++)F[K]=K;f===void 0&&(f=J(ye)),p===void 0&&(p=J(ye))}(U,I),u||!d||p)if(u&&d&&f^p)D=f?1:0,U=G(U,I,te);else if(!u&&d&&p)D=f?1:0,U=se(U,I,te),U=G(U,I);else if(!u||f||d||p){if(u&&!d&&f^p)U=G(U,I),f?(D=0,U=se(U,I,te)):(D=1,U=se(U,I,te),U=G(U,I));else if(u&&f&&!d&&p)D=1,U=se(U,I,te),U=G(U,I);else if(!u&&!d&&f^p){var ne=b;f?(D=1,U=se(U,I,te),D=0,b=!1,U=se(U,I,te),b=ne):(D=0,U=se(U,I,te),U=G(U,I),D=1,b=!1,U=se(U,I,te),b=ne,U=G(U,I))}}else D=0,U=se(U,I,te);else D=f?1:0,U=se(U,I,te);return U},this.__bidiEngine__.setOptions=function(U){U&&(u=U.isInputVisual,d=U.isOutputVisual,f=U.isInputRtl,p=U.isOutputRtl,b=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var o=i.text,s=(i.x,i.y,i.options||{}),u=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var f=0;for(u=[],f=0;f<o.length;f+=1)Object.prototype.toString.call(o[f])==="[object Array]"?u.push([t.doBidiReorder(o[f][0]),o[f][1],o[f][2]]):u.push([t.doBidiReorder(o[f])]);i.text=u}else i.text=t.doBidiReorder(o);t.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new nl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ub(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Ky(this.contents),this.head=new $y(this),this.name=new nb(this),this.cmap=new V2(this),this.toUnicode={},this.hhea=new Xy(this),this.maxp=new ib(this),this.hmtx=new rb(this),this.post=new eb(this),this.os2=new Qy(this),this.loca=new lb(this),this.glyf=new ab(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,f,d,p;for(p=[],u=0,f=(d=this.bbox).length;u<f;u++)e=d[u],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),(32768&(t=o>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var o,s,u,f;for(u=0,s=0,f=(e=""+e).length;0<=f?s<f:s>f;s=0<=f?++s:--s)o=e.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/t)||0;return u*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r}();var Fa,nl=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,o;for(o=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)o.push(this.writeByte(e.charCodeAt(t)));return o},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,o,s,u,f,d;return e=this.readByte(),t=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),u=this.readByte(),f=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^s)+65536*(255^u)+256*(255^f)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*o+16777216*s+65536*u+256*f+d},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)t=e[i],s.push(this.writeByte(t));return s},r}(),Ky=function(){var r;function e(t){var i,o,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,o,s,u,f,d,p,b,x,C,_,T,L;for(L in _=Object.keys(t).length,d=Math.log(2),x=16*Math.floor(Math.log(_)/d),u=Math.floor(x/d),b=16*_-x,(o=new nl).writeInt(this.scalarType),o.writeShort(_),o.writeShort(x),o.writeShort(u),o.writeShort(b),s=16*_,p=o.pos+s,f=null,T=[],t)for(C=t[L],o.writeString(L),o.writeInt(r(C)),o.writeInt(p),o.writeInt(C.length),T=T.concat(C),L==="head"&&(f=p),p+=C.length;p%4;)T.push(0),p++;return o.write(T),i=2981146554-r(o.data),o.pos=f+8,o.writeUInt32(i),o.data},r=function(t){var i,o,s,u;for(t=j2.call(t);t.length%4;)t.push(0);for(s=new nl(t),o=0,i=0,u=t.length;i<u;i=i+=4)o+=s.readUInt32();return 4294967295&o},e}(),Zy={}.hasOwnProperty,wo=function(r,e){for(var t in e)Zy.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};Fa=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var $y=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new nl).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),Gg=function(){function r(e,t){var i,o,s,u,f,d,p,b,x,C,_,T,L,R,E,k,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(_=e.readUInt16(),C=_/2,e.pos+=6,s=function(){var V,J;for(J=[],d=V=0;0<=C?V<C:V>C;d=0<=C?++V:--V)J.push(e.readUInt16());return J}(),e.pos+=2,L=function(){var V,J;for(J=[],d=V=0;0<=C?V<C:V>C;d=0<=C?++V:--V)J.push(e.readUInt16());return J}(),p=function(){var V,J;for(J=[],d=V=0;0<=C?V<C:V>C;d=0<=C?++V:--V)J.push(e.readUInt16());return J}(),b=function(){var V,J;for(J=[],d=V=0;0<=C?V<C:V>C;d=0<=C?++V:--V)J.push(e.readUInt16());return J}(),o=(this.length-e.pos+this.offset)/2,f=function(){var V,J;for(J=[],d=V=0;0<=o?V<o:V>o;d=0<=o?++V:--V)J.push(e.readUInt16());return J}(),d=E=0,D=s.length;E<D;d=++E)for(R=s[d],i=k=T=L[d];T<=R?k<=R:k>=R;i=T<=R?++k:--k)b[d]===0?u=i+p[d]:(u=f[b[d]/2+(i-T)-(C-d)]||0)!==0&&(u+=p[d]),this.codeMap[i]=65535&u}e.pos=x}return r.encode=function(e,t){var i,o,s,u,f,d,p,b,x,C,_,T,L,R,E,k,D,V,J,ee,G,z,re,se,U,I,te,ne,ye,F,K,ie,ae,O,ce,M,j,X,le,ue,we,xe,pe,Ye,We,rt;switch(ne=new nl,u=Object.keys(e).sort(function(lt,Nt){return lt-Nt}),t){case"macroman":for(L=0,R=function(){var lt=[];for(T=0;T<256;++T)lt.push(0);return lt}(),k={0:0},s={},ye=0,ae=u.length;ye<ae;ye++)k[pe=e[o=u[ye]]]==null&&(k[pe]=++L),s[o]={old:e[o],new:k[e[o]]},R[o]=k[e[o]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(R),{charMap:s,subtable:ne.data,maxGlyphID:L+1};case"unicode":for(I=[],x=[],D=0,k={},i={},E=p=null,F=0,O=u.length;F<O;F++)k[J=e[o=u[F]]]==null&&(k[J]=++D),i[o]={old:J,new:k[J]},f=k[J]-o,E!=null&&f===p||(E&&x.push(E),I.push(o),p=f),E=o;for(E&&x.push(E),x.push(65535),I.push(65535),se=2*(re=I.length),z=2*Math.pow(Math.log(re)/Math.LN2,2),C=Math.log(z/2)/Math.LN2,G=2*re-z,d=[],ee=[],_=[],T=K=0,ce=I.length;K<ce;T=++K){if(U=I[T],b=x[T],U===65535){d.push(0),ee.push(0);break}if(U-(te=i[U].new)>=32768)for(d.push(0),ee.push(2*(_.length+re-T)),o=ie=U;U<=b?ie<=b:ie>=b;o=U<=b?++ie:--ie)_.push(i[o].new);else d.push(te-U),ee.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*re+2*_.length),ne.writeUInt16(0),ne.writeUInt16(se),ne.writeUInt16(z),ne.writeUInt16(C),ne.writeUInt16(G),we=0,M=x.length;we<M;we++)o=x[we],ne.writeUInt16(o);for(ne.writeUInt16(0),xe=0,j=I.length;xe<j;xe++)o=I[xe],ne.writeUInt16(o);for(Ye=0,X=d.length;Ye<X;Ye++)f=d[Ye],ne.writeUInt16(f);for(We=0,le=ee.length;We<le;We++)V=ee[We],ne.writeUInt16(V);for(rt=0,ue=_.length;rt<ue;rt++)L=_[rt],ne.writeUInt16(L);return{charMap:i,subtable:ne.data,maxGlyphID:D+1}}},r}(),V2=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,o,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)i=new Gg(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var o,s;return i==null&&(i="macroman"),o=Gg.encode(t,i),(s=new nl).writeUInt16(0),s.writeUInt16(1),o.table=s.data.concat(o.subtable),o},e}(),Xy=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Qy=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,o;for(o=[],i=0;i<10;++i)o.push(t.readByte());return o}(),this.charRange=function(){var i,o;for(o=[],i=0;i<4;++i)o.push(t.readInt());return o}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(t.readInt());return o}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),eb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="post",e.prototype.parse=function(t){var i,o,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var u;for(o=t.readUInt16(),this.glyphNameIndex=[],u=0;0<=o?u<o:u>o;u=0<=o?++u:--u)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return o=t.readUInt16(),this.offsets=t.read(o);case 196608:break;case 262144:return this.map=(function(){var f,d,p;for(p=[],u=f=0,d=this.file.maxp.numGlyphs;0<=d?f<d:f>d;u=0<=d?++f:--f)p.push(t.readUInt32());return p}).call(this)}},e}(),tb=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="name",e.prototype.parse=function(t){var i,o,s,u,f,d,p,b,x,C,_;for(t.pos=this.offset,t.readShort(),i=t.readShort(),d=t.readShort(),o=[],u=0;0<=i?u<i:u>i;u=0<=i?++u:--u)o.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(p={},u=x=0,C=o.length;x<C;u=++x)s=o[u],t.pos=s.offset,b=t.readString(s.length),f=new tb(b,s),p[_=s.nameID]==null&&(p[_]=[]),p[s.nameID].push(f);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e}(),ib=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),rb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,o,s,u,f,d,p;for(t.pos=this.offset,this.metrics=[],i=0,d=this.file.hhea.numberOfMetrics;0<=d?i<d:i>d;i=0<=d?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,x;for(x=[],i=b=0;0<=s?b<s:b>s;i=0<=s?++b:--b)x.push(t.readInt16());return x}(),this.widths=(function(){var b,x,C,_;for(_=[],b=0,x=(C=this.metrics).length;b<x;b++)u=C[b],_.push(u.advance);return _}).call(this),o=this.widths[this.widths.length-1],p=[],i=f=0;0<=s?f<s:f>s;i=0<=s?++f:--f)p.push(this.widths.push(o));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),j2=[].slice,ab=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,o,s,u,f,d,p,b,x,C;return t in this.cache?this.cache[t]:(u=this.file.loca,i=this.file.contents,o=u.indexOf(t),(s=u.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+o,f=(d=new nl(i.read(s))).readShort(),b=d.readShort(),C=d.readShort(),p=d.readShort(),x=d.readShort(),this.cache[t]=f===-1?new sb(d,b,C,p,x):new ob(d,f,b,C,p,x),this.cache[t]))},e.prototype.encode=function(t,i,o){var s,u,f,d,p;for(f=[],u=[],d=0,p=i.length;d<p;d++)s=t[i[d]],u.push(f.length),s&&(f=f.concat(s.encode(o)));return u.push(f.length),{table:f,offsets:u}},e}(),ob=function(){function r(e,t,i,o,s,u){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=o,this.xMax=s,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),sb=function(){function r(e,t,i,o,s){var u,f;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;f=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&f;)u.pos+=1&f?4:2,128&f?u.pos+=8:64&f?u.pos+=4:8&f&&(u.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new nl(j2.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),lb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return wo(e,Fa),e.prototype.tag="loca",e.prototype.parse=function(t){var i,o;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,u;for(u=[],o=0,s=this.length;o<s;o+=2)u.push(2*t.readUInt16());return u}).call(this):(function(){var s,u;for(u=[],o=0,s=this.length;o<s;o+=4)u.push(t.readUInt32());return u}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var o=new Uint32Array(this.offsets.length),s=0,u=0,f=0;f<o.length;++f)if(o[f]=s,u<i.length&&i[u]==f){++u,o[f]=s;var d=this.offsets[f],p=this.offsets[f+1]-d;p>0&&(s+=p)}for(var b=new Array(4*o.length),x=0;x<o.length;++x)b[4*x+3]=255&o[x],b[4*x+2]=(65280&o[x])>>8,b[4*x+1]=(16711680&o[x])>>16,b[4*x]=(4278190080&o[x])>>24;return b},e}(),ub=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,o,s;for(t in o=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=o[i];return e},r.prototype.glyphsFor=function(e){var t,i,o,s,u,f,d;for(o={},u=0,f=e.length;u<f;u++)o[s=e[u]]=this.font.glyf.glyphFor(s);for(s in t=[],o)(i=o[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in d=this.glyphsFor(t))i=d[s],o[s]=i;return o},r.prototype.encode=function(e,t){var i,o,s,u,f,d,p,b,x,C,_,T,L,R,E;for(o in i=V2.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),_={0:0},E=i.charMap)_[(d=E[o]).old]=d.new;for(T in C=i.maxGlyphID,u)T in _||(_[T]=C++);return b=function(k){var D,V;for(D in V={},k)V[k[D]]=D;return V}(_),x=Object.keys(b).sort(function(k,D){return k-D}),L=function(){var k,D,V;for(V=[],k=0,D=x.length;k<D;k++)f=x[k],V.push(b[f]);return V}(),s=this.font.glyf.encode(u,L,_),p=this.font.loca.encode(s.offsets,L),R={cmap:this.font.cmap.raw(),glyf:s.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},r}();Mt.API.PDFObject=function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,o,s,u;if(Array.isArray(t))return"["+function(){var f,d,p;for(p=[],f=0,d=t.length;f<d;f++)i=t[f],p.push(e.convert(i));return p}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(o in s=["<<"],t)u=t[o],s.push("/"+o+" "+e.convert(u));return s.push(">>"),s.join(`
`)}return""+t},e}();const cb=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:zy,AcroFormAppearance:mt,AcroFormButton:Ti,AcroFormCheckBox:sf,AcroFormChoiceField:Jl,AcroFormComboBox:Zl,AcroFormEditBox:af,AcroFormListBox:Kl,AcroFormPasswordField:lf,AcroFormPushButton:of,AcroFormRadioButton:$l,AcroFormTextField:Qs,GState:pf,ShadingPattern:$s,TilingPattern:Wl,default:Mt,jsPDF:Mt},Symbol.toStringTag,{value:"Module"}));var xd={exports:{}};const fb=wv(cb);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var Yg=xd.exports,Wg;function db(){return Wg||(Wg=1,function(r,e){(function(i,o){r.exports=o(function(){try{return fb}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Yg<"u"?Yg:typeof window<"u"?window:typeof self<"u"?self:_v,function(t){return function(){var i={172:function(f,d){var p=this&&this.__extends||function(){var C=function(_,T){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var E in R)Object.prototype.hasOwnProperty.call(R,E)&&(L[E]=R[E])},C(_,T)};return function(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");C(_,T);function L(){this.constructor=_}_.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.CellHookData=d.HookData=void 0;var b=function(){function C(_,T,L){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=L,this.doc=_.getDocument()}return C}();d.HookData=b;var x=function(C){p(_,C);function _(T,L,R,E,k,D){var V=C.call(this,T,L,D)||this;return V.cell=R,V.row=E,V.column=k,V.section=E.section,V}return _}(b);d.CellHookData=x},340:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0});var b=p(4),x=p(136),C=p(744),_=p(776),T=p(664),L=p(972);function R(E){E.API.autoTable=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];var V;k.length===1?V=k[0]:(console.error("Use of deprecated autoTable initiation"),V=k[2]||{},V.columns=k[0],V.body=k[1]);var J=(0,_.parseInput)(this,V),ee=(0,L.createTable)(this,J);return(0,T.drawTable)(this,ee),this},E.API.lastAutoTable=!1,E.API.previousAutoTable=!1,E.API.autoTable.previous=!1,E.API.autoTableText=function(k,D,V,J){(0,x.default)(k,D,V,J,this)},E.API.autoTableSetDefaults=function(k){return C.DocHandler.setDefaults(k,this),this},E.autoTableSetDefaults=function(k,D){C.DocHandler.setDefaults(k,D)},E.API.autoTableHtmlToJson=function(k,D){var V;if(D===void 0&&(D=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var J=new C.DocHandler(this),ee=(0,b.parseHtml)(J,k,window,D,!1),G=ee.head,z=ee.body,re=((V=G[0])===null||V===void 0?void 0:V.map(function(se){return se.content}))||[];return{columns:re,rows:z,data:z}},E.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var k=this.lastAutoTable;return k&&k.finalY?k.finalY:0},E.API.autoTableAddPageContent=function(k){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),E.API.autoTable.globalDefaults||(E.API.autoTable.globalDefaults={}),E.API.autoTable.globalDefaults.addPageContent=k,this},E.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}d.default=R},136:function(f,d){Object.defineProperty(d,"__esModule",{value:!0});function p(b,x,C,_,T){_=_||{};var L=1.15,R=T.internal.scaleFactor,E=T.internal.getFontSize()/R,k=T.getLineHeightFactor?T.getLineHeightFactor():L,D=E*k,V=/\r\n|\r|\n/g,J="",ee=1;if((_.valign==="middle"||_.valign==="bottom"||_.halign==="center"||_.halign==="right")&&(J=typeof b=="string"?b.split(V):b,ee=J.length||1),C+=E*(2-L),_.valign==="middle"?C-=ee/2*D:_.valign==="bottom"&&(C-=ee*D),_.halign==="center"||_.halign==="right"){var G=E;if(_.halign==="center"&&(G*=.5),J&&ee>=1){for(var z=0;z<J.length;z++)T.text(J[z],x-T.getStringUnitWidth(J[z])*G,C),C+=D;return T}x-=T.getStringUnitWidth(b)*G}return _.halign==="justify"?T.text(b,x,C,{maxWidth:_.maxWidth||100,align:"justify"}):T.text(b,x,C),T}d.default=p},420:function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getPageAvailableWidth=d.parseSpacing=d.getFillStyle=d.addTableBorder=d.getStringWidth=void 0;function p(T,L,R){R.applyStyles(L,!0);var E=Array.isArray(T)?T:[T],k=E.map(function(D){return R.getTextWidth(D)}).reduce(function(D,V){return Math.max(D,V)},0);return k}d.getStringWidth=p;function b(T,L,R,E){var k=L.settings.tableLineWidth,D=L.settings.tableLineColor;T.applyStyles({lineWidth:k,lineColor:D});var V=x(k,!1);V&&T.rect(R.x,R.y,L.getWidth(T.pageSize().width),E.y-R.y,V)}d.addTableBorder=b;function x(T,L){var R=T>0,E=L||L===0;return R&&E?"DF":R?"S":E?"F":null}d.getFillStyle=x;function C(T,L){var R,E,k,D;if(T=T||L,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=L}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(R=T.left)!==null&&R!==void 0?R:L,top:(E=T.top)!==null&&E!==void 0?E:L,right:(k=T.right)!==null&&k!==void 0?k:L,bottom:(D=T.bottom)!==null&&D!==void 0?D:L}):(typeof T!="number"&&(T=L),{top:T,right:T,bottom:T,left:T})}d.parseSpacing=C;function _(T,L){var R=C(L.settings.margin,0);return T.pageSize().width-(R.left+R.right)}d.getPageAvailableWidth=_},796:function(f,d){var p=this&&this.__extends||function(){var _=function(T,L){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,E){R.__proto__=E}||function(R,E){for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(R[k]=E[k])},_(T,L)};return function(T,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");_(T,L);function R(){this.constructor=T}T.prototype=L===null?Object.create(L):(R.prototype=L.prototype,new R)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.getTheme=d.defaultStyles=d.HtmlRowInput=void 0;var b=function(_){p(T,_);function T(L){var R=_.call(this)||this;return R._element=L,R}return T}(Array);d.HtmlRowInput=b;function x(_){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/_,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}d.defaultStyles=x;function C(_){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[_]}d.getTheme=C},903:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseCss=void 0;var b=p(420);function x(R,E,k,D,V){var J={},ee=1.3333333333333333,G=_(E,function(ae){return V.getComputedStyle(ae).backgroundColor});G!=null&&(J.fillColor=G);var z=_(E,function(ae){return V.getComputedStyle(ae).color});z!=null&&(J.textColor=z);var re=L(D,k);re&&(J.cellPadding=re);var se="borderTopColor",U=ee*k,I=D.borderTopWidth;if(D.borderBottomWidth===I&&D.borderRightWidth===I&&D.borderLeftWidth===I){var te=(parseFloat(I)||0)/U;te&&(J.lineWidth=te)}else J.lineWidth={top:(parseFloat(D.borderTopWidth)||0)/U,right:(parseFloat(D.borderRightWidth)||0)/U,bottom:(parseFloat(D.borderBottomWidth)||0)/U,left:(parseFloat(D.borderLeftWidth)||0)/U},J.lineWidth.top||(J.lineWidth.right?se="borderRightColor":J.lineWidth.bottom?se="borderBottomColor":J.lineWidth.left&&(se="borderLeftColor"));console.log(J.lineWidth);var ne=_(E,function(ae){return V.getComputedStyle(ae)[se]});ne!=null&&(J.lineColor=ne);var ye=["left","right","center","justify"];ye.indexOf(D.textAlign)!==-1&&(J.halign=D.textAlign),ye=["middle","bottom","top"],ye.indexOf(D.verticalAlign)!==-1&&(J.valign=D.verticalAlign);var F=parseInt(D.fontSize||"");isNaN(F)||(J.fontSize=F/ee);var K=C(D);K&&(J.fontStyle=K);var ie=(D.fontFamily||"").toLowerCase();return R.indexOf(ie)!==-1&&(J.font=ie),J}d.parseCss=x;function C(R){var E="";return(R.fontWeight==="bold"||R.fontWeight==="bolder"||parseInt(R.fontWeight)>=700)&&(E="bold"),(R.fontStyle==="italic"||R.fontStyle==="oblique")&&(E+="italic"),E}function _(R,E){var k=T(R,E);if(!k)return null;var D=k.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!D||!Array.isArray(D))return null;var V=[parseInt(D[1]),parseInt(D[2]),parseInt(D[3])],J=parseInt(D[4]);return J===0||isNaN(V[0])||isNaN(V[1])||isNaN(V[2])?null:V}function T(R,E){var k=E(R);return k==="rgba(0, 0, 0, 0)"||k==="transparent"||k==="initial"||k==="inherit"?R.parentElement==null?null:T(R.parentElement,E):k}function L(R,E){var k=[R.paddingTop,R.paddingRight,R.paddingBottom,R.paddingLeft],D=96/(72/E),V=(parseInt(R.lineHeight)-parseInt(R.fontSize))/E/2,J=k.map(function(G){return parseInt(G||"0")/D}),ee=(0,b.parseSpacing)(J,0);return V>ee.top&&(ee.top=V),V>ee.bottom&&(ee.bottom=V),ee}},744:function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.DocHandler=void 0;var p={},b=function(){function x(C){this.jsPDFDocument=C,this.userStyles={textColor:C.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:C.internal.getFontSize(),fontStyle:C.internal.getFont().fontStyle,font:C.internal.getFont().fontName,lineWidth:C.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:C.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return x.setDefaults=function(C,_){_===void 0&&(_=null),_?_.__autoTableDocumentDefaults=C:p=C},x.unifyColor=function(C){return Array.isArray(C)?C:typeof C=="number"?[C,C,C]:typeof C=="string"?[C]:null},x.prototype.applyStyles=function(C,_){var T,L,R;_===void 0&&(_=!1),C.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(C.fontStyle);var E=this.jsPDFDocument.internal.getFont(),k=E.fontStyle,D=E.fontName;if(C.font&&(D=C.font),C.fontStyle){k=C.fontStyle;var V=this.getFontList()[D];V&&V.indexOf(k)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(V[0]),k=V[0])}if(this.jsPDFDocument.setFont(D,k),C.fontSize&&this.jsPDFDocument.setFontSize(C.fontSize),!_){var J=x.unifyColor(C.fillColor);J&&(T=this.jsPDFDocument).setFillColor.apply(T,J),J=x.unifyColor(C.textColor),J&&(L=this.jsPDFDocument).setTextColor.apply(L,J),J=x.unifyColor(C.lineColor),J&&(R=this.jsPDFDocument).setDrawColor.apply(R,J),typeof C.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(C.lineWidth)}},x.prototype.splitTextToSize=function(C,_,T){return this.jsPDFDocument.splitTextToSize(C,_,T)},x.prototype.rect=function(C,_,T,L,R){return this.jsPDFDocument.rect(C,_,T,L,R)},x.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},x.prototype.getTextWidth=function(C){return this.jsPDFDocument.getTextWidth(C)},x.prototype.getDocument=function(){return this.jsPDFDocument},x.prototype.setPage=function(C){this.jsPDFDocument.setPage(C)},x.prototype.addPage=function(){return this.jsPDFDocument.addPage()},x.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},x.prototype.getGlobalOptions=function(){return p||{}},x.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},x.prototype.pageSize=function(){var C=this.jsPDFDocument.internal.pageSize;return C.width==null&&(C={width:C.getWidth(),height:C.getHeight()}),C},x.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},x.prototype.getLineHeightFactor=function(){var C=this.jsPDFDocument;return C.getLineHeightFactor?C.getLineHeightFactor():1.15},x.prototype.getLineHeight=function(C){return C/this.scaleFactor()*this.getLineHeightFactor()},x.prototype.pageNumber=function(){var C=this.jsPDFDocument.internal.getCurrentPageInfo();return C?C.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},x}();d.DocHandler=b},4:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseHtml=void 0;var b=p(903),x=p(796);function C(L,R,E,k,D){var V,J;k===void 0&&(k=!1),D===void 0&&(D=!1);var ee;typeof R=="string"?ee=E.document.querySelector(R):ee=R;var G=Object.keys(L.getFontList()),z=L.scaleFactor(),re=[],se=[],U=[];if(!ee)return console.error("Html table could not be found with input: ",R),{head:re,body:se,foot:U};for(var I=0;I<ee.rows.length;I++){var te=ee.rows[I],ne=(J=(V=te==null?void 0:te.parentElement)===null||V===void 0?void 0:V.tagName)===null||J===void 0?void 0:J.toLowerCase(),ye=_(G,z,E,te,k,D);ye&&(ne==="thead"?re.push(ye):ne==="tfoot"?U.push(ye):se.push(ye))}return{head:re,body:se,foot:U}}d.parseHtml=C;function _(L,R,E,k,D,V){for(var J=new x.HtmlRowInput(k),ee=0;ee<k.cells.length;ee++){var G=k.cells[ee],z=E.getComputedStyle(G);if(D||z.display!=="none"){var re=void 0;V&&(re=(0,b.parseCss)(L,G,R,z,E)),J.push({rowSpan:G.rowSpan,colSpan:G.colSpan,styles:re,_element:G,content:T(G)})}}var se=E.getComputedStyle(k);if(J.length>0&&(D||se.display!=="none"))return J}function T(L){var R=L.cloneNode(!0);return R.innerHTML=R.innerHTML.replace(/\n/g,"").replace(/ +/g," "),R.innerHTML=R.innerHTML.split(/<br.*?>/).map(function(E){return E.trim()}).join(`
`),R.innerText||R.textContent||""}},776:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseInput=void 0;var b=p(4),x=p(356),C=p(420),_=p(744),T=p(792);function L(ee,G){var z=new _.DocHandler(ee),re=z.getDocumentOptions(),se=z.getGlobalOptions();(0,T.default)(z,se,re,G);var U=(0,x.assign)({},se,re,G),I;typeof window<"u"&&(I=window);var te=R(se,re,G),ne=E(se,re,G),ye=k(z,U),F=V(z,U,I);return{id:G.tableId,content:F,hooks:ne,styles:te,settings:ye}}d.parseInput=L;function R(ee,G,z){for(var re={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},se=function(ne){if(ne==="columnStyles"){var ye=ee[ne],F=G[ne],K=z[ne];re.columnStyles=(0,x.assign)({},ye,F,K)}else{var ie=[ee,G,z],ae=ie.map(function(O){return O[ne]||{}});re[ne]=(0,x.assign)({},ae[0],ae[1],ae[2])}},U=0,I=Object.keys(re);U<I.length;U++){var te=I[U];se(te)}return re}function E(ee,G,z){for(var re=[ee,G,z],se={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},U=0,I=re;U<I.length;U++){var te=I[U];te.didParseCell&&se.didParseCell.push(te.didParseCell),te.willDrawCell&&se.willDrawCell.push(te.willDrawCell),te.didDrawCell&&se.didDrawCell.push(te.didDrawCell),te.willDrawPage&&se.willDrawPage.push(te.willDrawPage),te.didDrawPage&&se.didDrawPage.push(te.didDrawPage)}return se}function k(ee,G){var z,re,se,U,I,te,ne,ye,F,K,ie,ae,O=(0,C.parseSpacing)(G.margin,40/ee.scaleFactor()),ce=(z=D(ee,G.startY))!==null&&z!==void 0?z:O.top,M;G.showFoot===!0?M="everyPage":G.showFoot===!1?M="never":M=(re=G.showFoot)!==null&&re!==void 0?re:"everyPage";var j;G.showHead===!0?j="everyPage":G.showHead===!1?j="never":j=(se=G.showHead)!==null&&se!==void 0?se:"everyPage";var X=(U=G.useCss)!==null&&U!==void 0?U:!1,le=G.theme||(X?"plain":"striped"),ue=!!G.horizontalPageBreak,we=(I=G.horizontalPageBreakRepeat)!==null&&I!==void 0?I:null;return{includeHiddenHtml:(te=G.includeHiddenHtml)!==null&&te!==void 0?te:!1,useCss:X,theme:le,startY:ce,margin:O,pageBreak:(ne=G.pageBreak)!==null&&ne!==void 0?ne:"auto",rowPageBreak:(ye=G.rowPageBreak)!==null&&ye!==void 0?ye:"auto",tableWidth:(F=G.tableWidth)!==null&&F!==void 0?F:"auto",showHead:j,showFoot:M,tableLineWidth:(K=G.tableLineWidth)!==null&&K!==void 0?K:0,tableLineColor:(ie=G.tableLineColor)!==null&&ie!==void 0?ie:200,horizontalPageBreak:ue,horizontalPageBreakRepeat:we,horizontalPageBreakBehaviour:(ae=G.horizontalPageBreakBehaviour)!==null&&ae!==void 0?ae:"afterAllRows"}}function D(ee,G){var z=ee.getLastAutoTable(),re=ee.scaleFactor(),se=ee.pageNumber(),U=!1;if(z&&z.startPageNumber){var I=z.startPageNumber+z.pageNumber-1;U=I===se}return typeof G=="number"?G:(G==null||G===!1)&&U&&(z==null?void 0:z.finalY)!=null?z.finalY+20/re:null}function V(ee,G,z){var re=G.head||[],se=G.body||[],U=G.foot||[];if(G.html){var I=G.includeHiddenHtml;if(z){var te=(0,b.parseHtml)(ee,G.html,z,I,G.useCss)||{};re=te.head||re,se=te.body||re,U=te.foot||re}else console.error("Cannot parse html in non browser environment")}var ne=G.columns||J(re,se,U);return{columns:ne,head:re,body:se,foot:U}}function J(ee,G,z){var re=ee[0]||G[0]||z[0]||[],se=[];return Object.keys(re).filter(function(U){return U!=="_element"}).forEach(function(U){var I=1,te;Array.isArray(re)?te=re[parseInt(U)]:te=re[U],typeof te=="object"&&!Array.isArray(te)&&(I=(te==null?void 0:te.colSpan)||1);for(var ne=0;ne<I;ne++){var ye=void 0;Array.isArray(re)?ye=se.length:ye=U+(ne>0?"_".concat(ne):"");var F={dataKey:ye};se.push(F)}}),se}},792:function(f,d){Object.defineProperty(d,"__esModule",{value:!0});function p(x,C,_,T){for(var L=function(D){D&&typeof D!="object"&&console.error("The options parameter should be of type object, is: "+typeof D),typeof D.extendWidth<"u"&&(D.tableWidth=D.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof D.margins<"u"&&(typeof D.margin>"u"&&(D.margin=D.margins),console.error("Use of deprecated option: margins, use margin instead.")),D.startY&&typeof D.startY!="number"&&(console.error("Invalid value for startY option",D.startY),delete D.startY),!D.didDrawPage&&(D.afterPageContent||D.beforePageContent||D.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),D.didDrawPage=function(U){x.applyStyles(x.userStyles),D.beforePageContent&&D.beforePageContent(U),x.applyStyles(x.userStyles),D.afterPageContent&&D.afterPageContent(U),x.applyStyles(x.userStyles),D.afterPageAdd&&U.pageNumber>1&&U.afterPageAdd(U),x.applyStyles(x.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(U){D[U]&&console.error('The "'.concat(U,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(U){var I=U[0],te=U[1];D[te]&&(console.error("Use of deprecated option ".concat(te,". Use ").concat(I," instead")),D[I]=D[te])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(U){var I=typeof U=="string"?U:U[0],te=typeof U=="string"?U:U[1];typeof D[I]<"u"&&(typeof D.styles[te]>"u"&&(D.styles[te]=D[I]),console.error("Use of deprecated option: "+I+", use the style "+te+" instead."))});for(var V=0,J=["styles","bodyStyles","headStyles","footStyles"];V<J.length;V++){var ee=J[V];b(D[ee]||{})}for(var G=D.columnStyles||{},z=0,re=Object.keys(G);z<re.length;z++){var se=re[z];b(G[se]||{})}},R=0,E=[C,_,T];R<E.length;R++){var k=E[R];L(k)}}d.default=p;function b(x){x.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),x.minCellHeight||(x.minCellHeight=x.rowHeight)):x.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),x.cellWidth||(x.cellWidth=x.columnWidth))}},260:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.Column=d.Cell=d.Row=d.Table=void 0;var b=p(796),x=p(172),C=p(420),_=function(){function E(k,D){this.pageNumber=1,this.pageCount=1,this.id=k.id,this.settings=k.settings,this.styles=k.styles,this.hooks=k.hooks,this.columns=D.columns,this.head=D.head,this.body=D.body,this.foot=D.foot}return E.prototype.getHeadHeight=function(k){return this.head.reduce(function(D,V){return D+V.getMaxCellHeight(k)},0)},E.prototype.getFootHeight=function(k){return this.foot.reduce(function(D,V){return D+V.getMaxCellHeight(k)},0)},E.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},E.prototype.callCellHooks=function(k,D,V,J,ee,G){for(var z=0,re=D;z<re.length;z++){var se=re[z],U=new x.CellHookData(k,this,V,J,ee,G),I=se(U)===!1;if(V.text=Array.isArray(V.text)?V.text:[V.text],I)return!1}return!0},E.prototype.callEndPageHooks=function(k,D){k.applyStyles(k.userStyles);for(var V=0,J=this.hooks.didDrawPage;V<J.length;V++){var ee=J[V];ee(new x.HookData(k,this,D))}},E.prototype.callWillDrawPageHooks=function(k,D){for(var V=0,J=this.hooks.willDrawPage;V<J.length;V++){var ee=J[V];ee(new x.HookData(k,this,D))}},E.prototype.getWidth=function(k){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var D=this.columns.reduce(function(J,ee){return J+ee.wrappedWidth},0);return D}else{var V=this.settings.margin;return k-V.left-V.right}},E}();d.Table=_;var T=function(){function E(k,D,V,J,ee){ee===void 0&&(ee=!1),this.height=0,this.raw=k,k instanceof b.HtmlRowInput&&(this.raw=k._element,this.element=k._element),this.index=D,this.section=V,this.cells=J,this.spansMultiplePages=ee}return E.prototype.getMaxCellHeight=function(k){var D=this;return k.reduce(function(V,J){var ee;return Math.max(V,((ee=D.cells[J.index])===null||ee===void 0?void 0:ee.height)||0)},0)},E.prototype.hasRowSpan=function(k){var D=this;return k.filter(function(V){var J=D.cells[V.index];return J?J.rowSpan>1:!1}).length>0},E.prototype.canEntireRowFit=function(k,D){return this.getMaxCellHeight(D)<=k},E.prototype.getMinimumRowHeight=function(k,D){var V=this;return k.reduce(function(J,ee){var G=V.cells[ee.index];if(!G)return 0;var z=D.getLineHeight(G.styles.fontSize),re=G.padding("vertical"),se=re+z;return se>J?se:J},0)},E}();d.Row=T;var L=function(){function E(k,D,V){var J,ee;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=D,this.section=V,this.raw=k;var G=k;k!=null&&typeof k=="object"&&!Array.isArray(k)?(this.rowSpan=k.rowSpan||1,this.colSpan=k.colSpan||1,G=(ee=(J=k.content)!==null&&J!==void 0?J:k.title)!==null&&ee!==void 0?ee:k,k._element&&(this.raw=k._element)):(this.rowSpan=1,this.colSpan=1);var z=G!=null?""+G:"",re=/\r\n|\r|\n/g;this.text=z.split(re)}return E.prototype.getTextPos=function(){var k;if(this.styles.valign==="top")k=this.y+this.padding("top");else if(this.styles.valign==="bottom")k=this.y+this.height-this.padding("bottom");else{var D=this.height-this.padding("vertical");k=this.y+D/2+this.padding("top")}var V;if(this.styles.halign==="right")V=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var J=this.width-this.padding("horizontal");V=this.x+J/2+this.padding("left")}else V=this.x+this.padding("left");return{x:V,y:k}},E.prototype.getContentHeight=function(k,D){D===void 0&&(D=1.15);var V=Array.isArray(this.text)?this.text.length:1,J=this.styles.fontSize/k*D,ee=V*J+this.padding("vertical");return Math.max(ee,this.styles.minCellHeight)},E.prototype.padding=function(k){var D=(0,C.parseSpacing)(this.styles.cellPadding,0);return k==="vertical"?D.top+D.bottom:k==="horizontal"?D.left+D.right:D[k]},E}();d.Cell=L;var R=function(){function E(k,D,V){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=k,this.raw=D,this.index=V}return E.prototype.getMaxCustomCellWidth=function(k){for(var D=0,V=0,J=k.allRows();V<J.length;V++){var ee=J[V],G=ee.cells[this.index];G&&typeof G.styles.cellWidth=="number"&&(D=Math.max(D,G.styles.cellWidth))}return D},E}();d.Column=R},356:function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.assign=void 0;function p(b,x,C,_,T){if(b==null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(b),R=1;R<arguments.length;R++){var E=arguments[R];if(E!=null)for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(L[k]=E[k])}return L}d.assign=p},972:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.createTable=void 0;var b=p(744),x=p(260),C=p(324),_=p(796),T=p(356);function L(ee,G){var z=new b.DocHandler(ee),re=R(G,z.scaleFactor()),se=new x.Table(G,re);return(0,C.calculateWidths)(z,se),z.applyStyles(z.userStyles),se}d.createTable=L;function R(ee,G){var z=ee.content,re=V(z.columns);if(z.head.length===0){var se=k(re,"head");se&&z.head.push(se)}if(z.foot.length===0){var se=k(re,"foot");se&&z.foot.push(se)}var U=ee.settings.theme,I=ee.styles;return{columns:re,head:E("head",z.head,re,I,U,G),body:E("body",z.body,re,I,U,G),foot:E("foot",z.foot,re,I,U,G)}}function E(ee,G,z,re,se,U){var I={},te=G.map(function(ne,ye){for(var F=0,K={},ie=0,ae=0,O=0,ce=z;O<ce.length;O++){var M=ce[O];if(I[M.index]==null||I[M.index].left===0)if(ae===0){var j=void 0;Array.isArray(ne)?j=ne[M.index-ie-F]:j=ne[M.dataKey];var X={};typeof j=="object"&&!Array.isArray(j)&&(X=(j==null?void 0:j.styles)||{});var le=J(ee,M,ye,se,re,U,X),ue=new x.Cell(j,le,ee);K[M.dataKey]=ue,K[M.index]=ue,ae=ue.colSpan-1,I[M.index]={left:ue.rowSpan-1,times:ae}}else ae--,ie++;else I[M.index].left--,ae=I[M.index].times,F++}return new x.Row(ne,ye,ee,K)});return te}function k(ee,G){var z={};return ee.forEach(function(re){if(re.raw!=null){var se=D(G,re.raw);se!=null&&(z[re.dataKey]=se)}}),Object.keys(z).length>0?z:null}function D(ee,G){if(ee==="head"){if(typeof G=="object")return G.header||G.title||null;if(typeof G=="string"||typeof G=="number")return G}else if(ee==="foot"&&typeof G=="object")return G.footer;return null}function V(ee){return ee.map(function(G,z){var re,se,U;return typeof G=="object"?U=(se=(re=G.dataKey)!==null&&re!==void 0?re:G.key)!==null&&se!==void 0?se:z:U=z,new x.Column(U,G,z)})}function J(ee,G,z,re,se,U,I){var te=(0,_.getTheme)(re),ne;ee==="head"?ne=se.headStyles:ee==="body"?ne=se.bodyStyles:ee==="foot"&&(ne=se.footStyles);var ye=(0,T.assign)({},te.table,te[ee],se.styles,ne),F=se.columnStyles[G.dataKey]||se.columnStyles[G.index]||{},K=ee==="body"?F:{},ie=ee==="body"&&z%2===0?(0,T.assign)({},te.alternateRow,se.alternateRowStyles):{},ae=(0,_.defaultStyles)(U),O=(0,T.assign)({},ae,ye,ie,K);return(0,T.assign)(O,I)}},664:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.addPage=d.drawTable=void 0;var b=p(420),x=p(260),C=p(744),_=p(356),T=p(136),L=p(224);function R(F,K){var ie=K.settings,ae=ie.startY,O=ie.margin,ce={x:O.left,y:ae},M=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns),j=ae+O.bottom+M;if(ie.pageBreak==="avoid"){var X=K.body,le=X.reduce(function(xe,pe){return xe+pe.height},0);j+=le}var ue=new C.DocHandler(F);(ie.pageBreak==="always"||ie.startY!=null&&j>ue.pageSize().height)&&(ye(ue),ce.y=O.top),K.callWillDrawPageHooks(ue,ce);var we=(0,_.assign)({},ce);K.startPageNumber=ue.pageNumber(),ie.horizontalPageBreak?E(ue,K,we,ce):(ue.applyStyles(ue.userStyles),(ie.showHead==="firstPage"||ie.showHead==="everyPage")&&K.head.forEach(function(xe){return se(ue,K,xe,ce,K.columns)}),ue.applyStyles(ue.userStyles),K.body.forEach(function(xe,pe){var Ye=pe===K.body.length-1;re(ue,K,xe,Ye,we,ce,K.columns)}),ue.applyStyles(ue.userStyles),(ie.showFoot==="lastPage"||ie.showFoot==="everyPage")&&K.foot.forEach(function(xe){return se(ue,K,xe,ce,K.columns)})),(0,b.addTableBorder)(ue,K,we,ce),K.callEndPageHooks(ue,ce),K.finalY=ce.y,F.lastAutoTable=K,F.previousAutoTable=K,F.autoTable&&(F.autoTable.previous=K),ue.applyStyles(ue.userStyles)}d.drawTable=R;function E(F,K,ie,ae){var O=(0,L.calculateAllColumnsCanFitInPage)(F,K),ce=K.settings;if(ce.horizontalPageBreakBehaviour==="afterAllRows")O.forEach(function(le,ue){F.applyStyles(F.userStyles),ue>0?ne(F,K,ie,ae,le.columns,!0):k(F,K,ae,le.columns),D(F,K,ie,ae,le.columns),J(F,K,ae,le.columns)});else for(var M=-1,j=O[0],X=function(){var le=M;if(j){F.applyStyles(F.userStyles);var ue=j.columns;M>=0?ne(F,K,ie,ae,ue,!0):k(F,K,ae,ue),le=V(F,K,M+1,ae,ue),J(F,K,ae,ue)}var we=le-M;O.slice(1).forEach(function(xe){F.applyStyles(F.userStyles),ne(F,K,ie,ae,xe.columns,!0),V(F,K,M+1,ae,xe.columns,we),J(F,K,ae,xe.columns)}),M=le};M<K.body.length-1;)X()}function k(F,K,ie,ae){var O=K.settings;F.applyStyles(F.userStyles),(O.showHead==="firstPage"||O.showHead==="everyPage")&&K.head.forEach(function(ce){return se(F,K,ce,ie,ae)})}function D(F,K,ie,ae,O){F.applyStyles(F.userStyles),K.body.forEach(function(ce,M){var j=M===K.body.length-1;re(F,K,ce,j,ie,ae,O)})}function V(F,K,ie,ae,O,ce){F.applyStyles(F.userStyles),ce=ce??K.body.length;var M=Math.min(ie+ce,K.body.length),j=-1;return K.body.slice(ie,M).forEach(function(X,le){var ue=ie+le===K.body.length-1,we=te(F,K,ue,ae);X.canEntireRowFit(we,O)&&(se(F,K,X,ae,O),j=ie+le)}),j}function J(F,K,ie,ae){var O=K.settings;F.applyStyles(F.userStyles),(O.showFoot==="lastPage"||O.showFoot==="everyPage")&&K.foot.forEach(function(ce){return se(F,K,ce,ie,ae)})}function ee(F,K,ie){var ae=ie.getLineHeight(F.styles.fontSize),O=F.padding("vertical"),ce=Math.floor((K-O)/ae);return Math.max(0,ce)}function G(F,K,ie,ae){var O={};F.spansMultiplePages=!0,F.height=0;for(var ce=0,M=0,j=ie.columns;M<j.length;M++){var X=j[M],le=F.cells[X.index];if(le){Array.isArray(le.text)||(le.text=[le.text]);var ue=new x.Cell(le.raw,le.styles,le.section);ue=(0,_.assign)(ue,le),ue.text=[];var we=ee(le,K,ae);le.text.length>we&&(ue.text=le.text.splice(we,le.text.length));var xe=ae.scaleFactor(),pe=ae.getLineHeightFactor();le.contentHeight=le.getContentHeight(xe,pe),le.contentHeight>=K&&(le.contentHeight=K,ue.styles.minCellHeight-=K),le.contentHeight>F.height&&(F.height=le.contentHeight),ue.contentHeight=ue.getContentHeight(xe,pe),ue.contentHeight>ce&&(ce=ue.contentHeight),O[X.index]=ue}}var Ye=new x.Row(F.raw,-1,F.section,O,!0);Ye.height=ce;for(var We=0,rt=ie.columns;We<rt.length;We++){var X=rt[We],ue=Ye.cells[X.index];ue&&(ue.height=Ye.height);var le=F.cells[X.index];le&&(le.height=F.height)}return Ye}function z(F,K,ie,ae){var O=F.pageSize().height,ce=ae.settings.margin,M=ce.top+ce.bottom,j=O-M;K.section==="body"&&(j-=ae.getHeadHeight(ae.columns)+ae.getFootHeight(ae.columns));var X=K.getMinimumRowHeight(ae.columns,F),le=X<ie;if(X>j)return console.error("Will not be able to print row ".concat(K.index," correctly since it's minimum height is larger than page height")),!0;if(!le)return!1;var ue=K.hasRowSpan(ae.columns),we=K.getMaxCellHeight(ae.columns)>j;return we?(ue&&console.error("The content of row ".concat(K.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ue||ae.settings.rowPageBreak==="avoid")}function re(F,K,ie,ae,O,ce,M){var j=te(F,K,ae,ce);if(ie.canEntireRowFit(j,M))se(F,K,ie,ce,M);else if(z(F,ie,j,K)){var X=G(ie,j,K,F);se(F,K,ie,ce,M),ne(F,K,O,ce,M),re(F,K,X,ae,O,ce,M)}else ne(F,K,O,ce,M),re(F,K,ie,ae,O,ce,M)}function se(F,K,ie,ae,O){ae.x=K.settings.margin.left;for(var ce=0,M=O;ce<M.length;ce++){var j=M[ce],X=ie.cells[j.index];if(!X){ae.x+=j.width;continue}F.applyStyles(X.styles),X.x=ae.x,X.y=ae.y;var le=K.callCellHooks(F,K.hooks.willDrawCell,X,ie,j,ae);if(le===!1){ae.x+=j.width;continue}U(F,X,ae);var ue=X.getTextPos();(0,T.default)(X.text,ue.x,ue.y,{halign:X.styles.halign,valign:X.styles.valign,maxWidth:Math.ceil(X.width-X.padding("left")-X.padding("right"))},F.getDocument()),K.callCellHooks(F,K.hooks.didDrawCell,X,ie,j,ae),ae.x+=j.width}ae.y+=ie.height}function U(F,K,ie){var ae=K.styles;if(F.getDocument().setFillColor(F.getDocument().getFillColor()),typeof ae.lineWidth=="number"){var O=(0,b.getFillStyle)(ae.lineWidth,ae.fillColor);O&&F.rect(K.x,ie.y,K.width,K.height,O)}else typeof ae.lineWidth=="object"&&(ae.fillColor&&F.rect(K.x,ie.y,K.width,K.height,"F"),I(F,K,ie,ae.lineWidth))}function I(F,K,ie,ae){var O,ce,M,j;ae.top&&(O=ie.x,ce=ie.y,M=ie.x+K.width,j=ie.y,ae.right&&(M+=.5*ae.right),ae.left&&(O-=.5*ae.left),X(ae.top,O,ce,M,j)),ae.bottom&&(O=ie.x,ce=ie.y+K.height,M=ie.x+K.width,j=ie.y+K.height,ae.right&&(M+=.5*ae.right),ae.left&&(O-=.5*ae.left),X(ae.bottom,O,ce,M,j)),ae.left&&(O=ie.x,ce=ie.y,M=ie.x,j=ie.y+K.height,ae.top&&(ce-=.5*ae.top),ae.bottom&&(j+=.5*ae.bottom),X(ae.left,O,ce,M,j)),ae.right&&(O=ie.x+K.width,ce=ie.y,M=ie.x+K.width,j=ie.y+K.height,ae.top&&(ce-=.5*ae.top),ae.bottom&&(j+=.5*ae.bottom),X(ae.right,O,ce,M,j));function X(le,ue,we,xe,pe){F.getDocument().setLineWidth(le),F.getDocument().line(ue,we,xe,pe,"S")}}function te(F,K,ie,ae){var O=K.settings.margin.bottom,ce=K.settings.showFoot;return(ce==="everyPage"||ce==="lastPage"&&ie)&&(O+=K.getFootHeight(K.columns)),F.pageSize().height-ae.y-O}function ne(F,K,ie,ae,O,ce){O===void 0&&(O=[]),ce===void 0&&(ce=!1),F.applyStyles(F.userStyles),K.settings.showFoot==="everyPage"&&!ce&&K.foot.forEach(function(j){return se(F,K,j,ae,O)}),K.callEndPageHooks(F,ae);var M=K.settings.margin;(0,b.addTableBorder)(F,K,ie,ae),ye(F),K.pageNumber++,K.pageCount++,ae.x=M.left,ae.y=M.top,ie.y=M.top,K.callWillDrawPageHooks(F,ae),K.settings.showHead==="everyPage"&&(K.head.forEach(function(j){return se(F,K,j,ae,O)}),F.applyStyles(F.userStyles))}d.addPage=ne;function ye(F){var K=F.pageNumber();F.setPage(K+1);var ie=F.pageNumber();return ie===K?(F.addPage(),!0):!1}},224:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.calculateAllColumnsCanFitInPage=void 0;var b=p(420);function x(_,T,L){var R;L===void 0&&(L={});var E=(0,b.getPageAvailableWidth)(_,T),k=new Map,D=[],V=[],J=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?J=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(J=[T.settings.horizontalPageBreakRepeat]),J.forEach(function(re){var se=T.columns.find(function(U){return U.dataKey===re||U.index===re});se&&!k.has(se.index)&&(k.set(se.index,!0),D.push(se.index),V.push(T.columns[se.index]),E-=se.wrappedWidth)});for(var ee=!0,G=(R=L==null?void 0:L.start)!==null&&R!==void 0?R:0;G<T.columns.length;){if(k.has(G)){G++;continue}var z=T.columns[G].wrappedWidth;if(ee||E>=z)ee=!1,D.push(G),V.push(T.columns[G]),E-=z;else break;G++}return{colIndexes:D,columns:V,lastIndex:G-1}}function C(_,T){for(var L=[],R=0;R<T.columns.length;R++){var E=x(_,T,{start:R});E.columns.length&&(L.push(E),R=E.lastIndex)}return L}d.calculateAllColumnsCanFitInPage=C},324:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.ellipsize=d.resizeColumns=d.calculateWidths=void 0;var b=p(420);function x(D,V){C(D,V);var J=[],ee=0;V.columns.forEach(function(z){var re=z.getMaxCustomCellWidth(V);re?z.width=re:(z.width=z.wrappedWidth,J.push(z)),ee+=z.width});var G=V.getWidth(D.pageSize().width)-ee;G&&(G=_(J,G,function(z){return Math.max(z.minReadableWidth,z.minWidth)})),G&&(G=_(J,G,function(z){return z.minWidth})),G=Math.abs(G),!V.settings.horizontalPageBreak&&G>.1/D.scaleFactor()&&(G=G<1?G:Math.round(G),console.warn("Of the table content, ".concat(G," units width could not fit page"))),L(V),R(V,D),T(V)}d.calculateWidths=x;function C(D,V){var J=D.scaleFactor(),ee=V.settings.horizontalPageBreak,G=(0,b.getPageAvailableWidth)(D,V);V.allRows().forEach(function(z){for(var re=0,se=V.columns;re<se.length;re++){var U=se[re],I=z.cells[U.index];if(I){var te=V.hooks.didParseCell;V.callCellHooks(D,te,I,z,U,null);var ne=I.padding("horizontal");I.contentWidth=(0,b.getStringWidth)(I.text,I.styles,D)+ne;var ye=(0,b.getStringWidth)(I.text.join(" ").split(/\s+/),I.styles,D);if(I.minReadableWidth=ye+I.padding("horizontal"),typeof I.styles.cellWidth=="number")I.minWidth=I.styles.cellWidth,I.wrappedWidth=I.styles.cellWidth;else if(I.styles.cellWidth==="wrap"||ee===!0)I.contentWidth>G?(I.minWidth=G,I.wrappedWidth=G):(I.minWidth=I.contentWidth,I.wrappedWidth=I.contentWidth);else{var F=10/J;I.minWidth=I.styles.minCellWidth||F,I.wrappedWidth=I.contentWidth,I.minWidth>I.wrappedWidth&&(I.wrappedWidth=I.minWidth)}}}}),V.allRows().forEach(function(z){for(var re=0,se=V.columns;re<se.length;re++){var U=se[re],I=z.cells[U.index];if(I&&I.colSpan===1)U.wrappedWidth=Math.max(U.wrappedWidth,I.wrappedWidth),U.minWidth=Math.max(U.minWidth,I.minWidth),U.minReadableWidth=Math.max(U.minReadableWidth,I.minReadableWidth);else{var te=V.styles.columnStyles[U.dataKey]||V.styles.columnStyles[U.index]||{},ne=te.cellWidth||te.minCellWidth;ne&&typeof ne=="number"&&(U.minWidth=ne,U.wrappedWidth=ne)}I&&(I.colSpan>1&&!U.minWidth&&(U.minWidth=I.minWidth),I.colSpan>1&&!U.wrappedWidth&&(U.wrappedWidth=I.minWidth))}})}function _(D,V,J){for(var ee=V,G=D.reduce(function(F,K){return F+K.wrappedWidth},0),z=0;z<D.length;z++){var re=D[z],se=re.wrappedWidth/G,U=ee*se,I=re.width+U,te=J(re),ne=I<te?te:I;V-=ne-re.width,re.width=ne}if(V=Math.round(V*1e10)/1e10,V){var ye=D.filter(function(F){return V<0?F.width>J(F):!0});ye.length&&(V=_(ye,V,J))}return V}d.resizeColumns=_;function T(D){for(var V={},J=1,ee=D.allRows(),G=0;G<ee.length;G++)for(var z=ee[G],re=0,se=D.columns;re<se.length;re++){var U=se[re],I=V[U.index];if(J>1)J--,delete z.cells[U.index];else if(I)I.cell.height+=z.height,J=I.cell.colSpan,delete z.cells[U.index],I.left--,I.left<=1&&delete V[U.index];else{var te=z.cells[U.index];if(!te)continue;if(te.height=z.height,te.rowSpan>1){var ne=ee.length-G,ye=te.rowSpan>ne?ne:te.rowSpan;V[U.index]={cell:te,left:ye,row:z}}}}}function L(D){for(var V=D.allRows(),J=0;J<V.length;J++)for(var ee=V[J],G=null,z=0,re=0,se=0;se<D.columns.length;se++){var U=D.columns[se];if(re-=1,re>1&&D.columns[se+1])z+=U.width,delete ee.cells[U.index];else if(G){var I=G;delete ee.cells[U.index],G=null,I.width=U.width+z}else{var I=ee.cells[U.index];if(!I)continue;if(re=I.colSpan,z=0,I.colSpan>1){G=I,z+=U.width;continue}I.width=U.width+z}}}function R(D,V){for(var J={count:0,height:0},ee=0,G=D.allRows();ee<G.length;ee++){for(var z=G[ee],re=0,se=D.columns;re<se.length;re++){var U=se[re],I=z.cells[U.index];if(I){V.applyStyles(I.styles,!0);var te=I.width-I.padding("horizontal");if(I.styles.overflow==="linebreak")I.text=V.splitTextToSize(I.text,te+1/V.scaleFactor(),{fontSize:I.styles.fontSize});else if(I.styles.overflow==="ellipsize")I.text=E(I.text,te,I.styles,V,"...");else if(I.styles.overflow==="hidden")I.text=E(I.text,te,I.styles,V,"");else if(typeof I.styles.overflow=="function"){var ne=I.styles.overflow(I.text,te);typeof ne=="string"?I.text=[ne]:I.text=ne}I.contentHeight=I.getContentHeight(V.scaleFactor(),V.getLineHeightFactor());var ye=I.contentHeight/I.rowSpan;I.rowSpan>1&&J.count*J.height<ye*I.rowSpan?J={height:ye,count:I.rowSpan}:J&&J.count>0&&J.height>ye&&(ye=J.height),ye>z.height&&(z.height=ye)}}J.count--}}function E(D,V,J,ee,G){return D.map(function(z){return k(z,V,J,ee,G)})}d.ellipsize=E;function k(D,V,J,ee,G){var z=1e4*ee.scaleFactor();if(V=Math.ceil(V*z)/z,V>=(0,b.getStringWidth)(D,J,ee))return D;for(;V<(0,b.getStringWidth)(D+G,J,ee)&&!(D.length<=1);)D=D.substring(0,D.length-1);return D.trim()+G}},964:function(f){if(typeof t>"u"){var d=new Error("Cannot find module 'undefined'");throw d.code="MODULE_NOT_FOUND",d}f.exports=t}},o={};function s(f){var d=o[f];if(d!==void 0)return d.exports;var p=o[f]={exports:{}};return i[f].call(p.exports,p,p.exports,s),p.exports}var u={};return function(){var f=u;Object.defineProperty(f,"__esModule",{value:!0}),f.Cell=f.Column=f.Row=f.Table=f.CellHookData=f.__drawTable=f.__createTable=f.applyPlugin=void 0;var d=s(340),p=s(776),b=s(664),x=s(972),C=s(260);Object.defineProperty(f,"Table",{enumerable:!0,get:function(){return C.Table}});var _=s(172);Object.defineProperty(f,"CellHookData",{enumerable:!0,get:function(){return _.CellHookData}});var T=s(260);Object.defineProperty(f,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(f,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(f,"Row",{enumerable:!0,get:function(){return T.Row}});function L(V){(0,d.default)(V)}f.applyPlugin=L;function R(V,J){var ee=(0,p.parseInput)(V,J),G=(0,x.createTable)(V,ee);(0,b.drawTable)(V,G)}function E(V,J){var ee=(0,p.parseInput)(V,J);return(0,x.createTable)(V,ee)}f.__createTable=E;function k(V,J){(0,b.drawTable)(V,J)}f.__drawTable=k;try{var D=s(964);D.jsPDF&&(D=D.jsPDF),L(D)}catch{}f.default=R}(),u}()})}(xd)),xd.exports}var hb=db();const pb=em(hb),Op=r=>r==null||String(r).toUpperCase()==="NULL"?"Sin Datos":typeof r=="boolean"?r?"Sí":"No":typeof r=="object"?JSON.stringify(r,null,2):String(r),Nd=r=>{if(!r||r.length===0)return[];const e=r.reduce((o,s)=>(Object.keys(s).forEach(u=>{o.includes(u)||o.push(u)}),o),[]),t=["name","taskName","description","type","status","role","availability","crop","area","location","model","year","category","unit","startDate","endDate","startDateTime","endDateTime","contactPerson","phone","email","id","clientId","contractorId","fieldId","lotId","parcelId","campaignId","tasksListId","createdByUserId","taskId","machineryId","personnelId","productInsumeId","userId"],i=[...new Set([...t.filter(o=>e.includes(o)),...e])];if(i.length<=2&&i.includes("id")&&i[0]!=="id"){const o=i.indexOf("id");if(o>0){const s=i.splice(o,1)[0];i.unshift(s)}}else if(i.length>2&&i[0]==="id"&&(i.includes("name")||i.includes("taskName"))){const o=i.indexOf("id"),s=i.indexOf("name"),u=i.indexOf("taskName");if(!(s!==-1&&o>s)){if(!(u!==-1&&o>u)){if(o!==-1){const f=i.splice(o,1)[0];let d=0;s!==-1?d=s+1:u!==-1?d=u+1:d=1,i.splice(Math.min(d,i.length),0,f)}}}}return i},_d=r=>{if(Hr[r])return Hr[r];let e=r.replace(/([A-Z])/g," $1");return e=e.replace(/_/g," "),e=e.charAt(0).toUpperCase()+e.slice(1),e},mb=({isOpen:r,onClose:e,title:t,items:i,entityTypeForHeaders:o})=>{const[s,u]=Qe.useState(""),[f,d]=Qe.useState(1),p=Qe.useRef(null);Qe.useEffect(()=>{r&&(u(""),d(1))},[r,i,t]);const b=Qe.useMemo(()=>Nd(i),[i]),x=Qe.useMemo(()=>{if(!s)return i;const k=s.toLowerCase();return i.filter(D=>b.some(V=>{const J=D[V],ee=Op(J);return String(ee).toLowerCase().includes(k)}))},[i,s,b]);if(!r)return null;const C=()=>d(k=>Math.min(k+.1,2)),_=()=>d(k=>Math.max(k-.1,.5)),T=()=>{am(x,t,o)},L=(k,D)=>{var ee;const V=(ee=k.querySelector("table"))==null?void 0:ee.cloneNode(!0);return V?(V.querySelectorAll(".no-print, .no-print-in-section").forEach(G=>G.remove()),`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${D}</title>
          
      <style>
        body { font-family: 'Inter', sans-serif; margin: 20px; }
        h1.print-page-title { font-size: 16pt; text-align: center; margin-bottom: 15px; color: black !important; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid #888; padding: 5px 8px; text-align: left; font-size: 9pt; word-break: break-word; color: black !important; page-break-inside: avoid; }
        th { background-color: #eee; font-weight: bold; }
        .no-print, .no-print-in-section { display: none !important; }
        .dark\\:bg-gray-800, .dark\\:bg-gray-700, .dark\\:bg-gray-600, .dark\\:bg-gray-500, .dark\\:bg-gray-650, .dark\\:bg-gray-100 { background-color: white !important; }
        .dark\\:text-gray-100, .dark\\:text-gray-200, .dark\\:text-gray-300, .dark\\:text-gray-400 { color: black !important; }
        .dark\\:divide-gray-500, .dark\\:divide-gray-300 { border-color: #ccc !important; }
        .dark\\:hover\\:bg-gray-550:hover, .dark\\:hover\\:bg-gray-200:hover { background-color: #f0f0f0 !important; }
        /* Sticky header removal for print */
        thead { position: static !important; }
      </style>
    
        </head>
        <body>
          <h1 class="print-page-title">${D}</h1>
          ${V.outerHTML}
        </body>
      </html>
    `):`<html><body><h1>${D}</h1><p>No se pudo encontrar la tabla para imprimir.</p></body></html>`},R=()=>{var J;if(!p.current){alert("No se pudo encontrar el contenido para imprimir.");return}const k=L(p.current,t);if(!k||k.includes("<body></body>")){console.error("Generated printable HTML is empty or malformed for:",t),alert("No se pudo generar el contenido para la impresión. Intente de nuevo.");return}const D=document.createElement("iframe");D.style.position="absolute",D.style.width="0",D.style.height="0",D.style.border="0",D.setAttribute("title","Contenido de Impresión"),D.setAttribute("aria-hidden","true"),document.body.appendChild(D);let V=null;try{const ee=(J=D.contentWindow)==null?void 0:J.document;if(!ee)throw new Error("Could not access iframe document.");ee.open(),ee.write(k),ee.close(),V=window.setTimeout(()=>{document.body.contains(D)&&(console.warn("iframe onload fallback: Removing print frame for",t),document.body.removeChild(D))},3e3),D.onload=()=>{V&&clearTimeout(V);try{if(D.contentWindow)D.contentWindow.focus(),setTimeout(()=>{var G;try{(G=D.contentWindow)==null||G.print()}catch(z){console.error(`Error during print() call for ${t}:`,z),alert(`Ocurrió un error al invocar la impresión: ${z.message}`)}finally{setTimeout(()=>{document.body.contains(D)&&document.body.removeChild(D)},1e3)}},100);else throw new Error("iframe contentWindow is not available after load.")}catch(G){console.error(`Error during print operation for ${t}:`,G),alert(`Ocurrió un error al intentar imprimir: ${G.message}`),setTimeout(()=>{document.body.contains(D)&&document.body.removeChild(D)},500)}}}catch(ee){console.error(`Error setting up iframe for print (${t}):`,ee),alert(`Error al preparar la impresión: ${ee.message}`),V&&clearTimeout(V),document.body.contains(D)&&document.body.removeChild(D)}},E=()=>{if(!x||x.length===0){alert("No hay datos para exportar a PDF.");return}try{const k=new Mt({orientation:"landscape"});let D,V,J,ee;if(o&&ff[o]){const z=ff[o];ee=z.map(re=>Hr[re.replace(/_([a-z0-9])/g,se=>se[1].toUpperCase())]||_d(re)),J=z.map(re=>{let se=re.replace(/_([a-z0-9])/g,U=>U[1].toUpperCase());return(o==="contractors"&&re==="contractor_id"||o==="tasks"&&re==="task_entry_id")&&(se="id"),se})}else J=Nd(x),ee=J.map(z=>Hr[z]||_d(z));D=[ee],V=x.map(z=>J.map(re=>{const se=z[re];return se==null||String(se).toUpperCase()==="NULL"?"Sin Datos":typeof se=="boolean"?se?"Sí":"No":String(se)})),pb(k,{head:D,body:V,startY:20,headStyles:{fillColor:[22,160,133]},alternateRowStyles:{fillColor:[240,240,240]},styles:{fontSize:8,cellPadding:1.5,minCellHeight:5},columnStyles:ee.reduce((z,re,se)=>(z[se]={cellWidth:"wrap"},z),{}),tableWidth:"auto",margin:{top:20,right:10,bottom:10,left:10},didDrawPage:z=>{k.setFontSize(14),k.text(t,z.settings.margin.left,15),k.setFontSize(8),k.text(`Página ${z.pageNumber}`,z.settings.margin.left,k.internal.pageSize.height-5)}});const G=`${t.replace(/[^a-z0-9_.-]/gi,"_").toLowerCase()}_${new Date().toISOString().slice(0,10)}.pdf`;k.save(G)}catch(k){console.error("Error al generar PDF:",k),alert(`Error al generar PDF: ${k.message}`)}};return Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-2 sm:p-4 md:p-6 no-print",role:"dialog","aria-modal":"true","aria-labelledby":"fullscreen-data-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full max-w-full max-h-full flex flex-col text-gray-800 dark:text-gray-100",children:[Y.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[Y.jsxs("h2",{id:"fullscreen-data-title",className:"text-base sm:text-lg font-semibold text-green-600 dark:text-green-400 truncate pr-2 flex-shrink min-w-0",children:[t," (",x.length," ",x.length===1?"el.":"els.",")"]}),Y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-wrap",children:[Y.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-md p-1 my-1",children:[Y.jsx("input",{type:"text",placeholder:"Buscar...",value:s,onChange:k=>u(k.target.value),className:"px-2 py-1 text-xs sm:text-sm bg-transparent focus:outline-none w-20 xxs:w-24 xs:w-32 sm:w-auto","aria-label":"Buscar en la tabla"}),Y.jsx(iy,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mr-1"})]}),Y.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:inline my-1",children:["Zoom: ",Math.round(f*100),"%"]}),Y.jsx("button",{onClick:_,title:"Alejar",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Alejar zoom",children:Y.jsx(ny,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:C,title:"Acercar",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Acercar zoom",children:Y.jsx(ty,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:R,title:"Imprimir Tabla",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Imprimir tabla",children:Y.jsx(im,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:T,title:"Descargar CSV",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Descargar CSV",children:Y.jsx(rm,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:E,title:"Descargar PDF",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Descargar PDF",children:Y.jsx(ry,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:e,title:"Cerrar Vista Completa",className:"p-1.5 sm:p-2 rounded bg-red-500 hover:bg-red-600 text-white my-1","aria-label":"Cerrar vista completa",children:Y.jsx(ey,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),Y.jsx("div",{ref:p,className:"flex-grow p-1 sm:p-2 overflow-auto",style:{fontSize:`${f*100}%`},children:x.length>0?Y.jsx(T2,{items:x,columnOrder:b,formatValueFunction:Op,formatHeaderFunction:_d}):Y.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic mt-10",children:s?"No hay resultados para su búsqueda.":"No hay datos para mostrar."})})]})})},gb=({database:r,groupedResults:e,onViewFullScreen:t})=>{const[i,o]=Qe.useState(null),s=Qe.useRef(new Map),u=x=>{o(C=>C===x?null:x)},f=x=>{am(x.items,x.groupTitle,x.entityType)},d=x=>{t({title:x.groupTitle,items:x.items,entityType:x.entityType})},p=(x,C)=>{let _="";const T=x.querySelector("table"),L=x.querySelector(".space-y-2");if(T){const E=document.createElement("table"),k=T.querySelector("thead"),D=T.querySelector("tbody");k&&E.appendChild(k.cloneNode(!0)),D&&E.appendChild(D.cloneNode(!0)),E.querySelectorAll(".no-print, .no-print-in-section").forEach(V=>V.remove()),_=E.outerHTML}else if(L&&L.closest(".mb-4.p-3")){let E="<ul>";x.querySelectorAll(".bg-gray-200.dark\\:bg-gray-600.p-2.rounded.shadow").forEach(D=>{const V=D.querySelector("button > span.font-medium");let J=`<li><strong>${V?V.textContent:"Elemento"}</strong>: `;const ee=D.querySelector('div[id^="details-"]');if(ee){const G=[];ee.querySelectorAll("div.grid.grid-cols-3").forEach(z=>{var U,I;const re=z.querySelector("strong"),se=z.querySelector("span.col-span-2, pre.col-span-2");re&&se&&G.push(`${(U=re.textContent)==null?void 0:U.replace(":","").trim()} - ${(I=se.textContent)==null?void 0:I.trim()}`)}),J+=G.join("; ")||"(No hay detalles visibles)"}else J+="(Detalles no expandidos en esta vista)";J+="</li>",E+=J}),E+="</ul>",_=E}else{const E=x.cloneNode(!0);E.querySelectorAll('.no-print, .no-print-in-section, button, [aria-hidden="true"]').forEach(k=>k.remove()),_=E.innerHTML}return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${C}</title>
          
      <style>
        body { font-family: 'Inter', sans-serif; margin: 20px; color: #333; }
        h1.print-page-title { font-size: 16pt; text-align: center; margin-bottom: 15px; color: black !important; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid #888; padding: 5px 8px; text-align: left; font-size: 9pt; word-break: break-word; color: black !important; page-break-inside: avoid; }
        th { background-color: #eee; font-weight: bold; }
        ul { list-style-type: disc; padding-left: 20px; font-size: 9pt; }
        li { margin-bottom: 4px; color: black !important; page-break-inside: avoid; }
        strong { font-weight: bold; }
        .no-print, .no-print-in-section { display: none !important; }
        .dark\\:bg-gray-800, .dark\\:bg-gray-700, .dark\\:bg-gray-600, .dark\\:bg-gray-500, .dark\\:bg-gray-200 { background-color: white !important; }
        .dark\\:text-gray-100, .dark\\:text-gray-200, .dark\\:text-gray-300, .dark\\:text-gray-400, .dark\\:text-yellow-300, .dark\\:text-yellow-400, .dark\\:text-yellow-500, .dark\\:text-gray-700 { color: black !important; }
        .dark\\:border-gray-600, .dark\\:border-gray-500, .dark\\:border-gray-300 { border-color: #ccc !important; }
      </style>
    
        </head>
        <body>
          <h1 class="print-page-title">${C}</h1>
          ${_}
        </body>
      </html>
    `},b=(x,C)=>{var E;const _=s.current.get(x);if(!_){console.error("Content element for printing not found for group index:",x),alert("No se pudo encontrar el contenido para imprimir.");return}const T=p(_,C);if(!T||T.includes("<body></body>")){console.error("Generated printable HTML is empty or malformed for:",C),alert("No se pudo generar el contenido para la impresión. Intente de nuevo.");return}const L=document.createElement("iframe");L.style.position="absolute",L.style.width="0",L.style.height="0",L.style.border="0",L.style.zIndex="99999",L.setAttribute("title","Contenido de Impresión"),L.setAttribute("aria-hidden","true"),document.body.appendChild(L);let R=null;try{const k=(E=L.contentWindow)==null?void 0:E.document;if(!k)throw new Error("Could not access iframe document.");k.open(),k.write(T),k.close(),R=window.setTimeout(()=>{document.body.contains(L)&&(console.warn("iframe onload fallback: Removing print frame for",C),document.body.removeChild(L))},3e3),L.onload=()=>{R&&clearTimeout(R);try{if(L.contentWindow)L.contentWindow.focus(),setTimeout(()=>{var D;try{(D=L.contentWindow)==null||D.print()}catch(V){console.error(`Error during print() call for ${C}:`,V),alert(`Ocurrió un error al invocar la impresión: ${V.message}`)}finally{setTimeout(()=>{document.body.contains(L)&&document.body.removeChild(L)},1e3)}},100);else throw new Error("iframe contentWindow is not available after load.")}catch(D){console.error(`Error during print operation for ${C}:`,D),alert(`Ocurrió un error al intentar imprimir: ${D.message}`),setTimeout(()=>{document.body.contains(L)&&document.body.removeChild(L)},500)}}}catch(k){console.error(`Error setting up iframe for print (${C}):`,k),alert(`Error al preparar la impresión: ${k.message}`),R&&clearTimeout(R),document.body.contains(L)&&document.body.removeChild(L)}};return Y.jsxs("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 p-4 overflow-y-auto border-l border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-200 bg-transition no-print",children:[Y.jsx("h2",{className:"text-lg font-semibold mb-4 text-green-600 dark:text-green-400 border-b border-gray-300 dark:border-gray-600 pb-2",children:"Datos del Campo"}),e&&e.length>0&&Y.jsxs("div",{className:"mb-6",children:[Y.jsx("h3",{className:"text-md font-semibold mb-2 text-yellow-600 dark:text-yellow-400",children:"Resultados de la Consulta:"}),e.map((x,C)=>{const _=x.items.length>0&&(x.entityType||x.groupTitle.toLowerCase().startsWith("listado:")),T=x.count!==void 0?x.count:x.items.length;return Y.jsxs("div",{className:"mb-4 p-3 bg-gray-200 dark:bg-gray-700 rounded-lg shadow",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsxs("h4",{className:"text-sm font-medium text-yellow-500 dark:text-yellow-300",children:[x.groupTitle," (",T," elemento",T===1?"":"s",")"]}),x.items.length>0&&Y.jsxs("div",{className:"flex space-x-1 no-print-in-section",children:[Y.jsx("button",{onClick:()=>f(x),title:"Descargar CSV",className:"p-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-md text-xs","aria-label":"Descargar resultados como CSV",children:Y.jsx(rm,{className:"h-3.5 w-3.5"})}),Y.jsx("button",{onClick:()=>d(x),title:"Ver en Pantalla Completa",className:"p-1.5 bg-indigo-500 hover:bg-indigo-600 text-white rounded-md text-xs","aria-label":"Ver resultados en pantalla completa",children:Y.jsx(A2,{className:"h-3.5 w-3.5"})}),Y.jsx("button",{onClick:()=>b(C,`Impresión: ${x.groupTitle}`),title:"Imprimir Resultados",className:"p-1.5 bg-gray-500 hover:bg-gray-600 text-white rounded-md text-xs","aria-label":"Imprimir Resultados",children:Y.jsx(im,{className:"h-3.5 w-3.5"})})]})]}),Y.jsx("div",{ref:L=>{L?s.current.set(C,L):s.current.delete(C)},children:_?Y.jsx(T2,{items:x.items,columnOrder:Nd(x.items),formatValueFunction:Op,formatHeaderFunction:_d}):x.items.length>0?Y.jsx(Ag,{items:x.items,defaultExpanded:!0}):Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No hay elementos para mostrar en este grupo."})})]},C)}),Y.jsx("hr",{className:"my-4 border-gray-300 dark:border-gray-600"})]}),Y.jsx("div",{className:"space-y-3",children:ns.map(x=>{const C=r[x],_=jr[x];return Y.jsxs("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg shadow",children:[Y.jsxs("button",{onClick:()=>u(x),className:"w-full flex justify-between items-center p-3 text-left hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors rounded-t-lg","aria-expanded":i===x,"aria-controls":`entity-details-${x}`,children:[Y.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:[_," (",C.length,")"]}),Y.jsx("span",{className:`transform transition-transform text-gray-600 dark:text-gray-400 ${i===x?"rotate-180":"rotate-0"}`,"aria-hidden":"true",children:"▼"})]}),i===x&&Y.jsx("div",{id:`entity-details-${x}`,className:"p-3 border-t border-gray-300 dark:border-gray-600",children:C.length>0?Y.jsx(Ag,{items:C}):Y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:["No hay datos para ",_,"."]})})]},x)})})]})};var bn;(function(r){r.assertEqual=o=>{};function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{const s={};for(const u of o)s[u]=u;return s},r.getValidEnumValues=o=>{const s=r.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of s)u[f]=o[f];return r.objectValues(u)},r.objectValues=o=>r.objectKeys(o).map(function(s){return o[s]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.push(u);return s},r.find=(o,s)=>{for(const u of o)if(s(u))return u},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,s=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(s)}r.joinValues=i,r.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(bn||(bn={}));var Jg;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Jg||(Jg={}));const vt=bn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zs=r=>{switch(typeof r){case"undefined":return vt.undefined;case"string":return vt.string;case"number":return Number.isNaN(r)?vt.nan:vt.number;case"boolean":return vt.boolean;case"function":return vt.function;case"bigint":return vt.bigint;case"symbol":return vt.symbol;case"object":return Array.isArray(r)?vt.array:r===null?vt.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?vt.promise:typeof Map<"u"&&r instanceof Map?vt.map:typeof Set<"u"&&r instanceof Set?vt.set:typeof Date<"u"&&r instanceof Date?vt.date:vt.object;default:return vt.unknown}},$e=bn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class is extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},o=s=>{for(const u of s.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(t(u));else{let f=i,d=0;for(;d<u.path.length;){const p=u.path[d];d===u.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(t(u))):f[p]=f[p]||{_errors:[]},f=f[p],d++}}};return o(this),i}static assert(e){if(!(e instanceof is))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}is.create=r=>new is(r);const Up=(r,e)=>{let t;switch(r.code){case $e.invalid_type:r.received===vt.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case $e.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,bn.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:t=`Unrecognized key(s) in object: ${bn.joinValues(r.keys,", ")}`;break;case $e.invalid_union:t="Invalid input";break;case $e.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${bn.joinValues(r.options)}`;break;case $e.invalid_enum_value:t=`Invalid enum value. Expected ${bn.joinValues(r.options)}, received '${r.received}'`;break;case $e.invalid_arguments:t="Invalid function arguments";break;case $e.invalid_return_type:t="Invalid function return type";break;case $e.invalid_date:t="Invalid date";break;case $e.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:bn.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case $e.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case $e.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case $e.custom:t="Invalid input";break;case $e.invalid_intersection_types:t="Intersection results could not be merged";break;case $e.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case $e.not_finite:t="Number must be finite";break;default:t=e.defaultError,bn.assertNever(r)}return{message:t}};let vb=Up;function yb(){return vb}const bb=r=>{const{data:e,path:t,errorMaps:i,issueData:o}=r,s=[...t,...o.path||[]],u={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let f="";const d=i.filter(p=>!!p).slice().reverse();for(const p of d)f=p(u,{data:e,defaultError:f}).message;return{...o,path:s,message:f}};function ft(r,e){const t=yb(),i=bb({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Up?void 0:Up].filter(o=>!!o)});r.common.issues.push(i)}class pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const o of t){if(o.status==="aborted")return Wt;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const o of t){const s=await o.key,u=await o.value;i.push({key:s,value:u})}return pr.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const o of t){const{key:s,value:u}=o;if(s.status==="aborted"||u.status==="aborted")return Wt;s.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[s.value]=u.value)}return{status:e.value,value:i}}}const Wt=Object.freeze({status:"aborted"}),tf=r=>({status:"dirty",value:r}),oa=r=>({status:"valid",value:r}),Kg=r=>r.status==="aborted",Zg=r=>r.status==="dirty",Qu=r=>r.status==="valid",Ed=r=>typeof Promise<"u"&&r instanceof Promise;var St;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(St||(St={}));class _o{constructor(e,t,i,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $g=(r,e)=>{if(Qu(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new is(r.common.issues);return this._error=t,this._error}}};function tn(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:o}=r;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(u,f)=>{const{message:d}=r;return u.code==="invalid_enum_value"?{message:d??f.defaultError}:typeof f.data>"u"?{message:d??i??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:d??t??f.defaultError}},description:o}}class un{get description(){return this._def.description}_getType(e){return Zs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pr,ctx:{common:e.parent.common,data:e.data,parsedType:Zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ed(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)},o=this._parseSync({data:e,path:i.path,parent:i});return $g(i,o)}"~validate"(e){var i,o;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Qu(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(o=(i=s==null?void 0:s.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Qu(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)},o=this._parse({data:e,path:i.path,parent:i}),s=await(Ed(o)?o:Promise.resolve(o));return $g(i,s)}refine(e,t){const i=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,s)=>{const u=e(o),f=()=>s.addIssue({code:$e.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(e,t){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof t=="function"?t(i,o):t),!1))}_refinement(e){return new nc({schema:this,typeName:jt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return el.create(this,this._def)}nullable(){return ic.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xo.create(this)}promise(){return Id.create(this,this._def)}or(e){return Md.create([this,e],this._def)}and(e){return kd.create(this,e,this._def)}transform(e){return new nc({...tn(this._def),schema:this,typeName:jt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new zp({...tn(this._def),innerType:this,defaultValue:t,typeName:jt.ZodDefault})}brand(){return new Vb({typeName:jt.ZodBranded,type:this,...tn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Vp({...tn(this._def),innerType:this,catchValue:t,typeName:jt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return lm.create(this,e)}readonly(){return jp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xb=/^c[^\s-]{8,}$/i,_b=/^[0-9a-z]+$/,wb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ab=/^[a-z0-9_-]{21}$/i,Cb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Nb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Eb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dp;const Lb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Db=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ib=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pb=new RegExp(`^${H2}$`);function G2(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Ob(r){return new RegExp(`^${G2(r)}$`)}function Ub(r){let e=`${H2}T${G2(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Fb(r,e){return!!((e==="v4"||!e)&&Lb.test(r)||(e==="v6"||!e)&&kb.test(r))}function Bb(r,e){if(!Cb.test(r))return!1;try{const[t]=r.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function qb(r,e){return!!((e==="v4"||!e)&&Mb.test(r)||(e==="v6"||!e)&&Db.test(r))}class yo extends un{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==vt.string){const s=this._getOrReturnCtx(e);return ft(s,{code:$e.invalid_type,expected:vt.string,received:s.parsedType}),Wt}const i=new pr;let o;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const u=e.data.length>s.value,f=e.data.length<s.value;(u||f)&&(o=this._getOrReturnCtx(e,o),u?ft(o,{code:$e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):f&&ft(o,{code:$e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")Nb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"email",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")dp||(dp=new RegExp(Eb,"u")),dp.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"emoji",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")Sb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"uuid",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")Ab.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"nanoid",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")xb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"cuid",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")_b.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"cuid2",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")wb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"ulid",code:$e.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ft(o,{validation:"url",code:$e.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"regex",code:$e.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?Ub(s).test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?Pb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?Ob(s).test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?Tb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"duration",code:$e.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?Fb(e.data,s.version)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"ip",code:$e.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?Bb(e.data,s.alg)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"jwt",code:$e.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?qb(e.data,s.version)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"cidr",code:$e.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?Ib.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"base64",code:$e.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?Rb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"base64url",code:$e.invalid_string,message:s.message}),i.dirty()):bn.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(o=>e.test(o),{validation:t,code:$e.invalid_string,...St.errToObj(i)})}_addCheck(e){return new yo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...St.errToObj(e)})}url(e){return this._addCheck({kind:"url",...St.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...St.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...St.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...St.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...St.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...St.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...St.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...St.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...St.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...St.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...St.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...St.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...St.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...St.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...St.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...St.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...St.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...St.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...St.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...St.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...St.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...St.errToObj(t)})}nonempty(e){return this.min(1,St.errToObj(e))}trim(){return new yo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}yo.create=r=>new yo({checks:[],typeName:jt.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...tn(r)});function zb(r,e){const t=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=t>i?t:i,s=Number.parseInt(r.toFixed(o).replace(".","")),u=Number.parseInt(e.toFixed(o).replace(".",""));return s%u/10**o}class Xl extends un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==vt.number){const s=this._getOrReturnCtx(e);return ft(s,{code:$e.invalid_type,expected:vt.number,received:s.parsedType}),Wt}let i;const o=new pr;for(const s of this._def.checks)s.kind==="int"?bn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?zb(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.not_finite,message:s.message}),o.dirty()):bn.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,St.toString(t))}gt(e,t){return this.setLimit("min",e,!1,St.toString(t))}lte(e,t){return this.setLimit("max",e,!0,St.toString(t))}lt(e,t){return this.setLimit("max",e,!1,St.toString(t))}setLimit(e,t,i,o){return new Xl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:St.toString(o)}]})}_addCheck(e){return new Xl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:St.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:St.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Xl.create=r=>new Xl({checks:[],typeName:jt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...tn(r)});class Ql extends un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==vt.bigint)return this._getInvalidInput(e);let i;const o=new pr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:$e.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):bn.assertNever(s);return{status:o.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ft(t,{code:$e.invalid_type,expected:vt.bigint,received:t.parsedType}),Wt}gte(e,t){return this.setLimit("min",e,!0,St.toString(t))}gt(e,t){return this.setLimit("min",e,!1,St.toString(t))}lte(e,t){return this.setLimit("max",e,!0,St.toString(t))}lt(e,t){return this.setLimit("max",e,!1,St.toString(t))}setLimit(e,t,i,o){return new Ql({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:St.toString(o)}]})}_addCheck(e){return new Ql({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ql.create=r=>new Ql({checks:[],typeName:jt.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...tn(r)});class Ld extends un{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==vt.boolean){const i=this._getOrReturnCtx(e);return ft(i,{code:$e.invalid_type,expected:vt.boolean,received:i.parsedType}),Wt}return oa(e.data)}}Ld.create=r=>new Ld({typeName:jt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...tn(r)});class ec extends un{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==vt.date){const s=this._getOrReturnCtx(e);return ft(s,{code:$e.invalid_type,expected:vt.date,received:s.parsedType}),Wt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ft(s,{code:$e.invalid_date}),Wt}const i=new pr;let o;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:$e.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):bn.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:St.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:St.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ec.create=r=>new ec({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:jt.ZodDate,...tn(r)});class Xg extends un{_parse(e){if(this._getType(e)!==vt.symbol){const i=this._getOrReturnCtx(e);return ft(i,{code:$e.invalid_type,expected:vt.symbol,received:i.parsedType}),Wt}return oa(e.data)}}Xg.create=r=>new Xg({typeName:jt.ZodSymbol,...tn(r)});class Qg extends un{_parse(e){if(this._getType(e)!==vt.undefined){const i=this._getOrReturnCtx(e);return ft(i,{code:$e.invalid_type,expected:vt.undefined,received:i.parsedType}),Wt}return oa(e.data)}}Qg.create=r=>new Qg({typeName:jt.ZodUndefined,...tn(r)});class e1 extends un{_parse(e){if(this._getType(e)!==vt.null){const i=this._getOrReturnCtx(e);return ft(i,{code:$e.invalid_type,expected:vt.null,received:i.parsedType}),Wt}return oa(e.data)}}e1.create=r=>new e1({typeName:jt.ZodNull,...tn(r)});class t1 extends un{constructor(){super(...arguments),this._any=!0}_parse(e){return oa(e.data)}}t1.create=r=>new t1({typeName:jt.ZodAny,...tn(r)});class Fp extends un{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oa(e.data)}}Fp.create=r=>new Fp({typeName:jt.ZodUnknown,...tn(r)});class il extends un{_parse(e){const t=this._getOrReturnCtx(e);return ft(t,{code:$e.invalid_type,expected:vt.never,received:t.parsedType}),Wt}}il.create=r=>new il({typeName:jt.ZodNever,...tn(r)});class n1 extends un{_parse(e){if(this._getType(e)!==vt.undefined){const i=this._getOrReturnCtx(e);return ft(i,{code:$e.invalid_type,expected:vt.void,received:i.parsedType}),Wt}return oa(e.data)}}n1.create=r=>new n1({typeName:jt.ZodVoid,...tn(r)});class xo extends un{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),o=this._def;if(t.parsedType!==vt.array)return ft(t,{code:$e.invalid_type,expected:vt.array,received:t.parsedType}),Wt;if(o.exactLength!==null){const u=t.data.length>o.exactLength.value,f=t.data.length<o.exactLength.value;(u||f)&&(ft(t,{code:u?$e.too_big:$e.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(ft(t,{code:$e.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(ft(t,{code:$e.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((u,f)=>o.type._parseAsync(new _o(t,u,t.path,f)))).then(u=>pr.mergeArray(i,u));const s=[...t.data].map((u,f)=>o.type._parseSync(new _o(t,u,t.path,f)));return pr.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new xo({...this._def,minLength:{value:e,message:St.toString(t)}})}max(e,t){return new xo({...this._def,maxLength:{value:e,message:St.toString(t)}})}length(e,t){return new xo({...this._def,exactLength:{value:e,message:St.toString(t)}})}nonempty(e){return this.min(1,e)}}xo.create=(r,e)=>new xo({type:r,minLength:null,maxLength:null,exactLength:null,typeName:jt.ZodArray,...tn(e)});function $u(r){if(r instanceof xi){const e={};for(const t in r.shape){const i=r.shape[t];e[t]=el.create($u(i))}return new xi({...r._def,shape:()=>e})}else return r instanceof xo?new xo({...r._def,type:$u(r.element)}):r instanceof el?el.create($u(r.unwrap())):r instanceof ic?ic.create($u(r.unwrap())):r instanceof eu?eu.create(r.items.map(e=>$u(e))):r}class xi extends un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=bn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==vt.object){const p=this._getOrReturnCtx(e);return ft(p,{code:$e.invalid_type,expected:vt.object,received:p.parsedType}),Wt}const{status:i,ctx:o}=this._processInputParams(e),{shape:s,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof il&&this._def.unknownKeys==="strip"))for(const p in o.data)u.includes(p)||f.push(p);const d=[];for(const p of u){const b=s[p],x=o.data[p];d.push({key:{status:"valid",value:p},value:b._parse(new _o(o,x,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof il){const p=this._def.unknownKeys;if(p==="passthrough")for(const b of f)d.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(p==="strict")f.length>0&&(ft(o,{code:$e.unrecognized_keys,keys:f}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const b of f){const x=o.data[b];d.push({key:{status:"valid",value:b},value:p._parse(new _o(o,x,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const b of d){const x=await b.key,C=await b.value;p.push({key:x,value:C,alwaysSet:b.alwaysSet})}return p}).then(p=>pr.mergeObjectSync(i,p)):pr.mergeObjectSync(i,d)}get shape(){return this._def.shape()}strict(e){return St.errToObj,new xi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var s,u;const o=((u=(s=this._def).errorMap)==null?void 0:u.call(s,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:St.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new xi({...this._def,unknownKeys:"strip"})}passthrough(){return new xi({...this._def,unknownKeys:"passthrough"})}extend(e){return new xi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:jt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xi({...this._def,catchall:e})}pick(e){const t={};for(const i of bn.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new xi({...this._def,shape:()=>t})}omit(e){const t={};for(const i of bn.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new xi({...this._def,shape:()=>t})}deepPartial(){return $u(this)}partial(e){const t={};for(const i of bn.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?t[i]=o:t[i]=o.optional()}return new xi({...this._def,shape:()=>t})}required(e){const t={};for(const i of bn.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof el;)s=s._def.innerType;t[i]=s}return new xi({...this._def,shape:()=>t})}keyof(){return Y2(bn.objectKeys(this.shape))}}xi.create=(r,e)=>new xi({shape:()=>r,unknownKeys:"strip",catchall:il.create(),typeName:jt.ZodObject,...tn(e)});xi.strictCreate=(r,e)=>new xi({shape:()=>r,unknownKeys:"strict",catchall:il.create(),typeName:jt.ZodObject,...tn(e)});xi.lazycreate=(r,e)=>new xi({shape:r,unknownKeys:"strip",catchall:il.create(),typeName:jt.ZodObject,...tn(e)});class Md extends un{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function o(s){for(const f of s)if(f.result.status==="valid")return f.result;for(const f of s)if(f.result.status==="dirty")return t.common.issues.push(...f.ctx.common.issues),f.result;const u=s.map(f=>new is(f.ctx.common.issues));return ft(t,{code:$e.invalid_union,unionErrors:u}),Wt}if(t.common.async)return Promise.all(i.map(async s=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(o);{let s;const u=[];for(const d of i){const p={...t,common:{...t.common,issues:[]},parent:null},b=d._parseSync({data:t.data,path:t.path,parent:p});if(b.status==="valid")return b;b.status==="dirty"&&!s&&(s={result:b,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const f=u.map(d=>new is(d));return ft(t,{code:$e.invalid_union,unionErrors:f}),Wt}}get options(){return this._def.options}}Md.create=(r,e)=>new Md({options:r,typeName:jt.ZodUnion,...tn(e)});function Bp(r,e){const t=Zs(r),i=Zs(e);if(r===e)return{valid:!0,data:r};if(t===vt.object&&i===vt.object){const o=bn.objectKeys(e),s=bn.objectKeys(r).filter(f=>o.indexOf(f)!==-1),u={...r,...e};for(const f of s){const d=Bp(r[f],e[f]);if(!d.valid)return{valid:!1};u[f]=d.data}return{valid:!0,data:u}}else if(t===vt.array&&i===vt.array){if(r.length!==e.length)return{valid:!1};const o=[];for(let s=0;s<r.length;s++){const u=r[s],f=e[s],d=Bp(u,f);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return t===vt.date&&i===vt.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class kd extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),o=(s,u)=>{if(Kg(s)||Kg(u))return Wt;const f=Bp(s.value,u.value);return f.valid?((Zg(s)||Zg(u))&&t.dirty(),{status:t.value,value:f.data}):(ft(i,{code:$e.invalid_intersection_types}),Wt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,u])=>o(s,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}kd.create=(r,e,t)=>new kd({left:r,right:e,typeName:jt.ZodIntersection,...tn(t)});class eu extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.array)return ft(i,{code:$e.invalid_type,expected:vt.array,received:i.parsedType}),Wt;if(i.data.length<this._def.items.length)return ft(i,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&i.data.length>this._def.items.length&&(ft(i,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((u,f)=>{const d=this._def.items[f]||this._def.rest;return d?d._parse(new _o(i,u,i.path,f)):null}).filter(u=>!!u);return i.common.async?Promise.all(s).then(u=>pr.mergeArray(t,u)):pr.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new eu({...this._def,rest:e})}}eu.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new eu({items:r,typeName:jt.ZodTuple,rest:null,...tn(e)})};class Dd extends un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.object)return ft(i,{code:$e.invalid_type,expected:vt.object,received:i.parsedType}),Wt;const o=[],s=this._def.keyType,u=this._def.valueType;for(const f in i.data)o.push({key:s._parse(new _o(i,f,i.path,f)),value:u._parse(new _o(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?pr.mergeObjectAsync(t,o):pr.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof un?new Dd({keyType:e,valueType:t,typeName:jt.ZodRecord,...tn(i)}):new Dd({keyType:yo.create(),valueType:e,typeName:jt.ZodRecord,...tn(t)})}}class i1 extends un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.map)return ft(i,{code:$e.invalid_type,expected:vt.map,received:i.parsedType}),Wt;const o=this._def.keyType,s=this._def.valueType,u=[...i.data.entries()].map(([f,d],p)=>({key:o._parse(new _o(i,f,i.path,[p,"key"])),value:s._parse(new _o(i,d,i.path,[p,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const d of u){const p=await d.key,b=await d.value;if(p.status==="aborted"||b.status==="aborted")return Wt;(p.status==="dirty"||b.status==="dirty")&&t.dirty(),f.set(p.value,b.value)}return{status:t.value,value:f}})}else{const f=new Map;for(const d of u){const p=d.key,b=d.value;if(p.status==="aborted"||b.status==="aborted")return Wt;(p.status==="dirty"||b.status==="dirty")&&t.dirty(),f.set(p.value,b.value)}return{status:t.value,value:f}}}}i1.create=(r,e,t)=>new i1({valueType:e,keyType:r,typeName:jt.ZodMap,...tn(t)});class mf extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.set)return ft(i,{code:$e.invalid_type,expected:vt.set,received:i.parsedType}),Wt;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ft(i,{code:$e.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ft(i,{code:$e.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const s=this._def.valueType;function u(d){const p=new Set;for(const b of d){if(b.status==="aborted")return Wt;b.status==="dirty"&&t.dirty(),p.add(b.value)}return{status:t.value,value:p}}const f=[...i.data.values()].map((d,p)=>s._parse(new _o(i,d,i.path,p)));return i.common.async?Promise.all(f).then(d=>u(d)):u(f)}min(e,t){return new mf({...this._def,minSize:{value:e,message:St.toString(t)}})}max(e,t){return new mf({...this._def,maxSize:{value:e,message:St.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}mf.create=(r,e)=>new mf({valueType:r,minSize:null,maxSize:null,typeName:jt.ZodSet,...tn(e)});class qp extends un{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}qp.create=(r,e)=>new qp({getter:r,typeName:jt.ZodLazy,...tn(e)});class r1 extends un{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ft(t,{received:t.data,code:$e.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:e.data}}get value(){return this._def.value}}r1.create=(r,e)=>new r1({value:r,typeName:jt.ZodLiteral,...tn(e)});function Y2(r,e){return new tc({values:r,typeName:jt.ZodEnum,...tn(e)})}class tc extends un{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return ft(t,{expected:bn.joinValues(i),received:t.parsedType,code:$e.invalid_type}),Wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return ft(t,{received:t.data,code:$e.invalid_enum_value,options:i}),Wt}return oa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tc.create(e,{...this._def,...t})}exclude(e,t=this._def){return tc.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}tc.create=Y2;class a1 extends un{_parse(e){const t=bn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==vt.string&&i.parsedType!==vt.number){const o=bn.objectValues(t);return ft(i,{expected:bn.joinValues(o),received:i.parsedType,code:$e.invalid_type}),Wt}if(this._cache||(this._cache=new Set(bn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=bn.objectValues(t);return ft(i,{received:i.data,code:$e.invalid_enum_value,options:o}),Wt}return oa(e.data)}get enum(){return this._def.values}}a1.create=(r,e)=>new a1({values:r,typeName:jt.ZodNativeEnum,...tn(e)});class Id extends un{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==vt.promise&&t.common.async===!1)return ft(t,{code:$e.invalid_type,expected:vt.promise,received:t.parsedType}),Wt;const i=t.parsedType===vt.promise?t.data:Promise.resolve(t.data);return oa(i.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Id.create=(r,e)=>new Id({type:r,typeName:jt.ZodPromise,...tn(e)});class nc extends un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:u=>{ft(i,u),u.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const u=o.transform(i.data,s);if(i.common.async)return Promise.resolve(u).then(async f=>{if(t.value==="aborted")return Wt;const d=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return d.status==="aborted"?Wt:d.status==="dirty"||t.value==="dirty"?tf(d.value):d});{if(t.value==="aborted")return Wt;const f=this._def.schema._parseSync({data:u,path:i.path,parent:i});return f.status==="aborted"?Wt:f.status==="dirty"||t.value==="dirty"?tf(f.value):f}}if(o.type==="refinement"){const u=f=>{const d=o.refinement(f,s);if(i.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?Wt:(f.status==="dirty"&&t.dirty(),u(f.value),{status:t.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?Wt:(f.status==="dirty"&&t.dirty(),u(f.value).then(()=>({status:t.value,value:f.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Qu(u))return Wt;const f=o.transform(u.value,s);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Qu(u)?Promise.resolve(o.transform(u.value,s)).then(f=>({status:t.value,value:f})):Wt);bn.assertNever(o)}}nc.create=(r,e,t)=>new nc({schema:r,typeName:jt.ZodEffects,effect:e,...tn(t)});nc.createWithPreprocess=(r,e,t)=>new nc({schema:e,effect:{type:"preprocess",transform:r},typeName:jt.ZodEffects,...tn(t)});class el extends un{_parse(e){return this._getType(e)===vt.undefined?oa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}el.create=(r,e)=>new el({innerType:r,typeName:jt.ZodOptional,...tn(e)});class ic extends un{_parse(e){return this._getType(e)===vt.null?oa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ic.create=(r,e)=>new ic({innerType:r,typeName:jt.ZodNullable,...tn(e)});class zp extends un{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===vt.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}zp.create=(r,e)=>new zp({innerType:r,typeName:jt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tn(e)});class Vp extends un{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ed(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new is(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new is(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Vp.create=(r,e)=>new Vp({innerType:r,typeName:jt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tn(e)});class o1 extends un{_parse(e){if(this._getType(e)!==vt.nan){const i=this._getOrReturnCtx(e);return ft(i,{code:$e.invalid_type,expected:vt.nan,received:i.parsedType}),Wt}return{status:"valid",value:e.data}}}o1.create=r=>new o1({typeName:jt.ZodNaN,...tn(r)});class Vb extends un{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class lm extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Wt:s.status==="dirty"?(t.dirty(),tf(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Wt:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,t){return new lm({in:e,out:t,typeName:jt.ZodPipeline})}}class jp extends un{_parse(e){const t=this._def.innerType._parse(e),i=o=>(Qu(o)&&(o.value=Object.freeze(o.value)),o);return Ed(t)?t.then(o=>i(o)):i(t)}unwrap(){return this._def.innerType}}jp.create=(r,e)=>new jp({innerType:r,typeName:jt.ZodReadonly,...tn(e)});var jt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(jt||(jt={}));const Gl=yo.create,s1=Xl.create;Ql.create;const jb=Ld.create;ec.create;const l1=Fp.create;il.create;const nf=xo.create,Hb=xi.create,Gb=Md.create;kd.create;eu.create;const Yb=Dd.create,Wb=qp.create,Jb=tc.create;Id.create;el.create;ic.create;const Ju={string:r=>yo.create({...r,coerce:!0}),number:r=>Xl.create({...r,coerce:!0}),boolean:r=>Ld.create({...r,coerce:!0}),bigint:r=>Ql.create({...r,coerce:!0}),date:r=>ec.create({...r,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kb,Zb;function $b(){return{geminiUrl:Kb,vertexUrl:Zb}}function Xb(r,e,t){var i,o,s;if(!(!((i=r.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=$b();return r.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:e:(s=u.geminiUrl)!==null&&s!==void 0?s:t}return r.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gf{}function Bt(r,e){const t=/\{([^}]+)\}/g;return r.replace(t,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function g(r,e,t){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in r))if(Array.isArray(t))r[f]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(r[f])){const d=r[f];if(Array.isArray(t))for(let p=0;p<d.length;p++){const b=d[p];g(b,e.slice(s+1),t[p])}else for(const p of d)g(p,e.slice(s+1),t)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in r||(r[f]=[{}]);const d=r[f];g(d[0],e.slice(s+1),t);return}(!r[u]||typeof r[u]!="object")&&(r[u]={}),r=r[u]}const i=e[e.length-1],o=r[i];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else r[i]=t}function m(r,e){try{if(e.length===1&&e[0]==="_self")return r;for(let t=0;t<e.length;t++){if(typeof r!="object"||r===null)return;const i=e[t];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in r){const s=r[o];return Array.isArray(s)?s.map(u=>m(u,e.slice(t+1))):void 0}else return}else r=r[i]}return r}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var u1;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(u1||(u1={}));var c1;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(c1||(c1={}));var go;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(go||(go={}));var f1;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(f1||(f1={}));var d1;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(d1||(d1={}));var h1;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(h1||(h1={}));var p1;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(p1||(p1={}));var m1;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(m1||(m1={}));var g1;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY"})(g1||(g1={}));var v1;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(v1||(v1={}));var y1;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(y1||(y1={}));var b1;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(b1||(b1={}));var x1;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(x1||(x1={}));var Rd;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(Rd||(Rd={}));var _1;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_1||(_1={}));var Hp;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hp||(Hp={}));var w1;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(w1||(w1={}));var S1;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(S1||(S1={}));var A1;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(A1||(A1={}));var C1;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(C1||(C1={}));var T1;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(T1||(T1={}));var N1;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(N1||(N1={}));var E1;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(E1||(E1={}));var L1;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(L1||(L1={}));var M1;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi"})(M1||(M1={}));var k1;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(k1||(k1={}));var D1;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(D1||(D1={}));var I1;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(I1||(I1={}));var R1;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(R1||(R1={}));var P1;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(P1||(P1={}));var O1;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(O1||(O1={}));var U1;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(U1||(U1={}));var F1;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(F1||(F1={}));var B1;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(B1||(B1={}));var q1;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(q1||(q1={}));var z1;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(z1||(z1={}));var V1;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(V1||(V1={}));var j1;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(j1||(j1={}));var Xu;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(Xu||(Xu={}));class ef{get text(){var e,t,i,o,s,u,f,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",b=!1;const x=[];for(const C of(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&d!==void 0?d:[]){for(const[_,T]of Object.entries(C))_!=="text"&&_!=="thought"&&(T!==null||T!==void 0)&&x.push(_);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;b=!0,p+=C.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?p:void 0}get data(){var e,t,i,o,s,u,f,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const b=[];for(const x of(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&d!==void 0?d:[]){for(const[C,_]of Object.entries(x))C!=="inlineData"&&(_!==null||_!==void 0)&&b.push(C);x.inlineData&&typeof x.inlineData.data=="string"&&(p+=atob(x.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,i,o,s,u,f,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||d===void 0?void 0:d.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,i,o,s,u,f,d,p;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||d===void 0?void 0:d.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,i,o,s,u,f,d,p;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||d===void 0?void 0:d.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.output}}class H1{}class G1{}class Qb{}class e3{}class Y1{}class W1{}class J1{}class t3{}class K1{}class Z1{}class $1{}class n3{}class Gp{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class i3{}class r3{}class a3{get text(){var e,t,i;let o="",s=!1;const u=[];for(const f of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,p]of Object.entries(f))d!=="text"&&d!=="thought"&&p!==null&&u.push(d);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;s=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,t,i;let o="";const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[f,d]of Object.entries(u))f!=="inlineData"&&d!==null&&s.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class o3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zn(r,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(r.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W2(r,e){const t=zn(r,e);return t?t.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}`:t.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${t}`:t:""}function J2(r,e){return Array.isArray(e)?e.map(t=>Pd(r,t)):[Pd(r,e)]}function Pd(r,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function s3(r,e){const t=Pd(r,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function l3(r,e){const t=Pd(r,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function X1(r,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function K2(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>X1(r,t)):[X1(r,e)]}function Yp(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function Q1(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function e2(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function Er(r,e){if(e==null)throw new Error("ContentUnion is required");return Yp(e)?e:{role:"user",parts:K2(r,e)}}function Z2(r,e){if(!e)return[];if(r.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Er(r,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(r.isVertexAI()){const t=Er(r,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Er(r,t)):[Er(r,e)]}function Oa(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Q1(e)||e2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Er(r,e)]}const t=[],i=[],o=Yp(e[0]);for(const s of e){const u=Yp(s);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(s);else{if(Q1(s)||e2(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return o||t.push({role:"user",parts:K2(r,i)}),t}const t2=Jb(["string","number","integer","object","array","boolean","null"]),u3=Gb([t2,nf(t2)]);function c3(r=!0){const e=Wb(()=>{const t=Hb({type:u3.optional(),format:Gl().optional(),title:Gl().optional(),description:Gl().optional(),default:l1().optional(),items:e.optional(),minItems:Ju.string().optional(),maxItems:Ju.string().optional(),enum:nf(l1()).optional(),properties:Yb(Gl(),e).optional(),required:nf(Gl()).optional(),minProperties:Ju.string().optional(),maxProperties:Ju.string().optional(),propertyOrdering:nf(Gl()).optional(),minimum:s1().optional(),maximum:s1().optional(),minLength:Ju.string().optional(),maxLength:Ju.string().optional(),pattern:Gl().optional(),anyOf:nf(e).optional(),additionalProperties:jb().optional()});return r?t.strict():t});return e}function f3(r,e){r.includes("null")&&(e.nullable=!0);const t=r.filter(i=>i!=="null");if(t.length===1)e.type=Object.keys(go).includes(t[0].toUpperCase())?go[t[0].toUpperCase()]:go.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.keys(go).includes(i.toUpperCase())?go[i.toUpperCase()]:go.TYPE_UNSPECIFIED})}}function uf(r){const e={},t=["items"],i=["anyOf"],o=["properties"];if(r.type&&r.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=r.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,r=s[1]):s[1].type==="null"&&(e.nullable=!0,r=s[0])),r.type instanceof Array&&f3(r.type,e);for(const[u,f]of Object.entries(r))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.keys(go).includes(f.toUpperCase())?f.toUpperCase():go.TYPE_UNSPECIFIED}else if(t.includes(u))e[u]=uf(f);else if(i.includes(u)){const d=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}d.push(uf(p))}e[u]=d}else if(o.includes(u)){const d={};for(const[p,b]of Object.entries(f))d[p]=uf(b);e[u]=d}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Od(r,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=c3().parse(e);return uf(t)}else return uf(e)}function $2(r,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function X2(r,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function qd(r,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Od(r,t.parameters)),t.response&&(t.response=Od(r,t.response));return e}function zd(r,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function d3(r,e,t,i=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===i;return r.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${r.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${r.getProject()}/locations/${r.getLocation()}/${e}`:o?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function rl(r,e){if(typeof e!="string")throw new Error("name must be a string");return d3(r,e,"cachedContents")}function Q2(r,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function al(r,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function h3(r){return r!=null&&typeof r=="object"&&"name"in r}function p3(r){return r!=null&&typeof r=="object"&&"video"in r}function m3(r){return r!=null&&typeof r=="object"&&"uri"in r}function e5(r,e){var t;let i;if(h3(e)&&(i=e.name),!(m3(e)&&(i=e.uri,i===void 0))&&!(p3(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function t5(r,e){let t;return r.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function n5(r,e){for(const t of["models","tunedModels","publisherModels"])if(g3(e,t))return e[t];return[]}function g3(r,e){return r!==null&&typeof r=="object"&&e in r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v3(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function y3(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function b3(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function x3(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],v3(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],y3(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],b3(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function n2(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>x3(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function _3(r,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const o=m(e,["description"]);o!=null&&g(t,["description"],o);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const u=m(e,["parameters"]);u!=null&&g(t,["parameters"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],f),t}function w3(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function S3(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],w3(r,i)),t}function A3(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function C3(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],A3(r,i)),t}function T3(){return{}}function N3(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>_3(r,p))),g(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=m(e,["googleSearch"]);o!=null&&g(t,["googleSearch"],S3(r,o));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],C3(r,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],T3());const f=m(e,["codeExecution"]);return f!=null&&g(t,["codeExecution"],f),t}function E3(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function L3(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function M3(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],L3(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function k3(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],E3(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],M3(r,o)),t}function D3(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const u=m(e,["displayName"]);t!==void 0&&u!=null&&g(t,["displayName"],u);const f=m(e,["contents"]);if(t!==void 0&&f!=null){let x=Oa(r,f);Array.isArray(x)&&(x=x.map(C=>n2(r,C))),g(t,["contents"],x)}const d=m(e,["systemInstruction"]);t!==void 0&&d!=null&&g(t,["systemInstruction"],n2(r,Er(r,d)));const p=m(e,["tools"]);if(t!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(C=>N3(r,C))),g(t,["tools"],x)}const b=m(e,["toolConfig"]);if(t!==void 0&&b!=null&&g(t,["toolConfig"],k3(r,b)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function I3(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],W2(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],D3(r,o,t)),t}function R3(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function P3(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function O3(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function U3(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],O3(r,o,t)),t}function F3(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function B3(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],F3(r,i,t)),t}function q3(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function z3(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function V3(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function j3(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],q3(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],z3(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],V3(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function i2(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>j3(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function H3(r,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const o=m(e,["name"]);o!=null&&g(t,["name"],o);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function G3(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function Y3(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],G3(r,i)),t}function W3(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function J3(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],W3(r,i)),t}function K3(){return{}}function Z3(r,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function $3(r,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],Z3(r,i));const o=m(e,["authType"]);o!=null&&g(t,["authType"],o);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const u=m(e,["httpBasicAuthConfig"]);u!=null&&g(t,["httpBasicAuthConfig"],u);const f=m(e,["oauthConfig"]);f!=null&&g(t,["oauthConfig"],f);const d=m(e,["oidcConfig"]);return d!=null&&g(t,["oidcConfig"],d),t}function X3(r,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],$3(r,i)),t}function Q3(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(x=>H3(r,x))),g(t,["functionDeclarations"],b)}const o=m(e,["retrieval"]);o!=null&&g(t,["retrieval"],o);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],Y3(r,s));const u=m(e,["googleSearchRetrieval"]);u!=null&&g(t,["googleSearchRetrieval"],J3(r,u)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],K3());const d=m(e,["googleMaps"]);if(d!=null&&g(t,["googleMaps"],X3(r,d)),m(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=m(e,["codeExecution"]);return p!=null&&g(t,["codeExecution"],p),t}function e4(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function t4(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function n4(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],t4(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function i4(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],e4(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],n4(r,o)),t}function r4(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const u=m(e,["displayName"]);t!==void 0&&u!=null&&g(t,["displayName"],u);const f=m(e,["contents"]);if(t!==void 0&&f!=null){let C=Oa(r,f);Array.isArray(C)&&(C=C.map(_=>i2(r,_))),g(t,["contents"],C)}const d=m(e,["systemInstruction"]);t!==void 0&&d!=null&&g(t,["systemInstruction"],i2(r,Er(r,d)));const p=m(e,["tools"]);if(t!==void 0&&p!=null){let C=p;Array.isArray(C)&&(C=C.map(_=>Q3(r,_))),g(t,["tools"],C)}const b=m(e,["toolConfig"]);t!==void 0&&b!=null&&g(t,["toolConfig"],i4(r,b));const x=m(e,["kmsKeyName"]);return t!==void 0&&x!=null&&g(t,["encryption_spec","kmsKeyName"],x),i}function a4(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],W2(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],r4(r,o,t)),t}function o4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function s4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function l4(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function u4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],l4(r,o,t)),t}function c4(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function f4(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],c4(r,i,t)),t}function wd(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const d=m(e,["expireTime"]);d!=null&&g(t,["expireTime"],d);const p=m(e,["usageMetadata"]);return p!=null&&g(t,["usageMetadata"],p),t}function d4(){return{}}function h4(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>wd(r,u))),g(t,["cachedContents"],s)}return t}function Sd(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const d=m(e,["expireTime"]);d!=null&&g(t,["expireTime"],d);const p=m(e,["usageMetadata"]);return p!=null&&g(t,["usageMetadata"],p),t}function p4(){return{}}function m4(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Sd(r,u))),g(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rc;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(rc||(rc={}));class Vd{constructor(e,t,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,o)}init(e,t,i){var o,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=t.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g4 extends gf{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vd(rc.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=a4(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Sd(this.apiClient,b))}else{const p=I3(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>wd(this.apiClient,b))}}async get(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=o4(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Sd(this.apiClient,b))}else{const p=R3(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>wd(this.apiClient,b))}}async delete(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=s4(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(()=>{const b=p4(),x=new Z1;return Object.assign(x,b),x})}else{const p=P3(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(()=>{const b=d4(),x=new Z1;return Object.assign(x,b),x})}}async update(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=u4(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Sd(this.apiClient,b))}else{const p=U3(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>wd(this.apiClient,b))}}async listInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=f4(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=m4(this.apiClient,b),C=new $1;return Object.assign(C,x),C})}else{const p=B3(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=h4(this.apiClient,b),C=new $1;return Object.assign(C,x),C})}}}function r2(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(r){return this instanceof ei?(this.v=r,this):new ei(r)}function cf(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(T){return Promise.resolve(T).then(_,x)}}function f(_,T){i[_]&&(o[_]=function(L){return new Promise(function(R,E){s.push([_,L,R,E])>1||d(_,L)})},T&&(o[_]=T(o[_])))}function d(_,T){try{p(i[_](T))}catch(L){C(s[0][3],L)}}function p(_){_.value instanceof ei?Promise.resolve(_.value.v).then(b,x):C(s[0][2],_)}function b(_){d("next",_)}function x(_){d("throw",_)}function C(_,T){_(T),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Ad(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof r2=="function"?r2(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(u){return new Promise(function(f,d){u=r[s](u),o(f,d,u.done,u.value)})}}function o(s,u,f,d){Promise.resolve(d).then(function(p){s({value:p,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v4(r){var e;if(r.candidates==null||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:i5(t)}function i5(r){if(r.parts===void 0||r.parts.length===0)return!1;for(const e of r.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function y4(r){if(r.length!==0){for(const e of r)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function a2(r){if(r===void 0||r.length===0)return[];const e=[],t=r.length;let i=0;for(;i<t;)if(r[i].role==="user")e.push(r[i]),i++;else{const o=[];let s=!0;for(;i<t&&r[i].role==="model";)o.push(r[i]),s&&!i5(r[i])&&(s=!1),i++;s?e.push(...o):e.pop()}return e}class b4{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new x4(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class x4{constructor(e,t,i,o={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),y4(s)}async sendMessage(e){var t;await this.sendPromise;const i=Er(this.apiClient,e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,u,f;const d=await o,p=(u=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,b=d.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let C=[];b!=null&&(C=(f=b.slice(x))!==null&&f!==void 0?f:[]);const _=p?[p]:[];this.recordHistory(i,_,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const i=Er(this.apiClient,e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?a2(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,o;return cf(this,arguments,function*(){var u,f,d,p;const b=[];try{for(var x=!0,C=Ad(e),_;_=yield ei(C.next()),u=_.done,!u;x=!0){p=_.value,x=!1;const T=p;if(v4(T)){const L=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;L!==void 0&&b.push(L)}yield yield ei(T)}}catch(T){f={error:T}}finally{try{!x&&!u&&(d=C.return)&&(yield ei(d.call(C)))}finally{if(f)throw f.error}}this.recordHistory(t,b)})}recordHistory(e,t,i){let o=[];t.length>0&&t.every(s=>s.role!==void 0)?o=t:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...a2(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _4(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function w4(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],_4(r,i,t)),t}function S4(r,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const o=m(e,["message"]);o!=null&&g(t,["message"],o);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function A4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const u=m(e,["sizeBytes"]);u!=null&&g(t,["sizeBytes"],u);const f=m(e,["createTime"]);f!=null&&g(t,["createTime"],f);const d=m(e,["expirationTime"]);d!=null&&g(t,["expirationTime"],d);const p=m(e,["updateTime"]);p!=null&&g(t,["updateTime"],p);const b=m(e,["sha256Hash"]);b!=null&&g(t,["sha256Hash"],b);const x=m(e,["uri"]);x!=null&&g(t,["uri"],x);const C=m(e,["downloadUri"]);C!=null&&g(t,["downloadUri"],C);const _=m(e,["state"]);_!=null&&g(t,["state"],_);const T=m(e,["source"]);T!=null&&g(t,["source"],T);const L=m(e,["videoMetadata"]);L!=null&&g(t,["videoMetadata"],L);const R=m(e,["error"]);return R!=null&&g(t,["error"],S4(r,R)),t}function C4(r,e){const t={},i=m(e,["file"]);i!=null&&g(t,["file"],A4(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function T4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],e5(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function N4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],e5(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function E4(r,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const o=m(e,["message"]);o!=null&&g(t,["message"],o);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function Wp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const u=m(e,["sizeBytes"]);u!=null&&g(t,["sizeBytes"],u);const f=m(e,["createTime"]);f!=null&&g(t,["createTime"],f);const d=m(e,["expirationTime"]);d!=null&&g(t,["expirationTime"],d);const p=m(e,["updateTime"]);p!=null&&g(t,["updateTime"],p);const b=m(e,["sha256Hash"]);b!=null&&g(t,["sha256Hash"],b);const x=m(e,["uri"]);x!=null&&g(t,["uri"],x);const C=m(e,["downloadUri"]);C!=null&&g(t,["downloadUri"],C);const _=m(e,["state"]);_!=null&&g(t,["state"],_);const T=m(e,["source"]);T!=null&&g(t,["source"],T);const L=m(e,["videoMetadata"]);L!=null&&g(t,["videoMetadata"],L);const R=m(e,["error"]);return R!=null&&g(t,["error"],E4(r,R)),t}function L4(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Wp(r,u))),g(t,["files"],s)}return t}function M4(){return{}}function k4(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D4 extends gf{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vd(rc.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Wp(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=w4(this.apiClient,e);return s=Bt("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=L4(this.apiClient,d),b=new n3;return Object.assign(b,p),b})}}async createInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=C4(this.apiClient,e);return s=Bt("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(()=>{const d=M4(),p=new i3;return Object.assign(p,d),p})}}async get(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=T4(this.apiClient,e);return s=Bt("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Wp(this.apiClient,d))}}async delete(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=N4(this.apiClient,e);return s=Bt("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(()=>{const d=k4(),p=new r3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I4(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function R4(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function r5(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],I4(r,i)),t}function P4(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],R4(r,i)),t}function O4(r,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const o=m(e,["voiceConfig"]);return o!=null&&g(t,["voiceConfig"],r5(r,o)),t}function U4(r,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>O4(r,s))),g(t,["speakerVoiceConfigs"],o)}return t}function F4(r,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],r5(r,i));const o=m(e,["multiSpeakerVoiceConfig"]);o!=null&&g(t,["multiSpeakerVoiceConfig"],U4(r,o));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function B4(r,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],P4(r,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function q4(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function z4(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function V4(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function j4(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function H4(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function G4(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function Y4(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],q4(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],V4(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],H4(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function W4(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],z4(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],j4(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],G4(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function J4(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Y4(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function K4(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>W4(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function Z4(r,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const o=m(e,["description"]);o!=null&&g(t,["description"],o);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const u=m(e,["parameters"]);u!=null&&g(t,["parameters"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],f),t}function $4(r,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const o=m(e,["name"]);o!=null&&g(t,["name"],o);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function X4(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function Q4(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function ex(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],X4(r,i)),t}function tx(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],Q4(r,i)),t}function nx(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function ix(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function rx(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],nx(r,i)),t}function ax(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],ix(r,i)),t}function ox(){return{}}function sx(r,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function lx(r,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],sx(r,i));const o=m(e,["authType"]);o!=null&&g(t,["authType"],o);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const u=m(e,["httpBasicAuthConfig"]);u!=null&&g(t,["httpBasicAuthConfig"],u);const f=m(e,["oauthConfig"]);f!=null&&g(t,["oauthConfig"],f);const d=m(e,["oidcConfig"]);return d!=null&&g(t,["oidcConfig"],d),t}function ux(r,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],lx(r,i)),t}function cx(){return{}}function fx(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>Z4(r,p))),g(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=m(e,["googleSearch"]);o!=null&&g(t,["googleSearch"],ex(r,o));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],rx(r,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],cx());const f=m(e,["codeExecution"]);return f!=null&&g(t,["codeExecution"],f),t}function dx(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(x=>$4(r,x))),g(t,["functionDeclarations"],b)}const o=m(e,["retrieval"]);o!=null&&g(t,["retrieval"],o);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],tx(r,s));const u=m(e,["googleSearchRetrieval"]);u!=null&&g(t,["googleSearchRetrieval"],ax(r,u)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],ox());const d=m(e,["googleMaps"]);if(d!=null&&g(t,["googleMaps"],ux(r,d)),m(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=m(e,["codeExecution"]);return p!=null&&g(t,["codeExecution"],p),t}function hx(r,e){const t={},i=m(e,["handle"]);if(i!=null&&g(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function px(r,e){const t={},i=m(e,["handle"]);i!=null&&g(t,["handle"],i);const o=m(e,["transparent"]);return o!=null&&g(t,["transparent"],o),t}function o2(){return{}}function s2(){return{}}function mx(r,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const o=m(e,["startOfSpeechSensitivity"]);o!=null&&g(t,["startOfSpeechSensitivity"],o);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const u=m(e,["prefixPaddingMs"]);u!=null&&g(t,["prefixPaddingMs"],u);const f=m(e,["silenceDurationMs"]);return f!=null&&g(t,["silenceDurationMs"],f),t}function gx(r,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const o=m(e,["startOfSpeechSensitivity"]);o!=null&&g(t,["startOfSpeechSensitivity"],o);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const u=m(e,["prefixPaddingMs"]);u!=null&&g(t,["prefixPaddingMs"],u);const f=m(e,["silenceDurationMs"]);return f!=null&&g(t,["silenceDurationMs"],f),t}function vx(r,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],mx(r,i));const o=m(e,["activityHandling"]);o!=null&&g(t,["activityHandling"],o);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function yx(r,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],gx(r,i));const o=m(e,["activityHandling"]);o!=null&&g(t,["activityHandling"],o);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function bx(r,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function xx(r,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function _x(r,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const o=m(e,["slidingWindow"]);return o!=null&&g(t,["slidingWindow"],bx(r,o)),t}function wx(r,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const o=m(e,["slidingWindow"]);return o!=null&&g(t,["slidingWindow"],xx(r,o)),t}function Sx(r,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function Ax(r,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function Cx(r,e,t){const i={},o=m(e,["generationConfig"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig"],o);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const u=m(e,["temperature"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","temperature"],u);const f=m(e,["topP"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","topP"],f);const d=m(e,["topK"]);t!==void 0&&d!=null&&g(t,["setup","generationConfig","topK"],d);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&g(t,["setup","generationConfig","maxOutputTokens"],p);const b=m(e,["mediaResolution"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","mediaResolution"],b);const x=m(e,["seed"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","seed"],x);const C=m(e,["speechConfig"]);t!==void 0&&C!=null&&g(t,["setup","generationConfig","speechConfig"],F4(r,X2(r,C)));const _=m(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=m(e,["systemInstruction"]);t!==void 0&&T!=null&&g(t,["setup","systemInstruction"],J4(r,Er(r,T)));const L=m(e,["tools"]);if(t!==void 0&&L!=null){let ee=zd(r,L);Array.isArray(ee)&&(ee=ee.map(G=>fx(r,qd(r,G)))),g(t,["setup","tools"],ee)}const R=m(e,["sessionResumption"]);t!==void 0&&R!=null&&g(t,["setup","sessionResumption"],hx(r,R));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&g(t,["setup","inputAudioTranscription"],o2());const k=m(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","outputAudioTranscription"],o2());const D=m(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&g(t,["setup","realtimeInputConfig"],vx(r,D));const V=m(e,["contextWindowCompression"]);t!==void 0&&V!=null&&g(t,["setup","contextWindowCompression"],_x(r,V));const J=m(e,["proactivity"]);return t!==void 0&&J!=null&&g(t,["setup","proactivity"],Sx(r,J)),i}function Tx(r,e,t){const i={},o=m(e,["generationConfig"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig"],o);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const u=m(e,["temperature"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","temperature"],u);const f=m(e,["topP"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","topP"],f);const d=m(e,["topK"]);t!==void 0&&d!=null&&g(t,["setup","generationConfig","topK"],d);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&g(t,["setup","generationConfig","maxOutputTokens"],p);const b=m(e,["mediaResolution"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","mediaResolution"],b);const x=m(e,["seed"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","seed"],x);const C=m(e,["speechConfig"]);t!==void 0&&C!=null&&g(t,["setup","generationConfig","speechConfig"],B4(r,X2(r,C)));const _=m(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],_);const T=m(e,["systemInstruction"]);t!==void 0&&T!=null&&g(t,["setup","systemInstruction"],K4(r,Er(r,T)));const L=m(e,["tools"]);if(t!==void 0&&L!=null){let ee=zd(r,L);Array.isArray(ee)&&(ee=ee.map(G=>dx(r,qd(r,G)))),g(t,["setup","tools"],ee)}const R=m(e,["sessionResumption"]);t!==void 0&&R!=null&&g(t,["setup","sessionResumption"],px(r,R));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&g(t,["setup","inputAudioTranscription"],s2());const k=m(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&g(t,["setup","outputAudioTranscription"],s2());const D=m(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&g(t,["setup","realtimeInputConfig"],yx(r,D));const V=m(e,["contextWindowCompression"]);t!==void 0&&V!=null&&g(t,["setup","contextWindowCompression"],wx(r,V));const J=m(e,["proactivity"]);return t!==void 0&&J!=null&&g(t,["setup","proactivity"],Ax(r,J)),i}function Nx(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],Cx(r,o,t)),t}function Ex(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],Tx(r,o,t)),t}function Lx(){return{}}function Mx(){return{}}function kx(){return{}}function Dx(){return{}}function Ix(r,e){const t={},i=m(e,["media"]);i!=null&&g(t,["mediaChunks"],J2(r,i));const o=m(e,["audio"]);o!=null&&g(t,["audio"],l3(r,o));const s=m(e,["audioStreamEnd"]);s!=null&&g(t,["audioStreamEnd"],s);const u=m(e,["video"]);u!=null&&g(t,["video"],s3(r,u));const f=m(e,["text"]);return f!=null&&g(t,["text"],f),m(e,["activityStart"])!=null&&g(t,["activityStart"],Lx()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],kx()),t}function Rx(r,e){const t={},i=m(e,["media"]);if(i!=null&&g(t,["mediaChunks"],J2(r,i)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=m(e,["audioStreamEnd"]);if(o!=null&&g(t,["audioStreamEnd"],o),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(t,["activityStart"],Mx()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],Dx()),t}function a5(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["weight"]);return o!=null&&g(t,["weight"],o),t}function Px(r,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a5(r,s))),g(t,["weightedPrompts"],o)}return t}function o5(r,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const o=m(e,["topK"]);o!=null&&g(t,["topK"],o);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const u=m(e,["guidance"]);u!=null&&g(t,["guidance"],u);const f=m(e,["bpm"]);f!=null&&g(t,["bpm"],f);const d=m(e,["density"]);d!=null&&g(t,["density"],d);const p=m(e,["brightness"]);p!=null&&g(t,["brightness"],p);const b=m(e,["scale"]);b!=null&&g(t,["scale"],b);const x=m(e,["muteBass"]);x!=null&&g(t,["muteBass"],x);const C=m(e,["muteDrums"]);C!=null&&g(t,["muteDrums"],C);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(t,["onlyBassAndDrums"],_),t}function Ox(r,e){const t={},i=m(e,["musicGenerationConfig"]);return i!=null&&g(t,["musicGenerationConfig"],o5(r,i)),t}function s5(r,e){const t={},i=m(e,["model"]);return i!=null&&g(t,["model"],i),t}function l5(r,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a5(r,s))),g(t,["weightedPrompts"],o)}return t}function Jp(r,e){const t={},i=m(e,["setup"]);i!=null&&g(t,["setup"],s5(r,i));const o=m(e,["clientContent"]);o!=null&&g(t,["clientContent"],l5(r,o));const s=m(e,["musicGenerationConfig"]);s!=null&&g(t,["musicGenerationConfig"],o5(r,s));const u=m(e,["playbackControl"]);return u!=null&&g(t,["playbackControl"],u),t}function Ux(){return{}}function Fx(){return{}}function Bx(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function qx(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function zx(r,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function Vx(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function jx(r,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function Hx(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function Gx(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],Bx(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],zx(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],jx(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function Yx(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],qx(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Vx(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],Hx(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function Wx(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Gx(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function Jx(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Yx(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function l2(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["finished"]);return o!=null&&g(t,["finished"],o),t}function u2(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["finished"]);return o!=null&&g(t,["finished"],o),t}function Kx(r,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const o=m(e,["urlRetrievalStatus"]);return o!=null&&g(t,["urlRetrievalStatus"],o),t}function Zx(r,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Kx(r,s))),g(t,["urlMetadata"],o)}return t}function $x(r,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],Wx(r,i));const o=m(e,["turnComplete"]);o!=null&&g(t,["turnComplete"],o);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const u=m(e,["groundingMetadata"]);u!=null&&g(t,["groundingMetadata"],u);const f=m(e,["generationComplete"]);f!=null&&g(t,["generationComplete"],f);const d=m(e,["inputTranscription"]);d!=null&&g(t,["inputTranscription"],l2(r,d));const p=m(e,["outputTranscription"]);p!=null&&g(t,["outputTranscription"],l2(r,p));const b=m(e,["urlContextMetadata"]);return b!=null&&g(t,["urlContextMetadata"],Zx(r,b)),t}function Xx(r,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],Jx(r,i));const o=m(e,["turnComplete"]);o!=null&&g(t,["turnComplete"],o);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const u=m(e,["groundingMetadata"]);u!=null&&g(t,["groundingMetadata"],u);const f=m(e,["generationComplete"]);f!=null&&g(t,["generationComplete"],f);const d=m(e,["inputTranscription"]);d!=null&&g(t,["inputTranscription"],u2(r,d));const p=m(e,["outputTranscription"]);return p!=null&&g(t,["outputTranscription"],u2(r,p)),t}function Qx(r,e){const t={},i=m(e,["id"]);i!=null&&g(t,["id"],i);const o=m(e,["args"]);o!=null&&g(t,["args"],o);const s=m(e,["name"]);return s!=null&&g(t,["name"],s),t}function e_(r,e){const t={},i=m(e,["args"]);i!=null&&g(t,["args"],i);const o=m(e,["name"]);return o!=null&&g(t,["name"],o),t}function t_(r,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Qx(r,s))),g(t,["functionCalls"],o)}return t}function n_(r,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>e_(r,s))),g(t,["functionCalls"],o)}return t}function i_(r,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function r_(r,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function yd(r,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const o=m(e,["tokenCount"]);return o!=null&&g(t,["tokenCount"],o),t}function bd(r,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const o=m(e,["tokenCount"]);return o!=null&&g(t,["tokenCount"],o),t}function a_(r,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const o=m(e,["cachedContentTokenCount"]);o!=null&&g(t,["cachedContentTokenCount"],o);const s=m(e,["responseTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const u=m(e,["toolUsePromptTokenCount"]);u!=null&&g(t,["toolUsePromptTokenCount"],u);const f=m(e,["thoughtsTokenCount"]);f!=null&&g(t,["thoughtsTokenCount"],f);const d=m(e,["totalTokenCount"]);d!=null&&g(t,["totalTokenCount"],d);const p=m(e,["promptTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(T=>yd(r,T))),g(t,["promptTokensDetails"],_)}const b=m(e,["cacheTokensDetails"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(T=>yd(r,T))),g(t,["cacheTokensDetails"],_)}const x=m(e,["responseTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(T=>yd(r,T))),g(t,["responseTokensDetails"],_)}const C=m(e,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(T=>yd(r,T))),g(t,["toolUsePromptTokensDetails"],_)}return t}function o_(r,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const o=m(e,["cachedContentTokenCount"]);o!=null&&g(t,["cachedContentTokenCount"],o);const s=m(e,["candidatesTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const u=m(e,["toolUsePromptTokenCount"]);u!=null&&g(t,["toolUsePromptTokenCount"],u);const f=m(e,["thoughtsTokenCount"]);f!=null&&g(t,["thoughtsTokenCount"],f);const d=m(e,["totalTokenCount"]);d!=null&&g(t,["totalTokenCount"],d);const p=m(e,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["promptTokensDetails"],T)}const b=m(e,["cacheTokensDetails"]);if(b!=null){let T=b;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["cacheTokensDetails"],T)}const x=m(e,["candidatesTokensDetails"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["responseTokensDetails"],T)}const C=m(e,["toolUsePromptTokensDetails"]);if(C!=null){let T=C;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["toolUsePromptTokensDetails"],T)}const _=m(e,["trafficType"]);return _!=null&&g(t,["trafficType"],_),t}function s_(r,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function l_(r,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function u_(r,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const o=m(e,["resumable"]);o!=null&&g(t,["resumable"],o);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function c_(r,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const o=m(e,["resumable"]);o!=null&&g(t,["resumable"],o);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function f_(r,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],Ux());const o=m(e,["serverContent"]);o!=null&&g(t,["serverContent"],$x(r,o));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],t_(r,s));const u=m(e,["toolCallCancellation"]);u!=null&&g(t,["toolCallCancellation"],i_(r,u));const f=m(e,["usageMetadata"]);f!=null&&g(t,["usageMetadata"],a_(r,f));const d=m(e,["goAway"]);d!=null&&g(t,["goAway"],s_(r,d));const p=m(e,["sessionResumptionUpdate"]);return p!=null&&g(t,["sessionResumptionUpdate"],u_(r,p)),t}function d_(r,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],Fx());const o=m(e,["serverContent"]);o!=null&&g(t,["serverContent"],Xx(r,o));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],n_(r,s));const u=m(e,["toolCallCancellation"]);u!=null&&g(t,["toolCallCancellation"],r_(r,u));const f=m(e,["usageMetadata"]);f!=null&&g(t,["usageMetadata"],o_(r,f));const d=m(e,["goAway"]);d!=null&&g(t,["goAway"],l_(r,d));const p=m(e,["sessionResumptionUpdate"]);return p!=null&&g(t,["sessionResumptionUpdate"],c_(r,p)),t}function h_(){return{}}function p_(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["weight"]);return o!=null&&g(t,["weight"],o),t}function m_(r,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>p_(r,s))),g(t,["weightedPrompts"],o)}return t}function g_(r,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const o=m(e,["topK"]);o!=null&&g(t,["topK"],o);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const u=m(e,["guidance"]);u!=null&&g(t,["guidance"],u);const f=m(e,["bpm"]);f!=null&&g(t,["bpm"],f);const d=m(e,["density"]);d!=null&&g(t,["density"],d);const p=m(e,["brightness"]);p!=null&&g(t,["brightness"],p);const b=m(e,["scale"]);b!=null&&g(t,["scale"],b);const x=m(e,["muteBass"]);x!=null&&g(t,["muteBass"],x);const C=m(e,["muteDrums"]);C!=null&&g(t,["muteDrums"],C);const _=m(e,["onlyBassAndDrums"]);return _!=null&&g(t,["onlyBassAndDrums"],_),t}function v_(r,e){const t={},i=m(e,["clientContent"]);i!=null&&g(t,["clientContent"],m_(r,i));const o=m(e,["musicGenerationConfig"]);return o!=null&&g(t,["musicGenerationConfig"],g_(r,o)),t}function y_(r,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);o!=null&&g(t,["mimeType"],o);const s=m(e,["sourceMetadata"]);return s!=null&&g(t,["sourceMetadata"],v_(r,s)),t}function b_(r,e){const t={},i=m(e,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>y_(r,s))),g(t,["audioChunks"],o)}return t}function x_(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["filteredReason"]);return o!=null&&g(t,["filteredReason"],o),t}function __(r,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],h_());const o=m(e,["serverContent"]);o!=null&&g(t,["serverContent"],b_(r,o));const s=m(e,["filteredPrompt"]);return s!=null&&g(t,["filteredPrompt"],x_(r,s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w_(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function S_(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function A_(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function C_(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],w_(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],S_(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],A_(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function jd(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>C_(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function T_(r,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const o=m(e,["default"]);o!=null&&g(t,["default"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["enum"]);u!=null&&g(t,["enum"],u);const f=m(e,["example"]);f!=null&&g(t,["example"],f);const d=m(e,["format"]);d!=null&&g(t,["format"],d);const p=m(e,["items"]);p!=null&&g(t,["items"],p);const b=m(e,["maxItems"]);b!=null&&g(t,["maxItems"],b);const x=m(e,["maxLength"]);x!=null&&g(t,["maxLength"],x);const C=m(e,["maxProperties"]);C!=null&&g(t,["maxProperties"],C);const _=m(e,["maximum"]);_!=null&&g(t,["maximum"],_);const T=m(e,["minItems"]);T!=null&&g(t,["minItems"],T);const L=m(e,["minLength"]);L!=null&&g(t,["minLength"],L);const R=m(e,["minProperties"]);R!=null&&g(t,["minProperties"],R);const E=m(e,["minimum"]);E!=null&&g(t,["minimum"],E);const k=m(e,["nullable"]);k!=null&&g(t,["nullable"],k);const D=m(e,["pattern"]);D!=null&&g(t,["pattern"],D);const V=m(e,["properties"]);V!=null&&g(t,["properties"],V);const J=m(e,["propertyOrdering"]);J!=null&&g(t,["propertyOrdering"],J);const ee=m(e,["required"]);ee!=null&&g(t,["required"],ee);const G=m(e,["title"]);G!=null&&g(t,["title"],G);const z=m(e,["type"]);return z!=null&&g(t,["type"],z),t}function N_(r,e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&g(t,["category"],i);const o=m(e,["threshold"]);return o!=null&&g(t,["threshold"],o),t}function E_(r,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const o=m(e,["description"]);o!=null&&g(t,["description"],o);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const u=m(e,["parameters"]);u!=null&&g(t,["parameters"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],f),t}function L_(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function M_(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],L_(r,i)),t}function k_(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function D_(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],k_(r,i)),t}function I_(){return{}}function R_(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>E_(r,p))),g(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=m(e,["googleSearch"]);o!=null&&g(t,["googleSearch"],M_(r,o));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],D_(r,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],I_());const f=m(e,["codeExecution"]);return f!=null&&g(t,["codeExecution"],f),t}function P_(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function O_(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function U_(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],O_(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function F_(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],P_(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],U_(r,o)),t}function B_(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function u5(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],B_(r,i)),t}function q_(r,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const o=m(e,["voiceConfig"]);return o!=null&&g(t,["voiceConfig"],u5(r,o)),t}function z_(r,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>q_(r,s))),g(t,["speakerVoiceConfigs"],o)}return t}function V_(r,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],u5(r,i));const o=m(e,["multiSpeakerVoiceConfig"]);o!=null&&g(t,["multiSpeakerVoiceConfig"],z_(r,o));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function j_(r,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const o=m(e,["thinkingBudget"]);return o!=null&&g(t,["thinkingBudget"],o),t}function H_(r,e,t){const i={},o=m(e,["systemInstruction"]);t!==void 0&&o!=null&&g(t,["systemInstruction"],jd(r,Er(r,o)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const u=m(e,["topP"]);u!=null&&g(i,["topP"],u);const f=m(e,["topK"]);f!=null&&g(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const p=m(e,["maxOutputTokens"]);p!=null&&g(i,["maxOutputTokens"],p);const b=m(e,["stopSequences"]);b!=null&&g(i,["stopSequences"],b);const x=m(e,["responseLogprobs"]);x!=null&&g(i,["responseLogprobs"],x);const C=m(e,["logprobs"]);C!=null&&g(i,["logprobs"],C);const _=m(e,["presencePenalty"]);_!=null&&g(i,["presencePenalty"],_);const T=m(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const L=m(e,["seed"]);L!=null&&g(i,["seed"],L);const R=m(e,["responseMimeType"]);R!=null&&g(i,["responseMimeType"],R);const E=m(e,["responseSchema"]);if(E!=null&&g(i,["responseSchema"],T_(r,Od(r,E))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=m(e,["safetySettings"]);if(t!==void 0&&k!=null){let se=k;Array.isArray(se)&&(se=se.map(U=>N_(r,U))),g(t,["safetySettings"],se)}const D=m(e,["tools"]);if(t!==void 0&&D!=null){let se=zd(r,D);Array.isArray(se)&&(se=se.map(U=>R_(r,qd(r,U)))),g(t,["tools"],se)}const V=m(e,["toolConfig"]);if(t!==void 0&&V!=null&&g(t,["toolConfig"],F_(r,V)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=m(e,["cachedContent"]);t!==void 0&&J!=null&&g(t,["cachedContent"],rl(r,J));const ee=m(e,["responseModalities"]);ee!=null&&g(i,["responseModalities"],ee);const G=m(e,["mediaResolution"]);G!=null&&g(i,["mediaResolution"],G);const z=m(e,["speechConfig"]);if(z!=null&&g(i,["speechConfig"],V_(r,$2(r,z))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=m(e,["thinkingConfig"]);return re!=null&&g(i,["thinkingConfig"],j_(r,re)),i}function c2(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>jd(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],H_(r,s,t)),t}function G_(r,e,t){const i={},o=m(e,["taskType"]);t!==void 0&&o!=null&&g(t,["requests[]","taskType"],o);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["requests[]","title"],s);const u=m(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&g(t,["requests[]","outputDimensionality"],u),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Y_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);o!=null&&g(t,["requests[]","content"],Z2(r,o));const s=m(e,["config"]);s!=null&&g(t,["config"],G_(r,s,t));const u=m(e,["model"]);return u!==void 0&&g(t,["requests[]","model"],zn(r,u)),t}function W_(r,e,t){const i={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=m(e,["numberOfImages"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const s=m(e,["aspectRatio"]);t!==void 0&&s!=null&&g(t,["parameters","aspectRatio"],s);const u=m(e,["guidanceScale"]);if(t!==void 0&&u!=null&&g(t,["parameters","guidanceScale"],u),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=m(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&g(t,["parameters","safetySetting"],f);const d=m(e,["personGeneration"]);t!==void 0&&d!=null&&g(t,["parameters","personGeneration"],d);const p=m(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&g(t,["parameters","includeSafetyAttributes"],p);const b=m(e,["includeRaiReason"]);t!==void 0&&b!=null&&g(t,["parameters","includeRaiReason"],b);const x=m(e,["language"]);t!==void 0&&x!=null&&g(t,["parameters","language"],x);const C=m(e,["outputMimeType"]);t!==void 0&&C!=null&&g(t,["parameters","outputOptions","mimeType"],C);const _=m(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&g(t,["parameters","outputOptions","compressionQuality"],_),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function J_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&g(t,["config"],W_(r,s,t)),t}function K_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function Z_(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);t!==void 0&&u!=null&&g(t,["_query","filter"],u);const f=m(e,["queryBase"]);return t!==void 0&&f!=null&&g(t,["_url","models_url"],t5(r,f)),i}function $_(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],Z_(r,i,t)),t}function X_(r,e,t){const i={},o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const u=m(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&g(t,["defaultCheckpointId"],u),i}function Q_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],X_(r,o,t)),t}function ew(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function tw(r,e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function nw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>jd(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["config"],tw(r,s)),t}function iw(r,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["imageBytes"]);i!=null&&g(t,["bytesBase64Encoded"],al(r,i));const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function rw(r,e,t){const i={},o=m(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(e,["durationSeconds"]);if(t!==void 0&&s!=null&&g(t,["parameters","durationSeconds"],s),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(e,["aspectRatio"]);if(t!==void 0&&u!=null&&g(t,["parameters","aspectRatio"],u),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=m(e,["personGeneration"]);if(t!==void 0&&f!=null&&g(t,["parameters","personGeneration"],f),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(e,["negativePrompt"]);if(t!==void 0&&d!=null&&g(t,["parameters","negativePrompt"],d),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function aw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],iw(r,s));const u=m(e,["config"]);return u!=null&&g(t,["config"],rw(r,u,t)),t}function ow(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function sw(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function lw(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function uw(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],ow(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],sw(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],lw(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function ac(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>uw(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function cw(r,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const o=m(e,["default"]);o!=null&&g(t,["default"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["enum"]);u!=null&&g(t,["enum"],u);const f=m(e,["example"]);f!=null&&g(t,["example"],f);const d=m(e,["format"]);d!=null&&g(t,["format"],d);const p=m(e,["items"]);p!=null&&g(t,["items"],p);const b=m(e,["maxItems"]);b!=null&&g(t,["maxItems"],b);const x=m(e,["maxLength"]);x!=null&&g(t,["maxLength"],x);const C=m(e,["maxProperties"]);C!=null&&g(t,["maxProperties"],C);const _=m(e,["maximum"]);_!=null&&g(t,["maximum"],_);const T=m(e,["minItems"]);T!=null&&g(t,["minItems"],T);const L=m(e,["minLength"]);L!=null&&g(t,["minLength"],L);const R=m(e,["minProperties"]);R!=null&&g(t,["minProperties"],R);const E=m(e,["minimum"]);E!=null&&g(t,["minimum"],E);const k=m(e,["nullable"]);k!=null&&g(t,["nullable"],k);const D=m(e,["pattern"]);D!=null&&g(t,["pattern"],D);const V=m(e,["properties"]);V!=null&&g(t,["properties"],V);const J=m(e,["propertyOrdering"]);J!=null&&g(t,["propertyOrdering"],J);const ee=m(e,["required"]);ee!=null&&g(t,["required"],ee);const G=m(e,["title"]);G!=null&&g(t,["title"],G);const z=m(e,["type"]);return z!=null&&g(t,["type"],z),t}function fw(r,e){const t={},i=m(e,["featureSelectionPreference"]);return i!=null&&g(t,["featureSelectionPreference"],i),t}function dw(r,e){const t={},i=m(e,["method"]);i!=null&&g(t,["method"],i);const o=m(e,["category"]);o!=null&&g(t,["category"],o);const s=m(e,["threshold"]);return s!=null&&g(t,["threshold"],s),t}function hw(r,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const o=m(e,["name"]);o!=null&&g(t,["name"],o);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function pw(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function mw(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],pw(r,i)),t}function gw(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function vw(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],gw(r,i)),t}function yw(){return{}}function bw(r,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function xw(r,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],bw(r,i));const o=m(e,["authType"]);o!=null&&g(t,["authType"],o);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const u=m(e,["httpBasicAuthConfig"]);u!=null&&g(t,["httpBasicAuthConfig"],u);const f=m(e,["oauthConfig"]);f!=null&&g(t,["oauthConfig"],f);const d=m(e,["oidcConfig"]);return d!=null&&g(t,["oidcConfig"],d),t}function _w(r,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],xw(r,i)),t}function c5(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(x=>hw(r,x))),g(t,["functionDeclarations"],b)}const o=m(e,["retrieval"]);o!=null&&g(t,["retrieval"],o);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],mw(r,s));const u=m(e,["googleSearchRetrieval"]);u!=null&&g(t,["googleSearchRetrieval"],vw(r,u)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],yw());const d=m(e,["googleMaps"]);if(d!=null&&g(t,["googleMaps"],_w(r,d)),m(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=m(e,["codeExecution"]);return p!=null&&g(t,["codeExecution"],p),t}function ww(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function Sw(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function Aw(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],Sw(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function Cw(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],ww(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],Aw(r,o)),t}function Tw(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function Nw(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],Tw(r,i)),t}function Ew(r,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],Nw(r,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function Lw(r,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const o=m(e,["thinkingBudget"]);return o!=null&&g(t,["thinkingBudget"],o),t}function Mw(r,e,t){const i={},o=m(e,["systemInstruction"]);t!==void 0&&o!=null&&g(t,["systemInstruction"],ac(r,Er(r,o)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const u=m(e,["topP"]);u!=null&&g(i,["topP"],u);const f=m(e,["topK"]);f!=null&&g(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const p=m(e,["maxOutputTokens"]);p!=null&&g(i,["maxOutputTokens"],p);const b=m(e,["stopSequences"]);b!=null&&g(i,["stopSequences"],b);const x=m(e,["responseLogprobs"]);x!=null&&g(i,["responseLogprobs"],x);const C=m(e,["logprobs"]);C!=null&&g(i,["logprobs"],C);const _=m(e,["presencePenalty"]);_!=null&&g(i,["presencePenalty"],_);const T=m(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const L=m(e,["seed"]);L!=null&&g(i,["seed"],L);const R=m(e,["responseMimeType"]);R!=null&&g(i,["responseMimeType"],R);const E=m(e,["responseSchema"]);E!=null&&g(i,["responseSchema"],cw(r,Od(r,E)));const k=m(e,["routingConfig"]);k!=null&&g(i,["routingConfig"],k);const D=m(e,["modelSelectionConfig"]);D!=null&&g(i,["modelConfig"],fw(r,D));const V=m(e,["safetySettings"]);if(t!==void 0&&V!=null){let ne=V;Array.isArray(ne)&&(ne=ne.map(ye=>dw(r,ye))),g(t,["safetySettings"],ne)}const J=m(e,["tools"]);if(t!==void 0&&J!=null){let ne=zd(r,J);Array.isArray(ne)&&(ne=ne.map(ye=>c5(r,qd(r,ye)))),g(t,["tools"],ne)}const ee=m(e,["toolConfig"]);t!==void 0&&ee!=null&&g(t,["toolConfig"],Cw(r,ee));const G=m(e,["labels"]);t!==void 0&&G!=null&&g(t,["labels"],G);const z=m(e,["cachedContent"]);t!==void 0&&z!=null&&g(t,["cachedContent"],rl(r,z));const re=m(e,["responseModalities"]);re!=null&&g(i,["responseModalities"],re);const se=m(e,["mediaResolution"]);se!=null&&g(i,["mediaResolution"],se);const U=m(e,["speechConfig"]);U!=null&&g(i,["speechConfig"],Ew(r,$2(r,U)));const I=m(e,["audioTimestamp"]);I!=null&&g(i,["audioTimestamp"],I);const te=m(e,["thinkingConfig"]);return te!=null&&g(i,["thinkingConfig"],Lw(r,te)),i}function f2(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>ac(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],Mw(r,s,t)),t}function kw(r,e,t){const i={},o=m(e,["taskType"]);t!==void 0&&o!=null&&g(t,["instances[]","task_type"],o);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["instances[]","title"],s);const u=m(e,["outputDimensionality"]);t!==void 0&&u!=null&&g(t,["parameters","outputDimensionality"],u);const f=m(e,["mimeType"]);t!==void 0&&f!=null&&g(t,["instances[]","mimeType"],f);const d=m(e,["autoTruncate"]);return t!==void 0&&d!=null&&g(t,["parameters","autoTruncate"],d),i}function Dw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);o!=null&&g(t,["instances[]","content"],Z2(r,o));const s=m(e,["config"]);return s!=null&&g(t,["config"],kw(r,s,t)),t}function Iw(r,e,t){const i={},o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&g(t,["parameters","storageUri"],o);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&g(t,["parameters","sampleCount"],u);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&g(t,["parameters","aspectRatio"],f);const d=m(e,["guidanceScale"]);t!==void 0&&d!=null&&g(t,["parameters","guidanceScale"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&g(t,["parameters","seed"],p);const b=m(e,["safetyFilterLevel"]);t!==void 0&&b!=null&&g(t,["parameters","safetySetting"],b);const x=m(e,["personGeneration"]);t!==void 0&&x!=null&&g(t,["parameters","personGeneration"],x);const C=m(e,["includeSafetyAttributes"]);t!==void 0&&C!=null&&g(t,["parameters","includeSafetyAttributes"],C);const _=m(e,["includeRaiReason"]);t!==void 0&&_!=null&&g(t,["parameters","includeRaiReason"],_);const T=m(e,["language"]);t!==void 0&&T!=null&&g(t,["parameters","language"],T);const L=m(e,["outputMimeType"]);t!==void 0&&L!=null&&g(t,["parameters","outputOptions","mimeType"],L);const R=m(e,["outputCompressionQuality"]);t!==void 0&&R!=null&&g(t,["parameters","outputOptions","compressionQuality"],R);const E=m(e,["addWatermark"]);t!==void 0&&E!=null&&g(t,["parameters","addWatermark"],E);const k=m(e,["enhancePrompt"]);return t!==void 0&&k!=null&&g(t,["parameters","enhancePrompt"],k),i}function Rw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&g(t,["config"],Iw(r,s,t)),t}function um(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const o=m(e,["imageBytes"]);o!=null&&g(t,["bytesBase64Encoded"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function Pw(r,e){const t={},i=m(e,["maskMode"]);i!=null&&g(t,["maskMode"],i);const o=m(e,["segmentationClasses"]);o!=null&&g(t,["maskClasses"],o);const s=m(e,["maskDilation"]);return s!=null&&g(t,["dilation"],s),t}function Ow(r,e){const t={},i=m(e,["controlType"]);i!=null&&g(t,["controlType"],i);const o=m(e,["enableControlImageComputation"]);return o!=null&&g(t,["computeControl"],o),t}function Uw(r,e){const t={},i=m(e,["styleDescription"]);return i!=null&&g(t,["styleDescription"],i),t}function Fw(r,e){const t={},i=m(e,["subjectType"]);i!=null&&g(t,["subjectType"],i);const o=m(e,["subjectDescription"]);return o!=null&&g(t,["subjectDescription"],o),t}function Bw(r,e){const t={},i=m(e,["referenceImage"]);i!=null&&g(t,["referenceImage"],um(r,i));const o=m(e,["referenceId"]);o!=null&&g(t,["referenceId"],o);const s=m(e,["referenceType"]);s!=null&&g(t,["referenceType"],s);const u=m(e,["maskImageConfig"]);u!=null&&g(t,["maskImageConfig"],Pw(r,u));const f=m(e,["controlImageConfig"]);f!=null&&g(t,["controlImageConfig"],Ow(r,f));const d=m(e,["styleImageConfig"]);d!=null&&g(t,["styleImageConfig"],Uw(r,d));const p=m(e,["subjectImageConfig"]);return p!=null&&g(t,["subjectImageConfig"],Fw(r,p)),t}function qw(r,e,t){const i={},o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&g(t,["parameters","storageUri"],o);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&g(t,["parameters","sampleCount"],u);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&g(t,["parameters","aspectRatio"],f);const d=m(e,["guidanceScale"]);t!==void 0&&d!=null&&g(t,["parameters","guidanceScale"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&g(t,["parameters","seed"],p);const b=m(e,["safetyFilterLevel"]);t!==void 0&&b!=null&&g(t,["parameters","safetySetting"],b);const x=m(e,["personGeneration"]);t!==void 0&&x!=null&&g(t,["parameters","personGeneration"],x);const C=m(e,["includeSafetyAttributes"]);t!==void 0&&C!=null&&g(t,["parameters","includeSafetyAttributes"],C);const _=m(e,["includeRaiReason"]);t!==void 0&&_!=null&&g(t,["parameters","includeRaiReason"],_);const T=m(e,["language"]);t!==void 0&&T!=null&&g(t,["parameters","language"],T);const L=m(e,["outputMimeType"]);t!==void 0&&L!=null&&g(t,["parameters","outputOptions","mimeType"],L);const R=m(e,["outputCompressionQuality"]);t!==void 0&&R!=null&&g(t,["parameters","outputOptions","compressionQuality"],R);const E=m(e,["editMode"]);t!==void 0&&E!=null&&g(t,["parameters","editMode"],E);const k=m(e,["baseSteps"]);return t!==void 0&&k!=null&&g(t,["parameters","editConfig","baseSteps"],k),i}function zw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["referenceImages"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>Bw(r,d))),g(t,["instances[0]","referenceImages"],f)}const u=m(e,["config"]);return u!=null&&g(t,["config"],qw(r,u,t)),t}function Vw(r,e,t){const i={},o=m(e,["includeRaiReason"]);t!==void 0&&o!=null&&g(t,["parameters","includeRaiReason"],o);const s=m(e,["outputMimeType"]);t!==void 0&&s!=null&&g(t,["parameters","outputOptions","mimeType"],s);const u=m(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&g(t,["parameters","outputOptions","compressionQuality"],u);const f=m(e,["numberOfImages"]);t!==void 0&&f!=null&&g(t,["parameters","sampleCount"],f);const d=m(e,["mode"]);return t!==void 0&&d!=null&&g(t,["parameters","mode"],d),i}function jw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["image"]);o!=null&&g(t,["instances[0]","image"],um(r,o));const s=m(e,["upscaleFactor"]);s!=null&&g(t,["parameters","upscaleConfig","upscaleFactor"],s);const u=m(e,["config"]);return u!=null&&g(t,["config"],Vw(r,u,t)),t}function Hw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function Gw(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);t!==void 0&&u!=null&&g(t,["_query","filter"],u);const f=m(e,["queryBase"]);return t!==void 0&&f!=null&&g(t,["_url","models_url"],t5(r,f)),i}function Yw(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],Gw(r,i,t)),t}function Ww(r,e,t){const i={},o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const u=m(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&g(t,["defaultCheckpointId"],u),i}function Jw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],Ww(r,o,t)),t}function Kw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function Zw(r,e,t){const i={},o=m(e,["systemInstruction"]);t!==void 0&&o!=null&&g(t,["systemInstruction"],ac(r,Er(r,o)));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>c5(r,d))),g(t,["tools"],f)}const u=m(e,["generationConfig"]);return t!==void 0&&u!=null&&g(t,["generationConfig"],u),i}function $w(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>ac(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["config"],Zw(r,s,t)),t}function Xw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>ac(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function Qw(r,e,t){const i={},o=m(e,["numberOfVideos"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&g(t,["parameters","storageUri"],s);const u=m(e,["fps"]);t!==void 0&&u!=null&&g(t,["parameters","fps"],u);const f=m(e,["durationSeconds"]);t!==void 0&&f!=null&&g(t,["parameters","durationSeconds"],f);const d=m(e,["seed"]);t!==void 0&&d!=null&&g(t,["parameters","seed"],d);const p=m(e,["aspectRatio"]);t!==void 0&&p!=null&&g(t,["parameters","aspectRatio"],p);const b=m(e,["resolution"]);t!==void 0&&b!=null&&g(t,["parameters","resolution"],b);const x=m(e,["personGeneration"]);t!==void 0&&x!=null&&g(t,["parameters","personGeneration"],x);const C=m(e,["pubsubTopic"]);t!==void 0&&C!=null&&g(t,["parameters","pubsubTopic"],C);const _=m(e,["negativePrompt"]);t!==void 0&&_!=null&&g(t,["parameters","negativePrompt"],_);const T=m(e,["enhancePrompt"]);t!==void 0&&T!=null&&g(t,["parameters","enhancePrompt"],T);const L=m(e,["generateAudio"]);return t!==void 0&&L!=null&&g(t,["parameters","generateAudio"],L),i}function eS(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],um(r,s));const u=m(e,["config"]);return u!=null&&g(t,["config"],Qw(r,u,t)),t}function tS(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function nS(r,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function iS(r,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function rS(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],tS(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],nS(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],iS(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function aS(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>rS(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function oS(r,e){const t={},i=m(e,["citationSources"]);return i!=null&&g(t,["citations"],i),t}function sS(r,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const o=m(e,["urlRetrievalStatus"]);return o!=null&&g(t,["urlRetrievalStatus"],o),t}function lS(r,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sS(r,s))),g(t,["urlMetadata"],o)}return t}function uS(r,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],aS(r,i));const o=m(e,["citationMetadata"]);o!=null&&g(t,["citationMetadata"],oS(r,o));const s=m(e,["tokenCount"]);s!=null&&g(t,["tokenCount"],s);const u=m(e,["finishReason"]);u!=null&&g(t,["finishReason"],u);const f=m(e,["urlContextMetadata"]);f!=null&&g(t,["urlContextMetadata"],lS(r,f));const d=m(e,["avgLogprobs"]);d!=null&&g(t,["avgLogprobs"],d);const p=m(e,["groundingMetadata"]);p!=null&&g(t,["groundingMetadata"],p);const b=m(e,["index"]);b!=null&&g(t,["index"],b);const x=m(e,["logprobsResult"]);x!=null&&g(t,["logprobsResult"],x);const C=m(e,["safetyRatings"]);return C!=null&&g(t,["safetyRatings"],C),t}function d2(r,e){const t={},i=m(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>uS(r,d))),g(t,["candidates"],f)}const o=m(e,["modelVersion"]);o!=null&&g(t,["modelVersion"],o);const s=m(e,["promptFeedback"]);s!=null&&g(t,["promptFeedback"],s);const u=m(e,["usageMetadata"]);return u!=null&&g(t,["usageMetadata"],u),t}function cS(r,e){const t={},i=m(e,["values"]);return i!=null&&g(t,["values"],i),t}function fS(){return{}}function dS(r,e){const t={},i=m(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>cS(r,u))),g(t,["embeddings"],s)}return m(e,["metadata"])!=null&&g(t,["metadata"],fS()),t}function hS(r,e){const t={},i=m(e,["bytesBase64Encoded"]);i!=null&&g(t,["imageBytes"],al(r,i));const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function f5(r,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const o=m(e,["safetyAttributes","scores"]);o!=null&&g(t,["scores"],o);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function pS(r,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],hS(r,i));const o=m(e,["raiFilteredReason"]);o!=null&&g(t,["raiFilteredReason"],o);const s=m(e,["_self"]);return s!=null&&g(t,["safetyAttributes"],f5(r,s)),t}function mS(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>pS(r,u))),g(t,["generatedImages"],s)}const o=m(e,["positivePromptSafetyAttributes"]);return o!=null&&g(t,["positivePromptSafetyAttributes"],f5(r,o)),t}function gS(r,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function Kp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["version"]);u!=null&&g(t,["version"],u);const f=m(e,["_self"]);f!=null&&g(t,["tunedModelInfo"],gS(r,f));const d=m(e,["inputTokenLimit"]);d!=null&&g(t,["inputTokenLimit"],d);const p=m(e,["outputTokenLimit"]);p!=null&&g(t,["outputTokenLimit"],p);const b=m(e,["supportedGenerationMethods"]);return b!=null&&g(t,["supportedActions"],b),t}function vS(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["_self"]);if(o!=null){let s=n5(r,o);Array.isArray(s)&&(s=s.map(u=>Kp(r,u))),g(t,["models"],s)}return t}function yS(){return{}}function bS(r,e){const t={},i=m(e,["totalTokens"]);i!=null&&g(t,["totalTokens"],i);const o=m(e,["cachedContentTokenCount"]);return o!=null&&g(t,["cachedContentTokenCount"],o),t}function xS(r,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const o=m(e,["video","encodedVideo"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function _S(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],xS(r,i)),t}function wS(r,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>_S(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function SS(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response","generateVideoResponse"]);return f!=null&&g(t,["response"],wS(r,f)),t}function AS(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function CS(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function TS(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function NS(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],AS(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],CS(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],TS(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const x=m(e,["text"]);return x!=null&&g(t,["text"],x),t}function ES(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>NS(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function LS(r,e){const t={},i=m(e,["citations"]);return i!=null&&g(t,["citations"],i),t}function MS(r,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],ES(r,i));const o=m(e,["citationMetadata"]);o!=null&&g(t,["citationMetadata"],LS(r,o));const s=m(e,["finishMessage"]);s!=null&&g(t,["finishMessage"],s);const u=m(e,["finishReason"]);u!=null&&g(t,["finishReason"],u);const f=m(e,["avgLogprobs"]);f!=null&&g(t,["avgLogprobs"],f);const d=m(e,["groundingMetadata"]);d!=null&&g(t,["groundingMetadata"],d);const p=m(e,["index"]);p!=null&&g(t,["index"],p);const b=m(e,["logprobsResult"]);b!=null&&g(t,["logprobsResult"],b);const x=m(e,["safetyRatings"]);return x!=null&&g(t,["safetyRatings"],x),t}function h2(r,e){const t={},i=m(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(b=>MS(r,b))),g(t,["candidates"],p)}const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const s=m(e,["responseId"]);s!=null&&g(t,["responseId"],s);const u=m(e,["modelVersion"]);u!=null&&g(t,["modelVersion"],u);const f=m(e,["promptFeedback"]);f!=null&&g(t,["promptFeedback"],f);const d=m(e,["usageMetadata"]);return d!=null&&g(t,["usageMetadata"],d),t}function kS(r,e){const t={},i=m(e,["truncated"]);i!=null&&g(t,["truncated"],i);const o=m(e,["token_count"]);return o!=null&&g(t,["tokenCount"],o),t}function DS(r,e){const t={},i=m(e,["values"]);i!=null&&g(t,["values"],i);const o=m(e,["statistics"]);return o!=null&&g(t,["statistics"],kS(r,o)),t}function IS(r,e){const t={},i=m(e,["billableCharacterCount"]);return i!=null&&g(t,["billableCharacterCount"],i),t}function RS(r,e){const t={},i=m(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>DS(r,u))),g(t,["embeddings"],s)}const o=m(e,["metadata"]);return o!=null&&g(t,["metadata"],IS(r,o)),t}function PS(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const o=m(e,["bytesBase64Encoded"]);o!=null&&g(t,["imageBytes"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function d5(r,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const o=m(e,["safetyAttributes","scores"]);o!=null&&g(t,["scores"],o);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function cm(r,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],PS(r,i));const o=m(e,["raiFilteredReason"]);o!=null&&g(t,["raiFilteredReason"],o);const s=m(e,["_self"]);s!=null&&g(t,["safetyAttributes"],d5(r,s));const u=m(e,["prompt"]);return u!=null&&g(t,["enhancedPrompt"],u),t}function OS(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>cm(r,u))),g(t,["generatedImages"],s)}const o=m(e,["positivePromptSafetyAttributes"]);return o!=null&&g(t,["positivePromptSafetyAttributes"],d5(r,o)),t}function US(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>cm(r,s))),g(t,["generatedImages"],o)}return t}function FS(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>cm(r,s))),g(t,["generatedImages"],o)}return t}function BS(r,e){const t={},i=m(e,["endpoint"]);i!=null&&g(t,["name"],i);const o=m(e,["deployedModelId"]);return o!=null&&g(t,["deployedModelId"],o),t}function qS(r,e){const t={},i=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function zS(r,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const o=m(e,["epoch"]);o!=null&&g(t,["epoch"],o);const s=m(e,["step"]);return s!=null&&g(t,["step"],s),t}function Zp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["versionId"]);u!=null&&g(t,["version"],u);const f=m(e,["deployedModels"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(_=>BS(r,_))),g(t,["endpoints"],C)}const d=m(e,["labels"]);d!=null&&g(t,["labels"],d);const p=m(e,["_self"]);p!=null&&g(t,["tunedModelInfo"],qS(r,p));const b=m(e,["defaultCheckpointId"]);b!=null&&g(t,["defaultCheckpointId"],b);const x=m(e,["checkpoints"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(_=>zS(r,_))),g(t,["checkpoints"],C)}return t}function VS(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["_self"]);if(o!=null){let s=n5(r,o);Array.isArray(s)&&(s=s.map(u=>Zp(r,u))),g(t,["models"],s)}return t}function jS(){return{}}function HS(r,e){const t={},i=m(e,["totalTokens"]);return i!=null&&g(t,["totalTokens"],i),t}function GS(r,e){const t={},i=m(e,["tokensInfo"]);return i!=null&&g(t,["tokensInfo"],i),t}function YS(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const o=m(e,["bytesBase64Encoded"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function WS(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],YS(r,i)),t}function JS(r,e){const t={},i=m(e,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>WS(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function KS(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],JS(r,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS="Content-Type",$S="X-Server-Timeout",XS="User-Agent",$p="x-goog-api-client",QS="1.2.0",eA=`google-genai-sdk/${QS}`,tA="v1beta1",nA="v1beta",p2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class h5 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Xp extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class iA{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:tA,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nA,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const o=[this.getRequestUrlInternal(t)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(t))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const o=new AbortController,s=o.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>o.abort(),t.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await m2(o),new Gp(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await m2(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return cf(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:d}=yield ei(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=s.decode(d);try{const x=JSON.parse(p);if("error"in x){const C=JSON.parse(JSON.stringify(x.error)),_=C.status,T=C.code,L=`got status: ${_}. ${JSON.stringify(x)}`;if(T>=400&&T<500)throw new h5(L);if(T>=500&&T<600)throw new Xp(L)}}catch(x){const C=x;if(C.name==="ClientError"||C.name==="ServerError")throw x}u+=p;let b=u.match(p2);for(;b;){const x=b[1];try{const C=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ei(new Gp(C)),u=u.slice(b[0].length),b=u.match(p2)}catch(C){throw new Error(`exception parsing stream chunk ${x}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=eA+" "+this.clientOptions.userAgentExtra;return e[XS]=t,e[$p]=t,e[ZS]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))t.append(i,o);e.timeout&&e.timeout>0&&t.append($S,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);o.sizeBytes=String(u.size);const f=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const d=await this.fetchUploadUrl(o,t);return s.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let o={};t!=null&&t.httpOptions?o=t.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},u=await this.request({path:Bt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function m2(r){var e;if(r===void 0)throw new Xp("response is undefined");if(!r.ok){const t=r.status,i=r.statusText;let o;!((e=r.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await r.json():o={error:{message:await r.text(),code:r.status,status:r.statusText}};const s=`got status: ${t} ${i}. ${JSON.stringify(o)}`;throw t>=400&&t<500?new h5(s):t>=500&&t<600?new Xp(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA="mcp_used/unknown";function p5(r){for(const e of r)if(fm(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function m5(r){var e;const t=(e=r[$p])!==null&&e!==void 0?e:"";r[$p]=(t+` ${rA}`).trimStart()}function aA(r){var e,t,i;return(i=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>fm(o)))!==null&&i!==void 0?i:!1}function oA(r){var e,t,i;return(i=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>!fm(o)))!==null&&i!==void 0?i:!1}function fm(r){return r!==null&&typeof r=="object"&&"tool"in r&&"callTool"in r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sA(r,e,t){const i=new o3;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data);const s=__(r,o);Object.assign(i,s),e(i)}class lA{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=fA(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const b=new Promise(D=>{p=D}),x=e.callbacks,C=function(){p({})},_=this.apiClient,T={onopen:C,onmessage:D=>{sA(_,x.onmessage,D)},onerror:(t=x==null?void 0:x.onerror)!==null&&t!==void 0?t:function(D){},onclose:(i=x==null?void 0:x.onclose)!==null&&i!==void 0?i:function(D){}},L=this.webSocketFactory.create(d,cA(u),T);L.connect(),await b;const R=zn(this.apiClient,e.model),E=s5(this.apiClient,{model:R}),k=Jp(this.apiClient,{setup:E});return L.send(JSON.stringify(k)),new uA(L,this.apiClient)}}class uA{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Px(this.apiClient,e),i=l5(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Ox(this.apiClient,e),i=Jp(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Jp(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Xu.PLAY)}pause(){this.sendPlaybackControl(Xu.PAUSE)}stop(){this.sendPlaybackControl(Xu.STOP)}resetContext(){this.sendPlaybackControl(Xu.RESET_CONTEXT)}close(){this.conn.close()}}function cA(r){const e={};return r.forEach((t,i)=>{e[i]=t}),e}function fA(r){const e=new Headers;for(const[t,i]of Object.entries(r))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hA(r,e,t){const i=new a3;let o;if(t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),r.isVertexAI()){const s=d_(r,o);Object.assign(i,s)}else{const s=f_(r,o);Object.assign(i,s)}e(i)}class pA{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new lA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,o,s,u,f;const d=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let b;const x=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&p5(e.config.tools)&&m5(x);const C=yA(x);if(this.apiClient.isVertexAI())b=`${d}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const re=this.apiClient.getApiKey();b=`${d}/ws/google.ai.generativelanguage.${p}.GenerativeService.BidiGenerateContent?key=${re}`}let _=()=>{};const T=new Promise(re=>{_=re}),L=e.callbacks,R=function(){var re;(re=L==null?void 0:L.onopen)===null||re===void 0||re.call(L),_({})},E=this.apiClient,k={onopen:R,onmessage:re=>{hA(E,L.onmessage,re)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(re){},onclose:(i=L==null?void 0:L.onclose)!==null&&i!==void 0?i:function(re){}},D=this.webSocketFactory.create(b,vA(C),k);D.connect(),await T;let V=zn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const re=this.apiClient.getProject(),se=this.apiClient.getLocation();V=`projects/${re}/locations/${se}/`+V}let J={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rd.AUDIO]}:e.config.responseModalities=[Rd.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],G=[];for(const re of ee)if(this.isCallableTool(re)){const se=re;G.push(await se.tool())}else G.push(re);G.length>0&&(e.config.tools=G);const z={model:V,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=Ex(this.apiClient,z):J=Nx(this.apiClient,z),delete J.config,D.send(JSON.stringify(J)),new gA(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mA={turnComplete:!0};class gA{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Oa(e,t.turns),e.isVertexAI()?i=i.map(o=>ac(e,o)):i=i.map(o=>jd(e,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(dA)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},mA),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Rx(this.apiClient,e)}:t={realtimeInput:Ix(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function vA(r){const e={};return r.forEach((t,i)=>{e[i]=t}),e}function yA(r){const e=new Headers;for(const[t,i]of Object.entries(r))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g2=10;function v2(r){var e,t,i;if(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(t=r==null?void 0:r.tools)!==null&&t!==void 0?t:[])if(Cd(u)){o=!0;break}if(!o)return!0;const s=(i=r==null?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Cd(r){return"callTool"in r&&typeof r.callTool=="function"}function y2(r){var e;return!(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bA extends gf{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,o,s,u,f;const d=await this.processParamsForMcpUsage(t);if(!aA(t)||v2(t.config))return await this.generateContentInternal(d);if(oA(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,b;const x=Oa(this.apiClient,d.contents),C=(s=(o=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:g2;let _=0;for(;_<C&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const T=p.candidates[0].content,L=[];for(const R of(f=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(Cd(R)){const k=await R.callTool(p.functionCalls);L.push(...k)}_++,b={role:"user",parts:L},d.contents=Oa(this.apiClient,d.contents),d.contents.push(T),d.contents.push(b),y2(d.config)&&(x.push(T),x.push(b))}return y2(d.config)&&(p.automaticFunctionCallingHistory=x),p},this.generateContentStream=async t=>{if(v2(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var o;let s;const u=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:u.push(d);let f;return s?f={generatedImages:u,positivePromptSafetyAttributes:s}:f={generatedImages:u},f}),this.list=async t=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Vd(rc.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var t,i,o;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const u=await Promise.all(s.map(async d=>Cd(d)?await d.tool():d)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&p5(e.config.tools)){const d=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},d);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),m5(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var t,i,o;const s=new Map;for(const u of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Cd(u)){const f=u,d=await f.tool();for(const p of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(s.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);s.set(p.name,f)}}return s}async processAfcStream(e){var t,i,o;const s=(o=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:g2;let u=!1,f=0;const d=await this.initAfcToolsMap(e);return function(p,b,x){var C,_;return cf(this,arguments,function*(){for(var T,L,R,E;f<s;){u&&(f++,u=!1);const J=yield ei(p.processParamsForMcpUsage(x)),ee=yield ei(p.generateContentStreamInternal(J)),G=[],z=[];try{for(var k=!0,D=(L=void 0,Ad(ee)),V;V=yield ei(D.next()),T=V.done,!T;k=!0){E=V.value,k=!1;const re=E;if(yield yield ei(re),re.candidates&&(!((C=re.candidates[0])===null||C===void 0)&&C.content)){z.push(re.candidates[0].content);for(const se of(_=re.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(f<s&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(se.functionCall.name)){const U=yield ei(b.get(se.functionCall.name).callTool([se.functionCall]));G.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(re){L={error:re}}finally{try{!k&&!T&&(R=D.return)&&(yield ei(R.call(D)))}finally{if(L)throw L.error}}if(G.length>0){u=!0;const re=new ef;re.candidates=[{content:{role:"user",parts:G}}],yield yield ei(re);const se=[];se.push(...z),se.push({role:"user",parts:G});const U=Oa(p.apiClient,x.contents).concat(se);x.contents=U}else break}})}(this,d,e)}async generateContentInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=f2(this.apiClient,e);return f=Bt("{model}:generateContent",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=h2(this.apiClient,b),C=new ef;return Object.assign(C,x),C})}else{const p=c2(this.apiClient,e);return f=Bt("{model}:generateContent",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=d2(this.apiClient,b),C=new ef;return Object.assign(C,x),C})}}async generateContentStreamInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=f2(this.apiClient,e);f=Bt("{model}:streamGenerateContent?alt=sse",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const b=this.apiClient;return u=b.requestStream({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(x){return cf(this,arguments,function*(){var C,_,T,L;try{for(var R=!0,E=Ad(x),k;k=yield ei(E.next()),C=k.done,!C;R=!0){L=k.value,R=!1;const V=h2(b,yield ei(L.json())),J=new ef;Object.assign(J,V),yield yield ei(J)}}catch(D){_={error:D}}finally{try{!R&&!C&&(T=E.return)&&(yield ei(T.call(E)))}finally{if(_)throw _.error}}})})}else{const p=c2(this.apiClient,e);f=Bt("{model}:streamGenerateContent?alt=sse",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const b=this.apiClient;return u=b.requestStream({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(x){return cf(this,arguments,function*(){var C,_,T,L;try{for(var R=!0,E=Ad(x),k;k=yield ei(E.next()),C=k.done,!C;R=!0){L=k.value,R=!1;const V=d2(b,yield ei(L.json())),J=new ef;Object.assign(J,V),yield yield ei(J)}}catch(D){_={error:D}}finally{try{!R&&!C&&(T=E.return)&&(yield ei(T.call(E)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Dw(this.apiClient,e);return f=Bt("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=RS(this.apiClient,b),C=new H1;return Object.assign(C,x),C})}else{const p=Y_(this.apiClient,e);return f=Bt("{model}:batchEmbedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=dS(this.apiClient,b),C=new H1;return Object.assign(C,x),C})}}async generateImagesInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Rw(this.apiClient,e);return f=Bt("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=OS(this.apiClient,b),C=new G1;return Object.assign(C,x),C})}else{const p=J_(this.apiClient,e);return f=Bt("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=mS(this.apiClient,b),C=new G1;return Object.assign(C,x),C})}}async editImageInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=zw(this.apiClient,e);return s=Bt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=US(this.apiClient,d),b=new Qb;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=jw(this.apiClient,e);return s=Bt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=FS(this.apiClient,d),b=new e3;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Hw(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Zp(this.apiClient,b))}else{const p=K_(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>Kp(this.apiClient,b))}}async listInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Yw(this.apiClient,e);return f=Bt("{models_url}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=VS(this.apiClient,b),C=new Y1;return Object.assign(C,x),C})}else{const p=$_(this.apiClient,e);return f=Bt("{models_url}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=vS(this.apiClient,b),C=new Y1;return Object.assign(C,x),C})}}async update(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Jw(this.apiClient,e);return f=Bt("{model}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Zp(this.apiClient,b))}else{const p=Q_(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>Kp(this.apiClient,b))}}async delete(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Kw(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(()=>{const b=jS(),x=new W1;return Object.assign(x,b),x})}else{const p=ew(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(()=>{const b=yS(),x=new W1;return Object.assign(x,b),x})}}async countTokens(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=$w(this.apiClient,e);return f=Bt("{model}:countTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=HS(this.apiClient,b),C=new J1;return Object.assign(C,x),C})}else{const p=nw(this.apiClient,e);return f=Bt("{model}:countTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=bS(this.apiClient,b),C=new J1;return Object.assign(C,x),C})}}async computeTokens(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=Xw(this.apiClient,e);return s=Bt("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=GS(this.apiClient,d),b=new t3;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=eS(this.apiClient,e);return f=Bt("{model}:predictLongRunning",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>KS(this.apiClient,b))}else{const p=aw(this.apiClient,e);return f=Bt("{model}:predictLongRunning",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>SS(this.apiClient,b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(r,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function _A(r,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function wA(r,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["operationName"],i);const o=m(e,["resourceName"]);o!=null&&g(t,["_url","resourceName"],o);const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function SA(r,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const o=m(e,["video","encodedVideo"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function AA(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],SA(r,i)),t}function CA(r,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>AA(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function TA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response","generateVideoResponse"]);return f!=null&&g(t,["response"],CA(r,f)),t}function NA(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const o=m(e,["bytesBase64Encoded"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function EA(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],NA(r,i)),t}function LA(r,e){const t={},i=m(e,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>EA(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function b2(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],LA(r,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends gf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=_A(this.apiClient,e);return f=Bt("{operationName}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>b2(this.apiClient,b))}else{const p=xA(this.apiClient,e);return f=Bt("{operationName}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>TA(this.apiClient,b))}}async fetchPredictVideosOperationInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=wA(this.apiClient,e);return s=Bt("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>b2(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function DA(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);return t!==void 0&&u!=null&&g(t,["_query","filter"],u),i}function IA(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],DA(r,i,t)),t}function RA(r,e){const t={},i=m(e,["textInput"]);i!=null&&g(t,["textInput"],i);const o=m(e,["output"]);return o!=null&&g(t,["output"],o),t}function PA(r,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>RA(r,s))),g(t,["examples","examples"],o)}return t}function OA(r,e,t){const i={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=m(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&g(t,["displayName"],o),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(e,["epochCount"]);t!==void 0&&s!=null&&g(t,["tuningTask","hyperparameters","epochCount"],s);const u=m(e,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=m(e,["batchSize"]);t!==void 0&&f!=null&&g(t,["tuningTask","hyperparameters","batchSize"],f);const d=m(e,["learningRate"]);return t!==void 0&&d!=null&&g(t,["tuningTask","hyperparameters","learningRate"],d),i}function UA(r,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["trainingDataset"]);o!=null&&g(t,["tuningTask","trainingData"],PA(r,o));const s=m(e,["config"]);return s!=null&&g(t,["config"],OA(r,s,t)),t}function FA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function BA(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);return t!==void 0&&u!=null&&g(t,["_query","filter"],u),i}function qA(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],BA(r,i,t)),t}function zA(r,e,t){const i={},o=m(e,["gcsUri"]);if(t!==void 0&&o!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],o),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function VA(r,e){const t={},i=m(e,["gcsUri"]);return i!=null&&g(t,["validationDatasetUri"],i),t}function jA(r,e,t){const i={},o=m(e,["validationDataset"]);t!==void 0&&o!=null&&g(t,["supervisedTuningSpec"],VA(r,o));const s=m(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&g(t,["tunedModelDisplayName"],s);const u=m(e,["description"]);t!==void 0&&u!=null&&g(t,["description"],u);const f=m(e,["epochCount"]);t!==void 0&&f!=null&&g(t,["supervisedTuningSpec","hyperParameters","epochCount"],f);const d=m(e,["learningRateMultiplier"]);t!==void 0&&d!=null&&g(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const p=m(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&g(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const b=m(e,["adapterSize"]);if(t!==void 0&&b!=null&&g(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function HA(r,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["trainingDataset"]);o!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],zA(r,o,t));const s=m(e,["config"]);return s!=null&&g(t,["config"],jA(r,s,t)),t}function GA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["model"],i);const o=m(e,["name"]);return o!=null&&g(t,["endpoint"],o),t}function g5(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["state"]);o!=null&&g(t,["state"],Q2(r,o));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const u=m(e,["tuningTask","startTime"]);u!=null&&g(t,["startTime"],u);const f=m(e,["tuningTask","completeTime"]);f!=null&&g(t,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&g(t,["updateTime"],d);const p=m(e,["description"]);p!=null&&g(t,["description"],p);const b=m(e,["baseModel"]);b!=null&&g(t,["baseModel"],b);const x=m(e,["_self"]);x!=null&&g(t,["tunedModel"],GA(r,x));const C=m(e,["distillationSpec"]);C!=null&&g(t,["distillationSpec"],C);const _=m(e,["experiment"]);_!=null&&g(t,["experiment"],_);const T=m(e,["labels"]);T!=null&&g(t,["labels"],T);const L=m(e,["pipelineJob"]);L!=null&&g(t,["pipelineJob"],L);const R=m(e,["serviceAccount"]);R!=null&&g(t,["serviceAccount"],R);const E=m(e,["tunedModelDisplayName"]);return E!=null&&g(t,["tunedModelDisplayName"],E),t}function YA(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>g5(r,u))),g(t,["tuningJobs"],s)}return t}function WA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);return u!=null&&g(t,["error"],u),t}function JA(r,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const o=m(e,["epoch"]);o!=null&&g(t,["epoch"],o);const s=m(e,["step"]);s!=null&&g(t,["step"],s);const u=m(e,["endpoint"]);return u!=null&&g(t,["endpoint"],u),t}function KA(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],i);const o=m(e,["endpoint"]);o!=null&&g(t,["endpoint"],o);const s=m(e,["checkpoints"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>JA(r,f))),g(t,["checkpoints"],u)}return t}function Qp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["state"]);o!=null&&g(t,["state"],Q2(r,o));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const u=m(e,["startTime"]);u!=null&&g(t,["startTime"],u);const f=m(e,["endTime"]);f!=null&&g(t,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&g(t,["updateTime"],d);const p=m(e,["error"]);p!=null&&g(t,["error"],p);const b=m(e,["description"]);b!=null&&g(t,["description"],b);const x=m(e,["baseModel"]);x!=null&&g(t,["baseModel"],x);const C=m(e,["tunedModel"]);C!=null&&g(t,["tunedModel"],KA(r,C));const _=m(e,["supervisedTuningSpec"]);_!=null&&g(t,["supervisedTuningSpec"],_);const T=m(e,["tuningDataStats"]);T!=null&&g(t,["tuningDataStats"],T);const L=m(e,["encryptionSpec"]);L!=null&&g(t,["encryptionSpec"],L);const R=m(e,["partnerModelTuningSpec"]);R!=null&&g(t,["partnerModelTuningSpec"],R);const E=m(e,["distillationSpec"]);E!=null&&g(t,["distillationSpec"],E);const k=m(e,["experiment"]);k!=null&&g(t,["experiment"],k);const D=m(e,["labels"]);D!=null&&g(t,["labels"],D);const V=m(e,["pipelineJob"]);V!=null&&g(t,["pipelineJob"],V);const J=m(e,["serviceAccount"]);J!=null&&g(t,["serviceAccount"],J);const ee=m(e,["tunedModelDisplayName"]);return ee!=null&&g(t,["tunedModelDisplayName"],ee),t}function ZA(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Qp(r,u))),g(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $A extends gf{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Vd(rc.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Hp.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=FA(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Qp(this.apiClient,b))}else{const p=kA(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>g5(this.apiClient,b))}}async listInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=qA(this.apiClient,e);return f=Bt("tuningJobs",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const x=ZA(this.apiClient,b),C=new K1;return Object.assign(C,x),C})}else{const p=IA(this.apiClient,e);return f=Bt("tunedModels",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const x=YA(this.apiClient,b),C=new K1;return Object.assign(C,x),C})}}async tuneInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=HA(this.apiClient,e);return s=Bt("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Qp(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UA(this.apiClient,e);return s=Bt("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>WA(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XA{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QA=1024*1024*8,eC=3,tC=1e3,nC=2,hp="x-goog-upload-status";async function iC(r,e,t){var i,o,s;let u=0,f=0,d=new Gp(new Response),p="upload";for(u=r.size;f<u;){const x=Math.min(QA,u-f),C=r.slice(f,f+x);f+x>=u&&(p+=", finalize");let _=0,T=tC;for(;_<eC&&(d=await t.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(f),"Content-Length":String(x)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[hp]));)_++,await aC(T),T=T*nC;if(f+=x,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[hp])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const b=await(d==null?void 0:d.json());if(((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s[hp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return b.file}async function rC(r){return{size:r.size,type:r.type}}function aC(r){return new Promise(e=>setTimeout(e,r))}class oC{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iC(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC{create(e,t,i){return new lC(e,t,i)}}class lC{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x2="x-goog-api-key";class uC{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(x2)===null&&e.append(x2,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cC="gl-node/";class fC{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Xb(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new uC(this.apiKey);this.apiClient=new iA({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:cC+"web",uploader:new oC,downloader:new XA}),this.models=new bA(this.apiClient),this.live=new pA(this.apiClient,o,new sC),this.chats=new b4(this.models,this.apiClient),this.caches=new g4(this.apiClient),this.files=new D4(this.apiClient),this.operations=new MA(this.apiClient),this.tunings=new $A(this.apiClient)}}const dC=()=>{const r=localStorage.getItem(S2);if(!r)return[];try{return JSON.parse(r).map(e=>({...e,timestamp:new Date(e.timestamp),lastAttemptTimestamp:e.lastAttemptTimestamp?new Date(e.lastAttemptTimestamp):void 0,errorInfo:e.errorInfo?{...e.errorInfo,history:(e.errorInfo.history||[]).map(t=>({...t,timestamp:new Date(t.timestamp)}))}:void 0}))}catch(e){return console.error("Error parsing offline queue from localStorage:",e),[]}},hC=r=>{try{localStorage.setItem(S2,JSON.stringify(r))}catch(e){console.error("Error saving offline queue to localStorage:",e)}},v5=r=>{const e=r.message||"Unknown error",t=r.status||r.code;return navigator.onLine?e.includes("API key not valid")||t===400&&e.toLowerCase().includes("api key")?{type:"API_KEY_INVALID",message:`API Key Error: ${e}`}:e.includes("quota")||t===429?{type:"QUOTA_EXCEEDED",message:`Quota Exceeded: ${e}`}:e.toLowerCase().includes("fetch")||e.toLowerCase().includes("networkerror")||e.toLowerCase().includes("failed to connect")?{type:"NO_CONNECTION",message:`Network Error: ${e}`}:t===503||t===500||e.toLowerCase().includes("service unavailable")||e.toLowerCase().includes("internal error")?{type:"MODEL_UNAVAILABLE",message:`LLM Service Unavailable (${t||"N/A"}): ${e}`}:r.name==="GoogleGenerativeAIError"||e.toLowerCase().includes("gemini")||e.toLowerCase().includes("google generative ai")?{type:"GEMINI_API_ERROR",message:`Gemini API Error: ${e}`}:{type:"UNKNOWN",message:`Unknown Error: ${e}`}:{type:"NO_CONNECTION",message:"No internet connection detected."}},pC=r=>["NO_CONNECTION","API_KEY_INVALID","QUOTA_EXCEEDED","MODEL_UNAVAILABLE","GEMINI_API_ERROR","UNKNOWN"].includes(r),_2=(r,e,t,i,o)=>{const s={id:ts(),timestamp:new Date,type:"sendMessageToAI",payload:r,status:"pending",attempts:0,errorInfo:{type:e,message:t,history:[{timestamp:new Date,type:e,message:t}]},originalMessageId:o};return i(u=>[...u,s]),s},mC=async(r,e,t,i,o,s)=>{if(!e){const x={type:"GEMINI_API_ERROR",message:"Chat session not initialized for retry."};r.attempts+1>=mp?s(r.id,{type:"MAX_ATTEMPTS_REACHED",message:`Max attempts reached. Last error: ${x.message}`}):o(r.id,x);return}const{messageText:u,audioBase64:f,audioMimeType:d}=r.payload,p=JSON.stringify(t),b=[];b.push({text:`Contexto de Base de Datos (NO MOSTRAR AL USUARIO, USAR PARA REFERENCIA INTERNA):
${p}`}),f&&d?(b.push({inlineData:{data:f,mimeType:d}}),u&&u.trim()!==""&&u!=="Comando de voz grabado (procesando...)"&&b.push({text:`

Comando del Usuario (puede ser transcripción de audio o texto directo):
${u}`})):b.push({text:`

Comando del Usuario:
${u}`});try{const x=await e.sendMessage({message:b});i(r.id,x.text,x)}catch(x){const C=v5(x);r.attempts+1>=mp?s(r.id,{type:"MAX_ATTEMPTS_REACHED",message:`Max attempts reached. Last error (${C.type}): ${C.message}`}):o(r.id,C)}},pp=r=>r.toLowerCase().replace(/[\s_-]+/g,""),gC=r=>{const e=pp(r.substring(0,r.lastIndexOf(".")));for(const t of ns){const i=jr[t];if(e.includes(pp(t))||i&&e.includes(pp(i)))return t}return e.includes("cliente")?"clients":e.includes("usuario")?"users":e.includes("contratista")?"contractors":e.includes("personal")||e.includes("empleado")?"personnel":e.includes("maquinaria")||e.includes("maquina")?"machineries":e.includes("campo")||e.includes("finca")?"fields":e.includes("lote")?"lots":e.includes("parcela")?"parcels":e.includes("campana")||e.includes("campaña")?"campaigns":e.includes("tipotarea")||e.includes("taskslist")||e.includes("tasklist")?"tasksList":e.includes("producto")||e.includes("insumo")?"productsInsumes":null},vC=({files:r,onClose:e,onSubmit:t,entityTypes:i})=>{const[o,s]=Qe.useState([]);Qe.useEffect(()=>{s(r.map(p=>{const b=gC(p.name);return{file:p,suggestedType:b,selectedType:b||""}}))},[r]);const u=(p,b)=>{s(x=>x.map((C,_)=>_===p?{...C,selectedType:b}:C))},f=()=>{const p=o.filter(b=>b.selectedType!=="").map(b=>({file:b.file,entityType:b.selectedType}));p.length>0?t(p):alert("Por favor, selecciona un tipo de entidad para al menos un archivo.")},d=o.every(p=>p.selectedType!=="");return Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"multi-csv-modal-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col text-gray-800 dark:text-gray-100",children:[Y.jsx("h2",{id:"multi-csv-modal-title",className:"text-xl font-semibold mb-4 text-green-600 dark:text-green-400",children:"Asignar Tipos a Archivos de Tabla"}),Y.jsxs("div",{className:"overflow-y-auto mb-4 pr-2 flex-grow",children:[o.length===0&&Y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay archivos seleccionados."}),o.map((p,b)=>Y.jsxs("div",{className:"mb-4 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700",children:[Y.jsxs("p",{className:"font-medium text-sm truncate",title:p.file.name,children:["Archivo: ",Y.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:p.file.name})]}),p.suggestedType&&Y.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Sugerencia: ",jr[p.suggestedType]]}),Y.jsx("label",{htmlFor:`entity-type-${b}`,className:"block text-sm font-medium mt-1 mb-1",children:"Seleccionar tipo de entidad:"}),Y.jsxs("select",{id:`entity-type-${b}`,value:p.selectedType,onChange:x=>u(b,x.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-500 rounded-md bg-white dark:bg-gray-600 focus:ring-2 focus:ring-green-500 outline-none",children:[Y.jsx("option",{value:"",children:"-- Seleccionar --"}),i.map(x=>Y.jsx("option",{value:x,children:jr[x]},x))]})]},b))]}),Y.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[Y.jsx("button",{onClick:e,className:"py-2 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-md transition-colors",children:"Cancelar"}),Y.jsx("button",{onClick:f,disabled:!d||o.length===0,className:"py-2 px-4 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Procesar Seleccionados"})]})]})})},yC=({isOpen:r,title:e,message:t,onConfirm:i,onCancel:o,confirmText:s="Confirmar",cancelText:u="Cancelar"})=>r?Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md text-gray-800 dark:text-gray-100",children:[Y.jsx("h2",{id:"confirm-modal-title",className:"text-xl font-semibold mb-4 text-green-600 dark:text-green-400",children:e}),Y.jsx("div",{className:"mb-6 text-sm leading-relaxed",children:t}),Y.jsxs("div",{className:"flex justify-end space-x-3",children:[Y.jsx("button",{onClick:o,className:"py-2 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-md transition-colors","aria-label":u,children:u}),Y.jsx("button",{onClick:i,className:"py-2 px-4 bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors","aria-label":s,children:s})]})]})}):null,bC=({isVoiceModeActive:r,onToggleVoiceMode:e,onDismiss:t})=>Y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 sm:p-6 md:p-8",style:{backgroundImage:"url('/images/Asistente_Virtual_IA.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},role:"dialog","aria-modal":"true","aria-labelledby":"welcome-banner-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 bg-opacity-90 dark:bg-opacity-90 p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-3xl text-center transform transition-all duration-500 ease-out scale-100 opacity-100 max-h-[95vh] overflow-y-auto",children:[Y.jsx("div",{className:"flex items-center justify-center mb-6",children:Y.jsxs("h1",{id:"welcome-banner-title",className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white",children:["¡Bienvenido a FarmerChat AI v10.0! ",Y.jsx("span",{role:"img","aria-label":"rocket",children:"🚀"})]})}),Y.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm sm:text-base leading-relaxed",children:"Soy tu asistente virtual para ayudarte a gestionar los registros y tareas de tu actividad agropecuaria de forma sencilla."}),Y.jsxs("div",{className:"text-left bg-gray-100 dark:bg-gray-700 p-4 rounded-lg mb-6",children:[Y.jsx("p",{className:"text-gray-700 dark:text-gray-200 font-semibold mb-2 text-sm sm:text-base",children:"Puedes interactuar conmigo escribiendo comandos como:"}),Y.jsxs("ul",{className:"list-none space-y-2 text-sm text-gray-600 dark:text-gray-300 pl-2",children:[Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"plant",className:"mr-2",children:"🌱"}),' "Crear cliente llamado Finca Verde"']}),Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"clipboard",className:"mr-2",children:"📋"}),' "Listar todas las tareas pendientes para hoy"']}),Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"wheat",className:"mr-2",children:"🌾"}),' "Mostrar los lotes del campo El Progreso"']}),Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"question mark",className:"mr-2",children:"❓"}),' "Ayuda" (para ver más acciones)']})]})]}),Y.jsxs("div",{className:"text-left bg-yellow-50 dark:bg-yellow-900/30 p-4 rounded-lg mb-6",children:[Y.jsx("h3",{className:"font-semibold text-yellow-700 dark:text-yellow-300 mb-2 text-sm sm:text-base",children:"Opciones de Carga y Guardado de Datos:"}),Y.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400 mb-3",children:"Puedes gestionar tus datos usando los botones en la barra superior:"}),Y.jsxs("ul",{className:"list-none space-y-2 text-xs sm:text-sm text-yellow-600 dark:text-yellow-400",children:[Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(gp,{className:"h-4 w-4 mr-2 text-blue-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:"Cargar BD:"})," Carga una base de datos completa desde un archivo JSON. (Botón ",Y.jsxs("span",{className:"inline-flex items-center",children:[Y.jsx(gp,{className:"h-3 w-3 mx-0.5"}),"Cargar BD"]}),")"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(vp,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-green-600 dark:text-green-400",children:"Guardar BD:"})," Guarda la base de datos actual en un archivo JSON. (Botón ",Y.jsxs("span",{className:"inline-flex items-center",children:[Y.jsx(vp,{className:"h-3 w-3 mx-0.5"}),"Guardar BD"]}),")"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(bp,{className:"h-4 w-4 mr-2 text-purple-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"Cargar Tablas:"})," Sube varios archivos CSV (tablas) a la vez. (Botón ",Y.jsxs("span",{className:"inline-flex items-center",children:[Y.jsx(bp,{className:"h-3 w-3 mx-0.5"}),"Tablas"]}),")"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(xp,{className:"h-4 w-4 mr-2 text-teal-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-teal-600 dark:text-teal-400",children:"Guardar Tablas:"})," Guarda todas las tablas actuales en archivos CSV individuales. (Botón ",Y.jsxs("span",{className:"inline-flex items-center",children:[Y.jsx(xp,{className:"h-3 w-3 mx-0.5"}),"Tablas"]}),")"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(yp,{className:"h-4 w-4 mr-2 text-yellow-700 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-yellow-800 dark:text-yellow-500",children:"Cargar Tabla:"})," Importa datos para una tabla específica desde un archivo CSV. (Botón ",Y.jsxs("span",{className:"inline-flex items-center",children:[Y.jsx(yp,{className:"h-3 w-3 mx-0.5"}),"Tabla"]}),")"]})]})]}),Y.jsxs("p",{className:"text-xs text-yellow-500 dark:text-yellow-600 mt-2",children:["No olvides la opción de ",Y.jsx("strong",{className:"text-red-600 dark:text-red-400",children:"Borrar BD"})," para limpiar todos los datos (¡con confirmación!)."]})]}),Y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg mb-8 text-sm",children:[Y.jsxs("p",{className:"text-blue-700 dark:text-blue-300 flex items-center justify-center",children:[r?Y.jsx(_p,{className:"h-5 w-5 mr-2 text-green-500"}):Y.jsx(wp,{className:"h-5 w-5 mr-2 text-red-500"}),"Modo Voz Interactiva: ",Y.jsx("span",{className:`font-semibold ml-1 ${r?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:r?"ACTIVADO":"DESACTIVADO"}),"."]}),Y.jsxs("p",{className:"text-blue-600 dark:text-blue-400 mt-1",children:["Actívalo/Desactívalo con el icono ",Y.jsx("button",{onClick:e,"aria-label":"Toggle voice mode",className:"inline-block align-middle p-1 bg-gray-200 dark:bg-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",children:r?Y.jsx(_p,{className:"h-4 w-4"}):Y.jsx(wp,{className:"h-4 w-4"})})," en la barra superior para respuestas por voz y activación automática del micrófono."]})]}),Y.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50","aria-label":"Acceder al chat",children:"Acceder al Chat"})]})});var xC={};const _C=8,wC=r=>r?ns.every(e=>!r[e]||r[e].length===0):!0,SC=()=>{var _i;const[r,e]=Qe.useState(tp),[t,i]=Qe.useState([]),[o,s]=Qe.useState(!1),[u,f]=Qe.useState(null),[d,p]=Qe.useState(null),[b,x]=Qe.useState(null),[C,_]=Qe.useState("dark"),[T,L]=Qe.useState(!1),R=Qe.useRef(null),E=Qe.useRef(null),[k,D]=Qe.useState(!1),[V,J]=Qe.useState([]),ee=Qe.useRef([]),G=Qe.useRef(!1),[z,re]=Qe.useState(50),[se,U]=Qe.useState(!1),I=Qe.useRef(null),[te,ne]=Qe.useState(window.innerWidth>=768),[ye,F]=Qe.useState(!1),[K,ie]=Qe.useState(!0),[ae,O]=Qe.useState(!1),[ce,M]=Qe.useState(null),[j,X]=Qe.useState([]),le=Qe.useRef(null),ue=Qe.useRef([]);Qe.useEffect(()=>{hC(j),ue.current=j},[j]);const we=Le=>{M(Le),O(!0)},xe=()=>{O(!1),M(null)};Qe.useEffect(()=>{const Le=()=>{const Re=window.innerWidth>=768;ne(Re),Re&&I.current&&re(Ue=>Ue===100||Ue===0?50:Ue)};return window.addEventListener("resize",Le),Le(),()=>window.removeEventListener("resize",Le)},[]),Qe.useEffect(()=>{const Le=localStorage.getItem("theme");Le?(_(Le),Le==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")):document.documentElement.classList.add("dark")},[]);const pe=Qe.useCallback((Le,Re,Ue=!1,Be,Je,it,dt)=>{const Lt={id:ts(),text:Le,sender:Re,timestamp:new Date,isError:Ue,groupedData:Be,rawLLMResponse:Je,isLoading:Re==="ai"&&!Le,relatedOfflineRequestId:it,actionType:dt};i(pt=>[...pt,Lt]),Be?f(Be):Re==="user"&&(f(null),ae&&xe()),Re==="system"&&T&&Le&&!Ue&&Xe(Le),!(Re==="system"&&(Le.startsWith("Cargando base de datos")||Le.startsWith("Base de datos de prueba cargada")||Le.startsWith("Se corrigió la estructura")||Le.startsWith("Base de datos borrada exitosamente")||Le.startsWith("Si necesita una base de datos de prueba")||Le.startsWith("Historial de chat")||Le.includes("solicitud encolada")||Le.includes("solicitudes pendientes")||Le.includes("ubicación seleccionada")||Le.includes("Error de Configuración (API Key)")||Le.includes("ha sido guardado")))&&K&&ie(!1)},[T,K,ae]),Ye=Qe.useCallback(async(Le=!0)=>{try{Le&&pe("Verificando base de datos local...","system");const Re=await fetch("/BD_testing.json");if(!Re.ok)throw new Error(`Error al cargar BD_testing.json: ${Re.statusText} (status: ${Re.status})`);const Ue=await Re.json();let Be=!0;for(const it of ns)if(!Array.isArray(Ue[it])){Be=!1,console.warn(`BD_testing.json: Falta o es inválido el array para la entidad ${it}.`),Le||pe(`Error en BD_testing.json: Falta o es inválida la entidad '${jr[it]||it}'. No se pudo cargar.`,"system",!0);return}if(!Be)throw new Error("El archivo BD_testing.json no tiene la estructura esperada.");e(Ue),localStorage.setItem(po,JSON.stringify(Ue)),f(null),ae&&xe(),pe(Le?"Base de datos local no encontrada o inválida, se cargó la BD de prueba.":"Base de datos de prueba cargada exitosamente.","system")}catch(Re){console.error("Error cargando la base de datos de prueba:",Re),pe(`Error al cargar la base de datos de prueba: ${Re.message}`,"system",!0)}},[pe,ae]);Qe.useEffect(()=>{const Le=localStorage.getItem(po);if(Le)try{const Re=JSON.parse(Le);if(wC(Re))console.log("LocalStorage DB está vacía o es inválida, cargando BD_testing.json"),Ye(!0);else{let Ue=!0;const Be={};for(const Je of ns)Array.isArray(Re[Je])?Be[Je]=Re[Je]:(Ue=!1,console.warn(`LocalStorage: Falta o es inválido el array para la entidad ${Je}. Usando array vacío para esta clave.`),Be[Je]=tp[Je]||[]);e(Be),Ue||(localStorage.setItem(po,JSON.stringify(Be)),pe("Se corrigió la estructura de la base de datos local.","system"))}}catch(Re){console.error("Error al parsear la BD almacenada, cargando BD_testing.json:",Re),Ye(!0)}else console.log("LocalStorage vacío, cargando BD_testing.json"),Ye(!0);t.length===0&&pe("¡Bienvenido a Gestor de Trabajos Agro Aereo Roberts AI! Escribe 'Ayuda' para ver ejemplos de comandos o utiliza los botones superiores para gestionar tus datos.","system")},[]);const We=()=>{F(!0)},rt=()=>{e(tp),localStorage.removeItem(po),f(null),ae&&xe(),pe("Base de datos borrada exitosamente.","system"),F(!1)},lt=()=>{F(!1)},Nt=()=>{_(Le=>{const Re=Le==="light"?"dark":"light";return localStorage.setItem("theme",Re),Re==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),Re})},Oe=()=>{T&&window.speechSynthesis.speaking&&(console.log("User interrupted speech. Cancelling synthesis and clearing queue."),window.speechSynthesis.cancel(),ee.current=[],G.current=!1)},de=Le=>{L(Re=>{const Ue=typeof Le=="boolean"?Le:!Re;return Ue||(window.speechSynthesis.speaking&&window.speechSynthesis.cancel(),ee.current=[],G.current=!1),Ue})},ht=Qe.useCallback(()=>{if(G.current||ee.current.length===0||!T){if(ee.current.length===0&&!G.current&&T&&R.current){const Re=t[t.length-1];Re&&(Re.sender==="ai"||Re.sender==="system")&&!Re.isError&&!Re.isLoading&&(["¿qué más puedo hacer por ti?","¿en qué más te puedo ayudar?","¿algo más?","sugerencias","¿es correcto?","¿quieres ver más?","activado.","para poder continuar","encolado","procesada con éxito","falló"].some(Je=>Re.text.toLowerCase().includes(Je.toLowerCase()))||Re.groupedData)&&(console.log("Speech queue empty, last AI/System message seems to prompt for input. Triggering mic."),R.current.triggerStartRecording())}return}G.current=!0;const Le=ee.current.shift();if(Le){const Re=Le.onend;Le.onend=function(Be){G.current=!1,typeof Re=="function"&&Re.call(this,Be),ht()};const Ue=Le.onerror;Le.onerror=function(Be){Be.error==="interrupted"?console.log("SpeechSynthesisUtterance: Speech was interrupted.",Be):(console.error("SpeechSynthesisUtterance.onerror - Error reason:",Be.error,"Full event details:",Be),pe(`Error al reproducir voz: ${Be.error}`,"system",!0)),G.current=!1,typeof Ue=="function"&&Ue.call(this,Be),ht()},window.speechSynthesis.speak(Le)}else G.current=!1,ht()},[pe,t,T]),Xe=Qe.useCallback((Le,Re)=>{if(!T||!Le){Re&&Re(),ht();return}const Ue=new SpeechSynthesisUtterance(Le);Ue.lang="es-ES",Re&&(Ue.onend=Re),ee.current.push(Ue),ht()},[T,ht]),Ke=Qe.useCallback((Le,Re)=>{if(!T||!Le||Le.length===0){Re&&Re(),ht();return}let Ue="";Le.forEach(Be=>{Ue+=`${Be.groupTitle}. `,Be.items.length>0?Be.items.forEach(Je=>{let it="";const dt=Nd([Je]),Lt=Je.name||Je.taskName||(Je.id&&dt.length<=2?`ID ${Je.id}`:null);Lt?it+=`${Lt}. `:Je.id?it+=`Elemento con ID ${Je.id}. `:it+="Siguiente elemento. ",dt.forEach(bt=>{const pt=bt.toLowerCase();if(!((pt==="name"||pt==="taskname"||pt==="title")&&Lt)&&!(pt==="id"&&(Lt||Je.id))&&Je[bt]!==void 0&&Je[bt]!==null&&String(Je[bt]).trim()!==""){const At=Je[bt];let kn="";typeof At=="boolean"?kn=At?"Sí":"No":typeof At=="object"?kn="tiene datos complejos asociados":kn=String(At);const Gt=bt.replace(/([A-Z])/g," $1").replace(/_/g," ").toLowerCase();it+=`${Gt}: ${kn}. `}}),Ue+=it.trim()+" "}):Ue+="No se encontraron elementos. "}),Ue.trim()?Xe(Ue.trim(),Re):(Re&&Re(),ht())},[T,ht,Xe]);Qe.useEffect(()=>{let Le,Re="";try{const Ue="AIzaSyD70AKVXoTfWc1fmPc_OBsO8uAaX_5OiBY";Ue&&Ue!=="YOUR_GEMINI_API_KEY_PLACEHOLDER"&&Ue!=="AQUI_VA_TU_CLAVE_API_DE_GEMINI"&&String(Ue).trim()!==""&&(Le=String(Ue).trim(),Re="VITE_API_KEY (import.meta.env)")}catch(Ue){console.warn("Could not access import.meta.env for VITE_API_KEY. This is expected in non-Vite environments.",Ue)}if(!Le){const Ue=xC.API_KEY;Ue&&Ue!=="YOUR_GEMINI_API_KEY_PLACEHOLDER"&&Ue!=="AQUI_VA_TU_CLAVE_API_DE_GEMINI"&&Ue.trim()!==""&&(Le=Ue.trim(),Re="process.env.API_KEY")}if(!Le){const Ue="Error de Configuración: La clave API para Gemini no está configurada o es un placeholder. Por favor, asegúrese de que VITE_API_KEY (para entornos Vite) o process.env.API_KEY (para otros entornos) esté correctamente configurada. La funcionalidad de IA no estará disponible. Contacte al administrador. Puede guardar su historial de chat actual.";console.error("API Key for Gemini is missing or is a placeholder. Checked import.meta.env.VITE_API_KEY and process.env.API_KEY."),pe(Ue,"system",!0);return}console.log(`Using API Key from: ${Re}`);try{const Ue=new fC({apiKey:Le});p(Ue);const Be=Ue.chats.create({model:Rv,config:{systemInstruction:Ov,temperature:.3,topK:30,topP:.85}});x(Be)}catch(Ue){console.error("Error initializing Gemini Service:",Ue),pe(`Error al inicializar el servicio de IA: ${Ue.message}. Puede guardar su historial de chat actual.`,"system",!0)}},[pe]);const et=async(Le,Re)=>{const Ue=new FileReader;Ue.onload=async Be=>{var Je;try{const it=(Je=Be.target)==null?void 0:Je.result;if(pe("Si necesita una base de datos de prueba, comuníquese con el administrador de la aplicación.","system"),Re==="json_db"){const dt=JSON.parse(it);let Lt=!0;for(const bt of ns)if(!Array.isArray(dt[bt])){Lt=!1,pe(`Error en archivo de base de datos importado: Falta o es inválida la entidad '${jr[bt]||bt}'.`,"system",!0);break}Lt&&(e(dt),localStorage.setItem(po,JSON.stringify(dt)),pe("Base de datos importada correctamente desde el archivo.","system"),f(null),ae&&xe())}else{const dt=bg(it,Re);dt.length>0?(e(Lt=>{const bt={...Lt,[Re]:dt};return localStorage.setItem(po,JSON.stringify(bt)),bt}),pe(`Datos para '${jr[Re]}' importados desde el archivo de tabla. ${dt.length} registros cargados.`,"system"),f(null),ae&&xe()):pe(`No se pudieron procesar datos válidos del archivo de tabla para '${jr[Re]}'. Verifique el formato y encabezados.`,"system",!0)}}catch(it){console.error("Error processing file:",it),pe(`Error al procesar el archivo: ${it.message}`,"system",!0)}},Ue.readAsText(Le)},at=Le=>{J(Le),D(!0)},ot=Le=>{if(D(!1),Le.length===0){pe("No se seleccionaron archivos para procesar.","system");return}pe(`Iniciando importación de ${Le.length} archivo(s) de tabla...`,"system");let Re={...r},Ue=!1,Be=!0;const Je=Le.map(async({file:it,entityType:dt})=>{try{const Lt=await it.text(),bt=bg(Lt,dt);bt.length>0?(Re={...Re,[dt]:bt},Ue=!0,pe(`Archivo de tabla '${it.name}' (${jr[dt]}): ${bt.length} registros cargados.`,"system")):(pe(`Archivo de tabla '${it.name}' (${jr[dt]}): No se procesaron datos válidos.`,"system",!0),Be=!1)}catch(Lt){console.error(`Error processing file ${it.name}:`,Lt),pe(`Error al procesar archivo de tabla '${it.name}': ${Lt.message}`,"system",!0),Be=!1}});Promise.all(Je).then(()=>{Ue?(e(Re),localStorage.setItem(po,JSON.stringify(Re)),f(null),ae&&xe(),pe(`Importación Múltiple: ${Be?"Todos los archivos de tabla seleccionados fueron procesados.":"Algunos archivos de tabla tuvieron problemas durante el procesamiento. Revisa los mensajes anteriores."}`,"system",!Be)):Be?pe("Importación Múltiple: No se realizaron cambios en la base de datos.","system"):pe("Importación Múltiple: Ningún archivo de tabla pudo ser procesado exitosamente.","system",!0)})},_t=Le=>{if(Le==="json_db"){const Re=JSON.stringify(r,null,2),Ue=new Blob([Re],{type:"application/json"}),Be=URL.createObjectURL(Ue),Je=document.createElement("a");Je.href=Be,Je.download=`farmerChatDB_v5_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Be),pe("Base de datos exportada a un archivo.","system")}},Ot=()=>{let Le=0;ns.forEach(Re=>{const Ue=r[Re];if(Ue&&Ue.length>0)try{const Be=C2(Ue,Re);if(Be){const Je=new Blob(["\uFEFF"+Be],{type:"text/csv;charset=utf-8;"}),it=URL.createObjectURL(Je),dt=document.createElement("a");dt.href=it;const Lt=Re.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,"");dt.download=`${Lt}_export_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),URL.revokeObjectURL(it),Le++}}catch(Be){console.error(`Error exporting ${Re} to CSV: `,Be),pe(`Error al exportar ${jr[Re]} como tabla (CSV): ${Be.message}`,"system",!0)}}),Le>0?pe(`${Le} tipo(s) de entidad exportados a archivos de tabla (formato CSV).`,"system"):pe("No hay datos para exportar como tablas.","system")},Ht=async()=>{if(t.length===0){pe("No hay historial de chat para guardar.","system"),T&&Xe("No hay historial de chat para guardar.");return}const Le=JSON.stringify(t,null,2),Ue=`farmerchat_historial_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.json`;if(window.showSaveFilePicker)try{const Be=await window.showSaveFilePicker({suggestedName:Ue,types:[{description:"Archivos JSON",accept:{"application/json":[".json"]}}]}),Je=await Be.createWritable();await Je.write(Le),await Je.close(),pe(`Historial de chat guardado en: ${Be.name}`,"system"),T&&Xe("Historial de chat guardado en la ubicación seleccionada.")}catch(Be){Be.name!=="AbortError"?(console.error("Error guardando historial con File System Access API:",Be),pe(`Error al guardar historial: ${Be.message}`,"system",!0),T&&Xe("Error al guardar historial.")):pe("Guardado de historial cancelado por el usuario.","system")}else{const Be=new Blob([Le],{type:"application/json"}),Je=URL.createObjectURL(Be),it=document.createElement("a");it.download=Ue,it.href=Je,document.body.appendChild(it),it.click(),document.body.removeChild(it),URL.revokeObjectURL(Je);const dt=`Historial de chat guardado como '${Ue}'. Generalmente se encuentra en tu carpeta de Descargas.`;pe(dt,"system"),T&&Xe(dt)}},qt=Le=>{const Re=new FileReader;Re.onload=Ue=>{var Be;try{const Je=(Be=Ue.target)==null?void 0:Be.result,it=JSON.parse(Je);if(Array.isArray(it)&&it.every(dt=>typeof dt=="object"&&dt!==null&&"id"in dt&&"sender"in dt&&"text"in dt&&"timestamp"in dt)){const dt=it.map(Lt=>({...Lt,timestamp:new Date(Lt.timestamp),isLoading:Lt.isLoading||!1,isError:Lt.isError||!1,groupedData:Lt.groupedData||void 0,rawLLMResponse:Lt.rawLLMResponse||void 0,relatedOfflineRequestId:Lt.relatedOfflineRequestId||void 0,actionType:Lt.actionType||void 0}));if(i(dt),dt.length>0){const Lt=dt[dt.length-1];Lt.groupedData?f(Lt.groupedData):f(null),ae&&xe()}K&&ie(!1),pe("Historial de chat cargado exitosamente.","system")}else throw new Error("Formato de archivo de historial inválido. Verifique que el archivo no esté corrupto y que sea un historial de Gestor de Trabajos Agro Aereo Roberts.")}catch(Je){console.error("Error cargando historial de chat:",Je),pe(`Error al cargar el historial de chat: ${Je.message}`,"system",!0)}},Re.readAsText(Le)},kt=Le=>{let Re=Le.trim();const Ue=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Be=Re.match(Ue);Be&&Be[2]&&(Re=Be[2].trim());try{const Je=JSON.parse(Re);return Je&&typeof Je.action=="string"&&typeof Je.messageForUser=="string"?Je:(console.warn("Parsed LLM response doesn't match expected structure:",Je),null)}catch(Je){return console.error("Failed to parse LLM JSON response:",Je,"Raw text:",Le),null}},$t=Qe.useCallback((Le,Re)=>{const{action:Ue,entity:Be,data:Je,query:it,messageForUser:dt,groupedData:Lt,rawResponse:bt,followUpAction:pt}=Le;let At=Lt;if(Ue==="LIST_ENTITIES"&&(!At||At.length===0)&&Be&&Array.isArray(Je)&&Je.length>0&&(console.warn("LIST_ENTITIES: LLM response used 'data' field or 'groupedData' was empty. Adapting to 'groupedData' structure."),At=[{groupTitle:jr[Be]||`Listado: ${Be}`,items:Je,count:Je.length,entityType:Be}]),pe(dt,"ai",!1,At,bt,Re,Ue),T&&Xe(dt,()=>{At&&At.length>0&&Ke(At)}),f(At||null),ae&&At){const Gt=At.length>0?{title:At[0].groupTitle,items:At[0].items,entityType:At[0].entityType}:null;Gt?we(Gt):xe()}else ae&&!At&&xe();const kn=Gt=>{e(Gt),localStorage.setItem(po,JSON.stringify(Gt))};switch(Ue){case"CREATE_ENTITY":if(Be&&Je&&!Array.isArray(Je)){const Gt=Je.id||ts(),Hi={...Je,id:Gt};e(rr=>{const xt=rr[Be],cn={...rr,[Be]:[...xt,Hi]};if(Be==="tasks"){const sn=Hi;sn.machineryIds&&sn.machineryIds.length>0&&sn.machineryIds.forEach(_n=>{cn.taskMachineryLinks.push({id:ts(),taskId:Gt,machineryId:_n})}),sn.personnelIds&&sn.personnelIds.length>0&&sn.personnelIds.forEach(_n=>{cn.taskPersonnelLinks.push({id:ts(),taskId:Gt,personnelId:_n})}),sn.productInsumeDetails&&sn.productInsumeDetails.length>0&&sn.productInsumeDetails.forEach(_n=>{cn.taskInsumeLinks.push({id:ts(),taskId:Gt,productInsumeId:_n.id,quantityUsed:_n.quantityUsed,unitUsed:_n.unitUsed})})}return localStorage.setItem(po,JSON.stringify(cn)),cn})}else console.error("CREATE_ENTITY: 'entity' o 'data' faltantes o 'data' es un array.",Le),pe("Error interno procesando CREATE_ENTITY: 'entity' o 'data' inválidos.","system",!0);break;case"UPDATE_ENTITY":Be&&Je&&it&&it.id&&!Array.isArray(Je)?kn({...r,[Be]:r[Be].map(Gt=>Gt.id===it.id?{...Gt,...Je}:Gt)}):(console.error("UPDATE_ENTITY: Faltan 'entity', 'data', 'query', o 'query.id', o 'data' es un array.",Le),pe("Error interno procesando UPDATE_ENTITY: Faltan campos requeridos.","system",!0));break;case"DELETE_ENTITY":Be&&it&&it.id?kn({...r,[Be]:r[Be].filter(Gt=>Gt.id!==it.id)}):(console.error("DELETE_ENTITY: Faltan 'entity', 'query', o 'query.id'.",Le),pe("Error interno procesando DELETE_ENTITY: Faltan campos requeridos.","system",!0));break;case"LIST_ENTITIES":case"GROUPED_QUERY":break;case"TOGGLE_VOICE_MODE":Je&&typeof Je.enable=="boolean"&&de(Je.enable);break;case"ANSWER_QUERY":case"HELP":case"ERROR":case"PROPOSE_OPTIONS":case"CONFIRM_CREATION":case"PROMPT_CREATE_MISSING_ENTITY":break;default:console.warn("Acción LLM desconocida o no manejada:",Ue)}pt&&d&&b&&(pe("Procesando siguiente paso...","system"),setTimeout(()=>{s(!0),$t(pt),s(!1)},500))},[pe,r,b,T,d,ht,Xe,Ke,de,ae]),yt=async(Le,Re,Ue)=>{if(!d||!b){pe("Error: El servicio de IA no está inicializado. Verifica la configuración de la API Key.","system",!0);return}const Be=ts();pe(Le,"user",!1,void 0,void 0,Be);const Je=ts();pe("","ai",!1,void 0,void 0,Je),s(!0);const it=JSON.stringify(r),dt=[];dt.push({text:`Contexto de Base de Datos (NO MOSTRAR AL USUARIO, USAR PARA REFERENCIA INTERNA):
${it}`}),Re&&Ue?(dt.push({inlineData:{data:Re,mimeType:Ue}}),Le&&Le.trim()!==""&&Le!=="Comando de voz grabado (procesando...)"&&dt.push({text:`

Comando del Usuario (puede ser transcripción de audio o texto directo):
${Le}`})):dt.push({text:`

Comando del Usuario:
${Le}`});try{const Lt=await b.sendMessage({message:dt});i(At=>At.filter(kn=>kn.id!==Je));const bt=Lt.text,pt=kt(bt);pt?$t(pt):(pe(`Respuesta no estructurada de la IA: ${bt}`,"ai",!1,void 0,bt),T&&Xe(`Respuesta no estructurada de la IA: ${bt}`))}catch(Lt){console.error("Error sending message to Gemini:",Lt),i(At=>At.filter(kn=>kn.id!==Je));const bt=v5(Lt),pt=`Error al comunicarse con la IA: ${bt.message}`;if(bt.type==="API_KEY_INVALID")if(pe(bt.message,"system",!0),T&&Xe(bt.message),b){const kn=_2({messageText:Le,audioBase64:Re,audioMimeType:Ue},bt.type,bt.message,X,Be),Gt=`Tu comando "${Le.substring(0,30)}..." ha sido guardado. Se intentará procesar automáticamente cuando la configuración de la API Key sea corregida.`;pe(Gt,"system",!1,void 0,void 0,kn.id),T&&Xe(Gt)}else pe("El comando no pudo ser encolado porque el chat no está inicializado debido al error de API Key.","system",!0),T&&Xe("El comando no pudo ser encolado.");else if(pC(bt.type)&&b){pe(pt,"system",!0),T&&Xe(pt);const kn=_2({messageText:Le,audioBase64:Re,audioMimeType:Ue},bt.type,bt.message,X,Be),Gt=`⚠️ Tu mensaje "${Le.substring(0,30)}..." fue ENCOLADO. Razón: ${bt.message.substring(0,50)}. Se reintentará automáticamente.`;pe(Gt,"system",!0,void 0,void 0,kn.id),T&&Xe(`Tu mensaje fue encolado. ${bt.message}`)}else pe(pt,"system",!0),T&&Xe(pt)}finally{s(!1)}},zt=Qe.useCallback(async()=>{if(le.current||!navigator.onLine||!b||!d){navigator.onLine||console.log("Offline Queue: Paused, no connection."),(!b||!d)&&console.log("Offline Queue: Paused, AI service not ready.");return}const Le=ue.current.find(Re=>Re.status==="pending"||Re.status==="processing"&&Re.id!==le.current);Le&&(le.current=Le.id,X(Re=>Re.map(Ue=>Ue.id===Le.id?{...Ue,status:"processing",lastAttemptTimestamp:new Date}:Ue)),pe(`🔄 Reintentando solicitud encolada: "${Le.payload.messageText.substring(0,30)}..." (Intento ${Le.attempts+1})`,"system",!1,void 0,void 0,Le.id),await mC(Le,b,r,(Re,Ue,Be)=>{X(it=>it.map(dt=>dt.id===Re?{...dt,status:"processed"}:dt));const Je=kt(Ue);Je?$t(Je,Re):(pe(`Respuesta (de cola) no estructurada: ${Ue}`,"ai",!1,void 0,Be.text,Re),T&&Xe(`Respuesta de solicitud encolada: ${Ue}`)),le.current=null,pe(`✅ Solicitud encolada "${Le.payload.messageText.substring(0,30)}..." procesada con éxito.`,"system",!1,void 0,void 0,Re),T&&Xe("Solicitud encolada procesada con éxito."),setTimeout(zt,1e3)},(Re,Ue)=>{X(Be=>Be.map(Je=>{var it;return Je.id===Re?{...Je,status:"pending",attempts:Je.attempts+1,errorInfo:{type:Ue.type,message:Ue.message,history:[...((it=Je.errorInfo)==null?void 0:it.history)||[],{timestamp:new Date,type:Ue.type,message:Ue.message}]}}:Je})),le.current=null,pe(`⚠️ Reintento ${Le.attempts+1} falló para "${Le.payload.messageText.substring(0,30)}...". Razón: ${Ue.message}. Se reintentará más tarde.`,"system",!0,void 0,void 0,Re),setTimeout(zt,1e3)},(Re,Ue)=>{X(Be=>Be.map(Je=>{var it;return Je.id===Re?{...Je,status:"failed",errorInfo:{type:Ue.type,message:Ue.message,history:[...((it=Je.errorInfo)==null?void 0:it.history)||[],{timestamp:new Date,type:Ue.type,message:Ue.message}]}}:Je})),le.current=null,pe(`❌ Solicitud encolada "${Le.payload.messageText.substring(0,30)}..." falló permanentemente después de ${mp} intentos. Razón: ${Ue.message}`,"system",!0,void 0,void 0,Re),T&&Xe("Una solicitud encolada falló permanentemente."),setTimeout(zt,1e3)}))},[b,r,$t,pe,T,Xe,d,kt]);Qe.useEffect(()=>{const Le=dC();X(Le);const Re=()=>{pe("Conexión a internet restablecida. Intentando procesar solicitudes pendientes...","system"),T&&Xe("Conexión a internet restablecida."),zt()},Ue=()=>{pe("Se ha perdido la conexión a internet. Las nuevas solicitudes se guardarán para procesar más tarde.","system",!0),T&&Xe("Se ha perdido la conexión a internet.")};window.addEventListener("online",Re),window.addEventListener("offline",Ue);const Be=setInterval(zt,Pv);return()=>{window.removeEventListener("online",Re),window.removeEventListener("offline",Ue),clearInterval(Be)}},[zt,pe,T,Xe]);const st=Qe.useCallback(Le=>{Le.preventDefault(),U(!0)},[]),Vn=Qe.useCallback(()=>{U(!1)},[]),Kt=Qe.useCallback(Le=>{if(!se||!I.current||!te)return;const Re="touches"in Le?Le.touches[0].clientX:Le.clientX,Ue=I.current.getBoundingClientRect();let Be=(Re-Ue.left)/Ue.width*100;Be=Math.max(20,Math.min(80,Be)),re(Be)},[se,te]);return Qe.useEffect(()=>(te&&(document.addEventListener("mousemove",Kt),document.addEventListener("mouseup",Vn),document.addEventListener("touchmove",Kt),document.addEventListener("touchend",Vn)),()=>{document.removeEventListener("mousemove",Kt),document.removeEventListener("mouseup",Vn),document.removeEventListener("touchmove",Kt),document.removeEventListener("touchend",Vn)}),[Kt,Vn,te]),!d&&!b&&!localStorage.getItem(po)?Y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx(nm,{className:"h-12 w-12 text-green-500 animate-spin mx-auto mb-4"}),Y.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Cargando Aplicación..."})]})}):Y.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[K&&Y.jsx(bC,{isVoiceModeActive:T,onToggleVoiceMode:()=>{const Le=!T;de(Le),b&&d&&(pe(`Modo voz interactiva ${Le?"activado":"desactivado"}.`,"ai"),T&&Xe(`Modo voz interactiva ${Le?"activado":"desactivado"}.`))},onDismiss:()=>ie(!1)}),Y.jsx(Yv,{ref:E,onFileUpload:et,onFileExport:_t,onExportToCsvs:Ot,entityTypes:ns,currentTheme:C,onToggleTheme:Nt,isInteractiveVoiceMode:T,onToggleInteractiveVoiceMode:()=>{const Le=!T;de(Le),b&&d&&(pe(`Modo voz interactiva ${Le?"activado":"desactivado"}.`,"ai"),T&&Xe(`Modo voz interactiva ${Le?"activado":"desactivado"}.`))},onMultipleFileUploadRequest:at,onDeleteDatabaseRequest:We,onSaveChatHistory:Ht,onLoadChatHistoryFile:qt,pendingOfflineRequestCount:j.filter(Le=>Le.status==="pending"||Le.status==="processing").length}),Y.jsxs("div",{ref:I,className:`flex-grow flex ${te?"flex-row":"flex-col"} overflow-hidden min-h-0`,children:[Y.jsx("div",{className:`${te?"overflow-hidden":"h-3/5 pb-1"} flex flex-col bg-transition`,style:te?{width:`${z}%`}:{},children:Y.jsx(cy,{ref:R,messages:t,onSendMessage:yt,isLoading:o||le.current!==null,currentDb:r,onBeforeStartRecording:Oe,onViewFullScreen:we})}),te&&Y.jsx("div",{className:"w-2 cursor-col-resize bg-gray-300 dark:bg-gray-700 hover:bg-green-500 dark:hover:bg-green-600 transition-colors duration-150 ease-in-out flex-shrink-0",onMouseDown:st,onTouchStart:st,role:"separator","aria-label":"Redimensionar paneles"}),Y.jsx("div",{className:`${te?"overflow-hidden":"h-2/5 pt-1"} flex flex-col bg-transition`,style:te?{width:`${100-z-_C/(((_i=I.current)==null?void 0:_i.offsetWidth)||1)*100}%`}:{},children:Y.jsx(gb,{database:r,groupedResults:u,onViewFullScreen:we})})]}),k&&Y.jsx(vC,{files:V,onClose:()=>D(!1),onSubmit:ot,entityTypes:ns}),ye&&Y.jsx(yC,{isOpen:ye,title:"Confirmar Borrado de Base de Datos",message:Y.jsxs(Y.Fragment,{children:[Y.jsx("p",{className:"mb-2",children:"¿Estás seguro de que quieres borrar TODA la base de datos local?"}),Y.jsx("p",{className:"font-semibold text-red-500",children:"Esta acción es irreversible y eliminará todos los clientes, campos, tareas y demás registros."}),Y.jsxs("p",{className:"mt-2",children:["Se recomienda ",Y.jsx("strong",{className:"text-yellow-500",children:"Guardar BD"})," como respaldo antes de continuar."]})]}),onConfirm:rt,onCancel:lt,confirmText:"Sí, Borrar Todo",cancelText:"No, Cancelar"}),ae&&ce&&Y.jsx(mb,{isOpen:ae,onClose:xe,title:ce.title,items:ce.items,entityTypeForHeaders:ce.entityType})]})},y5=document.getElementById("root");if(!y5)throw new Error("Could not find root element to mount to");const AC=Iv.createRoot(y5);AC.render(Y.jsx(w2.StrictMode,{children:Y.jsx(SC,{})}));export{Nn as _,_v as c,em as g};
