(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function _v(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return r[i]}})}),t}var Kh={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function Sv(){if(i0)return Zc;i0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var f in o)f!=="key"&&(s[f]=o[f])}else s=o;return o=s.ref,{$$typeof:r,type:i,key:u,ref:o!==void 0?o:null,props:s}}return Zc.Fragment=e,Zc.jsx=t,Zc.jsxs=t,Zc}var r0;function Av(){return r0||(r0=1,Kh.exports=Sv()),Kh.exports}var Y=Av(),Zh={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Cv(){if(a0)return Qt;a0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function C(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,L={};function I(U,ce,M){this.props=U,this.context=ce,this.refs=L,this.updater=M||x}I.prototype.isReactComponent={},I.prototype.setState=function(U,ce){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ce,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=I.prototype;function R(U,ce,M){this.props=U,this.context=ce,this.refs=L,this.updater=M||x}var D=R.prototype=new E;D.constructor=R,T(D,I.prototype),D.isPureReactComponent=!0;var j=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function V(U,ce,M,H,X,le){return M=le.ref,{$$typeof:r,type:U,key:ce,ref:M!==void 0?M:null,props:le}}function z(U,ce){return V(U.type,ce,void 0,void 0,void 0,U.props)}function re(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function ae(U){var ce={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(M){return ce[M]})}var O=/\/+/g;function k(U,ce){return typeof U=="object"&&U!==null&&U.key!=null?ae(""+U.key):ce.toString(36)}function ne(){}function te(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ne,ne):(U.status="pending",U.then(function(ce){U.status==="pending"&&(U.status="fulfilled",U.value=ce)},function(ce){U.status==="pending"&&(U.status="rejected",U.reason=ce)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ve(U,ce,M,H,X){var le=typeof U;(le==="undefined"||le==="boolean")&&(U=null);var ue=!1;if(U===null)ue=!0;else switch(le){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(U.$$typeof){case r:case e:ue=!0;break;case b:return ue=U._init,ve(ue(U._payload),ce,M,H,X)}}if(ue)return X=X(U),ue=H===""?"."+k(U,0):H,j(X)?(M="",ue!=null&&(M=ue.replace(O,"$&/")+"/"),ve(X,ce,M,"",function(pe){return pe})):X!=null&&(re(X)&&(X=z(X,M+(X.key==null||U&&U.key===X.key?"":(""+X.key).replace(O,"$&/")+"/")+ue)),ce.push(X)),1;ue=0;var _e=H===""?".":H+":";if(j(U))for(var xe=0;xe<U.length;xe++)H=U[xe],le=_e+k(H,xe),ue+=ve(H,ce,M,le,X);else if(xe=C(U),typeof xe=="function")for(U=xe.call(U),xe=0;!(H=U.next()).done;)H=H.value,le=_e+k(H,xe++),ue+=ve(H,ce,M,le,X);else if(le==="object"){if(typeof U.then=="function")return ve(te(U),ce,M,H,X);throw ce=String(U),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return ue}function F(U,ce,M){if(U==null)return U;var H=[],X=0;return ve(U,H,"","",function(le){return ce.call(M,le,X++)}),H}function J(U){if(U._status===-1){var ce=U._result;ce=ce(),ce.then(function(M){(U._status===0||U._status===-1)&&(U._status=1,U._result=M)},function(M){(U._status===0||U._status===-1)&&(U._status=2,U._result=M)}),U._status===-1&&(U._status=0,U._result=ce)}if(U._status===1)return U._result.default;throw U._result}var ie=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function oe(){}return Qt.Children={map:F,forEach:function(U,ce,M){F(U,function(){ce.apply(this,arguments)},M)},count:function(U){var ce=0;return F(U,function(){ce++}),ce},toArray:function(U){return F(U,function(ce){return ce})||[]},only:function(U){if(!re(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qt.Component=I,Qt.Fragment=t,Qt.Profiler=o,Qt.PureComponent=R,Qt.StrictMode=i,Qt.Suspense=d,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return K.H.useMemoCache(U)}},Qt.cache=function(U){return function(){return U.apply(null,arguments)}},Qt.cloneElement=function(U,ce,M){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var H=T({},U.props),X=U.key,le=void 0;if(ce!=null)for(ue in ce.ref!==void 0&&(le=void 0),ce.key!==void 0&&(X=""+ce.key),ce)!Q.call(ce,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ce.ref===void 0||(H[ue]=ce[ue]);var ue=arguments.length-2;if(ue===1)H.children=M;else if(1<ue){for(var _e=Array(ue),xe=0;xe<ue;xe++)_e[xe]=arguments[xe+2];H.children=_e}return V(U.type,X,void 0,void 0,le,H)},Qt.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},Qt.createElement=function(U,ce,M){var H,X={},le=null;if(ce!=null)for(H in ce.key!==void 0&&(le=""+ce.key),ce)Q.call(ce,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(X[H]=ce[H]);var ue=arguments.length-2;if(ue===1)X.children=M;else if(1<ue){for(var _e=Array(ue),xe=0;xe<ue;xe++)_e[xe]=arguments[xe+2];X.children=_e}if(U&&U.defaultProps)for(H in ue=U.defaultProps,ue)X[H]===void 0&&(X[H]=ue[H]);return V(U,le,void 0,void 0,null,X)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(U){return{$$typeof:f,render:U}},Qt.isValidElement=re,Qt.lazy=function(U){return{$$typeof:b,_payload:{_status:-1,_result:U},_init:J}},Qt.memo=function(U,ce){return{$$typeof:p,type:U,compare:ce===void 0?null:ce}},Qt.startTransition=function(U){var ce=K.T,M={};K.T=M;try{var H=U(),X=K.S;X!==null&&X(M,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(oe,ie)}catch(le){ie(le)}finally{K.T=ce}},Qt.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Qt.use=function(U){return K.H.use(U)},Qt.useActionState=function(U,ce,M){return K.H.useActionState(U,ce,M)},Qt.useCallback=function(U,ce){return K.H.useCallback(U,ce)},Qt.useContext=function(U){return K.H.useContext(U)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(U,ce){return K.H.useDeferredValue(U,ce)},Qt.useEffect=function(U,ce,M){var H=K.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(U,ce)},Qt.useId=function(){return K.H.useId()},Qt.useImperativeHandle=function(U,ce,M){return K.H.useImperativeHandle(U,ce,M)},Qt.useInsertionEffect=function(U,ce){return K.H.useInsertionEffect(U,ce)},Qt.useLayoutEffect=function(U,ce){return K.H.useLayoutEffect(U,ce)},Qt.useMemo=function(U,ce){return K.H.useMemo(U,ce)},Qt.useOptimistic=function(U,ce){return K.H.useOptimistic(U,ce)},Qt.useReducer=function(U,ce,M){return K.H.useReducer(U,ce,M)},Qt.useRef=function(U){return K.H.useRef(U)},Qt.useState=function(U){return K.H.useState(U)},Qt.useSyncExternalStore=function(U,ce,M){return K.H.useSyncExternalStore(U,ce,M)},Qt.useTransition=function(){return K.H.useTransition()},Qt.version="19.1.0",Qt}var o0;function Zp(){return o0||(o0=1,Zh.exports=Cv()),Zh.exports}var $e=Zp();const v2=Kp($e);var $h={exports:{}},$c={},Xh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function Tv(){return s0||(s0=1,function(r){function e(F,J){var ie=F.length;F.push(J);e:for(;0<ie;){var oe=ie-1>>>1,U=F[oe];if(0<o(U,J))F[oe]=J,F[ie]=U,ie=oe;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var J=F[0],ie=F.pop();if(ie!==J){F[0]=ie;e:for(var oe=0,U=F.length,ce=U>>>1;oe<ce;){var M=2*(oe+1)-1,H=F[M],X=M+1,le=F[X];if(0>o(H,ie))X<U&&0>o(le,H)?(F[oe]=le,F[X]=ie,oe=X):(F[oe]=H,F[M]=ie,oe=M);else if(X<U&&0>o(le,ie))F[oe]=le,F[X]=ie,oe=X;else break e}}return J}function o(F,J){var ie=F.sortIndex-J.sortIndex;return ie!==0?ie:F.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var d=[],p=[],b=1,w=null,C=3,x=!1,T=!1,L=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function j(F){for(var J=t(p);J!==null;){if(J.callback===null)i(p);else if(J.startTime<=F)i(p),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(p)}}function K(F){if(L=!1,j(F),!T)if(t(d)!==null)T=!0,Q||(Q=!0,k());else{var J=t(p);J!==null&&ve(K,J.startTime-F)}}var Q=!1,V=-1,z=5,re=-1;function ae(){return I?!0:!(r.unstable_now()-re<z)}function O(){if(I=!1,Q){var F=r.unstable_now();re=F;var J=!0;try{e:{T=!1,L&&(L=!1,R(V),V=-1),x=!0;var ie=C;try{t:{for(j(F),w=t(d);w!==null&&!(w.expirationTime>F&&ae());){var oe=w.callback;if(typeof oe=="function"){w.callback=null,C=w.priorityLevel;var U=oe(w.expirationTime<=F);if(F=r.unstable_now(),typeof U=="function"){w.callback=U,j(F),J=!0;break t}w===t(d)&&i(d),j(F)}else i(d);w=t(d)}if(w!==null)J=!0;else{var ce=t(p);ce!==null&&ve(K,ce.startTime-F),J=!1}}break e}finally{w=null,C=ie,x=!1}J=void 0}}finally{J?k():Q=!1}}}var k;if(typeof D=="function")k=function(){D(O)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=O,k=function(){te.postMessage(null)}}else k=function(){E(O,0)};function ve(F,J){V=E(function(){F(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var J=3;break;default:J=C}var ie=C;C=J;try{return F()}finally{C=ie}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=C;C=F;try{return J()}finally{C=ie}},r.unstable_scheduleCallback=function(F,J,ie){var oe=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?oe+ie:oe):ie=oe,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ie+U,F={id:b++,callback:J,priorityLevel:F,startTime:ie,expirationTime:U,sortIndex:-1},ie>oe?(F.sortIndex=ie,e(p,F),t(d)===null&&F===t(p)&&(L?(R(V),V=-1):L=!0,ve(K,ie-oe))):(F.sortIndex=U,e(d,F),T||x||(T=!0,Q||(Q=!0,k()))),F},r.unstable_shouldYield=ae,r.unstable_wrapCallback=function(F){var J=C;return function(){var ie=C;C=J;try{return F.apply(this,arguments)}finally{C=ie}}}}(Qh)),Qh}var l0;function Nv(){return l0||(l0=1,Xh.exports=Tv()),Xh.exports}var ep={exports:{}},Qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Ev(){if(u0)return Qi;u0=1;var r=Zp();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(d,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:d,containerInfo:p,implementation:b}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qi.createPortal=function(d,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return s(d,p,null,b)},Qi.flushSync=function(d){var p=u.T,b=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=p,i.p=b,i.d.f()}},Qi.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},Qi.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Qi.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var b=p.as,w=f(b,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:x}):b==="script"&&i.d.X(d,{crossOrigin:w,integrity:C,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qi.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=f(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},Qi.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=f(b,p.crossOrigin);i.d.L(d,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qi.preloadModule=function(d,p){if(typeof d=="string")if(p){var b=f(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},Qi.requestFormReset=function(d){i.d.r(d)},Qi.unstable_batchedUpdates=function(d,p){return d(p)},Qi.useFormState=function(d,p,b){return u.H.useFormState(d,p,b)},Qi.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qi.version="19.1.0",Qi}var c0;function Lv(){if(c0)return ep.exports;c0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ep.exports=Ev(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Mv(){if(f0)return $c;f0=1;var r=Nv(),e=Zp(),t=Lv();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(s(n)!==n)throw Error(i(188))}function d(n){var a=n.alternate;if(!a){if(a=s(n),a===null)throw Error(i(188));return a!==n?null:n}for(var l=n,c=a;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(c=v.return,c!==null){l=c;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return f(v),n;if(_===c)return f(v),a;_=_.sibling}throw Error(i(188))}if(l.return!==c.return)l=v,c=_;else{for(var P=!1,$=v.child;$;){if($===l){P=!0,l=v,c=_;break}if($===c){P=!0,c=v,l=_;break}$=$.sibling}if(!P){for($=_.child;$;){if($===l){P=!0,l=_,c=v;break}if($===c){P=!0,c=_,l=v;break}$=$.sibling}if(!P)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Symbol.for("react.client.reference");function te(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ne?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case I:return"Profiler";case L:return"StrictMode";case K:return"Suspense";case Q:return"SuspenseList";case re:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case D:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case j:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return a=n.displayName||null,a!==null?a:te(n.type)||"Memo";case z:a=n._payload,n=n._init;try{return te(n(a))}catch{}}return null}var ve=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},oe=[],U=-1;function ce(n){return{current:n}}function M(n){0>U||(n.current=oe[U],oe[U]=null,U--)}function H(n,a){U++,oe[U]=n.current,n.current=a}var X=ce(null),le=ce(null),ue=ce(null),_e=ce(null);function xe(n,a){switch(H(ue,a),H(le,n),H(X,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?kg(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=kg(a),n=Rg(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}M(X),H(X,n)}function pe(){M(X),M(le),M(ue)}function Ye(n){n.memoizedState!==null&&H(_e,n);var a=X.current,l=Rg(a,n.type);a!==l&&(H(le,n),H(X,l))}function We(n){le.current===n&&(M(X),M(le)),_e.current===n&&(M(_e),Gc._currentValue=ie)}var rt=Object.prototype.hasOwnProperty,lt=r.unstable_scheduleCallback,Nt=r.unstable_cancelCallback,Oe=r.unstable_shouldYield,de=r.unstable_requestPaint,ht=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Ke=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,at=r.unstable_NormalPriority,ot=r.unstable_LowPriority,wt=r.unstable_IdlePriority,Ot=r.log,jt=r.unstable_setDisableYieldValue,qt=null,kt=null;function $t(n){if(typeof Ot=="function"&&jt(n),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(qt,n)}catch{}}var yt=Math.clz32?Math.clz32:Vn,zt=Math.log,st=Math.LN2;function Vn(n){return n>>>=0,n===0?32:31-(zt(n)/st|0)|0}var Kt=256,wi=4194304;function Ee(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ie(n,a,l){var c=n.pendingLanes;if(c===0)return 0;var v=0,_=n.suspendedLanes,P=n.pingedLanes;n=n.warmLanes;var $=c&134217727;return $!==0?(c=$&~_,c!==0?v=Ee(c):(P&=$,P!==0?v=Ee(P):l||(l=$&~n,l!==0&&(v=Ee(l))))):($=c&~_,$!==0?v=Ee($):P!==0?v=Ee(P):l||(l=c&~n,l!==0&&(v=Ee(l)))),v===0?0:a!==0&&a!==v&&(a&_)===0&&(_=v&-v,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:v}function Ue(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Be(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var n=Kt;return Kt<<=1,(Kt&4194048)===0&&(Kt=256),n}function it(){var n=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),n}function dt(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Lt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function bt(n,a,l,c,v,_){var P=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var $=n.entanglements,he=n.expirationTimes,Me=n.hiddenUpdates;for(l=P&~l;0<l;){var qe=31-yt(l),Ge=1<<qe;$[qe]=0,he[qe]=-1;var ke=Me[qe];if(ke!==null)for(Me[qe]=null,qe=0;qe<ke.length;qe++){var Re=ke[qe];Re!==null&&(Re.lane&=-536870913)}l&=~Ge}c!==0&&pt(n,c,0),_!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=_&~(P&~a))}function pt(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-yt(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|l&4194090}function At(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var c=31-yt(l),v=1<<c;v&a|n[c]&a&&(n[c]|=a),l&=~v}}function kn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ji(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:$g(n.type))}function rr(n,a){var l=J.p;try{return J.p=n,a()}finally{J.p=l}}var xt=Math.random().toString(36).slice(2),cn="__reactFiber$"+xt,sn="__reactProps$"+xt,wn="__reactContainer$"+xt,Wn="__reactEvents$"+xt,ti="__reactListeners$"+xt,ar="__reactHandles$"+xt,So="__reactResources$"+xt,or="__reactMarker$"+xt;function sr(n){delete n[cn],delete n[sn],delete n[Wn],delete n[ti],delete n[ar]}function Ni(n){var a=n[cn];if(a)return a;for(var l=n.parentNode;l;){if(a=l[wn]||l[cn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Og(n);n!==null;){if(l=n[cn])return l;n=Og(n)}return a}n=l,l=n.parentNode}return null}function Ei(n){if(n=n[cn]||n[wn]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Gi(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function _i(n){var a=n[So];return a||(a=n[So]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function _n(n){n[or]=!0}var Ba=new Set,Ao={};function mr(n,a){Mr(n,a),Mr(n+"Capture",a)}function Mr(n,a){for(Ao[n]=a,n=0;n<a.length;n++)Ba.add(a[n])}var rs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},nu={};function oc(n){return rt.call(nu,n)?!0:rt.call(ol,n)?!1:rs.test(n)?nu[n]=!0:(ol[n]=!0,!1)}function sa(n,a,l){if(oc(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function Co(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function kr(n,a,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+c)}}var To,iu;function la(n){if(To===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);To=a&&a[1]||"",iu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+To+n+iu}var sl=!1;function qa(n,a){if(!n||sl)return"";sl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(Re){var ke=Re}Reflect.construct(n,[],Ge)}else{try{Ge.call()}catch(Re){ke=Re}n.call(Ge.prototype)}}else{try{throw Error()}catch(Re){ke=Re}(Ge=n())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(Re){if(Re&&ke&&typeof Re.stack=="string")return[Re.stack,ke.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),P=_[0],$=_[1];if(P&&$){var he=P.split(`
`),Me=$.split(`
`);for(v=c=0;c<he.length&&!he[c].includes("DetermineComponentFrameRoot");)c++;for(;v<Me.length&&!Me[v].includes("DetermineComponentFrameRoot");)v++;if(c===he.length||v===Me.length)for(c=he.length-1,v=Me.length-1;1<=c&&0<=v&&he[c]!==Me[v];)v--;for(;1<=c&&0<=v;c--,v--)if(he[c]!==Me[v]){if(c!==1||v!==1)do if(c--,v--,0>v||he[c]!==Me[v]){var qe=`
`+he[c].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=c&&0<=v);break}}}finally{sl=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?la(l):""}function sc(n){switch(n.tag){case 26:case 27:case 5:return la(n.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return qa(n.type,!1);case 11:return qa(n.type.render,!1);case 1:return qa(n.type,!0);case 31:return la("Activity");default:return""}}function Hn(n){try{var a="";do a+=sc(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Oi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ll(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ru(n){var a=ll(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,_=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(P){c=""+P,_.call(this,P)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(P){c=""+P},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function za(n){n._valueTracker||(n._valueTracker=ru(n))}function au(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return n&&(c=ll(n)?n.checked?"true":"false":n.value),n=c,n!==l?(a.setValue(n),!0):!1}function Yi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var as=/[\n"\\]/g;function Rn(n){return n.replace(as,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function No(n,a,l,c,v,_,P,$){n.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.type=P:n.removeAttribute("type"),a!=null?P==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Oi(a)):n.value!==""+Oi(a)&&(n.value=""+Oi(a)):P!=="submit"&&P!=="reset"||n.removeAttribute("value"),a!=null?cl(n,P,Oi(a)):l!=null?cl(n,P,Oi(l)):c!=null&&n.removeAttribute("value"),v==null&&_!=null&&(n.defaultChecked=!!_),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?n.name=""+Oi($):n.removeAttribute("name")}function ul(n,a,l,c,v,_,P,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null))return;l=l!=null?""+Oi(l):"",a=a!=null?""+Oi(a):l,$||a===n.value||(n.value=a),n.defaultValue=a}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=$?n.checked:!!c,n.defaultChecked=!!c,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(n.name=P)}function cl(n,a,l){a==="number"&&Yi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ua(n,a,l,c){if(n=n.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=a.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Oi(l),a=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,c&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function ou(n,a,l){if(a!=null&&(a=""+Oi(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+Oi(l):""}function fl(n,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ve(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Oi(a),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c)}function Va(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function su(n,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,l):typeof l!="number"||l===0||dl.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function lu(n,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var v in a)c=a[v],a.hasOwnProperty(v)&&l[v]!==c&&su(n,v,c)}else for(var _ in a)a.hasOwnProperty(_)&&su(n,_,a[_])}function hl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(n){return os.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ss=null;function mi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ha=null,da=null;function Ut(n){var a=Ei(n);if(a&&(n=a.stateNode)){var l=n[sn]||null;e:switch(n=a.stateNode,a.type){case"input":if(No(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==n&&c.form===n.form){var v=c[sn]||null;if(!v)throw Error(i(90));No(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===n.form&&au(c)}break e;case"textarea":ou(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ua(n,!!l.multiple,a,!1)}}}var pl=!1;function uu(n,a,l){if(pl)return n(a,l);pl=!0;try{var c=n(a);return c}finally{if(pl=!1,(Ha!==null||da!==null)&&(Wf(),Ha&&(a=Ha,n=da,da=Ha=null,Ut(a),n)))for(a=0;a<n.length;a++)Ut(n[a])}}function Wi(n,a){var l=n.stateNode;if(l===null)return null;var c=l[sn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(gr)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{ls=!1}var vr=null,ml=null,us=null;function cu(){if(us)return us;var n,a=ml,l=a.length,c,v="value"in vr?vr.value:vr.textContent,_=v.length;for(n=0;n<l&&a[n]===v[n];n++);var P=l-n;for(c=1;c<=P&&a[l-c]===v[_-c];c++);return us=v.slice(n,1<c?1-c:void 0)}function ja(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Yr(){return!0}function ha(){return!1}function Li(n){function a(l,c,v,_,P){this._reactName=l,this._targetInst=v,this.type=c,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var $ in n)n.hasOwnProperty($)&&(l=n[$],this[$]=l?l(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Yr:ha,this.isPropagationStopped=ha,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),a}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Li(lr),Wr=b({},lr,{view:0,detail:0}),fu=Li(Wr),cs,fs,Ya,yr=b({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ya&&(Ya&&n.type==="mousemove"?(cs=n.screenX-Ya.screenX,fs=n.screenY-Ya.screenY):fs=cs=0,Ya=n),cs)},movementY:function(n){return"movementY"in n?n.movementY:fs}}),pa=Li(yr),lc=b({},yr,{dataTransfer:0}),Wa=Li(lc),Rr=b({},Wr,{relatedTarget:0}),Eo=Li(Rr),Lo=b({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=Li(Lo),ds=b({},lr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),cc=Li(ds),gl=b({},lr,{data:0}),hs=Li(gl),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ps={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=vl[n])?!!a[n]:!1}function ms(){return yl}var fc=b({},Wr,{key:function(n){if(n.key){var a=du[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=ja(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ps[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(n){return n.type==="keypress"?ja(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ja(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gs=Li(fc),Mo=b({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=Li(Mo),Ja=b({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),bl=Li(Ja),S=b({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Li(S),fe=b({},yr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),me=Li(fe),Ce=b({},lr,{newState:0,oldState:0}),Pe=Li(Ce),Ze=[9,13,27,32],ut=gr&&"CompositionEvent"in window,_t=null;gr&&"documentMode"in document&&(_t=document.documentMode);var Yt=gr&&"TextEvent"in window&&!_t,Zt=gr&&(!ut||_t&&8<_t&&11>=_t),rn=" ",Pn=!1;function Fn(n,a){switch(n){case"keyup":return Ze.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kn=!1;function gi(n,a){switch(n){case"compositionend":return Jn(a);case"keypress":return a.which!==32?null:(Pn=!0,rn);case"textInput":return n=a.data,n===rn&&Pn?null:n;default:return null}}function Dr(n,a){if(Kn)return n==="compositionend"||!ut&&Fn(n,a)?(n=cu(),us=ml=vr=null,Kn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Zt&&a.locale!=="ko"?null:a.data;default:return null}}var ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jr(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!ur[n.type]:a==="textarea"}function xl(n,a,l,c){Ha?da?da.push(c):da=[c]:Ha=c,a=Qf(a,"onChange"),0<a.length&&(l=new Ga("onChange","change",null,l,c),n.push({event:l,listeners:a}))}var ma=null,ga=null;function ys(n){Tg(n,0)}function Ka(n){var a=Gi(n);if(au(a))return n}function bs(n,a){if(n==="change")return a}var ko=!1;if(gr){var Mi;if(gr){var Za="oninput"in document;if(!Za){var Ro=document.createElement("div");Ro.setAttribute("oninput","return;"),Za=typeof Ro.oninput=="function"}Mi=Za}else Mi=!1;ko=Mi&&(!document.documentMode||9<document.documentMode)}function Do(){ma&&(ma.detachEvent("onpropertychange",xs),ga=ma=null)}function xs(n){if(n.propertyName==="value"&&Ka(ga)){var a=[];xl(a,ga,n,mi(n)),uu(ys,a)}}function Ji(n,a,l){n==="focusin"?(Do(),ma=a,ga=l,ma.attachEvent("onpropertychange",xs)):n==="focusout"&&Do()}function dc(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ka(ga)}function wl(n,a){if(n==="click")return Ka(a)}function hu(n,a){if(n==="input"||n==="change")return Ka(a)}function Ir(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Si=typeof Object.is=="function"?Object.is:Ir;function Io(n,a){if(Si(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var v=l[c];if(!rt.call(a,v)||!Si(n[v],a[v]))return!1}return!0}function pu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function va(n,a){var l=pu(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=a&&c>=a)return{node:l,offset:a-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pu(l)}}function cr(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?cr(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function br(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Yi(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Yi(n.document)}return a}function Kr(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Zr=gr&&"documentMode"in document&&11>=document.documentMode,Ki=null,$a=null,Ui=null,Xa=!1;function ws(n,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xa||Ki==null||Ki!==Yi(c)||(c=Ki,"selectionStart"in c&&Kr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ui&&Io(Ui,c)||(Ui=c,c=Qf($a,"onSelect"),0<c.length&&(a=new Ga("onSelect","select",null,a,l),n.push({event:a,listeners:c}),a.target=Ki)))}function Zi(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var ki={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Pr={},Qa={};gr&&(Qa=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function xr(n){if(Pr[n])return Pr[n];if(!ki[n])return n;var a=ki[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Qa)return Pr[n]=a[l];return n}var eo=xr("animationend"),ya=xr("animationiteration"),_s=xr("animationstart"),wr=xr("transitionrun"),ba=xr("transitionstart"),En=xr("transitioncancel"),Sn=xr("transitionend"),jn=new Map,Zn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zn.push("scrollEnd");function oi(n,a){jn.set(n,a),mr(a,[n])}var xa=new WeakMap;function Ai(n,a){if(typeof n=="object"&&n!==null){var l=xa.get(n);return l!==void 0?l:(a={value:n,source:a,stack:Hn(a)},xa.set(n,a),a)}return{value:n,source:a,stack:Hn(a)}}var Fi=[],Po=0,mu=0;function _l(){for(var n=Po,a=mu=Po=0;a<n;){var l=Fi[a];Fi[a++]=null;var c=Fi[a];Fi[a++]=null;var v=Fi[a];Fi[a++]=null;var _=Fi[a];if(Fi[a++]=null,c!==null&&v!==null){var P=c.pending;P===null?v.next=v:(v.next=P.next,P.next=v),c.pending=v}_!==0&&vu(l,v,_)}}function Sl(n,a,l,c){Fi[Po++]=n,Fi[Po++]=a,Fi[Po++]=l,Fi[Po++]=c,mu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function gu(n,a,l,c){return Sl(n,a,l,c),Uo(n)}function Oo(n,a){return Sl(n,null,null,a),Uo(n)}function vu(n,a,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var v=!1,_=n.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(v=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,v&&a!==null&&(v=31-yt(l),n=_.hiddenUpdates,c=n[v],c===null?n[v]=[a]:c.push(a),a.lane=l|536870912),_):null}function Uo(n){if(50<Uc)throw Uc=0,bh=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var vi={};function _r(n,a,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(n,a,l,c){return new _r(n,a,l,c)}function Ss(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $r(n,a){var l=n.alternate;return l===null?(l=Ri(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Al(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Fo(n,a,l,c,v,_){var P=0;if(c=n,typeof n=="function")Ss(n)&&(P=1);else if(typeof n=="string")P=lv(n,l,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case re:return n=Ri(31,l,a,v),n.elementType=re,n.lanes=_,n;case T:return wa(l.children,v,_,a);case L:P=8,v|=24;break;case I:return n=Ri(12,l,a,v|2),n.elementType=I,n.lanes=_,n;case K:return n=Ri(13,l,a,v),n.elementType=K,n.lanes=_,n;case Q:return n=Ri(19,l,a,v),n.elementType=Q,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case D:P=10;break e;case R:P=9;break e;case j:P=11;break e;case V:P=14;break e;case z:P=16,c=null;break e}P=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return a=Ri(P,l,a,v),a.elementType=n,a.type=c,a.lanes=_,a}function wa(n,a,l,c){return n=Ri(7,n,c,a),n.lanes=l,n}function yu(n,a,l){return n=Ri(6,n,null,a),n.lanes=l,n}function Cl(n,a,l){return a=Ri(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var to=[],_a=0,As=null,bu=0,Sr=[],fr=0,Bo=null,Sa=1,Aa="";function qo(n,a){to[_a++]=bu,to[_a++]=As,As=n,bu=a}function vf(n,a,l){Sr[fr++]=Sa,Sr[fr++]=Aa,Sr[fr++]=Bo,Bo=n;var c=Sa;n=Aa;var v=32-yt(c)-1;c&=~(1<<v),l+=1;var _=32-yt(a)+v;if(30<_){var P=v-v%5;_=(c&(1<<P)-1).toString(32),c>>=P,v-=P,Sa=1<<32-yt(a)+v|l<<v|c,Aa=_+n}else Sa=1<<_|l<<v|c,Aa=n}function Tl(n){n.return!==null&&(qo(n,1),vf(n,1,0))}function Nl(n){for(;n===As;)As=to[--_a],to[_a]=null,bu=to[--_a],to[_a]=null;for(;n===Bo;)Bo=Sr[--fr],Sr[fr]=null,Aa=Sr[--fr],Sr[fr]=null,Sa=Sr[--fr],Sr[fr]=null}var si=null,Gn=null,pn=!1,no=null,Xr=!1,hc=Error(i(519));function zo(n){var a=Error(i(418,""));throw Cs(Ai(a,n)),hc}function yf(n){var a=n.stateNode,l=n.type,c=n.memoizedProps;switch(a[cn]=n,a[sn]=c,l){case"dialog":on("cancel",a),on("close",a);break;case"iframe":case"object":case"embed":on("load",a);break;case"video":case"audio":for(l=0;l<Bc.length;l++)on(Bc[l],a);break;case"source":on("error",a);break;case"img":case"image":case"link":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"input":on("invalid",a),ul(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),za(a);break;case"select":on("invalid",a);break;case"textarea":on("invalid",a),fl(a,c.value,c.defaultValue,c.children),za(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Mg(a.textContent,l)?(c.popover!=null&&(on("beforetoggle",a),on("toggle",a)),c.onScroll!=null&&on("scroll",a),c.onScrollEnd!=null&&on("scrollend",a),c.onClick!=null&&(a.onclick=ed),a=!0):a=!1,a||zo(n)}function Ca(n){for(si=n.return;si;)switch(si.tag){case 5:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:si=si.return}}function Bi(n){if(n!==si)return!1;if(!pn)return Ca(n),pn=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ph(n.type,n.memoizedProps)),l=!l),l&&Gn&&zo(n),Ca(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){Gn=Da(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}Gn=null}}else a===27?(a=Gn,Vs(n.type)?(n=Bh,Bh=null,Gn=n):Gn=a):Gn=si?Da(n.stateNode.nextSibling):null;return!0}function dr(){Gn=si=null,pn=!1}function bf(){var n=no;return n!==null&&(Tr===null?Tr=n:Tr.push.apply(Tr,n),no=null),n}function Cs(n){no===null?no=[n]:no.push(n)}var Qr=ce(null),yi=null,Ta=null;function io(n,a,l){H(Qr,a._currentValue),a._currentValue=l}function ea(n){n._currentValue=Qr.current,M(Qr)}function xu(n,a,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===l)break;n=n.return}}function wu(n,a,l,c){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var _=v.dependencies;if(_!==null){var P=v.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=v;for(var he=0;he<a.length;he++)if($.context===a[he]){_.lanes|=l,$=_.alternate,$!==null&&($.lanes|=l),xu(_.return,l,n),c||(P=null);break e}_=$.next}}else if(v.tag===18){if(P=v.return,P===null)throw Error(i(341));P.lanes|=l,_=P.alternate,_!==null&&(_.lanes|=l),xu(P,l,n),P=null}else P=v.child;if(P!==null)P.return=v;else for(P=v;P!==null;){if(P===n){P=null;break}if(v=P.sibling,v!==null){v.return=P.return,P=v;break}P=P.return}v=P}}function Ts(n,a,l,c){n=null;for(var v=a,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var P=v.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var $=v.type;Si(v.pendingProps.value,P.value)||(n!==null?n.push($):n=[$])}}else if(v===_e.current){if(P=v.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(Gc):n=[Gc])}v=v.return}n!==null&&wu(a,n,l,c),a.flags|=262144}function _u(n){for(n=n.firstContext;n!==null;){if(!Si(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){yi=n,Ta=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function li(n){return Su(yi,n)}function ro(n,a){return yi===null&&ta(n),Su(n,a)}function Su(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ta===null){if(n===null)throw Error(i(308));Ta=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ta=Ta.next=a;return l}var jd=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},xf=r.unstable_scheduleCallback,Gd=r.unstable_NormalPriority,ui={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new jd,data:new Map,refCount:0}}function El(n){n.refCount--,n.refCount===0&&xf(Gd,function(){n.controller.abort()})}var Ll=null,mc=0,Vo=0,Na=null;function Yd(n,a){if(Ll===null){var l=Ll=[];mc=0,Vo=Th(),Na={status:"pending",value:void 0,then:function(c){l.push(c)}}}return mc++,a.then(wf,wf),a}function wf(){if(--mc===0&&Ll!==null){Na!==null&&(Na.status="fulfilled");var n=Ll;Ll=null,Vo=0,Na=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function _f(n,a){var l=[],c={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(c.status="rejected",c.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),c}var h=F.S;F.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Yd(n,a),h!==null&&h(n,a)};var y=ce(null);function A(){var n=y.current;return n!==null?n:Un.pooledCache}function N(n,a){a===null?H(y,y.current):H(y,a.pool)}function B(){var n=A();return n===null?null:{parent:ui._currentValue,pool:n}}var G=Error(i(460)),W=Error(i(474)),Z=Error(i(542)),ee={then:function(){}};function se(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ge(){}function Le(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(ge,ge),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,He(n),n;default:if(typeof a.status=="string")a.then(ge,ge);else{if(n=Un,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=c}},function(c){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,He(n),n}throw Te=a,G}}var Te=null;function Se(){if(Te===null)throw Error(i(459));var n=Te;return Te=null,n}function He(n){if(n===G||n===Z)throw Error(i(483))}var De=!1;function ye(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function we(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fe(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function je(n,a,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Cn&2)!==0){var v=c.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),c.pending=a,a=Uo(n),vu(n,null,l),a}return Sl(n,c,a,l),Uo(n)}function ze(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,l|=c,a.lanes=l,At(n,l)}}function ct(n,a){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var P={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=P:_=_.next=P,l=l.next}while(l!==null);_===null?v=_=a:_=_.next=a}else v=_=a;l={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var tt=!1;function Ct(){if(tt){var n=Na;if(n!==null)throw n}}function nt(n,a,l,c){tt=!1;var v=n.updateQueue;De=!1;var _=v.firstBaseUpdate,P=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var he=$,Me=he.next;he.next=null,P===null?_=Me:P.next=Me,P=he;var qe=n.alternate;qe!==null&&(qe=qe.updateQueue,$=qe.lastBaseUpdate,$!==P&&($===null?qe.firstBaseUpdate=Me:$.next=Me,qe.lastBaseUpdate=he))}if(_!==null){var Ge=v.baseState;P=0,qe=Me=he=null,$=_;do{var ke=$.lane&-536870913,Re=ke!==$.lane;if(Re?(hn&ke)===ke:(c&ke)===ke){ke!==0&&ke===Vo&&(tt=!0),qe!==null&&(qe=qe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Ft=n,Rt=$;ke=a;var Mn=l;switch(Rt.tag){case 1:if(Ft=Rt.payload,typeof Ft=="function"){Ge=Ft.call(Mn,Ge,ke);break e}Ge=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Rt.payload,ke=typeof Ft=="function"?Ft.call(Mn,Ge,ke):Ft,ke==null)break e;Ge=b({},Ge,ke);break e;case 2:De=!0}}ke=$.callback,ke!==null&&(n.flags|=64,Re&&(n.flags|=8192),Re=v.callbacks,Re===null?v.callbacks=[ke]:Re.push(ke))}else Re={lane:ke,tag:$.tag,payload:$.payload,callback:$.callback,next:null},qe===null?(Me=qe=Re,he=Ge):qe=qe.next=Re,P|=ke;if($=$.next,$===null){if($=v.shared.pending,$===null)break;Re=$,$=Re.next,Re.next=null,v.lastBaseUpdate=Re,v.shared.pending=null}}while(!0);qe===null&&(he=Ge),v.baseState=he,v.firstBaseUpdate=Me,v.lastBaseUpdate=qe,_===null&&(v.shared.lanes=0),Fs|=P,n.lanes=P,n.memoizedState=Ge}}function fn(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function mn(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)fn(l[n],a)}var en=ce(null),Xt=ce(0);function xn(n,a){n=Xo,H(Xt,n),H(en,a),Xo=n|a.baseLanes}function gn(){H(Xt,Xo),H(en,en.current)}function Vt(){Xo=Xt.current,M(en),M(Xt)}var An=0,Et=null,It=null,ln=null,dn=!1,bi=!1,ci=!1,$n=0,Xn=0,ni=null,Ar=0;function vn(){throw Error(i(321))}function ii(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Si(n[l],a[l]))return!1;return!0}function Or(n,a,l,c,v,_){return An=_,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=n===null||n.memoizedState===null?cm:fm,ci=!1,_=l(c,v),ci=!1,bi&&(_=Ho(a,l,c,v)),ao(n),_}function ao(n){F.H=If;var a=It!==null&&It.next!==null;if(An=0,ln=It=Et=null,dn=!1,Xn=0,ni=null,a)throw Error(i(300));n===null||Di||(n=n.dependencies,n!==null&&_u(n)&&(Di=!0))}function Ho(n,a,l,c){Et=n;var v=0;do{if(bi&&(ni=null),Xn=0,bi=!1,25<=v)throw Error(i(301));if(v+=1,ln=It=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=b5,_=a(l,c)}while(bi);return _}function oo(){var n=F.H,a=n.useState()[0];return a=typeof a.then=="function"?so(a):a,n=n.useState()[0],(It!==null?It.memoizedState:null)!==n&&(Et.flags|=1024),a}function On(){var n=$n!==0;return $n=0,n}function Ml(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Au(n){if(dn){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}dn=!1}An=0,ln=It=Et=null,bi=!1,Xn=$n=0,ni=null}function qi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Et.memoizedState=ln=n:ln=ln.next=n,ln}function Bn(){if(It===null){var n=Et.alternate;n=n!==null?n.memoizedState:null}else n=It.next;var a=ln===null?Et.memoizedState:ln.next;if(a!==null)ln=a,It=n;else{if(n===null)throw Et.alternate===null?Error(i(467)):Error(i(310));It=n,n={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},ln===null?Et.memoizedState=ln=n:ln=ln.next=n}return ln}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function so(n){var a=Xn;return Xn+=1,ni===null&&(ni=[]),n=Le(ni,n,a),a=Et,(ln===null?a.memoizedState:ln.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?cm:fm),n}function $i(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return so(n);if(n.$$typeof===D)return li(n)}throw Error(i(438,String(n)))}function lo(n){var a=null,l=Et.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Et.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=jo(),Et.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),c=0;c<n;c++)l[c]=ae;return a.index++,l}function Xi(n,a){return typeof a=="function"?a(n):a}function kl(n){var a=Bn();return Ns(a,It,n)}function Ns(n,a,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var v=n.baseQueue,_=c.pending;if(_!==null){if(v!==null){var P=v.next;v.next=_.next,_.next=P}a.baseQueue=v=_,c.pending=null}if(_=n.baseState,v===null)n.memoizedState=_;else{a=v.next;var $=P=null,he=null,Me=a,qe=!1;do{var Ge=Me.lane&-536870913;if(Ge!==Me.lane?(hn&Ge)===Ge:(An&Ge)===Ge){var ke=Me.revertLane;if(ke===0)he!==null&&(he=he.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Ge===Vo&&(qe=!0);else if((An&ke)===ke){Me=Me.next,ke===Vo&&(qe=!0);continue}else Ge={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},he===null?($=he=Ge,P=_):he=he.next=Ge,Et.lanes|=ke,Fs|=ke;Ge=Me.action,ci&&l(_,Ge),_=Me.hasEagerState?Me.eagerState:l(_,Ge)}else ke={lane:Ge,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},he===null?($=he=ke,P=_):he=he.next=ke,Et.lanes|=Ge,Fs|=Ge;Me=Me.next}while(Me!==null&&Me!==a);if(he===null?P=_:he.next=$,!Si(_,n.memoizedState)&&(Di=!0,qe&&(l=Na,l!==null)))throw l;n.memoizedState=_,n.baseState=P,n.baseQueue=he,c.lastRenderedState=_}return v===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Cu(n){var a=Bn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,v=l.pending,_=a.memoizedState;if(v!==null){l.pending=null;var P=v=v.next;do _=n(_,P.action),P=P.next;while(P!==v);Si(_,a.memoizedState)||(Di=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,c]}function Rl(n,a,l){var c=Et,v=Bn(),_=pn;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=a();var P=!Si((It||v).memoizedState,l);P&&(v.memoizedState=l,Di=!0),v=v.queue;var $=Es.bind(null,c,v,n);if(ks(2048,8,$,[n]),v.getSnapshot!==a||P||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,La(9,Ol(),Dl.bind(null,c,v,l,a),null),Un===null)throw Error(i(349));_||(An&124)!==0||Tu(c,a,l)}return l}function Tu(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Et.updateQueue,a===null?(a=jo(),Et.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function Dl(n,a,l,c){a.value=l,a.getSnapshot=c,Sf(a)&&Af(n)}function Es(n,a,l){return l(function(){Sf(a)&&Af(n)})}function Sf(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Si(n,l)}catch{return!0}}function Af(n){var a=Oo(n,2);a!==null&&Vr(a,n,2)}function Il(n){var a=qi();if(typeof n=="function"){var l=n;if(n=l(),ci){$t(!0);try{l()}finally{$t(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:n},a}function Ea(n,a,l,c){return n.baseState=l,Ns(n,It,typeof c=="function"?c:Xi)}function Wd(n,a,l,c,v){if(Df(n))throw Error(i(485));if(n=a.action,n!==null){var _={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};F.T!==null?l(!0):_.isTransition=!1,c(_),l=a.pending,l===null?(_.next=a.pending=_,Cf(a,_)):(_.next=l.next,a.pending=l.next=_)}}function Cf(n,a){var l=a.action,c=a.payload,v=n.state;if(a.isTransition){var _=F.T,P={};F.T=P;try{var $=l(v,c),he=F.S;he!==null&&he(P,$),Tf(n,a,$)}catch(Me){Ls(n,a,Me)}finally{F.T=_}}else try{_=l(v,c),Tf(n,a,_)}catch(Me){Ls(n,a,Me)}}function Tf(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){gc(n,a,c)},function(c){return Ls(n,a,c)}):gc(n,a,l)}function gc(n,a,l){a.status="fulfilled",a.value=l,vc(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Cf(n,l)))}function Ls(n,a,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,vc(a),a=a.next;while(a!==c)}n.action=null}function vc(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function yc(n,a){return a}function Pl(n,a){if(pn){var l=Un.formState;if(l!==null){e:{var c=Et;if(pn){if(Gn){t:{for(var v=Gn,_=Xr;v.nodeType!==8;){if(!_){v=null;break t}if(v=Da(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Gn=Da(v.nextSibling),c=v.data==="F!";break e}}zo(c)}c=!1}c&&(a=l[0])}}return l=qi(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:a},l.queue=c,l=sm.bind(null,Et,c),c.dispatch=l,c=Il(!1),_=Jd.bind(null,Et,!1,c.queue),c=qi(),v={state:a,dispatch:null,action:n,pending:null},c.queue=v,l=Wd.bind(null,Et,v,_,l),v.dispatch=l,c.memoizedState=n,[a,l,!1]}function Nu(n){var a=Bn();return Ms(a,It,n)}function Ms(n,a,l){if(a=Ns(n,a,yc)[0],n=kl(Xi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=so(a)}catch(P){throw P===G?Z:P}else c=a;a=Bn();var v=a.queue,_=v.dispatch;return l!==a.memoizedState&&(Et.flags|=2048,La(9,Ol(),Nf.bind(null,v,l),null)),[c,_,n]}function Nf(n,a){n.action=a}function Ef(n){var a=Bn(),l=It;if(l!==null)return Ms(a,l,n);Bn(),a=a.memoizedState,l=Bn();var c=l.queue.dispatch;return l.memoizedState=n,[a,c,!1]}function La(n,a,l,c){return n={tag:n,create:l,deps:c,inst:a,next:null},a=Et.updateQueue,a===null&&(a=jo(),Et.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,a.lastEffect=n),n}function Ol(){return{destroy:void 0,resource:void 0}}function Eu(){return Bn().memoizedState}function Ur(n,a,l,c){var v=qi();c=c===void 0?null:c,Et.flags|=n,v.memoizedState=La(1|a,Ol(),l,c)}function ks(n,a,l,c){var v=Bn();c=c===void 0?null:c;var _=v.memoizedState.inst;It!==null&&c!==null&&ii(c,It.memoizedState.deps)?v.memoizedState=La(a,_,l,c):(Et.flags|=n,v.memoizedState=La(1|a,_,l,c))}function bc(n,a){Ur(8390656,8,n,a)}function Lf(n,a){ks(2048,8,n,a)}function xc(n,a){return ks(4,2,n,a)}function Go(n,a){return ks(4,4,n,a)}function Mf(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function wc(n,a,l){l=l!=null?l.concat([n]):null,ks(4,4,Mf.bind(null,a,n),l)}function _c(){}function Sc(n,a){var l=Bn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&ii(a,c[1])?c[0]:(l.memoizedState=[n,a],n)}function kf(n,a){var l=Bn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&ii(a,c[1]))return c[0];if(c=n(),ci){$t(!0);try{n()}finally{$t(!1)}}return l.memoizedState=[c,a],c}function Yo(n,a,l){return l===void 0||(An&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=ig(),Et.lanes|=n,Fs|=n,l)}function Lu(n,a,l,c){return Si(l,a)?l:en.current!==null?(n=Yo(n,l,c),Si(n,a)||(Di=!0),n):(An&42)===0?(Di=!0,n.memoizedState=l):(n=ig(),Et.lanes|=n,Fs|=n,a)}function Ul(n,a,l,c,v){var _=J.p;J.p=_!==0&&8>_?_:8;var P=F.T,$={};F.T=$,Jd(n,!1,a,l);try{var he=v(),Me=F.S;if(Me!==null&&Me($,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var qe=_f(he,c);Nc(n,a,qe,zr(n))}else Nc(n,a,c,zr(n))}catch(Ge){Nc(n,a,{then:function(){},status:"rejected",reason:Ge},zr())}finally{J.p=_,F.T=P}}function Ma(){}function na(n,a,l,c){if(n.tag!==5)throw Error(i(476));var v=ka(n).queue;Ul(n,v,a,ie,l===null?Ma:function(){return Fl(n),l(c)})}function ka(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ie},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Fl(n){var a=ka(n).next.queue;Nc(n,a,{},zr())}function Bl(){return li(Gc)}function Ac(){return Bn().memoizedState}function Rf(){return Bn().memoizedState}function Cc(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=zr();n=Fe(l);var c=je(a,n,l);c!==null&&(Vr(c,a,l),ze(c,a,l)),a={cache:pc()},n.payload=a;return}a=a.return}}function Tc(n,a,l){var c=zr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Df(n)?lm(a,l):(l=gu(n,a,l,c),l!==null&&(Vr(l,n,c),um(l,a,c)))}function sm(n,a,l){var c=zr();Nc(n,a,l,c)}function Nc(n,a,l,c){var v={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Df(n))lm(a,v);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var P=a.lastRenderedState,$=_(P,l);if(v.hasEagerState=!0,v.eagerState=$,Si($,P))return Sl(n,a,v,0),Un===null&&_l(),!1}catch{}finally{}if(l=gu(n,a,v,c),l!==null)return Vr(l,n,c),um(l,a,c),!0}return!1}function Jd(n,a,l,c){if(c={lane:2,revertLane:Th(),action:c,hasEagerState:!1,eagerState:null,next:null},Df(n)){if(a)throw Error(i(479))}else a=gu(n,l,c,2),a!==null&&Vr(a,n,2)}function Df(n){var a=n.alternate;return n===Et||a!==null&&a===Et}function lm(n,a){bi=dn=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function um(n,a,l){if((l&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,l|=c,a.lanes=l,At(n,l)}}var If={readContext:li,use:$i,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn},cm={readContext:li,use:$i,useCallback:function(n,a){return qi().memoizedState=[n,a===void 0?null:a],n},useContext:li,useEffect:bc,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Ur(4194308,4,Mf.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Ur(4194308,4,n,a)},useInsertionEffect:function(n,a){Ur(4,2,n,a)},useMemo:function(n,a){var l=qi();a=a===void 0?null:a;var c=n();if(ci){$t(!0);try{n()}finally{$t(!1)}}return l.memoizedState=[c,a],c},useReducer:function(n,a,l){var c=qi();if(l!==void 0){var v=l(a);if(ci){$t(!0);try{l(a)}finally{$t(!1)}}}else v=a;return c.memoizedState=c.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},c.queue=n,n=n.dispatch=Tc.bind(null,Et,n),[c.memoizedState,n]},useRef:function(n){var a=qi();return n={current:n},a.memoizedState=n},useState:function(n){n=Il(n);var a=n.queue,l=sm.bind(null,Et,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:_c,useDeferredValue:function(n,a){var l=qi();return Yo(l,n,a)},useTransition:function(){var n=Il(!1);return n=Ul.bind(null,Et,n.queue,!0,!1),qi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var c=Et,v=qi();if(pn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Un===null)throw Error(i(349));(hn&124)!==0||Tu(c,a,l)}v.memoizedState=l;var _={value:l,getSnapshot:a};return v.queue=_,bc(Es.bind(null,c,_,n),[n]),c.flags|=2048,La(9,Ol(),Dl.bind(null,c,_,l,a),null),l},useId:function(){var n=qi(),a=Un.identifierPrefix;if(pn){var l=Aa,c=Sa;l=(c&~(1<<32-yt(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=$n++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Ar++,a="«"+a+"r"+l.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:Bl,useFormState:Pl,useActionState:Pl,useOptimistic:function(n){var a=qi();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Jd.bind(null,Et,!0,l),l.dispatch=a,[n,a]},useMemoCache:lo,useCacheRefresh:function(){return qi().memoizedState=Cc.bind(null,Et)}},fm={readContext:li,use:$i,useCallback:Sc,useContext:li,useEffect:Lf,useImperativeHandle:wc,useInsertionEffect:xc,useLayoutEffect:Go,useMemo:kf,useReducer:kl,useRef:Eu,useState:function(){return kl(Xi)},useDebugValue:_c,useDeferredValue:function(n,a){var l=Bn();return Lu(l,It.memoizedState,n,a)},useTransition:function(){var n=kl(Xi)[0],a=Bn().memoizedState;return[typeof n=="boolean"?n:so(n),a]},useSyncExternalStore:Rl,useId:Ac,useHostTransitionStatus:Bl,useFormState:Nu,useActionState:Nu,useOptimistic:function(n,a){var l=Bn();return Ea(l,It,n,a)},useMemoCache:lo,useCacheRefresh:Rf},b5={readContext:li,use:$i,useCallback:Sc,useContext:li,useEffect:Lf,useImperativeHandle:wc,useInsertionEffect:xc,useLayoutEffect:Go,useMemo:kf,useReducer:Cu,useRef:Eu,useState:function(){return Cu(Xi)},useDebugValue:_c,useDeferredValue:function(n,a){var l=Bn();return It===null?Yo(l,n,a):Lu(l,It.memoizedState,n,a)},useTransition:function(){var n=Cu(Xi)[0],a=Bn().memoizedState;return[typeof n=="boolean"?n:so(n),a]},useSyncExternalStore:Rl,useId:Ac,useHostTransitionStatus:Bl,useFormState:Ef,useActionState:Ef,useOptimistic:function(n,a){var l=Bn();return It!==null?Ea(l,It,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:lo,useCacheRefresh:Rf},Mu=null,Ec=0;function Pf(n){var a=Ec;return Ec+=1,Mu===null&&(Mu=[]),Le(Mu,n,a)}function Lc(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Of(n,a){throw a.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function dm(n){var a=n._init;return a(n._payload)}function hm(n){function a(Ae,be){if(n){var Ne=Ae.deletions;Ne===null?(Ae.deletions=[be],Ae.flags|=16):Ne.push(be)}}function l(Ae,be){if(!n)return null;for(;be!==null;)a(Ae,be),be=be.sibling;return null}function c(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function v(Ae,be){return Ae=$r(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function _(Ae,be,Ne){return Ae.index=Ne,n?(Ne=Ae.alternate,Ne!==null?(Ne=Ne.index,Ne<be?(Ae.flags|=67108866,be):Ne):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function P(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function $(Ae,be,Ne,Ve){return be===null||be.tag!==6?(be=yu(Ne,Ae.mode,Ve),be.return=Ae,be):(be=v(be,Ne),be.return=Ae,be)}function he(Ae,be,Ne,Ve){var gt=Ne.type;return gt===T?qe(Ae,be,Ne.props.children,Ve,Ne.key):be!==null&&(be.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&dm(gt)===be.type)?(be=v(be,Ne.props),Lc(be,Ne),be.return=Ae,be):(be=Fo(Ne.type,Ne.key,Ne.props,null,Ae.mode,Ve),Lc(be,Ne),be.return=Ae,be)}function Me(Ae,be,Ne,Ve){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ne.containerInfo||be.stateNode.implementation!==Ne.implementation?(be=Cl(Ne,Ae.mode,Ve),be.return=Ae,be):(be=v(be,Ne.children||[]),be.return=Ae,be)}function qe(Ae,be,Ne,Ve,gt){return be===null||be.tag!==7?(be=wa(Ne,Ae.mode,Ve,gt),be.return=Ae,be):(be=v(be,Ne),be.return=Ae,be)}function Ge(Ae,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=yu(""+be,Ae.mode,Ne),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case C:return Ne=Fo(be.type,be.key,be.props,null,Ae.mode,Ne),Lc(Ne,be),Ne.return=Ae,Ne;case x:return be=Cl(be,Ae.mode,Ne),be.return=Ae,be;case z:var Ve=be._init;return be=Ve(be._payload),Ge(Ae,be,Ne)}if(ve(be)||k(be))return be=wa(be,Ae.mode,Ne,null),be.return=Ae,be;if(typeof be.then=="function")return Ge(Ae,Pf(be),Ne);if(be.$$typeof===D)return Ge(Ae,ro(Ae,be),Ne);Of(Ae,be)}return null}function ke(Ae,be,Ne,Ve){var gt=be!==null?be.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return gt!==null?null:$(Ae,be,""+Ne,Ve);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:return Ne.key===gt?he(Ae,be,Ne,Ve):null;case x:return Ne.key===gt?Me(Ae,be,Ne,Ve):null;case z:return gt=Ne._init,Ne=gt(Ne._payload),ke(Ae,be,Ne,Ve)}if(ve(Ne)||k(Ne))return gt!==null?null:qe(Ae,be,Ne,Ve,null);if(typeof Ne.then=="function")return ke(Ae,be,Pf(Ne),Ve);if(Ne.$$typeof===D)return ke(Ae,be,ro(Ae,Ne),Ve);Of(Ae,Ne)}return null}function Re(Ae,be,Ne,Ve,gt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ae=Ae.get(Ne)||null,$(be,Ae,""+Ve,gt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case C:return Ae=Ae.get(Ve.key===null?Ne:Ve.key)||null,he(be,Ae,Ve,gt);case x:return Ae=Ae.get(Ve.key===null?Ne:Ve.key)||null,Me(be,Ae,Ve,gt);case z:var nn=Ve._init;return Ve=nn(Ve._payload),Re(Ae,be,Ne,Ve,gt)}if(ve(Ve)||k(Ve))return Ae=Ae.get(Ne)||null,qe(be,Ae,Ve,gt,null);if(typeof Ve.then=="function")return Re(Ae,be,Ne,Pf(Ve),gt);if(Ve.$$typeof===D)return Re(Ae,be,Ne,ro(be,Ve),gt);Of(be,Ve)}return null}function Ft(Ae,be,Ne,Ve){for(var gt=null,nn=null,Tt=be,Dt=be=0,Pi=null;Tt!==null&&Dt<Ne.length;Dt++){Tt.index>Dt?(Pi=Tt,Tt=null):Pi=Tt.sibling;var yn=ke(Ae,Tt,Ne[Dt],Ve);if(yn===null){Tt===null&&(Tt=Pi);break}n&&Tt&&yn.alternate===null&&a(Ae,Tt),be=_(yn,be,Dt),nn===null?gt=yn:nn.sibling=yn,nn=yn,Tt=Pi}if(Dt===Ne.length)return l(Ae,Tt),pn&&qo(Ae,Dt),gt;if(Tt===null){for(;Dt<Ne.length;Dt++)Tt=Ge(Ae,Ne[Dt],Ve),Tt!==null&&(be=_(Tt,be,Dt),nn===null?gt=Tt:nn.sibling=Tt,nn=Tt);return pn&&qo(Ae,Dt),gt}for(Tt=c(Tt);Dt<Ne.length;Dt++)Pi=Re(Tt,Ae,Dt,Ne[Dt],Ve),Pi!==null&&(n&&Pi.alternate!==null&&Tt.delete(Pi.key===null?Dt:Pi.key),be=_(Pi,be,Dt),nn===null?gt=Pi:nn.sibling=Pi,nn=Pi);return n&&Tt.forEach(function(Ws){return a(Ae,Ws)}),pn&&qo(Ae,Dt),gt}function Rt(Ae,be,Ne,Ve){if(Ne==null)throw Error(i(151));for(var gt=null,nn=null,Tt=be,Dt=be=0,Pi=null,yn=Ne.next();Tt!==null&&!yn.done;Dt++,yn=Ne.next()){Tt.index>Dt?(Pi=Tt,Tt=null):Pi=Tt.sibling;var Ws=ke(Ae,Tt,yn.value,Ve);if(Ws===null){Tt===null&&(Tt=Pi);break}n&&Tt&&Ws.alternate===null&&a(Ae,Tt),be=_(Ws,be,Dt),nn===null?gt=Ws:nn.sibling=Ws,nn=Ws,Tt=Pi}if(yn.done)return l(Ae,Tt),pn&&qo(Ae,Dt),gt;if(Tt===null){for(;!yn.done;Dt++,yn=Ne.next())yn=Ge(Ae,yn.value,Ve),yn!==null&&(be=_(yn,be,Dt),nn===null?gt=yn:nn.sibling=yn,nn=yn);return pn&&qo(Ae,Dt),gt}for(Tt=c(Tt);!yn.done;Dt++,yn=Ne.next())yn=Re(Tt,Ae,Dt,yn.value,Ve),yn!==null&&(n&&yn.alternate!==null&&Tt.delete(yn.key===null?Dt:yn.key),be=_(yn,be,Dt),nn===null?gt=yn:nn.sibling=yn,nn=yn);return n&&Tt.forEach(function(xv){return a(Ae,xv)}),pn&&qo(Ae,Dt),gt}function Mn(Ae,be,Ne,Ve){if(typeof Ne=="object"&&Ne!==null&&Ne.type===T&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:e:{for(var gt=Ne.key;be!==null;){if(be.key===gt){if(gt=Ne.type,gt===T){if(be.tag===7){l(Ae,be.sibling),Ve=v(be,Ne.props.children),Ve.return=Ae,Ae=Ve;break e}}else if(be.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&dm(gt)===be.type){l(Ae,be.sibling),Ve=v(be,Ne.props),Lc(Ve,Ne),Ve.return=Ae,Ae=Ve;break e}l(Ae,be);break}else a(Ae,be);be=be.sibling}Ne.type===T?(Ve=wa(Ne.props.children,Ae.mode,Ve,Ne.key),Ve.return=Ae,Ae=Ve):(Ve=Fo(Ne.type,Ne.key,Ne.props,null,Ae.mode,Ve),Lc(Ve,Ne),Ve.return=Ae,Ae=Ve)}return P(Ae);case x:e:{for(gt=Ne.key;be!==null;){if(be.key===gt)if(be.tag===4&&be.stateNode.containerInfo===Ne.containerInfo&&be.stateNode.implementation===Ne.implementation){l(Ae,be.sibling),Ve=v(be,Ne.children||[]),Ve.return=Ae,Ae=Ve;break e}else{l(Ae,be);break}else a(Ae,be);be=be.sibling}Ve=Cl(Ne,Ae.mode,Ve),Ve.return=Ae,Ae=Ve}return P(Ae);case z:return gt=Ne._init,Ne=gt(Ne._payload),Mn(Ae,be,Ne,Ve)}if(ve(Ne))return Ft(Ae,be,Ne,Ve);if(k(Ne)){if(gt=k(Ne),typeof gt!="function")throw Error(i(150));return Ne=gt.call(Ne),Rt(Ae,be,Ne,Ve)}if(typeof Ne.then=="function")return Mn(Ae,be,Pf(Ne),Ve);if(Ne.$$typeof===D)return Mn(Ae,be,ro(Ae,Ne),Ve);Of(Ae,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,be!==null&&be.tag===6?(l(Ae,be.sibling),Ve=v(be,Ne),Ve.return=Ae,Ae=Ve):(l(Ae,be),Ve=yu(Ne,Ae.mode,Ve),Ve.return=Ae,Ae=Ve),P(Ae)):l(Ae,be)}return function(Ae,be,Ne,Ve){try{Ec=0;var gt=Mn(Ae,be,Ne,Ve);return Mu=null,gt}catch(Tt){if(Tt===G||Tt===Z)throw Tt;var nn=Ri(29,Tt,null,Ae.mode);return nn.lanes=Ve,nn.return=Ae,nn}finally{}}}var ku=hm(!0),pm=hm(!1),ia=ce(null),uo=null;function Rs(n){var a=n.alternate;H(Ci,Ci.current&1),H(ia,n),uo===null&&(a===null||en.current!==null||a.memoizedState!==null)&&(uo=n)}function mm(n){if(n.tag===22){if(H(Ci,Ci.current),H(ia,n),uo===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(uo=n)}}else Ds()}function Ds(){H(Ci,Ci.current),H(ia,ia.current)}function Wo(n){M(ia),uo===n&&(uo=null),M(Ci)}var Ci=ce(0);function Uf(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Fh(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Kd(n,a,l,c){a=n.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Zd={enqueueSetState:function(n,a,l){n=n._reactInternals;var c=zr(),v=Fe(c);v.payload=a,l!=null&&(v.callback=l),a=je(n,v,c),a!==null&&(Vr(a,n,c),ze(a,n,c))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var c=zr(),v=Fe(c);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=je(n,v,c),a!==null&&(Vr(a,n,c),ze(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=zr(),c=Fe(l);c.tag=2,a!=null&&(c.callback=a),a=je(n,c,l),a!==null&&(Vr(a,n,l),ze(a,n,l))}};function gm(n,a,l,c,v,_,P){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,_,P):a.prototype&&a.prototype.isPureReactComponent?!Io(l,c)||!Io(v,_):!0}function vm(n,a,l,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==n&&Zd.enqueueReplaceState(a,a.state,null)}function ql(n,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(n=n.defaultProps){l===a&&(l=b({},l));for(var v in n)l[v]===void 0&&(l[v]=n[v])}return l}var Ff=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ym(n){Ff(n)}function bm(n){console.error(n)}function xm(n){Ff(n)}function Bf(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function wm(n,a,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function $d(n,a,l){return l=Fe(l),l.tag=3,l.payload={element:null},l.callback=function(){Bf(n,a)},l}function _m(n){return n=Fe(n),n.tag=3,n}function Sm(n,a,l,c){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;n.payload=function(){return v(_)},n.callback=function(){wm(a,l,c)}}var P=l.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(n.callback=function(){wm(a,l,c),typeof v!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var $=c.stack;this.componentDidCatch(c.value,{componentStack:$!==null?$:""})})}function x5(n,a,l,c,v){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ts(a,l,v,!0),l=ia.current,l!==null){switch(l.tag){case 13:return uo===null?wh():l.alternate===null&&ri===0&&(ri=3),l.flags&=-257,l.flags|=65536,l.lanes=v,c===ee?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Sh(n,c,v)),!1;case 22:return l.flags|=65536,c===ee?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Sh(n,c,v)),!1}throw Error(i(435,l.tag))}return Sh(n,c,v),wh(),!1}if(pn)return a=ia.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,c!==hc&&(n=Error(i(422),{cause:c}),Cs(Ai(n,l)))):(c!==hc&&(a=Error(i(423),{cause:c}),Cs(Ai(a,l))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,c=Ai(c,l),v=$d(n.stateNode,c,v),ct(n,v),ri!==4&&(ri=2)),!1;var _=Error(i(520),{cause:c});if(_=Ai(_,l),Oc===null?Oc=[_]:Oc.push(_),ri!==4&&(ri=2),a===null)return!0;c=Ai(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=v&-v,l.lanes|=n,n=$d(l.stateNode,c,n),ct(l,n),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Bs===null||!Bs.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=_m(v),Sm(v,n,l,c),ct(l,v),!1}l=l.return}while(l!==null);return!1}var Am=Error(i(461)),Di=!1;function zi(n,a,l,c){a.child=n===null?pm(a,null,l,c):ku(a,n.child,l,c)}function Cm(n,a,l,c,v){l=l.render;var _=a.ref;if("ref"in c){var P={};for(var $ in c)$!=="ref"&&(P[$]=c[$])}else P=c;return ta(a),c=Or(n,a,l,P,_,v),$=On(),n!==null&&!Di?(Ml(n,a,v),Jo(n,a,v)):(pn&&$&&Tl(a),a.flags|=1,zi(n,a,c,v),a.child)}function Tm(n,a,l,c,v){if(n===null){var _=l.type;return typeof _=="function"&&!Ss(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,Nm(n,a,_,c,v)):(n=Fo(l.type,null,c,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(_=n.child,!ah(n,v)){var P=_.memoizedProps;if(l=l.compare,l=l!==null?l:Io,l(P,c)&&n.ref===a.ref)return Jo(n,a,v)}return a.flags|=1,n=$r(_,c),n.ref=a.ref,n.return=a,a.child=n}function Nm(n,a,l,c,v){if(n!==null){var _=n.memoizedProps;if(Io(_,c)&&n.ref===a.ref)if(Di=!1,a.pendingProps=c=_,ah(n,v))(n.flags&131072)!==0&&(Di=!0);else return a.lanes=n.lanes,Jo(n,a,v)}return Xd(n,a,l,c,v)}function Em(n,a,l){var c=a.pendingProps,v=c.children,_=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=_!==null?_.baseLanes|l:l,n!==null){for(v=a.child=n.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;a.childLanes=_&~c}else a.childLanes=0,a.child=null;return Lm(n,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&N(a,_!==null?_.cachePool:null),_!==null?xn(a,_):gn(),mm(a);else return a.lanes=a.childLanes=536870912,Lm(n,a,_!==null?_.baseLanes|l:l,l)}else _!==null?(N(a,_.cachePool),xn(a,_),Ds(),a.memoizedState=null):(n!==null&&N(a,null),gn(),Ds());return zi(n,a,v,l),a.child}function Lm(n,a,l,c){var v=A();return v=v===null?null:{parent:ui._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},n!==null&&N(a,null),gn(),mm(a),n!==null&&Ts(n,a,c,!0),null}function qf(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function Xd(n,a,l,c,v){return ta(a),l=Or(n,a,l,c,void 0,v),c=On(),n!==null&&!Di?(Ml(n,a,v),Jo(n,a,v)):(pn&&c&&Tl(a),a.flags|=1,zi(n,a,l,v),a.child)}function Mm(n,a,l,c,v,_){return ta(a),a.updateQueue=null,l=Ho(a,c,l,v),ao(n),c=On(),n!==null&&!Di?(Ml(n,a,_),Jo(n,a,_)):(pn&&c&&Tl(a),a.flags|=1,zi(n,a,l,_),a.child)}function km(n,a,l,c,v){if(ta(a),a.stateNode===null){var _=vi,P=l.contextType;typeof P=="object"&&P!==null&&(_=li(P)),_=new l(c,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Zd,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=c,_.state=a.memoizedState,_.refs={},ye(a),P=l.contextType,_.context=typeof P=="object"&&P!==null?li(P):vi,_.state=a.memoizedState,P=l.getDerivedStateFromProps,typeof P=="function"&&(Kd(a,l,P,c),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&Zd.enqueueReplaceState(_,_.state,null),nt(a,c,_,v),Ct(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){_=a.stateNode;var $=a.memoizedProps,he=ql(l,$);_.props=he;var Me=_.context,qe=l.contextType;P=vi,typeof qe=="object"&&qe!==null&&(P=li(qe));var Ge=l.getDerivedStateFromProps;qe=typeof Ge=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,qe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||Me!==P)&&vm(a,_,c,P),De=!1;var ke=a.memoizedState;_.state=ke,nt(a,c,_,v),Ct(),Me=a.memoizedState,$||ke!==Me||De?(typeof Ge=="function"&&(Kd(a,l,Ge,c),Me=a.memoizedState),(he=De||gm(a,l,he,c,ke,Me,P))?(qe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Me),_.props=c,_.state=Me,_.context=P,c=he):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{_=a.stateNode,we(n,a),P=a.memoizedProps,qe=ql(l,P),_.props=qe,Ge=a.pendingProps,ke=_.context,Me=l.contextType,he=vi,typeof Me=="object"&&Me!==null&&(he=li(Me)),$=l.getDerivedStateFromProps,(Me=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Ge||ke!==he)&&vm(a,_,c,he),De=!1,ke=a.memoizedState,_.state=ke,nt(a,c,_,v),Ct();var Re=a.memoizedState;P!==Ge||ke!==Re||De||n!==null&&n.dependencies!==null&&_u(n.dependencies)?(typeof $=="function"&&(Kd(a,l,$,c),Re=a.memoizedState),(qe=De||gm(a,l,qe,c,ke,Re,he)||n!==null&&n.dependencies!==null&&_u(n.dependencies))?(Me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,Re,he),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,Re,he)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Re),_.props=c,_.state=Re,_.context=he,c=qe):(typeof _.componentDidUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&ke===n.memoizedState||(a.flags|=1024),c=!1)}return _=c,qf(n,a),c=(a.flags&128)!==0,_||c?(_=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,n!==null&&c?(a.child=ku(a,n.child,null,v),a.child=ku(a,null,l,v)):zi(n,a,l,v),a.memoizedState=_.state,n=a.child):n=Jo(n,a,v),n}function Rm(n,a,l,c){return dr(),a.flags|=256,zi(n,a,l,c),a.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eh(n){return{baseLanes:n,cachePool:B()}}function th(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=ra),n}function Dm(n,a,l){var c=a.pendingProps,v=!1,_=(a.flags&128)!==0,P;if((P=_)||(P=n!==null&&n.memoizedState===null?!1:(Ci.current&2)!==0),P&&(v=!0,a.flags&=-129),P=(a.flags&32)!==0,a.flags&=-33,n===null){if(pn){if(v?Rs(a):Ds(),pn){var $=Gn,he;if(he=$){e:{for(he=$,$=Xr;he.nodeType!==8;){if(!$){$=null;break e}if(he=Da(he.nextSibling),he===null){$=null;break e}}$=he}$!==null?(a.memoizedState={dehydrated:$,treeContext:Bo!==null?{id:Sa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},he=Ri(18,null,null,0),he.stateNode=$,he.return=a,a.child=he,si=a,Gn=null,he=!0):he=!1}he||zo(a)}if($=a.memoizedState,$!==null&&($=$.dehydrated,$!==null))return Fh($)?a.lanes=32:a.lanes=536870912,null;Wo(a)}return $=c.children,c=c.fallback,v?(Ds(),v=a.mode,$=zf({mode:"hidden",children:$},v),c=wa(c,v,l,null),$.return=a,c.return=a,$.sibling=c,a.child=$,v=a.child,v.memoizedState=eh(l),v.childLanes=th(n,P,l),a.memoizedState=Qd,c):(Rs(a),nh(a,$))}if(he=n.memoizedState,he!==null&&($=he.dehydrated,$!==null)){if(_)a.flags&256?(Rs(a),a.flags&=-257,a=ih(n,a,l)):a.memoizedState!==null?(Ds(),a.child=n.child,a.flags|=128,a=null):(Ds(),v=c.fallback,$=a.mode,c=zf({mode:"visible",children:c.children},$),v=wa(v,$,l,null),v.flags|=2,c.return=a,v.return=a,c.sibling=v,a.child=c,ku(a,n.child,null,l),c=a.child,c.memoizedState=eh(l),c.childLanes=th(n,P,l),a.memoizedState=Qd,a=v);else if(Rs(a),Fh($)){if(P=$.nextSibling&&$.nextSibling.dataset,P)var Me=P.dgst;P=Me,c=Error(i(419)),c.stack="",c.digest=P,Cs({value:c,source:null,stack:null}),a=ih(n,a,l)}else if(Di||Ts(n,a,l,!1),P=(l&n.childLanes)!==0,Di||P){if(P=Un,P!==null&&(c=l&-l,c=(c&42)!==0?1:kn(c),c=(c&(P.suspendedLanes|l))!==0?0:c,c!==0&&c!==he.retryLane))throw he.retryLane=c,Oo(n,c),Vr(P,n,c),Am;$.data==="$?"||wh(),a=ih(n,a,l)}else $.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=he.treeContext,Gn=Da($.nextSibling),si=a,pn=!0,no=null,Xr=!1,n!==null&&(Sr[fr++]=Sa,Sr[fr++]=Aa,Sr[fr++]=Bo,Sa=n.id,Aa=n.overflow,Bo=a),a=nh(a,c.children),a.flags|=4096);return a}return v?(Ds(),v=c.fallback,$=a.mode,he=n.child,Me=he.sibling,c=$r(he,{mode:"hidden",children:c.children}),c.subtreeFlags=he.subtreeFlags&65011712,Me!==null?v=$r(Me,v):(v=wa(v,$,l,null),v.flags|=2),v.return=a,c.return=a,c.sibling=v,a.child=c,c=v,v=a.child,$=n.child.memoizedState,$===null?$=eh(l):(he=$.cachePool,he!==null?(Me=ui._currentValue,he=he.parent!==Me?{parent:Me,pool:Me}:he):he=B(),$={baseLanes:$.baseLanes|l,cachePool:he}),v.memoizedState=$,v.childLanes=th(n,P,l),a.memoizedState=Qd,c):(Rs(a),l=n.child,n=l.sibling,l=$r(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,n!==null&&(P=a.deletions,P===null?(a.deletions=[n],a.flags|=16):P.push(n)),a.child=l,a.memoizedState=null,l)}function nh(n,a){return a=zf({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function zf(n,a){return n=Ri(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ih(n,a,l){return ku(a,n.child,null,l),n=nh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Im(n,a,l){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),xu(n.return,a,l)}function rh(n,a,l,c,v){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=v)}function Pm(n,a,l){var c=a.pendingProps,v=c.revealOrder,_=c.tail;if(zi(n,a,c.children,l),c=Ci.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Im(n,l,a);else if(n.tag===19)Im(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(H(Ci,c),v){case"forwards":for(l=a.child,v=null;l!==null;)n=l.alternate,n!==null&&Uf(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),rh(a,!1,v,l,_);break;case"backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&Uf(n)===null){a.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}rh(a,!0,l,null,_);break;case"together":rh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Jo(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Fs|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Ts(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,l=$r(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=$r(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function ah(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&_u(n)))}function w5(n,a,l){switch(a.tag){case 3:xe(a,a.stateNode.containerInfo),io(a,ui,n.memoizedState.cache),dr();break;case 27:case 5:Ye(a);break;case 4:xe(a,a.stateNode.containerInfo);break;case 10:io(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Rs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Dm(n,a,l):(Rs(a),n=Jo(n,a,l),n!==null?n.sibling:null);Rs(a);break;case 19:var v=(n.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ts(n,a,l,!1),c=(l&a.childLanes)!==0),v){if(c)return Pm(n,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(Ci,Ci.current),c)break;return null;case 22:case 23:return a.lanes=0,Em(n,a,l);case 24:io(a,ui,n.memoizedState.cache)}return Jo(n,a,l)}function Om(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)Di=!0;else{if(!ah(n,l)&&(a.flags&128)===0)return Di=!1,w5(n,a,l);Di=(n.flags&131072)!==0}else Di=!1,pn&&(a.flags&1048576)!==0&&vf(a,bu,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var c=a.elementType,v=c._init;if(c=v(c._payload),a.type=c,typeof c=="function")Ss(c)?(n=ql(c,n),a.tag=1,a=km(null,a,c,n,l)):(a.tag=0,a=Xd(null,a,c,n,l));else{if(c!=null){if(v=c.$$typeof,v===j){a.tag=11,a=Cm(null,a,c,n,l);break e}else if(v===V){a.tag=14,a=Tm(null,a,c,n,l);break e}}throw a=te(c)||c,Error(i(306,a,""))}}return a;case 0:return Xd(n,a,a.type,a.pendingProps,l);case 1:return c=a.type,v=ql(c,a.pendingProps),km(n,a,c,v,l);case 3:e:{if(xe(a,a.stateNode.containerInfo),n===null)throw Error(i(387));c=a.pendingProps;var _=a.memoizedState;v=_.element,we(n,a),nt(a,c,null,l);var P=a.memoizedState;if(c=P.cache,io(a,ui,c),c!==_.cache&&wu(a,[ui],l,!0),Ct(),c=P.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:P.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Rm(n,a,c,l);break e}else if(c!==v){v=Ai(Error(i(424)),a),Cs(v),a=Rm(n,a,c,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Gn=Da(n.firstChild),si=a,pn=!0,no=null,Xr=!0,l=pm(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(dr(),c===v){a=Jo(n,a,l);break e}zi(n,a,c,l)}a=a.child}return a;case 26:return qf(n,a),n===null?(l=qg(a.type,null,a.pendingProps,null))?a.memoizedState=l:pn||(l=a.type,n=a.pendingProps,c=td(ue.current).createElement(l),c[cn]=a,c[sn]=n,Hi(c,l,n),_n(c),a.stateNode=c):a.memoizedState=qg(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Ye(a),n===null&&pn&&(c=a.stateNode=Ug(a.type,a.pendingProps,ue.current),si=a,Xr=!0,v=Gn,Vs(a.type)?(Bh=v,Gn=Da(c.firstChild)):Gn=v),zi(n,a,a.pendingProps.children,l),qf(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&pn&&((v=c=Gn)&&(c=K5(c,a.type,a.pendingProps,Xr),c!==null?(a.stateNode=c,si=a,Gn=Da(c.firstChild),Xr=!1,v=!0):v=!1),v||zo(a)),Ye(a),v=a.type,_=a.pendingProps,P=n!==null?n.memoizedProps:null,c=_.children,Ph(v,_)?c=null:P!==null&&Ph(v,P)&&(a.flags|=32),a.memoizedState!==null&&(v=Or(n,a,oo,null,null,l),Gc._currentValue=v),qf(n,a),zi(n,a,c,l),a.child;case 6:return n===null&&pn&&((n=l=Gn)&&(l=Z5(l,a.pendingProps,Xr),l!==null?(a.stateNode=l,si=a,Gn=null,n=!0):n=!1),n||zo(a)),null;case 13:return Dm(n,a,l);case 4:return xe(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=ku(a,null,c,l):zi(n,a,c,l),a.child;case 11:return Cm(n,a,a.type,a.pendingProps,l);case 7:return zi(n,a,a.pendingProps,l),a.child;case 8:return zi(n,a,a.pendingProps.children,l),a.child;case 12:return zi(n,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,io(a,a.type,c.value),zi(n,a,c.children,l),a.child;case 9:return v=a.type._context,c=a.pendingProps.children,ta(a),v=li(v),c=c(v),a.flags|=1,zi(n,a,c,l),a.child;case 14:return Tm(n,a,a.type,a.pendingProps,l);case 15:return Nm(n,a,a.type,a.pendingProps,l);case 19:return Pm(n,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},n===null?(l=zf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=$r(n.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Em(n,a,l);case 24:return ta(a),c=li(ui),n===null?(v=A(),v===null&&(v=Un,_=pc(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),a.memoizedState={parent:c,cache:v},ye(a),io(a,ui,v)):((n.lanes&l)!==0&&(we(n,a),nt(a,null,null,l),Ct()),v=n.memoizedState,_=a.memoizedState,v.parent!==c?(v={parent:c,cache:c},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),io(a,ui,c)):(c=_.cache,io(a,ui,c),c!==v.cache&&wu(a,[ui],l,!0))),zi(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ko(n){n.flags|=4}function Um(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gg(a)){if(a=ia.current,a!==null&&((hn&4194048)===hn?uo!==null:(hn&62914560)!==hn&&(hn&536870912)===0||a!==uo))throw Te=ee,W;n.flags|=8192}}function Vf(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?it():536870912,n.lanes|=a,Pu|=a)}function Mc(n,a){if(!pn)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Qn(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(a)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=c,n.childLanes=l,a}function _5(n,a,l){var c=a.pendingProps;switch(Nl(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return Qn(a),null;case 3:return l=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ea(ui),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Bi(a)?Ko(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,bf())),Qn(a),null;case 26:return l=a.memoizedState,n===null?(Ko(a),l!==null?(Qn(a),Um(a,l)):(Qn(a),a.flags&=-16777217)):l?l!==n.memoizedState?(Ko(a),Qn(a),Um(a,l)):(Qn(a),a.flags&=-16777217):(n.memoizedProps!==c&&Ko(a),Qn(a),a.flags&=-16777217),null;case 27:We(a),l=ue.current;var v=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Ko(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Qn(a),null}n=X.current,Bi(a)?yf(a):(n=Ug(v,c,l),a.stateNode=n,Ko(a))}return Qn(a),null;case 5:if(We(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Ko(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Qn(a),null}if(n=X.current,Bi(a))yf(a);else{switch(v=td(ue.current),n){case 1:n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?v.createElement("select",{is:c.is}):v.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?v.createElement(l,{is:c.is}):v.createElement(l)}}n[cn]=a,n[sn]=c;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)n.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=n;e:switch(Hi(n,l,c),l){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ko(a)}}return Qn(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&Ko(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(n=ue.current,Bi(a)){if(n=a.stateNode,l=a.memoizedProps,c=null,v=si,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}n[cn]=a,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Mg(n.nodeValue,l)),n||zo(a)}else n=td(n).createTextNode(c),n[cn]=a,a.stateNode=n}return Qn(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Bi(a),c!==null&&c.dehydrated!==null){if(n===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[cn]=a}else dr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qn(a),v=!1}else v=bf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Wo(a),a):(Wo(a),null)}if(Wo(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,n=n!==null&&n.memoizedState!==null,l){c=a.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool);var _=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==v&&(c.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),Vf(a,a.updateQueue),Qn(a),null;case 4:return pe(),n===null&&Mh(a.stateNode.containerInfo),Qn(a),null;case 10:return ea(a.type),Qn(a),null;case 19:if(M(Ci),v=a.memoizedState,v===null)return Qn(a),null;if(c=(a.flags&128)!==0,_=v.rendering,_===null)if(c)Mc(v,!1);else{if(ri!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(_=Uf(n),_!==null){for(a.flags|=128,Mc(v,!1),n=_.updateQueue,a.updateQueue=n,Vf(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)Al(l,n),l=l.sibling;return H(Ci,Ci.current&1|2),a.child}n=n.sibling}v.tail!==null&&ht()>Gf&&(a.flags|=128,c=!0,Mc(v,!1),a.lanes=4194304)}else{if(!c)if(n=Uf(_),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,Vf(a,n),Mc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!pn)return Qn(a),null}else 2*ht()-v.renderingStartTime>Gf&&l!==536870912&&(a.flags|=128,c=!0,Mc(v,!1),a.lanes=4194304);v.isBackwards?(_.sibling=a.child,a.child=_):(n=v.last,n!==null?n.sibling=_:a.child=_,v.last=_)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=ht(),a.sibling=null,n=Ci.current,H(Ci,c?n&1|2:n&1),a):(Qn(a),null);case 22:case 23:return Wo(a),Vt(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),l=a.updateQueue,l!==null&&Vf(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),n!==null&&M(y),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ea(ui),Qn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function S5(n,a){switch(Nl(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return ea(ui),pe(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 13:if(Wo(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));dr()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return M(Ci),null;case 4:return pe(),null;case 10:return ea(a.type),null;case 22:case 23:return Wo(a),Vt(),n!==null&&M(y),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return ea(ui),null;case 25:return null;default:return null}}function Fm(n,a){switch(Nl(a),a.tag){case 3:ea(ui),pe();break;case 26:case 27:case 5:We(a);break;case 4:pe();break;case 13:Wo(a);break;case 19:M(Ci);break;case 10:ea(a.type);break;case 22:case 23:Wo(a),Vt(),n!==null&&M(y);break;case 24:ea(ui)}}function kc(n,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var v=c.next;l=v;do{if((l.tag&n)===n){c=void 0;var _=l.create,P=l.inst;c=_(),P.destroy=c}l=l.next}while(l!==v)}}catch($){Dn(a,a.return,$)}}function Is(n,a,l){try{var c=a.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var _=v.next;c=_;do{if((c.tag&n)===n){var P=c.inst,$=P.destroy;if($!==void 0){P.destroy=void 0,v=a;var he=l,Me=$;try{Me()}catch(qe){Dn(v,he,qe)}}}c=c.next}while(c!==_)}}catch(qe){Dn(a,a.return,qe)}}function Bm(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{mn(a,l)}catch(c){Dn(n,n.return,c)}}}function qm(n,a,l){l.props=ql(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){Dn(n,a,c)}}function Rc(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(v){Dn(n,a,v)}}function co(n,a){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(v){Dn(n,a,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Dn(n,a,v)}else l.current=null}function zm(n){var a=n.type,l=n.memoizedProps,c=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(v){Dn(n,n.return,v)}}function oh(n,a,l){try{var c=n.stateNode;j5(c,n.type,l,a),c[sn]=a}catch(v){Dn(n,n.return,v)}}function Vm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vs(n.type)||n.tag===4}function sh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lh(n,a,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ed));else if(c!==4&&(c===27&&Vs(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(lh(n,a,l),n=n.sibling;n!==null;)lh(n,a,l),n=n.sibling}function Hf(n,a,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(c!==4&&(c===27&&Vs(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Hf(n,a,l),n=n.sibling;n!==null;)Hf(n,a,l),n=n.sibling}function Hm(n){var a=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Hi(a,c,l),a[cn]=n,a[sn]=l}catch(_){Dn(n,n.return,_)}}var Zo=!1,fi=!1,uh=!1,jm=typeof WeakSet=="function"?WeakSet:Set,Ii=null;function A5(n,a){if(n=n.containerInfo,Dh=sd,n=br(n),Kr(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var v=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var P=0,$=-1,he=-1,Me=0,qe=0,Ge=n,ke=null;t:for(;;){for(var Re;Ge!==l||v!==0&&Ge.nodeType!==3||($=P+v),Ge!==_||c!==0&&Ge.nodeType!==3||(he=P+c),Ge.nodeType===3&&(P+=Ge.nodeValue.length),(Re=Ge.firstChild)!==null;)ke=Ge,Ge=Re;for(;;){if(Ge===n)break t;if(ke===l&&++Me===v&&($=P),ke===_&&++qe===c&&(he=P),(Re=Ge.nextSibling)!==null)break;Ge=ke,ke=Ge.parentNode}Ge=Re}l=$===-1||he===-1?null:{start:$,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ih={focusedElem:n,selectionRange:l},sd=!1,Ii=a;Ii!==null;)if(a=Ii,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Ii=n;else for(;Ii!==null;){switch(a=Ii,_=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,l=a,v=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var Ft=ql(l.type,v,l.elementType===l.type);n=c.getSnapshotBeforeUpdate(Ft,_),c.__reactInternalSnapshotBeforeUpdate=n}catch(Rt){Dn(l,l.return,Rt)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Uh(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Uh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,Ii=n;break}Ii=a.return}}function Gm(n,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ps(n,l),c&4&&kc(5,l);break;case 1:if(Ps(n,l),c&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(P){Dn(l,l.return,P)}else{var v=ql(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(v,a,n.__reactInternalSnapshotBeforeUpdate)}catch(P){Dn(l,l.return,P)}}c&64&&Bm(l),c&512&&Rc(l,l.return);break;case 3:if(Ps(n,l),c&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{mn(n,a)}catch(P){Dn(l,l.return,P)}}break;case 27:a===null&&c&4&&Hm(l);case 26:case 5:Ps(n,l),a===null&&c&4&&zm(l),c&512&&Rc(l,l.return);break;case 12:Ps(n,l);break;case 13:Ps(n,l),c&4&&Jm(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=D5.bind(null,l),$5(n,l))));break;case 22:if(c=l.memoizedState!==null||Zo,!c){a=a!==null&&a.memoizedState!==null||fi,v=Zo;var _=fi;Zo=c,(fi=a)&&!_?Os(n,l,(l.subtreeFlags&8772)!==0):Ps(n,l),Zo=v,fi=_}break;case 30:break;default:Ps(n,l)}}function Ym(n){var a=n.alternate;a!==null&&(n.alternate=null,Ym(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&sr(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Yn=null,Cr=!1;function $o(n,a,l){for(l=l.child;l!==null;)Wm(n,a,l),l=l.sibling}function Wm(n,a,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(qt,l)}catch{}switch(l.tag){case 26:fi||co(l,a),$o(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:fi||co(l,a);var c=Yn,v=Cr;Vs(l.type)&&(Yn=l.stateNode,Cr=!1),$o(n,a,l),zc(l.stateNode),Yn=c,Cr=v;break;case 5:fi||co(l,a);case 6:if(c=Yn,v=Cr,Yn=null,$o(n,a,l),Yn=c,Cr=v,Yn!==null)if(Cr)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(l.stateNode)}catch(_){Dn(l,a,_)}else try{Yn.removeChild(l.stateNode)}catch(_){Dn(l,a,_)}break;case 18:Yn!==null&&(Cr?(n=Yn,Pg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Kc(n)):Pg(Yn,l.stateNode));break;case 4:c=Yn,v=Cr,Yn=l.stateNode.containerInfo,Cr=!0,$o(n,a,l),Yn=c,Cr=v;break;case 0:case 11:case 14:case 15:fi||Is(2,l,a),fi||Is(4,l,a),$o(n,a,l);break;case 1:fi||(co(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&qm(l,a,c)),$o(n,a,l);break;case 21:$o(n,a,l);break;case 22:fi=(c=fi)||l.memoizedState!==null,$o(n,a,l),fi=c;break;default:$o(n,a,l)}}function Jm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kc(n)}catch(l){Dn(a,a.return,l)}}function C5(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new jm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new jm),a;default:throw Error(i(435,n.tag))}}function ch(n,a){var l=C5(n);a.forEach(function(c){var v=I5.bind(null,n,c);l.has(c)||(l.add(c),c.then(v,v))})}function Fr(n,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var v=l[c],_=n,P=a,$=P;e:for(;$!==null;){switch($.tag){case 27:if(Vs($.type)){Yn=$.stateNode,Cr=!1;break e}break;case 5:Yn=$.stateNode,Cr=!1;break e;case 3:case 4:Yn=$.stateNode.containerInfo,Cr=!0;break e}$=$.return}if(Yn===null)throw Error(i(160));Wm(_,P,v),Yn=null,Cr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Km(a,n),a=a.sibling}var Ra=null;function Km(n,a){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Fr(a,n),Br(n),c&4&&(Is(3,n,n.return),kc(3,n),Is(5,n,n.return));break;case 1:Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),c&64&&Zo&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var v=Ra;if(Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){e:{c=n.type,l=n.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":_=v.getElementsByTagName("title")[0],(!_||_[or]||_[cn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(c),v.head.insertBefore(_,v.querySelector("head > title"))),Hi(_,c,l),_[cn]=n,_n(_),c=_;break e;case"link":var P=Hg("link","href",v).get(c+(l.href||""));if(P){for(var $=0;$<P.length;$++)if(_=P[$],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){P.splice($,1);break t}}_=v.createElement(c),Hi(_,c,l),v.head.appendChild(_);break;case"meta":if(P=Hg("meta","content",v).get(c+(l.content||""))){for($=0;$<P.length;$++)if(_=P[$],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){P.splice($,1);break t}}_=v.createElement(c),Hi(_,c,l),v.head.appendChild(_);break;default:throw Error(i(468,c))}_[cn]=n,_n(_),c=_}n.stateNode=c}else jg(v,n.type,n.stateNode);else n.stateNode=Vg(v,c,n.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?jg(v,n.type,n.stateNode):Vg(v,c,n.memoizedProps)):c===null&&n.stateNode!==null&&oh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),l!==null&&c&4&&oh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Fr(a,n),Br(n),c&512&&(fi||l===null||co(l,l.return)),n.flags&32){v=n.stateNode;try{Va(v,"")}catch(Re){Dn(n,n.return,Re)}}c&4&&n.stateNode!=null&&(v=n.memoizedProps,oh(n,v,l!==null?l.memoizedProps:v)),c&1024&&(uh=!0);break;case 6:if(Fr(a,n),Br(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(Re){Dn(n,n.return,Re)}}break;case 3:if(rd=null,v=Ra,Ra=nd(a.containerInfo),Fr(a,n),Ra=v,Br(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(a.containerInfo)}catch(Re){Dn(n,n.return,Re)}uh&&(uh=!1,Zm(n));break;case 4:c=Ra,Ra=nd(n.stateNode.containerInfo),Fr(a,n),Br(n),Ra=c;break;case 12:Fr(a,n),Br(n);break;case 13:Fr(a,n),Br(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(gh=ht()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ch(n,c)));break;case 22:v=n.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Me=Zo,qe=fi;if(Zo=Me||v,fi=qe||he,Fr(a,n),fi=qe,Zo=Me,Br(n),c&8192)e:for(a=n.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||he||Zo||fi||zl(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){he=l=a;try{if(_=he.stateNode,v)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{$=he.stateNode;var Ge=he.memoizedProps.style,ke=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;$.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Re){Dn(he,he.return,Re)}}}else if(a.tag===6){if(l===null){he=a;try{he.stateNode.nodeValue=v?"":he.memoizedProps}catch(Re){Dn(he,he.return,Re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ch(n,l))));break;case 19:Fr(a,n),Br(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ch(n,c)));break;case 30:break;case 21:break;default:Fr(a,n),Br(n)}}function Br(n){var a=n.flags;if(a&2){try{for(var l,c=n.return;c!==null;){if(Vm(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,_=sh(n);Hf(n,_,v);break;case 5:var P=l.stateNode;l.flags&32&&(Va(P,""),l.flags&=-33);var $=sh(n);Hf(n,$,P);break;case 3:case 4:var he=l.stateNode.containerInfo,Me=sh(n);lh(n,Me,he);break;default:throw Error(i(161))}}catch(qe){Dn(n,n.return,qe)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Zm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Zm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Ps(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gm(n,a.alternate,a),a=a.sibling}function zl(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Is(4,a,a.return),zl(a);break;case 1:co(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&qm(a,a.return,l),zl(a);break;case 27:zc(a.stateNode);case 26:case 5:co(a,a.return),zl(a);break;case 22:a.memoizedState===null&&zl(a);break;case 30:zl(a);break;default:zl(a)}n=n.sibling}}function Os(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,v=n,_=a,P=_.flags;switch(_.tag){case 0:case 11:case 15:Os(v,_,l),kc(4,_);break;case 1:if(Os(v,_,l),c=_,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Me){Dn(c,c.return,Me)}if(c=_,v=c.updateQueue,v!==null){var $=c.stateNode;try{var he=v.shared.hiddenCallbacks;if(he!==null)for(v.shared.hiddenCallbacks=null,v=0;v<he.length;v++)fn(he[v],$)}catch(Me){Dn(c,c.return,Me)}}l&&P&64&&Bm(_),Rc(_,_.return);break;case 27:Hm(_);case 26:case 5:Os(v,_,l),l&&c===null&&P&4&&zm(_),Rc(_,_.return);break;case 12:Os(v,_,l);break;case 13:Os(v,_,l),l&&P&4&&Jm(v,_);break;case 22:_.memoizedState===null&&Os(v,_,l),Rc(_,_.return);break;case 30:break;default:Os(v,_,l)}a=a.sibling}}function fh(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&El(l))}function dh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&El(n))}function fo(n,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$m(n,a,l,c),a=a.sibling}function $m(n,a,l,c){var v=a.flags;switch(a.tag){case 0:case 11:case 15:fo(n,a,l,c),v&2048&&kc(9,a);break;case 1:fo(n,a,l,c);break;case 3:fo(n,a,l,c),v&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&El(n)));break;case 12:if(v&2048){fo(n,a,l,c),n=a.stateNode;try{var _=a.memoizedProps,P=_.id,$=_.onPostCommit;typeof $=="function"&&$(P,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(he){Dn(a,a.return,he)}}else fo(n,a,l,c);break;case 13:fo(n,a,l,c);break;case 23:break;case 22:_=a.stateNode,P=a.alternate,a.memoizedState!==null?_._visibility&2?fo(n,a,l,c):Dc(n,a):_._visibility&2?fo(n,a,l,c):(_._visibility|=2,Ru(n,a,l,c,(a.subtreeFlags&10256)!==0)),v&2048&&fh(P,a);break;case 24:fo(n,a,l,c),v&2048&&dh(a.alternate,a);break;default:fo(n,a,l,c)}}function Ru(n,a,l,c,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var _=n,P=a,$=l,he=c,Me=P.flags;switch(P.tag){case 0:case 11:case 15:Ru(_,P,$,he,v),kc(8,P);break;case 23:break;case 22:var qe=P.stateNode;P.memoizedState!==null?qe._visibility&2?Ru(_,P,$,he,v):Dc(_,P):(qe._visibility|=2,Ru(_,P,$,he,v)),v&&Me&2048&&fh(P.alternate,P);break;case 24:Ru(_,P,$,he,v),v&&Me&2048&&dh(P.alternate,P);break;default:Ru(_,P,$,he,v)}a=a.sibling}}function Dc(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,c=a,v=c.flags;switch(c.tag){case 22:Dc(l,c),v&2048&&fh(c.alternate,c);break;case 24:Dc(l,c),v&2048&&dh(c.alternate,c);break;default:Dc(l,c)}a=a.sibling}}var Ic=8192;function Du(n){if(n.subtreeFlags&Ic)for(n=n.child;n!==null;)Xm(n),n=n.sibling}function Xm(n){switch(n.tag){case 26:Du(n),n.flags&Ic&&n.memoizedState!==null&&cv(Ra,n.memoizedState,n.memoizedProps);break;case 5:Du(n);break;case 3:case 4:var a=Ra;Ra=nd(n.stateNode.containerInfo),Du(n),Ra=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Ic,Ic=16777216,Du(n),Ic=a):Du(n));break;default:Du(n)}}function Qm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Pc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Ii=c,tg(c,n)}Qm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)eg(n),n=n.sibling}function eg(n){switch(n.tag){case 0:case 11:case 15:Pc(n),n.flags&2048&&Is(9,n,n.return);break;case 3:Pc(n);break;case 12:Pc(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,jf(n)):Pc(n);break;default:Pc(n)}}function jf(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Ii=c,tg(c,n)}Qm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Is(8,a,a.return),jf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,jf(a));break;default:jf(a)}n=n.sibling}}function tg(n,a){for(;Ii!==null;){var l=Ii;switch(l.tag){case 0:case 11:case 15:Is(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:El(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Ii=c;else e:for(l=n;Ii!==null;){c=Ii;var v=c.sibling,_=c.return;if(Ym(c),c===l){Ii=null;break e}if(v!==null){v.return=_,Ii=v;break e}Ii=_}}}var T5={getCacheForType:function(n){var a=li(ui),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},N5=typeof WeakMap=="function"?WeakMap:Map,Cn=0,Un=null,an=null,hn=0,Tn=0,qr=null,Us=!1,Iu=!1,hh=!1,Xo=0,ri=0,Fs=0,Vl=0,ph=0,ra=0,Pu=0,Oc=null,Tr=null,mh=!1,gh=0,Gf=1/0,Yf=null,Bs=null,Vi=0,qs=null,Ou=null,Uu=0,vh=0,yh=null,ng=null,Uc=0,bh=null;function zr(){if((Cn&2)!==0&&hn!==0)return hn&-hn;if(F.T!==null){var n=Vo;return n!==0?n:Th()}return ji()}function ig(){ra===0&&(ra=(hn&536870912)===0||pn?Je():536870912);var n=ia.current;return n!==null&&(n.flags|=32),ra}function Vr(n,a,l){(n===Un&&(Tn===2||Tn===9)||n.cancelPendingCommit!==null)&&(Fu(n,0),zs(n,hn,ra,!1)),Lt(n,l),((Cn&2)===0||n!==Un)&&(n===Un&&((Cn&2)===0&&(Vl|=l),ri===4&&zs(n,hn,ra,!1)),ho(n))}function rg(n,a,l){if((Cn&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&n.expiredLanes)===0||Ue(n,a),v=c?M5(n,a):_h(n,a,!0),_=c;do{if(v===0){Iu&&!c&&zs(n,a,0,!1);break}else{if(l=n.current.alternate,_&&!E5(l)){v=_h(n,a,!1),_=!1;continue}if(v===2){if(_=a,n.errorRecoveryDisabledLanes&_)var P=0;else P=n.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){a=P;e:{var $=n;v=Oc;var he=$.current.memoizedState.isDehydrated;if(he&&(Fu($,P).flags|=256),P=_h($,P,!1),P!==2){if(hh&&!he){$.errorRecoveryDisabledLanes|=_,Vl|=_,v=4;break e}_=Tr,Tr=v,_!==null&&(Tr===null?Tr=_:Tr.push.apply(Tr,_))}v=P}if(_=!1,v!==2)continue}}if(v===1){Fu(n,0),zs(n,a,0,!0);break}e:{switch(c=n,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:zs(c,a,ra,!Us);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=gh+300-ht(),10<v)){if(zs(c,a,ra,!Us),Ie(c,0,!0)!==0)break e;c.timeoutHandle=Dg(ag.bind(null,c,l,Tr,Yf,mh,a,ra,Vl,Pu,Us,_,2,-0,0),v);break e}ag(c,l,Tr,Yf,mh,a,ra,Vl,Pu,Us,_,0,-0,0)}}break}while(!0);ho(n)}function ag(n,a,l,c,v,_,P,$,he,Me,qe,Ge,ke,Re){if(n.timeoutHandle=-1,Ge=a.subtreeFlags,(Ge&8192||(Ge&16785408)===16785408)&&(jc={stylesheets:null,count:0,unsuspend:uv},Xm(a),Ge=fv(),Ge!==null)){n.cancelPendingCommit=Ge(dg.bind(null,n,a,_,l,c,v,P,$,he,qe,1,ke,Re)),zs(n,_,P,!Me);return}dg(n,a,_,l,c,v,P,$,he)}function E5(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var v=l[c],_=v.getSnapshot;v=v.value;try{if(!Si(_(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zs(n,a,l,c){a&=~ph,a&=~Vl,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var v=a;0<v;){var _=31-yt(v),P=1<<_;c[_]=-1,v&=~P}l!==0&&pt(n,l,a)}function Wf(){return(Cn&6)===0?(Fc(0),!1):!0}function xh(){if(an!==null){if(Tn===0)var n=an.return;else n=an,Ta=yi=null,Au(n),Mu=null,Ec=0,n=an;for(;n!==null;)Fm(n.alternate,n),n=n.return;an=null}}function Fu(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Y5(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),xh(),Un=n,an=l=$r(n.current,null),hn=a,Tn=0,qr=null,Us=!1,Iu=Ue(n,a),hh=!1,Pu=ra=ph=Vl=Fs=ri=0,Tr=Oc=null,mh=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var v=31-yt(c),_=1<<v;a|=n[v],c&=~_}return Xo=a,_l(),l}function og(n,a){Et=null,F.H=If,a===G||a===Z?(a=Se(),Tn=3):a===W?(a=Se(),Tn=4):Tn=a===Am?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qr=a,an===null&&(ri=1,Bf(n,Ai(a,n.current)))}function sg(){var n=F.H;return F.H=If,n===null?If:n}function lg(){var n=F.A;return F.A=T5,n}function wh(){ri=4,Us||(hn&4194048)!==hn&&ia.current!==null||(Iu=!0),(Fs&134217727)===0&&(Vl&134217727)===0||Un===null||zs(Un,hn,ra,!1)}function _h(n,a,l){var c=Cn;Cn|=2;var v=sg(),_=lg();(Un!==n||hn!==a)&&(Yf=null,Fu(n,a)),a=!1;var P=ri;e:do try{if(Tn!==0&&an!==null){var $=an,he=qr;switch(Tn){case 8:xh(),P=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(a=!0);var Me=Tn;if(Tn=0,qr=null,Bu(n,$,he,Me),l&&Iu){P=0;break e}break;default:Me=Tn,Tn=0,qr=null,Bu(n,$,he,Me)}}L5(),P=ri;break}catch(qe){og(n,qe)}while(!0);return a&&n.shellSuspendCounter++,Ta=yi=null,Cn=c,F.H=v,F.A=_,an===null&&(Un=null,hn=0,_l()),P}function L5(){for(;an!==null;)ug(an)}function M5(n,a){var l=Cn;Cn|=2;var c=sg(),v=lg();Un!==n||hn!==a?(Yf=null,Gf=ht()+500,Fu(n,a)):Iu=Ue(n,a);e:do try{if(Tn!==0&&an!==null){a=an;var _=qr;t:switch(Tn){case 1:Tn=0,qr=null,Bu(n,a,_,1);break;case 2:case 9:if(se(_)){Tn=0,qr=null,cg(a);break}a=function(){Tn!==2&&Tn!==9||Un!==n||(Tn=7),ho(n)},_.then(a,a);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:se(_)?(Tn=0,qr=null,cg(a)):(Tn=0,qr=null,Bu(n,a,_,7));break;case 5:var P=null;switch(an.tag){case 26:P=an.memoizedState;case 5:case 27:var $=an;if(!P||Gg(P)){Tn=0,qr=null;var he=$.sibling;if(he!==null)an=he;else{var Me=$.return;Me!==null?(an=Me,Jf(Me)):an=null}break t}}Tn=0,qr=null,Bu(n,a,_,5);break;case 6:Tn=0,qr=null,Bu(n,a,_,6);break;case 8:xh(),ri=6;break e;default:throw Error(i(462))}}k5();break}catch(qe){og(n,qe)}while(!0);return Ta=yi=null,F.H=c,F.A=v,Cn=l,an!==null?0:(Un=null,hn=0,_l(),ri)}function k5(){for(;an!==null&&!Oe();)ug(an)}function ug(n){var a=Om(n.alternate,n,Xo);n.memoizedProps=n.pendingProps,a===null?Jf(n):an=a}function cg(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=Mm(l,a,a.pendingProps,a.type,void 0,hn);break;case 11:a=Mm(l,a,a.pendingProps,a.type.render,a.ref,hn);break;case 5:Au(a);default:Fm(l,a),a=an=Al(a,Xo),a=Om(l,a,Xo)}n.memoizedProps=n.pendingProps,a===null?Jf(n):an=a}function Bu(n,a,l,c){Ta=yi=null,Au(a),Mu=null,Ec=0;var v=a.return;try{if(x5(n,v,a,l,hn)){ri=1,Bf(n,Ai(l,n.current)),an=null;return}}catch(_){if(v!==null)throw an=v,_;ri=1,Bf(n,Ai(l,n.current)),an=null;return}a.flags&32768?(pn||c===1?n=!0:Iu||(hn&536870912)!==0?n=!1:(Us=n=!0,(c===2||c===9||c===3||c===6)&&(c=ia.current,c!==null&&c.tag===13&&(c.flags|=16384))),fg(a,n)):Jf(a)}function Jf(n){var a=n;do{if((a.flags&32768)!==0){fg(a,Us);return}n=a.return;var l=_5(a.alternate,a,Xo);if(l!==null){an=l;return}if(a=a.sibling,a!==null){an=a;return}an=a=n}while(a!==null);ri===0&&(ri=5)}function fg(n,a){do{var l=S5(n.alternate,n);if(l!==null){l.flags&=32767,an=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){an=n;return}an=n=l}while(n!==null);ri=6,an=null}function dg(n,a,l,c,v,_,P,$,he){n.cancelPendingCommit=null;do Kf();while(Vi!==0);if((Cn&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(_=a.lanes|a.childLanes,_|=mu,bt(n,l,_,P,$,he),n===Un&&(an=Un=null,hn=0),Ou=a,qs=n,Uu=l,vh=_,yh=v,ng=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,P5(at,function(){return vg(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,v=J.p,J.p=2,P=Cn,Cn|=4;try{A5(n,a,l)}finally{Cn=P,J.p=v,F.T=c}}Vi=1,hg(),pg(),mg()}}function hg(){if(Vi===1){Vi=0;var n=qs,a=Ou,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var c=J.p;J.p=2;var v=Cn;Cn|=4;try{Km(a,n);var _=Ih,P=br(n.containerInfo),$=_.focusedElem,he=_.selectionRange;if(P!==$&&$&&$.ownerDocument&&cr($.ownerDocument.documentElement,$)){if(he!==null&&Kr($)){var Me=he.start,qe=he.end;if(qe===void 0&&(qe=Me),"selectionStart"in $)$.selectionStart=Me,$.selectionEnd=Math.min(qe,$.value.length);else{var Ge=$.ownerDocument||document,ke=Ge&&Ge.defaultView||window;if(ke.getSelection){var Re=ke.getSelection(),Ft=$.textContent.length,Rt=Math.min(he.start,Ft),Mn=he.end===void 0?Rt:Math.min(he.end,Ft);!Re.extend&&Rt>Mn&&(P=Mn,Mn=Rt,Rt=P);var Ae=va($,Rt),be=va($,Mn);if(Ae&&be&&(Re.rangeCount!==1||Re.anchorNode!==Ae.node||Re.anchorOffset!==Ae.offset||Re.focusNode!==be.node||Re.focusOffset!==be.offset)){var Ne=Ge.createRange();Ne.setStart(Ae.node,Ae.offset),Re.removeAllRanges(),Rt>Mn?(Re.addRange(Ne),Re.extend(be.node,be.offset)):(Ne.setEnd(be.node,be.offset),Re.addRange(Ne))}}}}for(Ge=[],Re=$;Re=Re.parentNode;)Re.nodeType===1&&Ge.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<Ge.length;$++){var Ve=Ge[$];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}sd=!!Dh,Ih=Dh=null}finally{Cn=v,J.p=c,F.T=l}}n.current=a,Vi=2}}function pg(){if(Vi===2){Vi=0;var n=qs,a=Ou,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var c=J.p;J.p=2;var v=Cn;Cn|=4;try{Gm(n,a.alternate,a)}finally{Cn=v,J.p=c,F.T=l}}Vi=3}}function mg(){if(Vi===4||Vi===3){Vi=0,de();var n=qs,a=Ou,l=Uu,c=ng;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Vi=5:(Vi=0,Ou=qs=null,gg(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(Bs=null),Gt(l),a=a.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(qt,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=F.T,v=J.p,J.p=2,F.T=null;try{for(var _=n.onRecoverableError,P=0;P<c.length;P++){var $=c[P];_($.value,{componentStack:$.stack})}}finally{F.T=a,J.p=v}}(Uu&3)!==0&&Kf(),ho(n),v=n.pendingLanes,(l&4194090)!==0&&(v&42)!==0?n===bh?Uc++:(Uc=0,bh=n):Uc=0,Fc(0)}}function gg(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,El(a)))}function Kf(n){return hg(),pg(),mg(),vg()}function vg(){if(Vi!==5)return!1;var n=qs,a=vh;vh=0;var l=Gt(Uu),c=F.T,v=J.p;try{J.p=32>l?32:l,F.T=null,l=yh,yh=null;var _=qs,P=Uu;if(Vi=0,Ou=qs=null,Uu=0,(Cn&6)!==0)throw Error(i(331));var $=Cn;if(Cn|=4,eg(_.current),$m(_,_.current,P,l),Cn=$,Fc(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(qt,_)}catch{}return!0}finally{J.p=v,F.T=c,gg(n,a)}}function yg(n,a,l){a=Ai(l,a),a=$d(n.stateNode,a,2),n=je(n,a,2),n!==null&&(Lt(n,2),ho(n))}function Dn(n,a,l){if(n.tag===3)yg(n,n,l);else for(;a!==null;){if(a.tag===3){yg(a,n,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bs===null||!Bs.has(c))){n=Ai(l,n),l=_m(2),c=je(a,l,2),c!==null&&(Sm(l,c,a,n),Lt(c,2),ho(c));break}}a=a.return}}function Sh(n,a,l){var c=n.pingCache;if(c===null){c=n.pingCache=new N5;var v=new Set;c.set(a,v)}else v=c.get(a),v===void 0&&(v=new Set,c.set(a,v));v.has(l)||(hh=!0,v.add(l),n=R5.bind(null,n,a,l),a.then(n,n))}function R5(n,a,l){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Un===n&&(hn&l)===l&&(ri===4||ri===3&&(hn&62914560)===hn&&300>ht()-gh?(Cn&2)===0&&Fu(n,0):ph|=l,Pu===hn&&(Pu=0)),ho(n)}function bg(n,a){a===0&&(a=it()),n=Oo(n,a),n!==null&&(Lt(n,a),ho(n))}function D5(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),bg(n,l)}function I5(n,a){var l=0;switch(n.tag){case 13:var c=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),bg(n,l)}function P5(n,a){return lt(n,a)}var Zf=null,qu=null,Ah=!1,$f=!1,Ch=!1,Hl=0;function ho(n){n!==qu&&n.next===null&&(qu===null?Zf=qu=n:qu=qu.next=n),$f=!0,Ah||(Ah=!0,U5())}function Fc(n,a){if(!Ch&&$f){Ch=!0;do for(var l=!1,c=Zf;c!==null;){if(n!==0){var v=c.pendingLanes;if(v===0)var _=0;else{var P=c.suspendedLanes,$=c.pingedLanes;_=(1<<31-yt(42|n)+1)-1,_&=v&~(P&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Sg(c,_))}else _=hn,_=Ie(c,c===Un?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||Ue(c,_)||(l=!0,Sg(c,_));c=c.next}while(l);Ch=!1}}function O5(){xg()}function xg(){$f=Ah=!1;var n=0;Hl!==0&&(G5()&&(n=Hl),Hl=0);for(var a=ht(),l=null,c=Zf;c!==null;){var v=c.next,_=wg(c,a);_===0?(c.next=null,l===null?Zf=v:l.next=v,v===null&&(qu=l)):(l=c,(n!==0||(_&3)!==0)&&($f=!0)),c=v}Fc(n)}function wg(n,a){for(var l=n.suspendedLanes,c=n.pingedLanes,v=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var P=31-yt(_),$=1<<P,he=v[P];he===-1?(($&l)===0||($&c)!==0)&&(v[P]=Be($,a)):he<=a&&(n.expiredLanes|=$),_&=~$}if(a=Un,l=hn,l=Ie(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===a&&(Tn===2||Tn===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ue(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(c!==null&&Nt(c),Gt(l)){case 2:case 8:l=et;break;case 32:l=at;break;case 268435456:l=wt;break;default:l=at}return c=_g.bind(null,n),l=lt(l,c),n.callbackPriority=a,n.callbackNode=l,a}return c!==null&&c!==null&&Nt(c),n.callbackPriority=2,n.callbackNode=null,2}function _g(n,a){if(Vi!==0&&Vi!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Kf()&&n.callbackNode!==l)return null;var c=hn;return c=Ie(n,n===Un?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(rg(n,c,a),wg(n,ht()),n.callbackNode!=null&&n.callbackNode===l?_g.bind(null,n):null)}function Sg(n,a){if(Kf())return null;rg(n,a,!0)}function U5(){W5(function(){(Cn&6)!==0?lt(Ke,O5):xg()})}function Th(){return Hl===0&&(Hl=Je()),Hl}function Ag(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fa(""+n)}function Cg(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function F5(n,a,l,c,v){if(a==="submit"&&l&&l.stateNode===v){var _=Ag((v[sn]||null).action),P=c.submitter;P&&(a=(a=P[sn]||null)?Ag(a.formAction):P.getAttribute("formAction"),a!==null&&(_=a,P=null));var $=new Ga("action","action",null,c,v);n.push({event:$,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Hl!==0){var he=P?Cg(v,P):new FormData(v);na(l,{pending:!0,data:he,method:v.method,action:_},null,he)}}else typeof _=="function"&&($.preventDefault(),he=P?Cg(v,P):new FormData(v),na(l,{pending:!0,data:he,method:v.method,action:_},_,he))},currentTarget:v}]})}}for(var Nh=0;Nh<Zn.length;Nh++){var Eh=Zn[Nh],B5=Eh.toLowerCase(),q5=Eh[0].toUpperCase()+Eh.slice(1);oi(B5,"on"+q5)}oi(eo,"onAnimationEnd"),oi(ya,"onAnimationIteration"),oi(_s,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(wr,"onTransitionRun"),oi(ba,"onTransitionStart"),oi(En,"onTransitionCancel"),oi(Sn,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function Tg(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],v=c.event;c=c.listeners;e:{var _=void 0;if(a)for(var P=c.length-1;0<=P;P--){var $=c[P],he=$.instance,Me=$.currentTarget;if($=$.listener,he!==_&&v.isPropagationStopped())break e;_=$,v.currentTarget=Me;try{_(v)}catch(qe){Ff(qe)}v.currentTarget=null,_=he}else for(P=0;P<c.length;P++){if($=c[P],he=$.instance,Me=$.currentTarget,$=$.listener,he!==_&&v.isPropagationStopped())break e;_=$,v.currentTarget=Me;try{_(v)}catch(qe){Ff(qe)}v.currentTarget=null,_=he}}}}function on(n,a){var l=a[Wn];l===void 0&&(l=a[Wn]=new Set);var c=n+"__bubble";l.has(c)||(Ng(a,n,2,!1),l.add(c))}function Lh(n,a,l){var c=0;a&&(c|=4),Ng(l,n,c,a)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Mh(n){if(!n[Xf]){n[Xf]=!0,Ba.forEach(function(l){l!=="selectionchange"&&(z5.has(l)||Lh(l,!1,n),Lh(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Xf]||(a[Xf]=!0,Lh("selectionchange",!1,a))}}function Ng(n,a,l,c){switch($g(a)){case 2:var v=pv;break;case 8:v=mv;break;default:v=jh}l=v.bind(null,a,l,n),v=void 0,!ls||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),c?v!==void 0?n.addEventListener(a,l,{capture:!0,passive:v}):n.addEventListener(a,l,!0):v!==void 0?n.addEventListener(a,l,{passive:v}):n.addEventListener(a,l,!1)}function kh(n,a,l,c,v){var _=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var P=c.tag;if(P===3||P===4){var $=c.stateNode.containerInfo;if($===v)break;if(P===4)for(P=c.return;P!==null;){var he=P.tag;if((he===3||he===4)&&P.stateNode.containerInfo===v)return;P=P.return}for(;$!==null;){if(P=Ni($),P===null)return;if(he=P.tag,he===5||he===6||he===26||he===27){c=_=P;continue e}$=$.parentNode}}c=c.return}uu(function(){var Me=_,qe=mi(l),Ge=[];e:{var ke=jn.get(n);if(ke!==void 0){var Re=Ga,Ft=n;switch(n){case"keypress":if(ja(l)===0)break e;case"keydown":case"keyup":Re=gs;break;case"focusin":Ft="focus",Re=Eo;break;case"focusout":Ft="blur",Re=Eo;break;case"beforeblur":case"afterblur":Re=Eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Wa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=bl;break;case eo:case ya:case _s:Re=uc;break;case Sn:Re=q;break;case"scroll":case"scrollend":Re=fu;break;case"wheel":Re=me;break;case"copy":case"cut":case"paste":Re=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=vs;break;case"toggle":case"beforetoggle":Re=Pe}var Rt=(a&4)!==0,Mn=!Rt&&(n==="scroll"||n==="scrollend"),Ae=Rt?ke!==null?ke+"Capture":null:ke;Rt=[];for(var be=Me,Ne;be!==null;){var Ve=be;if(Ne=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ne===null||Ae===null||(Ve=Wi(be,Ae),Ve!=null&&Rt.push(qc(be,Ve,Ne))),Mn)break;be=be.return}0<Rt.length&&(ke=new Re(ke,Ft,null,l,qe),Ge.push({event:ke,listeners:Rt}))}}if((a&7)===0){e:{if(ke=n==="mouseover"||n==="pointerover",Re=n==="mouseout"||n==="pointerout",ke&&l!==ss&&(Ft=l.relatedTarget||l.fromElement)&&(Ni(Ft)||Ft[wn]))break e;if((Re||ke)&&(ke=qe.window===qe?qe:(ke=qe.ownerDocument)?ke.defaultView||ke.parentWindow:window,Re?(Ft=l.relatedTarget||l.toElement,Re=Me,Ft=Ft?Ni(Ft):null,Ft!==null&&(Mn=s(Ft),Rt=Ft.tag,Ft!==Mn||Rt!==5&&Rt!==27&&Rt!==6)&&(Ft=null)):(Re=null,Ft=Me),Re!==Ft)){if(Rt=pa,Ve="onMouseLeave",Ae="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(Rt=vs,Ve="onPointerLeave",Ae="onPointerEnter",be="pointer"),Mn=Re==null?ke:Gi(Re),Ne=Ft==null?ke:Gi(Ft),ke=new Rt(Ve,be+"leave",Re,l,qe),ke.target=Mn,ke.relatedTarget=Ne,Ve=null,Ni(qe)===Me&&(Rt=new Rt(Ae,be+"enter",Ft,l,qe),Rt.target=Ne,Rt.relatedTarget=Mn,Ve=Rt),Mn=Ve,Re&&Ft)t:{for(Rt=Re,Ae=Ft,be=0,Ne=Rt;Ne;Ne=zu(Ne))be++;for(Ne=0,Ve=Ae;Ve;Ve=zu(Ve))Ne++;for(;0<be-Ne;)Rt=zu(Rt),be--;for(;0<Ne-be;)Ae=zu(Ae),Ne--;for(;be--;){if(Rt===Ae||Ae!==null&&Rt===Ae.alternate)break t;Rt=zu(Rt),Ae=zu(Ae)}Rt=null}else Rt=null;Re!==null&&Eg(Ge,ke,Re,Rt,!1),Ft!==null&&Mn!==null&&Eg(Ge,Mn,Ft,Rt,!0)}}e:{if(ke=Me?Gi(Me):window,Re=ke.nodeName&&ke.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ke.type==="file")var gt=bs;else if(Jr(ke))if(ko)gt=hu;else{gt=dc;var nn=Ji}else Re=ke.nodeName,!Re||Re.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Me&&hl(Me.elementType)&&(gt=bs):gt=wl;if(gt&&(gt=gt(n,Me))){xl(Ge,gt,l,qe);break e}nn&&nn(n,ke,Me),n==="focusout"&&Me&&ke.type==="number"&&Me.memoizedProps.value!=null&&cl(ke,"number",ke.value)}switch(nn=Me?Gi(Me):window,n){case"focusin":(Jr(nn)||nn.contentEditable==="true")&&(Ki=nn,$a=Me,Ui=null);break;case"focusout":Ui=$a=Ki=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,ws(Ge,l,qe);break;case"selectionchange":if(Zr)break;case"keydown":case"keyup":ws(Ge,l,qe)}var Tt;if(ut)e:{switch(n){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Kn?Fn(n,l)&&(Dt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Dt="onCompositionStart");Dt&&(Zt&&l.locale!=="ko"&&(Kn||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Kn&&(Tt=cu()):(vr=qe,ml="value"in vr?vr.value:vr.textContent,Kn=!0)),nn=Qf(Me,Dt),0<nn.length&&(Dt=new hs(Dt,n,null,l,qe),Ge.push({event:Dt,listeners:nn}),Tt?Dt.data=Tt:(Tt=Jn(l),Tt!==null&&(Dt.data=Tt)))),(Tt=Yt?gi(n,l):Dr(n,l))&&(Dt=Qf(Me,"onBeforeInput"),0<Dt.length&&(nn=new hs("onBeforeInput","beforeinput",null,l,qe),Ge.push({event:nn,listeners:Dt}),nn.data=Tt)),F5(Ge,n,Me,l,qe)}Tg(Ge,a)})}function qc(n,a,l){return{instance:n,listener:a,currentTarget:l}}function Qf(n,a){for(var l=a+"Capture",c=[];n!==null;){var v=n,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Wi(n,l),v!=null&&c.unshift(qc(n,v,_)),v=Wi(n,a),v!=null&&c.push(qc(n,v,_))),n.tag===3)return c;n=n.return}return[]}function zu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Eg(n,a,l,c,v){for(var _=a._reactName,P=[];l!==null&&l!==c;){var $=l,he=$.alternate,Me=$.stateNode;if($=$.tag,he!==null&&he===c)break;$!==5&&$!==26&&$!==27||Me===null||(he=Me,v?(Me=Wi(l,_),Me!=null&&P.unshift(qc(l,Me,he))):v||(Me=Wi(l,_),Me!=null&&P.push(qc(l,Me,he)))),l=l.return}P.length!==0&&n.push({event:a,listeners:P})}var V5=/\r\n?/g,H5=/\u0000|\uFFFD/g;function Lg(n){return(typeof n=="string"?n:""+n).replace(V5,`
`).replace(H5,"")}function Mg(n,a){return a=Lg(a),Lg(n)===a}function ed(){}function Ln(n,a,l,c,v,_){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Va(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Va(n,""+c);break;case"className":Co(n,"class",c);break;case"tabIndex":Co(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(n,l,c);break;case"style":lu(n,c,_);break;case"data":if(a!=="object"){Co(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=fa(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&Ln(n,a,"name",v.name,v,null),Ln(n,a,"formEncType",v.formEncType,v,null),Ln(n,a,"formMethod",v.formMethod,v,null),Ln(n,a,"formTarget",v.formTarget,v,null)):(Ln(n,a,"encType",v.encType,v,null),Ln(n,a,"method",v.method,v,null),Ln(n,a,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=fa(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=ed);break;case"onScroll":c!=null&&on("scroll",n);break;case"onScrollEnd":c!=null&&on("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=fa(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":on("beforetoggle",n),on("toggle",n),sa(n,"popover",c);break;case"xlinkActuate":kr(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kr(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kr(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kr(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kr(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kr(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kr(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":sa(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ca.get(l)||l,sa(n,l,c))}}function Rh(n,a,l,c,v,_){switch(l){case"style":lu(n,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(v.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?Va(n,c):(typeof c=="number"||typeof c=="bigint")&&Va(n,""+c);break;case"onScroll":c!=null&&on("scroll",n);break;case"onScrollEnd":c!=null&&on("scrollend",n);break;case"onClick":c!=null&&(n.onclick=ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),_=n[sn]||null,_=_!=null?_[l]:null,typeof _=="function"&&n.removeEventListener(a,_,v),typeof c=="function")){typeof _!="function"&&_!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,c,v);break e}l in n?n[l]=c:c===!0?n.setAttribute(l,""):sa(n,l,c)}}}function Hi(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",n),on("load",n);var c=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var P=l[_];if(P!=null)switch(_){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ln(n,a,_,P,l,null)}}v&&Ln(n,a,"srcSet",l.srcSet,l,null),c&&Ln(n,a,"src",l.src,l,null);return;case"input":on("invalid",n);var $=_=P=v=null,he=null,Me=null;for(c in l)if(l.hasOwnProperty(c)){var qe=l[c];if(qe!=null)switch(c){case"name":v=qe;break;case"type":P=qe;break;case"checked":he=qe;break;case"defaultChecked":Me=qe;break;case"value":_=qe;break;case"defaultValue":$=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,a));break;default:Ln(n,a,c,qe,l,null)}}ul(n,_,$,he,Me,P,v,!1),za(n);return;case"select":on("invalid",n),c=P=_=null;for(v in l)if(l.hasOwnProperty(v)&&($=l[v],$!=null))switch(v){case"value":_=$;break;case"defaultValue":P=$;break;case"multiple":c=$;default:Ln(n,a,v,$,l,null)}a=_,l=P,n.multiple=!!c,a!=null?ua(n,!!c,a,!1):l!=null&&ua(n,!!c,l,!0);return;case"textarea":on("invalid",n),_=v=c=null;for(P in l)if(l.hasOwnProperty(P)&&($=l[P],$!=null))switch(P){case"value":c=$;break;case"defaultValue":v=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:Ln(n,a,P,$,l,null)}fl(n,c,v,_),za(n);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(c=l[he],c!=null))switch(he){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ln(n,a,he,c,l,null)}return;case"dialog":on("beforetoggle",n),on("toggle",n),on("cancel",n),on("close",n);break;case"iframe":case"object":on("load",n);break;case"video":case"audio":for(c=0;c<Bc.length;c++)on(Bc[c],n);break;case"image":on("error",n),on("load",n);break;case"details":on("toggle",n);break;case"embed":case"source":case"link":on("error",n),on("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in l)if(l.hasOwnProperty(Me)&&(c=l[Me],c!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ln(n,a,Me,c,l,null)}return;default:if(hl(a)){for(qe in l)l.hasOwnProperty(qe)&&(c=l[qe],c!==void 0&&Rh(n,a,qe,c,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(c=l[$],c!=null&&Ln(n,a,$,c,l,null))}function j5(n,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,P=null,$=null,he=null,Me=null,qe=null;for(Re in l){var Ge=l[Re];if(l.hasOwnProperty(Re)&&Ge!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":he=Ge;default:c.hasOwnProperty(Re)||Ln(n,a,Re,null,c,Ge)}}for(var ke in c){var Re=c[ke];if(Ge=l[ke],c.hasOwnProperty(ke)&&(Re!=null||Ge!=null))switch(ke){case"type":_=Re;break;case"name":v=Re;break;case"checked":Me=Re;break;case"defaultChecked":qe=Re;break;case"value":P=Re;break;case"defaultValue":$=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,a));break;default:Re!==Ge&&Ln(n,a,ke,Re,c,Ge)}}No(n,P,$,he,Me,qe,_,v);return;case"select":Re=P=$=ke=null;for(_ in l)if(he=l[_],l.hasOwnProperty(_)&&he!=null)switch(_){case"value":break;case"multiple":Re=he;default:c.hasOwnProperty(_)||Ln(n,a,_,null,c,he)}for(v in c)if(_=c[v],he=l[v],c.hasOwnProperty(v)&&(_!=null||he!=null))switch(v){case"value":ke=_;break;case"defaultValue":$=_;break;case"multiple":P=_;default:_!==he&&Ln(n,a,v,_,c,he)}a=$,l=P,c=Re,ke!=null?ua(n,!!l,ke,!1):!!c!=!!l&&(a!=null?ua(n,!!l,a,!0):ua(n,!!l,l?[]:"",!1));return;case"textarea":Re=ke=null;for($ in l)if(v=l[$],l.hasOwnProperty($)&&v!=null&&!c.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Ln(n,a,$,null,c,v)}for(P in c)if(v=c[P],_=l[P],c.hasOwnProperty(P)&&(v!=null||_!=null))switch(P){case"value":ke=v;break;case"defaultValue":Re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&Ln(n,a,P,v,c,_)}ou(n,ke,Re);return;case"option":for(var Ft in l)if(ke=l[Ft],l.hasOwnProperty(Ft)&&ke!=null&&!c.hasOwnProperty(Ft))switch(Ft){case"selected":n.selected=!1;break;default:Ln(n,a,Ft,null,c,ke)}for(he in c)if(ke=c[he],Re=l[he],c.hasOwnProperty(he)&&ke!==Re&&(ke!=null||Re!=null))switch(he){case"selected":n.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Ln(n,a,he,ke,c,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in l)ke=l[Rt],l.hasOwnProperty(Rt)&&ke!=null&&!c.hasOwnProperty(Rt)&&Ln(n,a,Rt,null,c,ke);for(Me in c)if(ke=c[Me],Re=l[Me],c.hasOwnProperty(Me)&&ke!==Re&&(ke!=null||Re!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,a));break;default:Ln(n,a,Me,ke,c,Re)}return;default:if(hl(a)){for(var Mn in l)ke=l[Mn],l.hasOwnProperty(Mn)&&ke!==void 0&&!c.hasOwnProperty(Mn)&&Rh(n,a,Mn,void 0,c,ke);for(qe in c)ke=c[qe],Re=l[qe],!c.hasOwnProperty(qe)||ke===Re||ke===void 0&&Re===void 0||Rh(n,a,qe,ke,c,Re);return}}for(var Ae in l)ke=l[Ae],l.hasOwnProperty(Ae)&&ke!=null&&!c.hasOwnProperty(Ae)&&Ln(n,a,Ae,null,c,ke);for(Ge in c)ke=c[Ge],Re=l[Ge],!c.hasOwnProperty(Ge)||ke===Re||ke==null&&Re==null||Ln(n,a,Ge,ke,c,Re)}var Dh=null,Ih=null;function td(n){return n.nodeType===9?n:n.ownerDocument}function kg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rg(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Ph(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Oh=null;function G5(){var n=window.event;return n&&n.type==="popstate"?n===Oh?!1:(Oh=n,!0):(Oh=null,!1)}var Dg=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,W5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(n){return Ig.resolve(null).then(n).catch(J5)}:Dg;function J5(n){setTimeout(function(){throw n})}function Vs(n){return n==="head"}function Pg(n,a){var l=a,c=0,v=0;do{var _=l.nextSibling;if(n.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<c&&8>c){l=c;var P=n.ownerDocument;if(l&1&&zc(P.documentElement),l&2&&zc(P.body),l&4)for(l=P.head,zc(l),P=l.firstChild;P;){var $=P.nextSibling,he=P.nodeName;P[or]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&P.rel.toLowerCase()==="stylesheet"||l.removeChild(P),P=$}}if(v===0){n.removeChild(_),Kc(a);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:c=l.charCodeAt(0)-48;else c=0;l=_}while(l);Kc(a)}function Uh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Uh(l),sr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function K5(n,a,l,c){for(;n.nodeType===1;){var v=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[or])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=Da(n.nextSibling),n===null)break}return null}function Z5(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Da(n.nextSibling),n===null))return null;return n}function Fh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function $5(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Da(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Bh=null;function Og(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function Ug(n,a,l){switch(a=td(l),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function zc(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);sr(n)}var aa=new Map,Fg=new Set;function nd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qo=J.d;J.d={f:X5,r:Q5,D:ev,C:tv,L:nv,m:iv,X:av,S:rv,M:ov};function X5(){var n=Qo.f(),a=Wf();return n||a}function Q5(n){var a=Ei(n);a!==null&&a.tag===5&&a.type==="form"?Fl(a):Qo.r(n)}var Vu=typeof document>"u"?null:document;function Bg(n,a,l){var c=Vu;if(c&&typeof a=="string"&&a){var v=Rn(a);v='link[rel="'+n+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Fg.has(v)||(Fg.add(v),n={rel:n,crossOrigin:l,href:a},c.querySelector(v)===null&&(a=c.createElement("link"),Hi(a,"link",n),_n(a),c.head.appendChild(a)))}}function ev(n){Qo.D(n),Bg("dns-prefetch",n,null)}function tv(n,a){Qo.C(n,a),Bg("preconnect",n,a)}function nv(n,a,l){Qo.L(n,a,l);var c=Vu;if(c&&n&&a){var v='link[rel="preload"][as="'+Rn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Rn(l.imageSizes)+'"]')):v+='[href="'+Rn(n)+'"]';var _=v;switch(a){case"style":_=Hu(n);break;case"script":_=ju(n)}aa.has(_)||(n=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),aa.set(_,n),c.querySelector(v)!==null||a==="style"&&c.querySelector(Vc(_))||a==="script"&&c.querySelector(Hc(_))||(a=c.createElement("link"),Hi(a,"link",n),_n(a),c.head.appendChild(a)))}}function iv(n,a){Qo.m(n,a);var l=Vu;if(l&&n){var c=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Rn(c)+'"][href="'+Rn(n)+'"]',_=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ju(n)}if(!aa.has(_)&&(n=b({rel:"modulepreload",href:n},a),aa.set(_,n),l.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hc(_)))return}c=l.createElement("link"),Hi(c,"link",n),_n(c),l.head.appendChild(c)}}}function rv(n,a,l){Qo.S(n,a,l);var c=Vu;if(c&&n){var v=_i(c).hoistableStyles,_=Hu(n);a=a||"default";var P=v.get(_);if(!P){var $={loading:0,preload:null};if(P=c.querySelector(Vc(_)))$.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},l),(l=aa.get(_))&&qh(n,l);var he=P=c.createElement("link");_n(he),Hi(he,"link",n),he._p=new Promise(function(Me,qe){he.onload=Me,he.onerror=qe}),he.addEventListener("load",function(){$.loading|=1}),he.addEventListener("error",function(){$.loading|=2}),$.loading|=4,id(P,a,c)}P={type:"stylesheet",instance:P,count:1,state:$},v.set(_,P)}}}function av(n,a){Qo.X(n,a);var l=Vu;if(l&&n){var c=_i(l).hoistableScripts,v=ju(n),_=c.get(v);_||(_=l.querySelector(Hc(v)),_||(n=b({src:n,async:!0},a),(a=aa.get(v))&&zh(n,a),_=l.createElement("script"),_n(_),Hi(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function ov(n,a){Qo.M(n,a);var l=Vu;if(l&&n){var c=_i(l).hoistableScripts,v=ju(n),_=c.get(v);_||(_=l.querySelector(Hc(v)),_||(n=b({src:n,async:!0,type:"module"},a),(a=aa.get(v))&&zh(n,a),_=l.createElement("script"),_n(_),Hi(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function qg(n,a,l,c){var v=(v=ue.current)?nd(v):null;if(!v)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Hu(l.href),l=_i(v).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Hu(l.href);var _=_i(v).hoistableStyles,P=_.get(n);if(P||(v=v.ownerDocument||v,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,P),(_=v.querySelector(Vc(n)))&&!_._p&&(P.instance=_,P.state.loading=5),aa.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},aa.set(n,l),_||sv(v,n,l,P.state))),a&&c===null)throw Error(i(528,""));return P}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ju(l),l=_i(v).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Hu(n){return'href="'+Rn(n)+'"'}function Vc(n){return'link[rel="stylesheet"]['+n+"]"}function zg(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function sv(n,a,l,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Hi(a,"link",l),_n(a),n.head.appendChild(a))}function ju(n){return'[src="'+Rn(n)+'"]'}function Hc(n){return"script[async]"+n}function Vg(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+Rn(l.href)+'"]');if(c)return a.instance=c,_n(c),c;var v=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),_n(c),Hi(c,"style",v),id(c,l.precedence,n),a.instance=c;case"stylesheet":v=Hu(l.href);var _=n.querySelector(Vc(v));if(_)return a.state.loading|=4,a.instance=_,_n(_),_;c=zg(l),(v=aa.get(v))&&qh(c,v),_=(n.ownerDocument||n).createElement("link"),_n(_);var P=_;return P._p=new Promise(function($,he){P.onload=$,P.onerror=he}),Hi(_,"link",c),a.state.loading|=4,id(_,l.precedence,n),a.instance=_;case"script":return _=ju(l.src),(v=n.querySelector(Hc(_)))?(a.instance=v,_n(v),v):(c=l,(v=aa.get(_))&&(c=b({},l),zh(c,v)),n=n.ownerDocument||n,v=n.createElement("script"),_n(v),Hi(v,"link",c),n.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,id(c,l.precedence,n));return a.instance}function id(n,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,_=v,P=0;P<c.length;P++){var $=c[P];if($.dataset.precedence===a)_=$;else if(_!==v)break}_?_.parentNode.insertBefore(n,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function qh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function zh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var rd=null;function Hg(n,a,l){if(rd===null){var c=new Map,v=rd=new Map;v.set(l,c)}else v=rd,c=v.get(l),c||(c=new Map,v.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),v=0;v<l.length;v++){var _=l[v];if(!(_[or]||_[cn]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(a)||"";P=n+P;var $=c.get(P);$?$.push(_):c.set(P,[_])}}return c}function jg(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function lv(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Gg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var jc=null;function uv(){}function cv(n,a,l){if(jc===null)throw Error(i(475));var c=jc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Hu(l.href),_=n.querySelector(Vc(v));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=ad.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=_,_n(_);return}_=n.ownerDocument||n,l=zg(l),(v=aa.get(v))&&qh(l,v),_=_.createElement("link"),_n(_);var P=_;P._p=new Promise(function($,he){P.onload=$,P.onerror=he}),Hi(_,"link",l),a.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ad.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function fv(){if(jc===null)throw Error(i(475));var n=jc;return n.stylesheets&&n.count===0&&Vh(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var od=null;function Vh(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,od=new Map,a.forEach(dv,n),od=null,ad.call(n))}function dv(n,a){if(!(a.state.loading&4)){var l=od.get(n);if(l)var c=l.get(null);else{l=new Map,od.set(n,l);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var P=v[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(l.set(P.dataset.precedence,P),c=P)}c&&l.set(null,c)}v=a.instance,P=v.getAttribute("data-precedence"),_=l.get(P)||c,_===c&&l.set(null,v),l.set(P,v),this.count++,c=ad.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),_?_.parentNode.insertBefore(v,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),a.state.loading|=4}}var Gc={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function hv(n,a,l,c,v,_,P,$){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Yg(n,a,l,c,v,_,P,$,he,Me,qe,Ge){return n=new hv(n,a,l,P,$,he,Me,Ge),a=1,_===!0&&(a|=24),_=Ri(3,null,null,a),n.current=_,_.stateNode=n,a=pc(),a.refCount++,n.pooledCache=a,a.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:a},ye(_),n}function Wg(n){return n?(n=vi,n):vi}function Jg(n,a,l,c,v,_){v=Wg(v),c.context===null?c.context=v:c.pendingContext=v,c=Fe(a),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=je(n,c,a),l!==null&&(Vr(l,n,a),ze(l,n,a))}function Kg(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Hh(n,a){Kg(n,a),(n=n.alternate)&&Kg(n,a)}function Zg(n){if(n.tag===13){var a=Oo(n,67108864);a!==null&&Vr(a,n,67108864),Hh(n,67108864)}}var sd=!0;function pv(n,a,l,c){var v=F.T;F.T=null;var _=J.p;try{J.p=2,jh(n,a,l,c)}finally{J.p=_,F.T=v}}function mv(n,a,l,c){var v=F.T;F.T=null;var _=J.p;try{J.p=8,jh(n,a,l,c)}finally{J.p=_,F.T=v}}function jh(n,a,l,c){if(sd){var v=Gh(c);if(v===null)kh(n,a,c,ld,l),Xg(n,c);else if(vv(v,n,a,l,c))c.stopPropagation();else if(Xg(n,c),a&4&&-1<gv.indexOf(n)){for(;v!==null;){var _=Ei(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=Ee(_.pendingLanes);if(P!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;P;){var he=1<<31-yt(P);$.entanglements[1]|=he,P&=~he}ho(_),(Cn&6)===0&&(Gf=ht()+500,Fc(0))}}break;case 13:$=Oo(_,2),$!==null&&Vr($,_,2),Wf(),Hh(_,2)}if(_=Gh(c),_===null&&kh(n,a,c,ld,l),_===v)break;v=_}v!==null&&c.stopPropagation()}else kh(n,a,c,null,l)}}function Gh(n){return n=mi(n),Yh(n)}var ld=null;function Yh(n){if(ld=null,n=Ni(n),n!==null){var a=s(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=u(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return ld=n,null}function $g(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Ke:return 2;case et:return 8;case at:case ot:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Wh=!1,Hs=null,js=null,Gs=null,Yc=new Map,Wc=new Map,Ys=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xg(n,a){switch(n){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Yc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(a.pointerId)}}function Jc(n,a,l,c,v,_){return n===null||n.nativeEvent!==_?(n={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[v]},a!==null&&(a=Ei(a),a!==null&&Zg(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function vv(n,a,l,c,v){switch(a){case"focusin":return Hs=Jc(Hs,n,a,l,c,v),!0;case"dragenter":return js=Jc(js,n,a,l,c,v),!0;case"mouseover":return Gs=Jc(Gs,n,a,l,c,v),!0;case"pointerover":var _=v.pointerId;return Yc.set(_,Jc(Yc.get(_)||null,n,a,l,c,v)),!0;case"gotpointercapture":return _=v.pointerId,Wc.set(_,Jc(Wc.get(_)||null,n,a,l,c,v)),!0}return!1}function Qg(n){var a=Ni(n.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){n.blockedOn=a,rr(n.priority,function(){if(l.tag===13){var c=zr();c=kn(c);var v=Oo(l,c);v!==null&&Vr(v,l,c),Hh(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ud(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Gh(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);ss=c,l.target.dispatchEvent(c),ss=null}else return a=Ei(l),a!==null&&Zg(a),n.blockedOn=l,!1;a.shift()}return!0}function e0(n,a,l){ud(n)&&l.delete(a)}function yv(){Wh=!1,Hs!==null&&ud(Hs)&&(Hs=null),js!==null&&ud(js)&&(js=null),Gs!==null&&ud(Gs)&&(Gs=null),Yc.forEach(e0),Wc.forEach(e0)}function cd(n,a){n.blockedOn===a&&(n.blockedOn=null,Wh||(Wh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yv)))}var fd=null;function t0(n){fd!==n&&(fd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fd===n&&(fd=null);for(var a=0;a<n.length;a+=3){var l=n[a],c=n[a+1],v=n[a+2];if(typeof c!="function"){if(Yh(c||l)===null)continue;break}var _=Ei(l);_!==null&&(n.splice(a,3),a-=3,na(_,{pending:!0,data:v,method:l.method,action:c},c,v))}}))}function Kc(n){function a(he){return cd(he,n)}Hs!==null&&cd(Hs,n),js!==null&&cd(js,n),Gs!==null&&cd(Gs,n),Yc.forEach(a),Wc.forEach(a);for(var l=0;l<Ys.length;l++){var c=Ys[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ys.length&&(l=Ys[0],l.blockedOn===null);)Qg(l),l.blockedOn===null&&Ys.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var v=l[c],_=l[c+1],P=v[sn]||null;if(typeof _=="function")P||t0(l);else if(P){var $=null;if(_&&_.hasAttribute("formAction")){if(v=_,P=_[sn]||null)$=P.formAction;else if(Yh(v)!==null)continue}else $=P.action;typeof $=="function"?l[c+1]=$:(l.splice(c,3),c-=3),t0(l)}}}function Jh(n){this._internalRoot=n}dd.prototype.render=Jh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=zr();Jg(l,c,n,a,null,null)},dd.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Jg(n.current,2,null,n,null,null),Wf(),a[wn]=null}};function dd(n){this._internalRoot=n}dd.prototype.unstable_scheduleHydration=function(n){if(n){var a=ji();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Ys.length&&a!==0&&a<Ys[l].priority;l++);Ys.splice(l,0,n),l===0&&Qg(n)}};var n0=e.version;if(n0!=="19.1.0")throw Error(i(527,n0,"19.1.0"));J.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var bv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{qt=hd.inject(bv),kt=hd}catch{}}return $c.createRoot=function(n,a){if(!o(n))throw Error(i(299));var l=!1,c="",v=ym,_=bm,P=xm,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(P=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&($=a.unstable_transitionCallbacks)),a=Yg(n,1,!1,null,null,l,c,v,_,P,$,null),n[wn]=a.current,Mh(n),new Jh(a)},$c.hydrateRoot=function(n,a,l){if(!o(n))throw Error(i(299));var c=!1,v="",_=ym,P=bm,$=xm,he=null,Me=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(P=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(he=l.unstable_transitionCallbacks),l.formState!==void 0&&(Me=l.formState)),a=Yg(n,1,!0,a,l??null,c,v,_,P,$,he,Me),a.context=Wg(null),l=a.current,c=zr(),c=kn(c),v=Fe(c),v.callback=null,je(l,v,c),l=c,a.current.lanes=l,Lt(a,l),ho(a),n[wn]=a.current,Mh(n),new dd(a)},$c.version="19.1.0",$c}var d0;function kv(){if(d0)return $h.exports;d0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$h.exports=Mv(),$h.exports}var Rv=kv();const Dv=Kp(Rv),Iv="gemini-2.5-flash-preview-04-17",po="agroRobertsDB_v1",y2="agroRobertsOfflineQueue_v1",mp=5,Pv=30*1e3,Ov=`Eres el "Gestor de Trabajos de Agro Aereo Roberts", un asistente virtual experto para una empresa de fumigación aérea y terrestre, y siembra aérea.
Tu objetivo es comprender los comandos del usuario en lenguaje natural (Español) y traducirlos en acciones estructuradas o consultas relacionadas con las siguientes entidades.
La empresa dispone principalmente de un avión para fumigación y siembra aérea, y una máquina fumigadora terrestre autopropulsada. Las tareas principales serán "Fumigación Aérea", "Fumigación Terrestre" y "Siembra Aérea".
IMPORTANTE: Presta especial atención a interpretar el lenguaje coloquial, modismos comunes en el ámbito agropecuario (especialmente de Argentina), y posibles ruidos o variaciones en la calidad de los audios.
Intenta extraer la intención principal y las entidades relevantes incluso si la entrada no es perfectamente clara o formal. Si una parte crucial de un comando de audio es ininteligible debido al ruido,
puedes indicarlo, pero prioriza completar la acción con la información que sí fue claramente entendida. Tu capacidad para manejar estas imperfecciones es clave.

Las propiedades listadas son las que debes usar en el campo "data" de tu respuesta JSON, usando camelCase para los nombres de propiedad.

Se te proporcionará el contenido COMPLETO de la base de datos actual en formato JSON como parte del contexto del usuario. DEBES usar este JSON para:
1. Resolver nombres a IDs: Si el usuario menciona una entidad por nombre (ej. nombre de cliente, nombre de campo), busca su 'id' correspondiente en el JSON de la base de datos. Los IDs son la forma primaria de referencia.
2. Filtrar datos: Para acciones como LIST_ENTITIES, usa los IDs resueltos (o directamente proporcionados) y otros criterios del usuario para filtrar los registros relevantes del JSON de la base de datos.
3. Asegurar la consistencia: Verifica que las relaciones (ej. clientId en una tarea) sean válidas consultando el JSON de la base de datos.
4. Proponer opciones contextualmente: Para la creación de Tareas (especialmente de fumigación o siembra aérea), si faltan detalles de maquinaria (avión, fumigadora terrestre), personal o insumos, utiliza la acción PROPOSE_OPTIONS para sugerir hasta 5 elementos relevantes de la base de datos. Pregunta si el usuario desea ver más.
5. Confirmar antes de crear: Antes de una acción CREATE_ENTITY (especialmente para Tareas), utiliza CONFIRM_CREATION para resumir los datos y pedir confirmación al usuario.
6. Informar post-creación: Para CREATE_ENTITY, el messageForUser debe confirmar la creación y OBLIGATORIAMENTE incluir el ID del nuevo registro.
7. Realizar VALIDACIONES DE SENTIDO COMÚN antes de confirmar la creación de una Tarea (ver sección "Validaciones de Sentido Común").

Entidades y sus propiedades (camelCase):
- Client (clients): id, name, phone, email, contactPerson, address
- User (users): id, name, role, clientId (ID del Client asociado)
- Contractor (contractors): id, name, contactPerson, address, phone, isInternal (boolean) (Puede representar a la propia empresa "Agro Aereo Roberts" si isInternal es true)
- Personnel (personnel): id, name, role (Piloto, Operario terrestre, Ingeniero), phone, clientId, contractorId, availability
- Machinery (machineries): id, name, type ('Avión Fumigador/Sembrador', 'Fumigadora Terrestre Autopropulsada', 'Otro'), model, year, clientId, contractorId, status
- Field (fields): id, name, location, clientId, area
- Lot (lots): id, name, fieldId, area
- Parcel (parcels): id, name, lotId, area, crop
- Campaign (campaigns): id, name, startDate (YYYY-MM-DD), endDate (YYYY-MM-DD), clientId, description
- TasksList (tasksList): id, taskName ('Fumigación Aérea', 'Fumigación Terrestre', 'Siembra Aérea', 'Otro'), description, category ('Aplicación', 'Siembra')
- ProductInsume (productsInsumes): id, name, type (Herbicida, Insecticida, Fungicida, Semilla, Coadyuvante), unit
- Task (tasks): id, tasksListId, createdByUserId, clientId, contractorId, campaignId, fieldId, lotId, parcelId, startDateTime (ISO String), endDateTime (ISO String), durationHours, status, costEstimated, costActual, resultDescription, notes, creationTimestamp (ISO String), additionalInfo
  - Para crear Tareas (Task): Si el usuario especifica maquinaria, personal o insumos/productos por nombre, DEBES PRIMERO intentar resolver esos nombres a IDs existentes en la base de datos.
  - Si un nombre NO SE PUEDE RESOLVER a un ID existente, debes usar el flujo "PROMPT_CREATE_MISSING_ENTITY".
  - Incluye IDs/detalles resueltos como: "machineryIds": ["avion_LVXYZ"], "personnelIds": ["piloto_perez"], "productInsumeDetails": [{"id": "glifosato_premium", "quantityUsed": 100, "unitUsed": "litros"}]
- TaskMachineryLink (taskMachineryLinks): id, taskId, machineryId, hoursUsed, notes
- TaskPersonnelLink (taskPersonnelLinks): id, taskId, personnelId, roleInTask, hoursWorked
- TaskInsumeLink (taskInsumeLinks): id, taskId, productInsumeId, quantityUsed, unitUsed, applicationDetails
- UserAccess (userAccess): id, userId, fieldId, accessTotal (boolean)

Cuando un usuario pida crear, actualizar o eliminar una entidad, o realizar una consulta que devuelva datos estructurados, responde SIEMPRE con un ÚNICO objeto JSON válido. No incluyas explicaciones adicionales fuera del JSON.
El JSON debe seguir esta estructura general:
{
  "action": "CREATE_ENTITY" | "UPDATE_ENTITY" | "DELETE_ENTITY" | "LIST_ENTITIES" | "GROUPED_QUERY" | "ANSWER_QUERY" | "HELP" | "ERROR" | "PROPOSE_OPTIONS" | "CONFIRM_CREATION" | "TOGGLE_VOICE_MODE" | "PROMPT_CREATE_MISSING_ENTITY",
  "entity": "nombreDeLaEntidadCamelCase",
  "data": { ... } | [ { ... } ] | { "enable": true/false },
  "query": { ... },
  "messageForUser": "Mensaje claro y conciso para mostrar al usuario en el chat.",
  "groupedData": [{ "groupTitle": "string", "items": [{}], "count": number, "entityType": "nombreDeLaEntidadCamelCase" }],
  "entityToCreate": "fields" | "machineries" | "personnel" | "productsInsumes" | "clients" | "contractors" | "campaigns" | "tasksList" | "lots" | "parcels",
  "suggestedData": { "name": "Nombre Inferido", /* ... */ },
  "pendingTaskData": { /* ... */ },
  "followUpAction": { /* ... */ }
}

IMPORTANTE: El campo "messageForUser" DEBE ser SIEMPRE un texto plano, simple y amigable para el usuario. NUNCA debe contener cadenas JSON, ni bloques de código JSON, EXCEPTO para la acción "HELP".
MUY IMPORTANTE para "LIST_ENTITIES" y "GROUPED_QUERY": El campo "groupedData" en tu respuesta JSON DEBE OBLIGATORIAMENTE contener un array con UN ÚNICO objeto GroupedResult para LIST_ENTITIES, o MÚLTIPLES objetos GroupedResult para GROUPED_QUERY. Cada objeto GroupedResult debe tener "groupTitle", "items", "count" y "entityType".
Cuando generes los "items" dentro de "groupedData", prioriza incluir solo los campos más relevantes y amigables.

VALIDACIONES DE SENTIDO COMÚN PARA CREACIÓN DE TAREAS:
Antes de usar "CONFIRM_CREATION" o "CREATE_ENTITY" para una nueva "Task", DEBES realizar las siguientes validaciones:
1.  Fecha de Inicio (\`startDateTime\`): Si es en el pasado o hoy pero ya pasó la hora, pregunta: \\\`"La fecha de inicio que indicaste ('[fecha/hora]') es hoy o ya pasó. ¿Estás seguro de querer programar la tarea para este momento?"\\\`.
2.  Disponibilidad de Maquinaria: Si \`status\` NO es 'operativa', informa: \\\`"La maquinaria '[Machinery.name]' (ID: [Machinery.id]) figura como '[Machinery.status]'. ¿Deseas elegir otra opción o continuar de todas formas?"\\\`.
3.  Disponibilidad de Personal: Si \`availability\` NO es 'disponible', informa: \\\`"El empleado '[Personnel.name]' (ID: [Personnel.id]) se encuentra actualmente '[Personnel.availability]'. ¿Deseas elegir a alguien más o continuar?"\\\`.
4.  Clima: Si el usuario menciona clima adverso para tareas sensibles (fumigación, siembra), pregunta: \\\`"Las condiciones climáticas que mencionaste podrían afectar la tarea de [tipo de tarea]. ¿Estás seguro de continuar o prefieres buscar otra fecha?"\\\`.
5.  Horarios: Si una tarea se programa fuera de horario laboral estándar sin urgencia, pregunta: \\\`"La hora programada parece estar fuera del horario laboral habitual. ¿Es correcto?"\\\`.
Maneja múltiples problemas secuencialmente o resúmelos.

Flujo MEJORADO de creación de Tareas (Task) con manejo de entidades faltantes:
(Similar al anterior, pero adaptando mensajes y tipos de entidad si es necesario para el contexto de Agro Aereo Roberts)
1. Usuario: "Quiero crear una tarea de fumigación aérea para el campo 'Lote Desconocido' con el avión 'LV-ABC' y el piloto 'Pedro Gómez'."
2. Tú (Gestor de Trabajos): (Sigues el flujo de PROMPT_CREATE_MISSING_ENTITY, manejando UNA entidad faltante a la vez, priorizando campos, luego lotes/parcelas, clientes, etc., y finalmente maquinaria/personal/insumos).
   - Si 'Lote Desconocido' falta: { "action": "PROMPT_CREATE_MISSING_ENTITY", "entityToCreate": "fields", "suggestedData": { "name": "Lote Desconocido" }, ... }
   - Si el avión 'LV-ABC' falta: { "action": "PROMPT_CREATE_MISSING_ENTITY", "entityToCreate": "machineries", "suggestedData": { "name": "LV-ABC", "type": "Avión Fumigador/Sembrador", "status": "operativa" }, ... }
   - Si el piloto 'Pedro Gómez' falta: { "action": "PROMPT_CREATE_MISSING_ENTITY", "entityToCreate": "personnel", "suggestedData": { "name": "Pedro Gómez", "role": "Piloto", "availability": "disponible" }, ... }
   - Continúas con CREATE_ENTITY y followUpAction hasta que todas las entidades existan, luego CONFIRM_CREATION para la tarea.
SIEMPRE maneja UNA entidad faltante a la vez. Si el usuario RECHAZA crear, indica que no puedes continuar y pregunta cómo proceder.

Campos mínimos para 'suggestedData' en 'PROMPT_CREATE_MISSING_ENTITY':
  - 'fields': name, location ("desconocida"), clientId (resolver)
  - 'machineries': name, type ("Avión Fumigador/Sembrador" o "Fumigadora Terrestre Autopropulsada" según contexto), status ("operativa"), clientId/contractorId (resolver)
  - 'personnel': name, role ("Piloto" o "Operario terrestre"), availability ("disponible"), clientId/contractorId (resolver)
  - 'productsInsumes': name, type ("Herbicida", "Insecticida", "Semilla", etc.), unit ("unidad")
  - 'clients': name
  - 'contractors': name, isInternal (false, a menos que sea Agro Aereo Roberts)
  - 'campaigns': name, clientId (resolver)
  - 'tasksList': taskName (ej. "Fumigación Aérea"), category ("Aplicación")
  - 'lots': name, fieldId (requerido)
  - 'parcels': name, lotId (requerido)

Ejemplos de JSON de respuesta:
- Crear Cliente: { "action": "CREATE_ENTITY", "entity": "clients", "data": { "name": "La Roberta SA", "id": "client-uuid-001" }, "messageForUser": "Cliente 'La Roberta SA' (ID: client-uuid-001) creado exitosamente." }
- Crear Tarea de Fumigación: { "action": "CREATE_ENTITY", "entity": "tasks", "data": { "id": "task-uuid-002", "tasksListId": "fumigacion_aerea", "additionalInfo": "Viento calma", "machineryIds": ["avion_LVXYZ"], "personnelIds": ["piloto_perez"], "productInsumeDetails": [{"id": "glifosato_premium", "quantityUsed": 100, "unitUsed": "litros"}] }, "messageForUser": "Tarea de Fumigación Aérea (ID: task-uuid-002) programada. Info adicional: Viento calma." }
- Listar Maquinaria: { "action": "LIST_ENTITIES", "entity": "machineries", "groupedData": [{ "groupTitle": "Listado de Maquinaria", "items": [ { "id": "avion_lvxyz", "name": "Avión LV-XYZ", "type": "Avión Fumigador/Sembrador", "status": "operativa" } ], "count": 1, "entityType": "machineries" }], "messageForUser": "Aquí está la maquinaria registrada." }

Para consultas generales usa "ANSWER_QUERY".
Para ayuda ("HELP"):
- Cuando respondas para la acción HELP, formatea tu \`messageForUser\` usando Markdown. El texto debe ser:
\`\`\`markdown
## 🌾 ¡Hola! Soy Gestor de Trabajos de Agro Aereo Roberts, tu asistente con Inteligencia Artificial para gestionar registros y tareas agrícolas.

✅ Aquí te explico cómo puedo ayudarte:

### ✅ Comandos Principales

	✅ **Crear registros**: Puedes pedirme que cree registros de tus:
		- **Clientes** 
		- **Campos** 
		- **Lotes** 
		- **Parcelas** 
		- **Maquinaria** (Avión, Fumigadora Terrestre)
		- **Personal** (Pilotos, Operarios)
		- **Contratistas** 
		- **Campañas** 
		- **Tipos de Tareas** (Fumigación Aérea/Terrestre, Siembra Aérea)
		- **Insumos/Productos** 

Solo dime qué quieres crear y los detalles.

- Ejemplo: \`crear cliente "La Tranquera" con teléfono 1122334455\`
- Ejemplo: \`registrar maquina fumigadora del tipo terrestre "La Ceci" modelo 2025\`
- Ejemplo: \`agregar un operario "Nico Sosa" rol Piloto\`

	✅ **Crear Tareas**: Puedes programar tareas para tus campos (principalmente fumigaciones y siembras aéreas). 
Intenta ser específico con el tipo de tarea, campo, fecha, hora, maquinaria, personal o insumos.

- Ejemplo: \`programar fumigación aerea para el campo "Campo Test Norte" mañana a las 8 AM\`
- Ejemplo: \`crear tarea de pulverización terrestre para el lote "Lote Test S-A" usando la pulverizadora "Pulverizadora Test Azul" y el operario "Operario Test Beta"\`
- Si mencionas algo que no existe (un campo, una máquina, etc.), te preguntaré si quieres crearlo primero para poder completar la tarea.

	✅ **Listar entidades**: Pídeme que te muestre tus registros.
- Ejemplo: \`listar todos los clientes\`
- Ejemplo: \`mostrar maquinaria operativa\`
- Ejemplo: \`qué tareas tengo programadas para esta semana\`
- Ejemplo: \`listar personal disponible\`

	✅ **Actualizar entidades**: Puedes pedirme que modifique información existente.
- Ejemplo: \`actualizar el teléfono del cliente "Agro Test del Sur" a 99887766\`
- Ejemplo: \`cambiar el estado de la fumigadora terrestre "Metalfor II" a operativa\`

	✅ **Eliminar entidades**: Puedes pedirme que borre registros.
- Ejemplo: \`eliminar el campo "Campo Viejo"\`
- Ejemplo: \`borrar la tarea con ID task-uuid-xyz\`

	✅ **Consultas generales**: Puedes hacerme preguntas sobre tus datos o sobre agricultura en general.
- Ejemplo: \`cuántos campos tiene el cliente "Finca de Prueba Sol Radiante"\`
- Ejemplo: \`qué insumos tengo registrados\`

### ✅ Gestión de Datos (Botones en Barra Superior):
Los comandos para importar, exportar y gestionar tu base de datos y el historial de chat están ahora agrupados en la barra superior:

#### **Grupo \`BD\` (Operaciones de Base de Datos - JSON):**
   - **\`Cargar BD (JSON)\`**: Importa toda tu base de datos desde un único archivo JSON.
   - **\`Guardar BD (JSON)\`**: Exporta toda tu base de datos actual a un archivo JSON (¡tu respaldo principal!).
   - **\`Borrar BD\`**: Elimina **toda** la base de datos actual almacenada en la aplicación (requiere confirmación, ¡úsalo con precaución!).

#### **Grupo \`Tablas\` (Operaciones con Tablas - CSV):**
   - **\`Cargar Múltiples (CSV)\`**: Permite seleccionar varios archivos CSV para importar datos a diferentes tablas a la vez.
   - **\`Guardar Todas (CSV)\`**: Exporta cada tabla de tu base de datos (Clientes, Campos, Tareas, etc.) como un archivo CSV individual.
   - **\`Cargar Individual (CSV)\`**: Importa datos para una tabla específica desde un archivo CSV (se te pedirá seleccionar el tipo de entidad).

#### **Grupo \`Historial\` (Historial de Chat):**
   - **\`Guardar Historial\`**: Guarda la conversación actual del chat en un archivo JSON.
   - **\`Cargar Historial\`**: Carga una conversación previamente guardada desde un archivo JSON.

💾 **Importante**: La base de datos se almacena **localmente en tu navegador**.

### 🔄 **Modo Voz Interactiva:**
- Activa/Desactiva con el botón <VoiceOnIcon /> / <VoiceOffIcon /> en la barra superior para hablar tus comandos y escuchar mis respuestas.

### 🌐 **Funcionalidad Offline:**
- ¡No te preocupes por la conexión! Si no hay internet, tus comandos se guardarán y se procesarán automáticamente cuando vuelva la conexión.
- Verás un indicador <OfflineQueueIcon /> con el número de solicitudes pendientes.

### 📌 **Problemas de conexión con la IA:**
Si tienes problemas de conexión conmigo:
- Usa la opción **\`Guardar Historial\`** (en el grupo \`Historial\`) para no perder tu conversación actual.
- Una vez que la conexión se restablezca, puedes usar **\`Cargar Historial\`** si es necesario, para continuar desde donde dejaste. Los mensajes en el chat (guardados o visibles) me ayudarán a retomar el contexto.
- Anímate a reintentar tus comandos o a seguir conversando cuando la conexión vuelva a la normalidad.
\`\`\`
Para errores usa "ERROR".
Prioriza IDs. Si un ID no se provee y es necesario para una *nueva* entidad, puedes generarlo (formato uuidv4, ej. "client-xxxx").
`,tp={clients:[],users:[],contractors:[],personnel:[],machineries:[],fields:[],lots:[],parcels:[],campaigns:[],tasksList:[],productsInsumes:[],tasks:[],taskMachineryLinks:[],taskPersonnelLinks:[],taskInsumeLinks:[],userAccess:[]},Hr={clients:"Clientes",users:"Usuarios",contractors:"Contratistas",personnel:"Personal (Pilotos, Operarios)",machineries:"Maquinaria (Avión, Fumigadoras)",fields:"Campos",lots:"Lotes",parcels:"Parcelas",campaigns:"Campañas",tasksList:"Tipos de Tareas (Fumigación, Siembra)",productsInsumes:"Productos/Insumos",tasks:"Trabajos Realizados",taskMachineryLinks:"Trabajos-Maquinarias (Link)",taskPersonnelLinks:"Trabajos-Personal (Link)",taskInsumeLinks:"Trabajos-Insumos (Link)",userAccess:"Acceso de Usuarios (Link)"},ff={clients:["id","name","phone","email","contactPerson","address"],users:["id","name","role","clientId"],contractors:["contractor_id","name","contact_person","address","phone","is_internal"],personnel:["id","name","role","phone","clientId","contractor_id","availability"],machineries:["id","name","type","model","year","clientId","contractor_id","status"],fields:["id","name","location","clientId","area"],lots:["id","name","fieldId","area"],parcels:["id","name","lotId","area","crop"],campaigns:["id","name","startDate","endDate","clientId","description"],tasksList:["id","taskName","description","category"],productsInsumes:["id","name","type","unit"],tasks:["task_entry_id","task_id_ref","created_by_user_id","client_id","contractor_id","campaign_id","field_id","lot_id","parcel_id","start_datetime","end_datetime","duration_hours","status","cost_estimated","cost_actual","result_description","notes","creation_timestamp","additional_info"],taskMachineryLinks:["task_machinery_link_id","task_entry_id","machinery_id","hours_used","notes"],taskPersonnelLinks:["task_personnel_link_id","task_entry_id","personnel_id","role_in_task","hours_worked"],taskInsumeLinks:["task_insume_link_id","task_entry_id","product_insume_id","quantity_used","unit_used","application_details"],userAccess:["user_id","campo_id","acceso_total"]},jr={id:"ID",name:"Nombre",description:"Descripción",notes:"Notas",type:"Tipo",status:"Estado",category:"Categoría",unit:"Unidad",area:"Área (ha)",location:"Ubicación",phone:"Teléfono",email:"Correo Electrónico",address:"Dirección",contactPerson:"Persona de Contacto",creationTimestamp:"Fecha Creación",additionalInfo:"Info. Adicional",role:"Rol",clientId:"ID Cliente",isInternal:"Interno",contractor_id:"ID Contratista",availability:"Disponibilidad",contractorId:"ID Contratista",model:"Modelo",year:"Año",fieldId:"ID Campo",lotId:"ID Lote",crop:"Cultivo",startDate:"Fecha Inicio",endDate:"Fecha Fin",taskName:"Nombre Tipo Tarea",tasksListId:"ID Tipo Tarea",createdByUserId:"ID Usuario Creador",campaignId:"ID Campaña",startDateTime:"Fecha/Hora Inicio",endDateTime:"Fecha/Hora Fin",durationHours:"Duración (Horas)",costEstimated:"Costo Estimado",costActual:"Costo Real",resultDescription:"Descripción Resultado",machineryIds:"IDs Maquinaria",personnelIds:"IDs Personal",productInsumeDetails:"Detalles Insumos",taskId:"ID Trabajo",machineryId:"ID Maquinaria",hoursUsed:"Horas Usadas",personnelId:"ID Personal",roleInTask:"Rol en Trabajo",hoursWorked:"Horas Trabajadas",productInsumeId:"ID Producto/Insumo",quantityUsed:"Cantidad Usada",unitUsed:"Unidad Usada",applicationDetails:"Detalles Aplicación",userId:"ID Usuario",accessTotal:"Acceso Total",groupTitle:"Título del Grupo",items:"Elementos",count:"Cantidad",entityType:"Tipo de Entidad"},b2=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),x2=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),w2=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-1.5l-1.5.75M5.25 17.25h13.5"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v2.625a3.375 3.375 0 01-3.375 3.375H5.25A3.375 3.375 0 011.5 16.875V7.125A3.375 3.375 0 014.875 3.75h4.875a3.375 3.375 0 013.375 3.375V11.25"})]}),_2=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5L16.5 10.5m0 0L13.5 13.5m3-3v6m0 0H10.5m6 0a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zM4.5 3.75a3 3 0 00-3 3v10.5a3 3 0 003 3h5.25a.75.75 0 000-1.5H4.5a1.5 1.5 0 01-1.5-1.5V6.75a1.5 1.5 0 011.5-1.5h10.5a1.5 1.5 0 011.5 1.5V10.5a.75.75 0 001.5 0V6.75a3 3 0 00-3-3H4.5z"})}),S2=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.03 1.123 0 1.131.094 1.976 1.057 1.976 2.192V7.5M8.25 7.5h7.5M8.25 7.5V9a.75.75 0 01-.75.75H5.625a.75.75 0 01-.75-.75V7.5m7.5 0V9A.75.75 0 0015 9.75h2.625a.75.75 0 00.75-.75V7.5m-15 6.075A3.375 3.375 0 014.875 15h14.25a3.375 3.375 0 013.375 3.375V18.75A3.375 3.375 0 0119.125 21H4.875A3.375 3.375 0 011.5 18.75v-.375m15-6.075c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123 0c-1.131.094-1.976 1.057-1.976 2.192"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Uv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Fv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),Bv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6M1.06 6.81L3.182 4.688a1.5 1.5 0 011.06-.44h13.5a2.25 2.25 0 012.25 2.25v12a2.25 2.25 0 01-2.25 2.25h-15A2.25 2.25 0 012.25 18V9a2.25 2.25 0 012.25-2.25h5.379a1.5 1.5 0 001.06-.44zM9 19.5V12h6v7.5"})}),qv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l3 3"})]}),zv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 12a2.25 2.25 0 00-2.25 2.25 2.25 2.25 0 002.25 2.25 2.25 2.25 0 002.25-2.25A2.25 2.25 0 0012 12z"})}),Vv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})}),gp=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})}),vp=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-3l-4.72-4.72a.75.75 0 00-1.28.53v15.88a.75.75 0 001.28.53l4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75zM15.75 18L18 15.75"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75a2.25 2.25 0 012.25-2.25m-2.25 2.25a2.25 2.25 0 00-2.25 2.25M12 12.75V15m0-.75V9.75M14.25 9.75A2.25 2.25 0 0012 7.5M7.5 15A2.25 2.25 0 009.75 12.75m0 0A2.25 2.25 0 0012 15"})]}),np=({triggerButton:r,menuItems:e,menuTitle:t,align:i="right",onClose:o})=>{const[s,u]=$e.useState(!1),f=$e.useRef(null),d=$e.useRef(null),p=C=>{C.stopPropagation(),u(x=>!x)},b=()=>{u(!1),o&&o()};$e.useEffect(()=>{const C=T=>{f.current&&!f.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&b()},x=T=>{T.key==="Escape"&&b()};return s&&(document.addEventListener("mousedown",C),document.addEventListener("keydown",x)),()=>{document.removeEventListener("mousedown",C),document.removeEventListener("keydown",x)}},[s,o]);const w=i==="left"?"left-0":"right-0";return Y.jsxs("div",{className:"relative inline-block text-left",ref:d,children:[v2.cloneElement(r,{onClick:p,"aria-haspopup":"true","aria-expanded":s}),s&&Y.jsx("div",{ref:f,className:`${w} absolute mt-2 w-64 origin-top-${i} bg-white dark:bg-gray-700 rounded-md shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none z-30`,role:"menu","aria-orientation":"vertical","aria-labelledby":r.props.id||void 0,children:Y.jsxs("div",{className:"py-1",role:"none",children:[t&&Y.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t}),e.map((C,x)=>Y.jsxs("button",{onClick:()=>{C.onClick(),b()},disabled:C.disabled,className:`w-full text-left flex items-center px-4 py-2 text-sm 
                  ${C.isDangerous?"text-red-700 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-800/50":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"}
                  ${C.disabled?"opacity-50 cursor-not-allowed":""}
                  transition-colors duration-150 ease-in-out`,role:"menuitem",children:[C.icon&&Y.jsx("span",{className:"mr-3 flex-shrink-0 h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500 dark:group-hover:text-gray-400","aria-hidden":"true",children:C.icon}),Y.jsx("span",{children:C.label})]},x))]})})]})},Hv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25C15.75 18.4926 14.1426 19.5 12.375 19.5C10.6074 19.5 9 18.4926 9 17.25"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75C9 13.9926 10.6074 15 12.375 15C14.1426 15 15.75 13.9926 15.75 12.75"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25C9 9.49264 10.6074 10.5 12.375 10.5C14.1426 10.5 15.75 9.49264 15.75 8.25"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5V17.25C4.5 14.7337 7.91015 12.75 12.375 12.75C16.8398 12.75 20.25 14.7337 20.25 17.25V19.5"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15V12.75C4.5 10.2337 7.91015 8.25 12.375 8.25C16.8398 8.25 20.25 10.2337 20.25 12.75V15"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5V8.25C4.5 5.73371 7.91015 3.75 12.375 3.75C16.8398 3.75 20.25 5.73371 20.25 8.25V10.5"})]}),jv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v12.75c0 .621.504 1.125 1.125 1.125z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 10.5h19.5M10.125 4.5v15"})]}),Gv=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8.25h.01M12 15.75h.01M7.5 12h.01M16.5 12h.01"})]}),Yv=$e.forwardRef(({onFileUpload:r,onFileExport:e,onExportToCsvs:t,entityTypes:i,currentTheme:o,onToggleTheme:s,isInteractiveVoiceMode:u,onToggleInteractiveVoiceMode:f,onMultipleFileUploadRequest:d,onDeleteDatabaseRequest:p,onSaveChatHistory:b,onLoadChatHistoryFile:w,pendingOfflineRequestCount:C},x)=>{const T=$e.useRef(null),L=$e.useRef(null),I=$e.useRef(null),E=$e.useRef(null),[R,D]=$e.useState(null),[j,K]=$e.useState(!1),Q=$e.useRef(null);$e.useImperativeHandle(x,()=>({})),$e.useEffect(()=>{const U=ce=>{if(j&&Q.current&&!Q.current.contains(ce.target)){const M=document.getElementById("csv-entity-type-selector-dropdown");M&&!M.contains(ce.target)&&K(!1)}};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[j]);const V=()=>{var U;return(U=T.current)==null?void 0:U.click()},z=()=>{var U;return(U=I.current)==null?void 0:U.click()},re=()=>{var U;return(U=E.current)==null?void 0:U.click()},ae=U=>{var M;const ce=(M=U.target.files)==null?void 0:M[0];ce&&r(ce,"json_db"),U.target.value=""},O=U=>{var M;const ce=(M=U.target.files)==null?void 0:M[0];ce&&R&&r(ce,R),U.target.value="",D(null),K(!1)},k=U=>{const ce=U.target.files;ce&&ce.length>0&&d(Array.from(ce)),U.target.value=""},ne=U=>{var M;const ce=(M=U.target.files)==null?void 0:M[0];ce&&w(ce),U.target.value=""},te=U=>{var ce;D(U),(ce=L.current)==null||ce.click()},ve=[{label:"Cargar BD (JSON)",icon:Y.jsx(b2,{className:"h-4 w-4"}),onClick:V},{label:"Guardar BD (JSON)",icon:Y.jsx(x2,{className:"h-4 w-4"}),onClick:()=>e("json_db")},{label:"Borrar BD",icon:Y.jsx(Uv,{className:"h-4 w-4"}),onClick:p,isDangerous:!0}],F=[{label:"Cargar Múltiples (CSV)",icon:Y.jsx(_2,{className:"h-4 w-4"}),onClick:z},{label:"Guardar Todas (CSV)",icon:Y.jsx(S2,{className:"h-4 w-4"}),onClick:t},{label:"Cargar Individual (CSV)",icon:Y.jsx(w2,{className:"h-4 w-4"}),onClick:()=>{K(U=>!U)}}],J=[{label:"Guardar Historial",icon:Y.jsx(Fv,{className:"h-4 w-4"}),onClick:b},{label:"Cargar Historial",icon:Y.jsx(Bv,{className:"h-4 w-4"}),onClick:re}],ie="flex items-center text-white py-2 px-2 sm:px-3 rounded-md text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800",oe="h-4 w-4 mr-0 sm:mr-1 md:mr-2";return Y.jsxs("div",{className:"bg-gray-200 dark:bg-gray-800 p-3 shadow-md flex items-center justify-between border-b border-gray-300 dark:border-gray-700 bg-transition",children:[Y.jsx("div",{className:"flex items-center",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx("h1",{className:"text-md sm:text-lg font-semibold text-green-600 dark:text-green-400 leading-tight",children:"Gestor de Trabajos"}),Y.jsx("h2",{className:"text-sm sm:text-md font-semibold text-green-600 dark:text-green-400 leading-tight",children:"Agro Aereo Roberts v1.0"})]})}),Y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-3",children:[C>0&&Y.jsxs("div",{className:"flex items-center bg-yellow-500 text-yellow-900 dark:bg-yellow-400 dark:text-yellow-900 py-1 px-2 sm:px-3 rounded-md text-xs sm:text-sm transition-colors animate-pulse",title:`${C} solicitud(es) pendientes de procesar`,children:[Y.jsx(qv,{className:"h-4 w-4 mr-1 sm:mr-2"}),Y.jsxs("span",{className:"hidden xxs:inline",children:[C," Pendiente",C>1?"s":""]}),Y.jsx("span",{className:"xxs:hidden",children:C})]}),Y.jsx(np,{triggerButton:Y.jsxs("button",{className:`${ie} bg-blue-600 hover:bg-blue-700 focus:ring-blue-500`,title:"Operaciones de Base de Datos",children:[Y.jsx(Hv,{className:oe}),Y.jsx("span",{className:"hidden sm:inline",children:"BD"})]}),menuItems:ve}),Y.jsx("input",{type:"file",ref:T,onChange:ae,accept:".json",className:"hidden"}),Y.jsxs("div",{className:"relative",children:[Y.jsx(np,{triggerButton:Y.jsxs("button",{ref:Q,className:`${ie} bg-purple-500 hover:bg-purple-600 focus:ring-purple-500`,title:"Operaciones de Tablas (CSV)",children:[Y.jsx(jv,{className:oe}),Y.jsx("span",{className:"hidden sm:inline",children:"Tablas"})]}),menuItems:F,onClose:()=>{}}),j&&Y.jsxs("div",{id:"csv-entity-type-selector-dropdown",className:"absolute right-0 sm:right-auto sm:left-0 mt-2 w-56 bg-white dark:bg-gray-700 rounded-md shadow-lg z-40 py-1 border dark:border-gray-600 max-h-60 overflow-y-auto",style:{top:Q.current?Q.current.offsetHeight+5:"100%"},children:[Y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 px-3 py-1",children:"Importar para:"}),i.map(U=>Y.jsx("a",{href:"#",onClick:ce=>{ce.preventDefault(),te(U),K(!1)},className:"block px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600",role:"menuitem",children:Hr[U]},U))]})]}),Y.jsx("input",{type:"file",ref:I,onChange:k,accept:".csv",multiple:!0,className:"hidden"}),Y.jsx("input",{type:"file",ref:L,onChange:O,accept:".csv",className:"hidden"}),Y.jsx(np,{triggerButton:Y.jsxs("button",{className:`${ie} bg-orange-500 hover:bg-orange-600 focus:ring-orange-500`,title:"Operaciones de Historial de Chat",children:[Y.jsx(Gv,{className:oe}),Y.jsx("span",{className:"hidden sm:inline",children:"Historial"})]}),menuItems:J}),Y.jsx("input",{type:"file",ref:E,onChange:ne,accept:".json",className:"hidden"}),Y.jsx("button",{onClick:f,className:`p-2 rounded-full transition-colors ${u?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200"}`,title:u?"Desactivar Modo Voz":"Activar Modo Voz",children:u?Y.jsx(gp,{className:"h-5 w-5"}):Y.jsx(vp,{className:"h-5 w-5"})}),Y.jsx("button",{onClick:s,className:"p-2 rounded-full bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-yellow-500 dark:text-yellow-400 transition-colors",title:o==="dark"?"Modo Claro":"Modo Oscuro",children:o==="dark"?Y.jsx(zv,{className:"h-5 w-5"}):Y.jsx(Vv,{className:"h-5 w-5"})})]})]})}),Wv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Jv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c.618 0 1.197-.096 1.752-.264M9.248 9.264A6.002 6.002 0 0112 7.5c2.143 0 4.067.966 5.334 2.517M12 7.5V3.75m0 3.75A2.25 2.25 0 009.75 9.75v1.5M12 7.5A2.25 2.25 0 0114.25 9.75v1.5"})}),Kv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})}),Zv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),$v=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5C7.5 4.5 4.5 7.5 4.5 12s3 7.5 7.5 7.5S19.5 16.5 19.5 12 16.5 4.5 12 4.5z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75h.008v.008H9.75v-.008zm0 4.5h.008v.008H9.75v-.008zm4.5-4.5h.008v.008H14.25v-.008zm0 4.5h.008v.008H14.25v-.008zM12 8.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75H12a.75.75 0 00.75-.75V9a.75.75 0 00-.75-.75h-.015z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75c-1.24 0-2.25.783-2.25 1.75s1.01 1.75 2.25 1.75 2.25-.783 2.25-1.75S13.24 12.75 12 12.75z"})]}),Xv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.528-1.032.388-2.357-.4-3.176L5.75 5.75c-.789-.789-2.148-.929-3.182-.4L2.496 2.496A2.25 2.25 0 00.07 4.425l1.086 1.086L5.75 10.25l3.031 2.496M11.42 15.17L10.25 10.25"})}),Qv=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),$p=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),A2=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75v4.5m0-4.5h-4.5m4.5 0L15 9m5.25 11.25v-4.5m0 4.5h-4.5m4.5 0L15 15"})}),ey=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),ty=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM10.5 7.5v6m3-3h-6"})}),ny=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"})}),iy=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Xp=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a2.25 2.25 0 014.56 0m-4.56 0A2.25 2.25 0 005.85 15H5.25v-3.75c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V15h-.094c-.24-.034-.48-.066-.72-.096A2.25 2.25 0 016.72 13.83zM19.5 12c0-1.036-.84-1.875-1.875-1.875L17.25 9V6.75A2.25 2.25 0 0015 4.5h-6a2.25 2.25 0 00-2.25 2.25V9l.375 1.125L12 12m0 0V9.75M12 12H6.75m5.25 0H17.25m0 0l2.25-2.25M15 12H9m6 0l2.25 2.25m0 0l2.25 2.25M12 12l-2.25 2.25M12 12l2.25-2.25M12 12l-2.25-2.25M6 12l-2.25 2.25"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 4.5H9a2.25 2.25 0 00-2.25 2.25V7.5h9V6.75A2.25 2.25 0 0015 4.5z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 16.5v3A2.25 2.25 0 0117.25 21H6.75A2.25 2.25 0 014.5 18.75v-3"})]}),Qp=({className:r})=>Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),ry=({className:r})=>Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:r||"w-6 h-6",children:[Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h.008v.008H8.25v-.008z"}),Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 18.75m-2.25 0a2.25 2.25 0 002.25-2.25A2.25 2.25 0 0010.5 14m0 4.5V16.5m2.25-2.25a2.25 2.25 0 00-2.25-2.25M16.5 13.5V18m2.25-4.5a2.25 2.25 0 00-2.25-2.25M19.5 14.25v2.625a3.375 3.375 0 01-3.375 3.375H5.25A3.375 3.375 0 011.5 16.875V7.125A3.375 3.375 0 014.875 3.75h4.875a3.375 3.375 0 013.375 3.375V11.25"})]}),ts=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)}),ay=r=>{const e=r.split(/\r\n|\n/).filter(o=>o.trim()!=="");if(e.length<2)return[];const t=e[0].split(",").map(o=>o.trim()),i=[];for(let o=1;o<e.length;o++){const s=e[o].split(","),u={};t.forEach((f,d)=>{u[f.trim()]=s[d]?s[d].trim():""}),i.push(u)}return i},oy=r=>r.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`),h0=r=>r.replace(/[^a-z0-9_.-]/gi,"_").toLowerCase(),C2=(r,e)=>{if(!r||r.length===0)return"";let t,i;e&&ff[e]?(t=ff[e],i=t.map(u=>{let f=u.replace(/_([a-z0-9])/g,d=>d[1].toUpperCase());return(e==="contractors"&&u==="contractor_id"||e==="tasks"&&u==="task_entry_id")&&(f="id"),f})):(i=Object.keys(r[0]),t=i.map(oy));const o=t.join(","),s=r.map(u=>i.map(f=>{let d=u[f];return d==null&&(d=""),typeof d=="boolean"&&(d=d?"true":"false"),typeof d=="string"&&(d.includes(",")||d.includes('"')||d.includes(`
`))?`"${d.replace(/"/g,'""')}"`:d}).join(","));return[o,...s].join(`\r
`)},em=(r,e,t)=>{if(!r||r.length===0){alert("No hay datos para exportar.");return}try{const i=C2(r,t);if(i){const o=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(o),u=document.createElement("a");u.href=s;let f="listado";t?f=`listado_${h0(t)}`:e&&(f=h0(e.split(":")[0]==="Listado"&&e.split(":")[1]?e.split(":")[1].trim():e)),u.download=`${f}_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(s)}else alert("No se pudo generar el archivo CSV.")}catch(i){console.error("Error al descargar CSV:",i),alert(`Error al descargar CSV: ${i.message}`)}},p0=(r,e)=>{const t=ay(r),i=ff[e];return!i||i.length===0?(console.warn(`No CSV headers for entity type: ${e}. Skipping.`),[]):t.map(s=>{const u={};let f=!1;for(const p of i){if(s[p]===void 0||s[p]===null||s[p]==="")continue;let b=s[p],w=p.replace(/_([a-z0-9])/g,L=>L[1].toUpperCase()),C=!1;(p==="id"||e==="contractors"&&p==="contractor_id"||e==="tasks"&&p==="task_entry_id"||e==="taskMachineryLinks"&&p==="task_machinery_link_id"||e==="taskPersonnelLinks"&&p==="task_personnel_link_id"||e==="taskInsumeLinks"&&p==="task_insume_link_id")&&(C=!0),C&&(w="id",u[w]=String(b),f=!0);const x={clients:["area"],users:[],contractors:[],personnel:[],machineries:["year"],fields:["area"],lots:["area"],parcels:["area"],campaigns:[],tasksList:[],productsInsumes:[],tasks:["durationHours","costEstimated","costActual"],taskMachineryLinks:["hoursUsed"],taskPersonnelLinks:["hoursWorked"],taskInsumeLinks:["quantityUsed"],userAccess:[]};x[e]&&x[e].includes(w)&&(b=parseFloat(String(b)),isNaN(b)&&(b=void 0));const T={clients:[],users:[],contractors:["isInternal"],personnel:[],machineries:[],fields:[],lots:[],parcels:[],campaigns:[],tasksList:[],productsInsumes:[],tasks:[],taskMachineryLinks:[],taskPersonnelLinks:[],taskInsumeLinks:[],userAccess:["accessTotal"]};T[e]&&T[e].includes(w)&&(b=String(b).toLowerCase()==="true"),b!==void 0&&(C||(u[w]=b))}return!f&&!u.id&&(u.id=ts()),Object.keys(u).filter(p=>p==="id"&&!f?!1:u[p]!==void 0&&u[p]!==null&&String(u[p]).trim()!=="").length>0?u:null}).filter(s=>s!==null)},Gu=r=>{const e=[];let t=0;const i=/(\*\*(.*?)\*\*|__(.*?)__)|(\*(.*?)\*|_([^_]+)_)|(`(.*?)`)/g;let o;for(;(o=i.exec(r))!==null;){const s=o.index,[u,f,d,p,b,w,C,x,T,L,I]=o;s>t&&e.push(r.substring(t,s)),f||p?e.push(Y.jsx("strong",{children:d||b},s)):w||x?e.push(Y.jsx("em",{children:C||T},s)):L&&e.push(Y.jsx("code",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-sm font-mono",children:I},s)),t=s+u.length}return t<r.length&&e.push(r.substring(t)),e.filter(s=>typeof s!="string"||s.length>0)},sy=({markdownText:r})=>{const e=r.split(`
`),t=[];let i=null,o=[];const s=()=>{i&&o.length>0&&(i==="ul"?t.push(Y.jsx("ul",{className:"list-disc list-inside my-2 ml-4 space-y-1 text-sm",children:o},`ul-${t.length}`)):i==="ol"&&t.push(Y.jsx("ol",{className:"list-decimal list-inside my-2 ml-4 space-y-1 text-sm",children:o},`ol-${t.length}`))),o=[],i=null};return e.forEach((u,f)=>{const d=u.match(/^###\s+(.*)/);if(d){s(),t.push(Y.jsx("h3",{className:"text-md font-semibold my-1 text-gray-700 dark:text-gray-200",children:Gu(d[1])},f));return}const p=u.match(/^##\s+(.*)/);if(p){s(),t.push(Y.jsx("h2",{className:"text-lg font-semibold my-2 text-gray-700 dark:text-gray-200",children:Gu(p[1])},f));return}const b=u.match(/^#\s+(.*)/);if(b){s(),t.push(Y.jsx("h1",{className:"text-xl font-semibold my-3 text-gray-700 dark:text-gray-200",children:Gu(b[1])},f));return}const w=u.match(/^[\*\-]\s+(.*)/);if(w){i!=="ul"&&(s(),i="ul"),o.push(Y.jsx("li",{children:Gu(w[1])},`${i}-li-${f}`));return}const C=u.match(/^\d+\.\s+(.*)/);if(C){i!=="ol"&&(s(),i="ol"),o.push(Y.jsx("li",{children:Gu(C[1])},`${i}-li-${f}`));return}s(),u.trim()!==""?t.push(Y.jsx("p",{className:"my-1 text-sm",children:Gu(u)},f)):t.length>0&&t[t.length-1]!==`
`&&t.push(`
`)}),s(),Y.jsx(Y.Fragment,{children:t.map((u,f)=>u===`
`&&f<t.length-1?Y.jsx("br",{},`br-${f}`):u)})},jl=r=>r==null||String(r).toUpperCase()==="NULL"?"Sin Datos":String(r),ly=r=>{const e=[];if(r.name)e.push(`${jr.name}: ${jl(r.name)}`);else if(r.taskName)e.push(`${jr.taskName}: ${jl(r.taskName)}`);else if(r.description){const i=jl(r.description);e.push(`${jr.description}: ${i.substring(0,50)}${i.length>50?"...":""}`)}return r.id&&(e.length===0||Object.keys(r).length<=2)&&(e.some(i=>i.toLowerCase().includes("nombre:")||i.toLowerCase().includes("tarea:"))||e.push(`${jr.id}: ${jl(r.id)}`)),["type","status","crop","area","availability","role"].forEach(i=>{r[i]!==void 0&&r[i]!==null&&!e.some(o=>o.toLowerCase().startsWith((jr[i]||i).toLowerCase()+":"))&&e.push(`${jr[i]||i}: ${jl(r[i])}`)}),e.length===0?Object.entries(r).filter(([i,o])=>i!=="id"&&o!==null&&o!==void 0&&String(o).toUpperCase()!=="NULL").slice(0,2).map(([i,o])=>`${jr[i]||i}: ${jl(o)}`).join(" | ")||`${jr.id}: ${jl(r.id)||"N/A"}`:e.slice(0,3).join(" | ")},m0=({message:r,onViewFullScreen:e})=>{const t=r.sender==="user",i=r.sender==="system",o=r.sender==="ai",s=$e.useRef(new Map),u=t?"bg-green-600 text-white self-end rounded-l-xl rounded-tr-xl":i?"bg-gray-500 dark:bg-gray-600 text-gray-100 dark:text-gray-300 self-center px-4 py-3 rounded-xl shadow-md":"bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-gray-200 self-start rounded-r-xl rounded-tl-xl",f=t?Zv:o?$v:Xv,d=t?"bg-green-500":o?"bg-blue-500":"",p=x=>{em(x.items,x.groupTitle,x.entityType)},b=x=>{e({title:x.groupTitle,items:x.items,entityType:x.entityType})},w=(x,T)=>{let L="";const I=x.querySelector("h4"),E=x.querySelector("ul");if(I&&(L+=`<h4>${I.innerText}</h4>`),E){const D=E.cloneNode(!0);D.querySelectorAll('.no-print-in-section, button, [aria-hidden="true"]').forEach(j=>j.remove()),D.querySelectorAll("li").forEach(j=>{const K=j.innerText||j.textContent||"";j.innerHTML=K.trim().replace(/\n\s*\n/g,`
`)}),L+=D.outerHTML}else{const D=document.createElement("div");D.innerHTML=x.innerHTML,D.querySelectorAll('.no-print-in-section, button, [aria-hidden="true"], h4').forEach(j=>j.remove()),L+=D.innerHTML.trim()}return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${T}</title>
          
      <style>
        body { font-family: 'Inter', sans-serif; margin: 20px; color: #333; }
        h1.print-page-title { font-size: 16pt; text-align: center; margin-bottom: 15px; color: black !important; }
        h4 { font-size: 11pt; margin-bottom: 8px; color: black !important; font-weight: bold; }
        ul { list-style-type: none; padding-left: 0; margin-top: 5px; font-size: 9pt; }
        li { margin-bottom: 6px; padding: 4px; border: 1px solid #eee; border-radius: 3px; color: black !important; page-break-inside: avoid; background-color: #f9f9f9; }
        .no-print-in-section { display: none !important; }
        .dark\\:bg-gray-800, .dark\\:bg-gray-700, .dark\\:bg-gray-600, .dark\\:bg-gray-500 { background-color: white !important; }
        .dark\\:text-gray-100, .dark\\:text-gray-200, .dark\\:text-gray-300, .dark\\:text-gray-400, .dark\\:text-yellow-300, .dark\\:text-yellow-600 { color: black !important; }
        .dark\\:border-gray-500, .dark\\:border-gray-400 { border-color: #ccc !important; }
        .dark\\:bg-gray-100 { background-color: #f0f0f0 !important; } /* For li items in dark mode */

        /* Markdown specific print styles */
        .markdown-content h1, .markdown-content h2, .markdown-content h3 { color: black !important; margin-top: 0.5em; margin-bottom: 0.25em; }
        .markdown-content h1 { font-size: 14pt; }
        .markdown-content h2 { font-size: 12pt; }
        .markdown-content h3 { font-size: 10pt; }
        .markdown-content p { margin-bottom: 0.5em; font-size: 9pt; line-height: 1.4; color: black !important;}
        .markdown-content ul, .markdown-content ol { margin-left: 20px; margin-bottom: 0.5em; font-size: 9pt; color: black !important;}
        .markdown-content li { margin-bottom: 0.2em; border: none; background-color: transparent; padding: 0; color: black !important;}
        .markdown-content code { font-family: monospace; background-color: #f0f0f0; padding: 1px 3px; border-radius: 3px; font-size: 8.5pt; color: black !important;}
        .markdown-content pre { background-color: #f0f0f0; padding: 0.5em; border-radius: 3px; overflow-x: auto; font-size: 8.5pt; color: black !important; page-break-inside: avoid; }
        .markdown-content pre code { background-color: transparent; padding: 0; }
        .markdown-content strong { font-weight: bold; color: black !important;}
        .markdown-content em { font-style: italic; color: black !important;}
      </style>
    
        </head>
        <body>
          <h1 class="print-page-title">${T}</h1>
          <div class="markdown-content">
             ${L}
          </div>
        </body>
      </html>
    `},C=(x,T)=>{var D;const L=s.current.get(x);if(!L){console.error("Content element for printing not found for group index:",x),alert("No se pudo encontrar el contenido para imprimir.");return}const I=w(L,T);if(!I||I.includes("<body></body>")){console.error("Generated printable HTML is empty or malformed for:",T),alert("No se pudo generar el contenido para la impresión. Intente de nuevo.");return}const E=document.createElement("iframe");E.style.position="absolute",E.style.width="0",E.style.height="0",E.style.border="0",E.style.zIndex="99999",E.setAttribute("title","Contenido de Impresión"),E.setAttribute("aria-hidden","true"),document.body.appendChild(E);let R=null;try{const j=(D=E.contentWindow)==null?void 0:D.document;if(!j)throw new Error("Could not access iframe document.");j.open(),j.write(I),j.close(),R=window.setTimeout(()=>{document.body.contains(E)&&(console.warn("iframe onload fallback: Removing print frame for",T),document.body.removeChild(E))},3e3),E.onload=()=>{R&&clearTimeout(R);try{if(E.contentWindow)E.contentWindow.focus(),setTimeout(()=>{var K;try{(K=E.contentWindow)==null||K.print()}catch(Q){console.error(`Error during print() call for ${T}:`,Q),alert(`Ocurrió un error al invocar la impresión: ${Q.message}`)}finally{setTimeout(()=>{document.body.contains(E)&&document.body.removeChild(E)},1e3)}},100);else throw new Error("iframe contentWindow is not available after load.")}catch(K){console.error(`Error during print operation for ${T}:`,K),alert(`Ocurrió un error al intentar imprimir: ${K.message}`),setTimeout(()=>{document.body.contains(E)&&document.body.removeChild(E)},500)}}}catch(j){console.error(`Error setting up iframe for print (${T}):`,j),alert(`Error al preparar la impresión: ${j.message}`),R&&clearTimeout(R),document.body.contains(E)&&document.body.removeChild(E)}};return Y.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} w-full`,children:Y.jsxs("div",{className:`flex items-start max-w-[85%] md:max-w-[75%] ${t?"flex-row-reverse":"flex-row"}`,children:[!i&&Y.jsx("div",{className:`flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center text-white ${d} ${t?"ml-2":"mr-2"} no-print`,children:Y.jsx(f,{className:"h-5 w-5"})}),Y.jsxs("div",{className:`p-3 shadow-md ${u} ${i?"text-center":"min-w-[100px]"}`,children:[r.isLoading&&Y.jsxs("div",{className:"flex items-center",children:[Y.jsx($p,{className:"h-5 w-5 animate-spin mr-2"}),Y.jsx("span",{children:"Procesando..."})]}),!r.isLoading&&r.isError&&Y.jsxs("div",{className:`flex items-center text-red-600 dark:text-red-300 ${i?"justify-center":""}`,children:[Y.jsx(Qv,{className:"h-5 w-5 mr-2 flex-shrink-0"}),Y.jsx("span",{className:`${i?"font-semibold text-base":"text-sm"}`,children:r.text})]}),!r.isLoading&&!r.isError&&Y.jsxs(Y.Fragment,{children:[o&&r.actionType==="HELP"?Y.jsx(sy,{markdownText:r.text}):Y.jsx("p",{className:`whitespace-pre-wrap break-words ${i?"font-semibold text-base":"text-sm"}`,children:r.text}),o&&r.groupedData&&r.groupedData.length>0&&Y.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-400 dark:border-gray-500 space-y-2 text-left",children:[" ",r.groupedData.map((x,T)=>Y.jsxs("div",{className:"p-2 bg-gray-200 dark:bg-gray-600 rounded-md",ref:L=>{L?s.current.set(T,L):s.current.delete(T)},children:[Y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[Y.jsxs("h4",{className:"font-semibold text-xs text-yellow-600 dark:text-yellow-300",children:[x.groupTitle,typeof x.count=="number"?` (${x.count} encontrado${x.count===1?"":"s"})`:` (${x.items.length} encontrado${x.items.length===1?"":"s"})`]}),x.items.length>0&&Y.jsxs("div",{className:"flex space-x-1 no-print-in-section",children:[Y.jsx("button",{onClick:()=>p(x),title:"Descargar CSV",className:"p-1 bg-blue-500 hover:bg-blue-600 text-white rounded-full text-xs","aria-label":"Descargar lista como CSV",children:Y.jsx(Qp,{className:"h-3 w-3"})}),Y.jsx("button",{onClick:()=>b(x),title:"Ver en Pantalla Completa",className:"p-1 bg-indigo-500 hover:bg-indigo-600 text-white rounded-full text-xs","aria-label":"Ver lista en pantalla completa",children:Y.jsx(A2,{className:"h-3 w-3"})}),Y.jsx("button",{onClick:()=>C(T,`Impresión: ${x.groupTitle}`),title:"Imprimir Lista",className:"p-1 bg-gray-500 hover:bg-gray-600 text-white rounded-full text-xs","aria-label":"Imprimir lista",children:Y.jsx(Xp,{className:"h-3 w-3"})})]})]}),x.items.length>0?Y.jsxs("ul",{className:"list-none space-y-1 text-xs max-h-40 overflow-y-auto",children:[x.items.slice(0,5).map((L,I)=>Y.jsx("li",{className:"p-1.5 bg-gray-100 dark:bg-gray-500 rounded text-gray-700 dark:text-gray-100",children:ly(L)},L.id||I)),x.items.length>5&&Y.jsxs("li",{className:"p-1.5 text-center text-gray-500 dark:text-gray-400 italic",children:["...y ",x.items.length-5," más (ver en pantalla completa)."]})]}):Y.jsx("p",{className:"text-xs italic text-gray-500 dark:text-gray-400",children:"No hay elementos en este grupo."})]},T))]})]}),r.rawLLMResponse&&o&&Y.jsxs("details",{className:"mt-2 text-xs no-print text-left",children:[" ",Y.jsx("summary",{className:"cursor-pointer text-gray-600 dark:text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:"Ver respuesta LLM completa"}),Y.jsx("pre",{className:"mt-1 p-2 bg-gray-50 dark:bg-gray-800 rounded text-gray-700 dark:text-gray-300 text-xs overflow-x-auto max-h-60",children:r.rawLLMResponse})]})]})]})})},g0=80,v0=3e3,uy=500,cy=$e.forwardRef(({messages:r,onSendMessage:e,isLoading:t,onBeforeStartRecording:i,onViewFullScreen:o},s)=>{var ve;const[u,f]=$e.useState(""),d=$e.useRef(null),[p,b]=$e.useState(!1),w=$e.useRef(null),C=$e.useRef([]),[x,T]=$e.useState(null),L=$e.useRef(null),I=$e.useRef(null),E=$e.useRef(null),R=$e.useRef(null),D=$e.useRef(null),j=$e.useRef(null),K=$e.useRef(null),Q=$e.useCallback(()=>{var F;D.current&&clearInterval(D.current),j.current&&clearTimeout(j.current),D.current=null,j.current=null,(F=R.current)==null||F.disconnect(),I.current&&I.current.state!=="closed"&&I.current.close().catch(J=>console.error("Error closing AudioContext:",J)),I.current=null,E.current=null,R.current=null},[]),V=$e.useCallback(()=>{var U;if(!E.current||!w.current||w.current.state!=="recording"){((U=w.current)==null?void 0:U.state)!=="recording"&&Q();return}const F=E.current.frequencyBinCount,J=new Uint8Array(F);E.current.getByteFrequencyData(J);const ie=J.length>0?Math.max(...J):0;console.log(`Max audio level detected: ${ie}, Current SILENCE_THRESHOLD: ${g0}`),J.every(ce=>ce<g0)?j.current||(j.current=window.setTimeout(()=>{console.log(`Silence detected for ${v0/1e3} seconds, stopping recording.`),w.current&&w.current.state==="recording"&&w.current.stop()},v0)):j.current&&(clearTimeout(j.current),j.current=null)},[Q]),z=async()=>{if(!p)try{const F=await navigator.mediaDevices.getUserMedia({audio:!0});K.current=F,T(null),w.current=new MediaRecorder(F),C.current=[],I.current=new(window.AudioContext||window.webkitAudioContext),E.current=I.current.createAnalyser(),E.current.fftSize=2048,R.current=I.current.createMediaStreamSource(F),R.current.connect(E.current),D.current=window.setInterval(V,uy),w.current.ondataavailable=J=>{C.current.push(J.data)},w.current.onstop=async()=>{var oe;if(Q(),K.current&&(K.current.getTracks().forEach(U=>U.stop()),K.current=null),C.current.length===0){console.warn("Recording stopped with no audio data."),b(!1);return}const J=new Blob(C.current,{type:((oe=w.current)==null?void 0:oe.mimeType)||"audio/webm"}),ie=new FileReader;ie.onloadend=async()=>{const U=ie.result.split(",")[1];await e("Comando de voz grabado (procesando...)",U,J.type)},ie.readAsDataURL(J),b(!1)},w.current.start(),b(!0)}catch(F){console.error("Error accessing microphone or starting recording:",F),T("No se pudo acceder al micrófono. Verifica los permisos."),Q(),K.current&&(K.current.getTracks().forEach(J=>J.stop()),K.current=null),b(!1)}},re=()=>{w.current&&w.current.state==="recording"?w.current.stop():(Q(),K.current&&(K.current.getTracks().forEach(F=>F.stop()),K.current=null),b(!1))};$e.useImperativeHandle(s,()=>({triggerStartRecording:()=>{p||(i&&i(),z())},triggerStopRecording:()=>{p&&re()}})),$e.useEffect(()=>()=>{re()},[]);const ae=()=>{var F;(F=d.current)==null||F.scrollIntoView({behavior:"smooth"})};$e.useEffect(ae,[r]);const O=F=>{f(F.target.value),F.target.style.height="auto",F.target.style.height=`${Math.min(F.target.scrollHeight,160)}px`},k=async()=>{u.trim()!==""&&(p&&re(),await e(u.trim()),f(""),L.current&&(L.current.style.height="auto"))},ne=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),k())},te=()=>{p?re():(i&&i(),z())};return Y.jsxs("div",{className:"flex flex-col h-full w-full shadow-xl dark:border-gray-700 bg-transition",style:{backgroundImage:"url('/images/Asistente_Virtual_IA.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[Y.jsxs("div",{className:"flex-1 p-4 md:p-6 space-y-4 overflow-y-auto min-h-0",children:[r.map(F=>Y.jsx(m0,{message:F,onViewFullScreen:o},F.id)),t&&((ve=r[r.length-1])==null?void 0:ve.sender)!=="ai"&&Y.jsx(m0,{message:{id:"loading-indicator",sender:"ai",text:"Procesando...",timestamp:new Date,isLoading:!0},onViewFullScreen:o},"loading-indicator"),Y.jsx("div",{ref:d})]}),x&&Y.jsx("p",{className:"text-red-500 bg-white dark:bg-gray-800 bg-opacity-80 dark:bg-opacity-80 p-1 rounded text-xs px-4 md:px-6 pb-2",children:x}),Y.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 bg-opacity-90 dark:bg-opacity-90 p-3 md:p-4 border-t border-gray-300 dark:border-gray-600 bg-transition",children:Y.jsxs("div",{className:"flex items-end space-x-2",children:[Y.jsx("textarea",{ref:L,value:u,onChange:O,onKeyPress:ne,placeholder:"Escribe tu comando o pregunta...",className:"flex-1 p-3 bg-white dark:bg-gray-600 text-gray-800 dark:text-gray-100 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none resize-none overflow-hidden min-h-[44px] max-h-40",rows:1,"aria-label":"Campo de entrada de mensajes"}),Y.jsx("button",{onClick:te,disabled:t&&!p,className:`p-3 rounded-full transition-colors ${p?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-blue-500 hover:bg-blue-600"} text-white disabled:opacity-50`,title:p?"Detener grabación":"Grabar voz","aria-label":p?"Detener grabación de voz":"Iniciar grabación de voz",children:p?Y.jsx(Kv,{className:"h-5 w-5"}):Y.jsx(Jv,{className:"h-5 w-5"})}),Y.jsx("button",{onClick:k,disabled:t||u.trim()==="",className:"bg-green-500 hover:bg-green-600 text-white p-3 rounded-full transition-colors disabled:opacity-50",title:"Enviar mensaje","aria-label":"Enviar mensaje",children:t&&!p?Y.jsx($p,{className:"h-5 w-5 animate-spin"}):Y.jsx(Wv,{className:"h-5 w-5"})})]})}),Y.jsxs("footer",{className:"bg-gray-100 dark:bg-gray-900 bg-opacity-90 dark:bg-opacity-90 p-2 border-t border-gray-300 dark:border-gray-700 text-center text-xs text-gray-600 dark:text-gray-400",children:[Y.jsx("span",{children:"Instagram: @lawertechnology"})," |",Y.jsx("a",{href:"mailto:lawertechnology@gmail.com",className:"hover:text-green-500 dark:hover:text-green-400 transition-colors px-1",children:"Email: lawertechnology@gmail.com"})," |",Y.jsx("a",{href:"https://drive.google.com/drive/folders/1kwIgpwTdERhLveb97XGz-Epb1sqdP0HD?usp=drive_link",target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-500 dark:hover:text-green-400 transition-colors px-1",children:"Manual de uso de la app"})]})]})}),ns=["clients","users","contractors","personnel","machineries","fields","lots","parcels","campaigns","tasksList","productsInsumes","tasks","taskMachineryLinks","taskPersonnelLinks","taskInsumeLinks","userAccess"],y0=r=>r==null||String(r).toUpperCase()==="NULL"?"Sin Datos":typeof r=="object"?JSON.stringify(r,null,2):String(r),b0=({items:r,defaultExpanded:e=!1})=>{const[t,i]=$e.useState(()=>e?r.reduce((d,p,b)=>({...d,[b]:!0}),{}):{});if(!r||r.length===0)return Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No hay elementos para mostrar."});const o=d=>{i(p=>({...p,[d]:!p[d]}))},s=r.reduce((d,p)=>(Object.keys(p).forEach(b=>{d.includes(b)||d.push(b)}),d),[]),u=["name","taskName","description","id","type","status","category","unit","role","availability","crop","area","location","model","year","startDate","endDate","startDateTime","endDateTime","durationHours","contactPerson","phone","email","address","isInternal","clientId","contractorId","fieldId","lotId","parcelId","campaignId","tasksListId","createdByUserId","taskId","machineryId","personnelId","productInsumeId","userId","costEstimated","costActual","resultDescription","notes","creationTimestamp","additionalInfo","machineryIds","personnelIds","productInsumeDetails","quantityUsed","unitUsed","hoursUsed","hoursWorked","roleInTask","applicationDetails","accessTotal"],f=[...new Set([...u.filter(d=>s.includes(d)),...s])];return Y.jsx("div",{className:"space-y-2 text-xs",children:r.map((d,p)=>{var b;return Y.jsxs("div",{className:"bg-gray-200 dark:bg-gray-600 p-2 rounded shadow",children:[Y.jsxs("button",{onClick:()=>o(p),className:"w-full text-left flex justify-between items-center hover:bg-gray-300 dark:hover:bg-gray-500 p-1 rounded","aria-expanded":t[p],"aria-controls":`details-${d.id||p}`,children:[Y.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100 truncate pr-2",children:d.name||d.taskName||((b=y0(d.description))==null?void 0:b.substring(0,40))||d.id||`Elemento ${p+1}`}),Y.jsx("span",{className:`transform transition-transform text-gray-600 dark:text-gray-400 ${t[p]?"rotate-180":"rotate-0"}`,children:"▼"})]}),t[p]&&Y.jsx("div",{id:`details-${d.id||p}`,className:"mt-1 pt-1 border-t border-gray-300 dark:border-gray-500",children:f.map(w=>{const C=d[w];if(C===void 0)return null;const x=y0(C),T=jr[w]||w.replace(/([A-Z])/g," $1").replace(/_/g," ");return typeof C=="object"&&C!==null&&x!=="Sin Datos"?Y.jsxs("div",{className:"grid grid-cols-3 gap-1 py-0.5",children:[Y.jsxs("strong",{className:"col-span-1 text-gray-600 dark:text-gray-300 capitalize",children:[T,":"]}),Y.jsx("pre",{className:"col-span-2 text-gray-700 dark:text-gray-100 bg-gray-100 dark:bg-gray-500 p-1 rounded text-xs overflow-x-auto",children:x})]},w):Y.jsxs("div",{className:"grid grid-cols-3 gap-1 py-0.5",children:[Y.jsxs("strong",{className:"col-span-1 text-gray-600 dark:text-gray-300 capitalize",children:[T,":"]}),Y.jsx("span",{className:"col-span-2 text-gray-700 dark:text-gray-100 break-words",children:x})]},w)})})]},d.id||p)})})},T2=({items:r,columnOrder:e,formatValueFunction:t,formatHeaderFunction:i,sortConfig:o,onRequestSort:s})=>!r||r.length===0?Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic p-2",children:"No hay datos para mostrar en la tabla."}):Y.jsx("div",{className:"overflow-x-auto bg-gray-200 dark:bg-gray-650 rounded-md shadow",children:Y.jsxs("table",{className:"min-w-full text-xs text-left text-gray-700 dark:text-gray-300 table-auto",children:[Y.jsx("thead",{className:"bg-gray-300 dark:bg-gray-700 sticky top-0 z-10",children:Y.jsx("tr",{children:e.map(u=>Y.jsx("th",{scope:"col",className:`px-3 py-2 font-medium tracking-wider select-none ${s?"cursor-pointer hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors":""}`,onClick:()=>s&&s(u),"aria-sort":o&&o.key===u?o.direction:"none",tabIndex:s?0:void 0,onKeyDown:s?f=>(f.key==="Enter"||f.key===" ")&&s(u):void 0,role:"columnheader",children:Y.jsxs("div",{className:"flex items-center",children:[i(u),o&&o.key===u&&Y.jsx("span",{className:"ml-1 sort-indicator","aria-hidden":"true",children:o.direction==="ascending"?"▲":"▼"})]})},u))})}),Y.jsx("tbody",{className:"bg-gray-100 dark:bg-gray-600 divide-y divide-gray-300 dark:divide-gray-500",children:r.map((u,f)=>Y.jsx("tr",{className:"hover:bg-gray-200 dark:hover:bg-gray-550 transition-colors",children:e.map(d=>Y.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t(u[d])},`${u.id||f}-${d}`))},u.id||f))})]})}),fy="modulepreload",dy=function(r){return"/Agro_Aereo_Roberts/"+r},x0={},yp=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=u(t.map(p=>{if(p=dy(p),p in x0)return;x0[p]=!0;const b=p.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const C=document.createElement("link");if(C.rel=b?"stylesheet":fy,b||(C.as="script"),C.crossOrigin="",C.href=p,d&&C.setAttribute("nonce",d),document.head.appendChild(C),b)return new Promise((x,T)=>{C.addEventListener("load",x),C.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function s(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return o.then(u=>{for(const f of u||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})};function Nn(r){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(r)}var Nr=Uint8Array,hr=Uint16Array,df=Uint32Array,Ud=new Nr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fd=new Nr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bp=new Nr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N2=function(r,e){for(var t=new hr(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var o=new df(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)o[s]=s-t[i]<<5|i;return[t,o]},E2=N2(Ud,2),L2=E2[0],xp=E2[1];L2[28]=258,xp[258]=28;var M2=N2(Fd,0),hy=M2[0],w0=M2[1],wp=new hr(32768);for(var qn=0;qn<32768;++qn){var Js=(qn&43690)>>>1|(qn&21845)<<1;Js=(Js&52428)>>>2|(Js&13107)<<2,Js=(Js&61680)>>>4|(Js&3855)<<4,wp[qn]=((Js&65280)>>>8|(Js&255)<<8)>>>1}var bo=function(r,e,t){for(var i=r.length,o=0,s=new hr(e);o<i;++o)++s[r[o]-1];var u=new hr(e);for(o=0;o<e;++o)u[o]=u[o-1]+s[o-1]<<1;var f;if(t){f=new hr(1<<e);var d=15-e;for(o=0;o<i;++o)if(r[o])for(var p=o<<4|r[o],b=e-r[o],w=u[r[o]-1]++<<b,C=w|(1<<b)-1;w<=C;++w)f[wp[w]>>>d]=p}else for(f=new hr(i),o=0;o<i;++o)f[o]=wp[u[r[o]-1]++]>>>15-r[o];return f},tl=new Nr(288);for(var qn=0;qn<144;++qn)tl[qn]=8;for(var qn=144;qn<256;++qn)tl[qn]=9;for(var qn=256;qn<280;++qn)tl[qn]=7;for(var qn=280;qn<288;++qn)tl[qn]=8;var hf=new Nr(32);for(var qn=0;qn<32;++qn)hf[qn]=5;var py=bo(tl,9,0),my=bo(tl,9,1),gy=bo(hf,5,0),vy=bo(hf,5,1),ip=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},Ia=function(r,e,t){var i=e/8>>0;return(r[i]|r[i+1]<<8)>>>(e&7)&t},rp=function(r,e){var t=e/8>>0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>>(e&7)},tm=function(r){return(r/8>>0)+(r&7&&1)},k2=function(r,e,t){(t==null||t>r.length)&&(t=r.length);var i=new(r instanceof hr?hr:r instanceof df?df:Nr)(t-e);return i.set(r.subarray(e,t)),i},yy=function(r,e,t){var i=r.length,o=!e||t,s=!t||t.i;t||(t={}),e||(e=new Nr(i*3));var u=function(ue){var _e=e.length;if(ue>_e){var xe=new Nr(Math.max(_e*2,ue));xe.set(e),e=xe}},f=t.f||0,d=t.p||0,p=t.b||0,b=t.l,w=t.d,C=t.m,x=t.n,T=i*8;do{if(!b){t.f=f=Ia(r,d,1);var L=Ia(r,d+1,3);if(d+=3,L)if(L==1)b=my,w=vy,C=9,x=5;else if(L==2){var D=Ia(r,d,31)+257,j=Ia(r,d+10,15)+4,K=D+Ia(r,d+5,31)+1;d+=14;for(var Q=new Nr(K),V=new Nr(19),z=0;z<j;++z)V[bp[z]]=Ia(r,d+z*3,7);d+=j*3;var re=ip(V),ae=(1<<re)-1;if(!s&&d+K*(re+7)>T)break;for(var O=bo(V,re,1),z=0;z<K;){var k=O[Ia(r,d,ae)];d+=k&15;var I=k>>>4;if(I<16)Q[z++]=I;else{var ne=0,te=0;for(I==16?(te=3+Ia(r,d,3),d+=2,ne=Q[z-1]):I==17?(te=3+Ia(r,d,7),d+=3):I==18&&(te=11+Ia(r,d,127),d+=7);te--;)Q[z++]=ne}}var ve=Q.subarray(0,D),F=Q.subarray(D);C=ip(ve),x=ip(F),b=bo(ve,C,1),w=bo(F,x,1)}else throw"invalid block type";else{var I=tm(d)+4,E=r[I-4]|r[I-3]<<8,R=I+E;if(R>i){if(s)throw"unexpected EOF";break}o&&u(p+E),e.set(r.subarray(I,R),p),t.b=p+=E,t.p=d=R*8;continue}if(d>T)throw"unexpected EOF"}o&&u(p+131072);for(var J=(1<<C)-1,ie=(1<<x)-1,oe=C+x+18;s||d+oe<T;){var ne=b[rp(r,d)&J],U=ne>>>4;if(d+=ne&15,d>T)throw"unexpected EOF";if(!ne)throw"invalid length/literal";if(U<256)e[p++]=U;else if(U==256){b=null;break}else{var ce=U-254;if(U>264){var z=U-257,M=Ud[z];ce=Ia(r,d,(1<<M)-1)+L2[z],d+=M}var H=w[rp(r,d)&ie],X=H>>>4;if(!H)throw"invalid distance";d+=H&15;var F=hy[X];if(X>3){var M=Fd[X];F+=rp(r,d)&(1<<M)-1,d+=M}if(d>T)throw"unexpected EOF";o&&u(p+131072);for(var le=p+ce;p<le;p+=4)e[p]=e[p-F],e[p+1]=e[p+1-F],e[p+2]=e[p+2-F],e[p+3]=e[p+3-F];p=le}}t.l=b,t.p=d,t.b=p,b&&(f=1,t.m=C,t.d=w,t.n=x)}while(!f);return p==e.length?e:k2(e,0,p)},es=function(r,e,t){t<<=e&7;var i=e/8>>0;r[i]|=t,r[i+1]|=t>>>8},Xc=function(r,e,t){t<<=e&7;var i=e/8>>0;r[i]|=t,r[i+1]|=t>>>8,r[i+2]|=t>>>16},ap=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var o=t.length,s=t.slice();if(!o)return[new Nr(0),0];if(o==1){var u=new Nr(t[0].s+1);return u[t[0].s]=1,[u,1]}t.sort(function(K,Q){return K.f-Q.f}),t.push({s:-1,f:25001});var f=t[0],d=t[1],p=0,b=1,w=2;for(t[0]={s:-1,f:f.f+d.f,l:f,r:d};b!=o-1;)f=t[t[p].f<t[w].f?p++:w++],d=t[p!=b&&t[p].f<t[w].f?p++:w++],t[b++]={s:-1,f:f.f+d.f,l:f,r:d};for(var C=s[0].s,i=1;i<o;++i)s[i].s>C&&(C=s[i].s);var x=new hr(C+1),T=_p(t[b-1],x,0);if(T>e){var i=0,L=0,I=T-e,E=1<<I;for(s.sort(function(Q,V){return x[V.s]-x[Q.s]||Q.f-V.f});i<o;++i){var R=s[i].s;if(x[R]>e)L+=E-(1<<T-x[R]),x[R]=e;else break}for(L>>>=I;L>0;){var D=s[i].s;x[D]<e?L-=1<<e-x[D]++-1:++i}for(;i>=0&&L;--i){var j=s[i].s;x[j]==e&&(--x[j],++L)}T=e}return[new Nr(x),T]},_p=function(r,e,t){return r.s==-1?Math.max(_p(r.l,e,t+1),_p(r.r,e,t+1)):e[r.s]=t},_0=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new hr(++e),i=0,o=r[0],s=1,u=function(d){t[i++]=d},f=1;f<=e;++f)if(r[f]==o&&f!=e)++s;else{if(!o&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(o),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(o);s=1,o=r[f]}return[t.subarray(0,i),e]},Qc=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},Sp=function(r,e,t){var i=t.length,o=tm(e+2);r[o]=i&255,r[o+1]=i>>>8,r[o+2]=r[o]^255,r[o+3]=r[o+1]^255;for(var s=0;s<i;++s)r[o+s+4]=t[s];return(o+4+i)*8},S0=function(r,e,t,i,o,s,u,f,d,p,b){es(e,b++,t),++o[256];for(var w=ap(o,15),C=w[0],x=w[1],T=ap(s,15),L=T[0],I=T[1],E=_0(C),R=E[0],D=E[1],j=_0(L),K=j[0],Q=j[1],V=new hr(19),z=0;z<R.length;++z)V[R[z]&31]++;for(var z=0;z<K.length;++z)V[K[z]&31]++;for(var re=ap(V,7),ae=re[0],O=re[1],k=19;k>4&&!ae[bp[k-1]];--k);var ne=p+5<<3,te=Qc(o,tl)+Qc(s,hf)+u,ve=Qc(o,C)+Qc(s,L)+u+14+3*k+Qc(V,ae)+(2*V[16]+3*V[17]+7*V[18]);if(ne<=te&&ne<=ve)return Sp(e,b,r.subarray(d,d+p));var F,J,ie,oe;if(es(e,b,1+(ve<te)),b+=2,ve<te){F=bo(C,x,0),J=C,ie=bo(L,I,0),oe=L;var U=bo(ae,O,0);es(e,b,D-257),es(e,b+5,Q-1),es(e,b+10,k-4),b+=14;for(var z=0;z<k;++z)es(e,b+3*z,ae[bp[z]]);b+=3*k;for(var ce=[R,K],M=0;M<2;++M)for(var H=ce[M],z=0;z<H.length;++z){var X=H[z]&31;es(e,b,U[X]),b+=ae[X],X>15&&(es(e,b,H[z]>>>5&127),b+=H[z]>>>12)}}else F=py,J=tl,ie=gy,oe=hf;for(var z=0;z<f;++z)if(i[z]>255){var X=i[z]>>>18&31;Xc(e,b,F[X+257]),b+=J[X+257],X>7&&(es(e,b,i[z]>>>23&31),b+=Ud[X]);var le=i[z]&31;Xc(e,b,ie[le]),b+=oe[le],le>3&&(Xc(e,b,i[z]>>>5&8191),b+=Fd[le])}else Xc(e,b,F[i[z]]),b+=J[i[z]];return Xc(e,b,F[256]),b+J[256]},by=new df([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xy=function(r,e,t,i,o,s){var u=r.length,f=new Nr(i+u+5*(1+Math.floor(u/7e3))+o),d=f.subarray(i,f.length-o),p=0;if(!e||u<8)for(var b=0;b<=u;b+=65535){var w=b+65535;w<u?p=Sp(d,p,r.subarray(b,w)):(d[b]=s,p=Sp(d,p,r.subarray(b,u)))}else{for(var C=by[e-1],x=C>>>13,T=C&8191,L=(1<<t)-1,I=new hr(32768),E=new hr(L+1),R=Math.ceil(t/3),D=2*R,j=function(Nt){return(r[Nt]^r[Nt+1]<<R^r[Nt+2]<<D)&L},K=new df(25e3),Q=new hr(288),V=new hr(32),z=0,re=0,b=0,ae=0,O=0,k=0;b<u;++b){var ne=j(b),te=b&32767,ve=E[ne];if(I[te]=ve,E[ne]=te,O<=b){var F=u-b;if((z>7e3||ae>24576)&&F>423){p=S0(r,d,0,K,Q,V,re,ae,k,b-k,p),ae=z=re=0,k=b;for(var J=0;J<286;++J)Q[J]=0;for(var J=0;J<30;++J)V[J]=0}var ie=2,oe=0,U=T,ce=te-ve&32767;if(F>2&&ne==j(b-ce))for(var M=Math.min(x,F)-1,H=Math.min(32767,b),X=Math.min(258,F);ce<=H&&--U&&te!=ve;){if(r[b+ie]==r[b+ie-ce]){for(var le=0;le<X&&r[b+le]==r[b+le-ce];++le);if(le>ie){if(ie=le,oe=ce,le>M)break;for(var ue=Math.min(ce,le-2),_e=0,J=0;J<ue;++J){var xe=b-ce+J+32768&32767,pe=I[xe],Ye=xe-pe+32768&32767;Ye>_e&&(_e=Ye,ve=xe)}}}te=ve,ve=I[te],ce+=te-ve+32768&32767}if(oe){K[ae++]=268435456|xp[ie]<<18|w0[oe];var We=xp[ie]&31,rt=w0[oe]&31;re+=Ud[We]+Fd[rt],++Q[257+We],++V[rt],O=b+ie,++z}else K[ae++]=r[b],++Q[r[b]]}}p=S0(r,d,s,K,Q,V,re,ae,k,b-k,p)}return k2(f,0,i+tm(p)+o)},wy=function(){var r=1,e=0;return{p:function(t){for(var i=r,o=e,s=t.length,u=0;u!=s;){for(var f=Math.min(u+5552,s);u<f;++u)i+=t[u],o+=i;i%=65521,o%=65521}r=i,e=o},d:function(){return(r>>>8<<16|(e&255)<<8|e>>>8)+((r&255)<<23)*2}}},_y=function(r,e,t,i,o){return xy(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,i,!0)},Sy=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ay=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=i<<6|(i?32-2*i:1)},Cy=function(r){if((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)throw"invalid zlib data";if(r[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ap(r,e){e===void 0&&(e={});var t=wy();t.p(r);var i=_y(r,e,2,4);return Ay(i,e),Sy(i,i.length-4,t.d()),i}function Ty(r,e){return yy((Cy(r),r.subarray(2,-4)),e)}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function op(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var In={log:op,warn:function(r){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):op.call(null,arguments))},error:function(r){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):op(r))}};function sp(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Yl(i.response,e,t)},i.onerror=function(){In.error("could not download file")},i.send()}function A0(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var rf,Cp,Yl=Pt.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Pt.URL||Pt.webkitURL,o=document.createElement("a");e=e||r.name||"download",o.download=e,o.rel="noopener",typeof r=="string"?(o.href=r,o.origin!==location.origin?A0(o.href)?sp(r,e,t):pd(o,o.target="_blank"):pd(o)):(o.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){pd(o)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(A0(r))sp(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){pd(i)})}else navigator.msSaveOrOpenBlob(function(o,s){return s===void 0?s={autoBom:!1}:Nn(s)!=="object"&&(In.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return sp(r,e,t);var o=r.type==="application/octet-stream",s=/constructor/i.test(Pt.HTMLElement)||Pt.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var b=f.result;b=u?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=b:location=b,i=null},f.readAsDataURL(r)}else{var d=Pt.URL||Pt.webkitURL,p=d.createObjectURL(r);i?i.location=p:location.href=p,i=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function R2(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],i=0;i<t.length;i++){var o=t[i].re,s=t[i].process,u=o.exec(r);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+f+d+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function lp(r,e){var t=r[0],i=r[1],o=r[2],s=r[3];t=er(t,i,o,s,e[0],7,-680876936),s=er(s,t,i,o,e[1],12,-389564586),o=er(o,s,t,i,e[2],17,606105819),i=er(i,o,s,t,e[3],22,-1044525330),t=er(t,i,o,s,e[4],7,-176418897),s=er(s,t,i,o,e[5],12,1200080426),o=er(o,s,t,i,e[6],17,-1473231341),i=er(i,o,s,t,e[7],22,-45705983),t=er(t,i,o,s,e[8],7,1770035416),s=er(s,t,i,o,e[9],12,-1958414417),o=er(o,s,t,i,e[10],17,-42063),i=er(i,o,s,t,e[11],22,-1990404162),t=er(t,i,o,s,e[12],7,1804603682),s=er(s,t,i,o,e[13],12,-40341101),o=er(o,s,t,i,e[14],17,-1502002290),t=tr(t,i=er(i,o,s,t,e[15],22,1236535329),o,s,e[1],5,-165796510),s=tr(s,t,i,o,e[6],9,-1069501632),o=tr(o,s,t,i,e[11],14,643717713),i=tr(i,o,s,t,e[0],20,-373897302),t=tr(t,i,o,s,e[5],5,-701558691),s=tr(s,t,i,o,e[10],9,38016083),o=tr(o,s,t,i,e[15],14,-660478335),i=tr(i,o,s,t,e[4],20,-405537848),t=tr(t,i,o,s,e[9],5,568446438),s=tr(s,t,i,o,e[14],9,-1019803690),o=tr(o,s,t,i,e[3],14,-187363961),i=tr(i,o,s,t,e[8],20,1163531501),t=tr(t,i,o,s,e[13],5,-1444681467),s=tr(s,t,i,o,e[2],9,-51403784),o=tr(o,s,t,i,e[7],14,1735328473),t=nr(t,i=tr(i,o,s,t,e[12],20,-1926607734),o,s,e[5],4,-378558),s=nr(s,t,i,o,e[8],11,-2022574463),o=nr(o,s,t,i,e[11],16,1839030562),i=nr(i,o,s,t,e[14],23,-35309556),t=nr(t,i,o,s,e[1],4,-1530992060),s=nr(s,t,i,o,e[4],11,1272893353),o=nr(o,s,t,i,e[7],16,-155497632),i=nr(i,o,s,t,e[10],23,-1094730640),t=nr(t,i,o,s,e[13],4,681279174),s=nr(s,t,i,o,e[0],11,-358537222),o=nr(o,s,t,i,e[3],16,-722521979),i=nr(i,o,s,t,e[6],23,76029189),t=nr(t,i,o,s,e[9],4,-640364487),s=nr(s,t,i,o,e[12],11,-421815835),o=nr(o,s,t,i,e[15],16,530742520),t=ir(t,i=nr(i,o,s,t,e[2],23,-995338651),o,s,e[0],6,-198630844),s=ir(s,t,i,o,e[7],10,1126891415),o=ir(o,s,t,i,e[14],15,-1416354905),i=ir(i,o,s,t,e[5],21,-57434055),t=ir(t,i,o,s,e[12],6,1700485571),s=ir(s,t,i,o,e[3],10,-1894986606),o=ir(o,s,t,i,e[10],15,-1051523),i=ir(i,o,s,t,e[1],21,-2054922799),t=ir(t,i,o,s,e[8],6,1873313359),s=ir(s,t,i,o,e[15],10,-30611744),o=ir(o,s,t,i,e[6],15,-1560198380),i=ir(i,o,s,t,e[13],21,1309151649),t=ir(t,i,o,s,e[4],6,-145523070),s=ir(s,t,i,o,e[11],10,-1120210379),o=ir(o,s,t,i,e[2],15,718787259),i=ir(i,o,s,t,e[9],21,-343485551),r[0]=Xs(t,r[0]),r[1]=Xs(i,r[1]),r[2]=Xs(o,r[2]),r[3]=Xs(s,r[3])}function Bd(r,e,t,i,o,s){return e=Xs(Xs(e,r),Xs(i,s)),Xs(e<<o|e>>>32-o,t)}function er(r,e,t,i,o,s,u){return Bd(e&t|~e&i,r,e,o,s,u)}function tr(r,e,t,i,o,s,u){return Bd(e&i|t&~i,r,e,o,s,u)}function nr(r,e,t,i,o,s,u){return Bd(e^t^i,r,e,o,s,u)}function ir(r,e,t,i,o,s,u){return Bd(t^(e|~i),r,e,o,s,u)}function D2(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)lp(i,Ny(r.substring(e-64,e)));r=r.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(lp(i,o),e=0;e<16;e++)o[e]=0;return o[14]=8*t,lp(i,o),i}function Ny(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}rf=Pt.atob.bind(Pt),Cp=Pt.btoa.bind(Pt);var C0="0123456789abcdef".split("");function Ey(r){for(var e="",t=0;t<4;t++)e+=C0[r>>8*t+4&15]+C0[r>>8*t&15];return e}function Ly(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Tp(r){return D2(r).map(Ly).join("")}var My=function(r){for(var e=0;e<r.length;e++)r[e]=Ey(r[e]);return r.join("")}(D2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xs(r,e){if(My){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Np(r,e){var t,i,o,s;if(r!==t){for(var u=(o=r,s=1+(256/r.length>>0),new Array(s+1).join(o)),f=[],d=0;d<256;d++)f[d]=d;var p=0;for(d=0;d<256;d++){var b=f[d];p=(p+b+u.charCodeAt(d))%256,f[d]=f[p],f[p]=b}t=r,i=f}else f=i;var w=e.length,C=0,x=0,T="";for(d=0;d<w;d++)x=(x+(b=f[C=(C+1)%256]))%256,f[C]=f[x],f[x]=b,u=f[(f[C]+f[x])%256],T+=String.fromCharCode(e.charCodeAt(d)^u);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var T0={print:4,modify:8,copy:16,"annot-forms":32};function Ku(r,e,t,i){this.v=1,this.r=2;var o=192;r.forEach(function(f){if(T0.perm!==void 0)throw new Error("Invalid permission: "+f);o+=T0[f]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,u),this.P=-(1+(255^o)),this.encryptionKey=Tp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Np(this.encryptionKey,this.padding)}function Zu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var o=r.charCodeAt(i);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?e+="#"+("0"+o.toString(16)).slice(-2):e+=r[i]}return e}function N0(r){if(Nn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,o){if(o=o||!1,typeof t!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!o],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var s in e[t]){var u=e[t][s];try{u[0].apply(r,i)}catch(f){Pt.console&&In.error("jsPDF PubSub Error",f.message,f)}u[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pf(r){if(!(this instanceof pf))return new pf(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function I2(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function $s(r,e,t,i,o){if(!(this instanceof $s))return new $s(r,e,t,i,o);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,I2.call(this,i,o)}function Wl(r,e,t,i,o){if(!(this instanceof Wl))return new Wl(r,e,t,i,o);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,I2.call(this,i,o)}function Mt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],u=[],f=1,d=16,p="S",b=null;Nn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,o=r.format||o,s=r.compress||r.compressPdf||s,(b=r.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),f=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),p=r.defaultPathOperation||"S"),u=r.filters||(s===!0?["FlateEncode"]:u),i=i||"mm",t=(""+(t||"P")).toLowerCase();var w=r.putOnlyUsedFonts||!1,C={},x={internal:{},__private__:{}};x.__private__.PubSub=N0;var T="1.3",L=x.__private__.getPdfVersion=function(){return T};x.__private__.setPdfVersion=function(S){T=S};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return I};var E=x.__private__.getPageFormat=function(S){return I[S]};o=o||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},D=R.COMPAT;function j(){this.saveGraphicsState(),de(new xt(st,0,0,-st,0,Ja()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),p="n",D=R.ADVANCED}function K(){this.restoreGraphicsState(),p="S",D=R.COMPAT}var Q=x.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};x.advancedAPI=function(S){var q=D===R.COMPAT;return q&&j.call(this),typeof S!="function"||(S(this),q&&K.call(this)),this},x.compatAPI=function(S){var q=D===R.ADVANCED;return q&&K.call(this),typeof S!="function"||(S(this),q&&j.call(this)),this},x.isAdvancedAPI=function(){return D===R.ADVANCED};var V,z=function(S){if(D!==R.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=x.roundToPrecision=x.__private__.roundToPrecision=function(S,q){var fe=e||q;if(isNaN(S)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(fe).replace(/0+$/,"")};V=x.hpf=x.__private__.hpf=typeof d=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return re(S,d)}:d==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return re(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return re(S,16)};var ae=x.f2=x.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return re(S,2)},O=x.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return re(S,3)},k=x.scale=x.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return D===R.COMPAT?S*st:D===R.ADVANCED?S:void 0},ne=function(S){return D===R.COMPAT?Ja()-S:D===R.ADVANCED?S:void 0},te=function(S){return k(ne(S))};x.__private__.setPrecision=x.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ve,F="00000000000000000000000000000000",J=x.__private__.getFileId=function(){return F},ie=x.__private__.setFileId=function(S){return F=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(mi=new Ku(b.userPermissions,b.userPassword,b.ownerPassword,F)),F};x.setFileId=function(S){return ie(S),this},x.getFileId=function(){return J()};var oe=x.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),fe=q<0?"+":"-",me=Math.floor(Math.abs(q/60)),Ce=Math.abs(q%60),Pe=[fe,X(me),"'",X(Ce),"'"].join("");return["D:",S.getFullYear(),X(S.getMonth()+1),X(S.getDate()),X(S.getHours()),X(S.getMinutes()),X(S.getSeconds()),Pe].join("")},U=x.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),fe=parseInt(S.substr(6,2),10)-1,me=parseInt(S.substr(8,2),10),Ce=parseInt(S.substr(10,2),10),Pe=parseInt(S.substr(12,2),10),Ze=parseInt(S.substr(14,2),10);return new Date(q,fe,me,Ce,Pe,Ze,0)},ce=x.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=oe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return ve=q},M=x.__private__.getCreationDate=function(S){var q=ve;return S==="jsDate"&&(q=U(ve)),q};x.setCreationDate=function(S){return ce(S),this},x.getCreationDate=function(S){return M(S)};var H,X=x.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=x.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ue=0,_e=[],xe=[],pe=0,Ye=[],We=[],rt=!1,lt=xe,Nt=function(){ue=0,pe=0,xe=[],_e=[],Ye=[],or=ti(),sr=ti()};x.__private__.setCustomOutputDestination=function(S){rt=!0,lt=S};var Oe=function(S){rt||(lt=S)};x.__private__.resetCustomOutputDestination=function(){rt=!1,lt=xe};var de=x.__private__.out=function(S){return S=S.toString(),pe+=S.length+1,lt.push(S),lt},ht=x.__private__.write=function(S){return de(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Qe=x.__private__.getArrayBuffer=function(S){for(var q=S.length,fe=new ArrayBuffer(q),me=new Uint8Array(fe);q--;)me[q]=S.charCodeAt(q);return fe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Ke};var et=r.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(S){return et=D===R.ADVANCED?S/st:S,this};var at,ot=x.__private__.getFontSize=x.getFontSize=function(){return D===R.COMPAT?et:et*st},wt=r.R2L||!1;x.__private__.setR2L=x.setR2L=function(S){return wt=S,this},x.__private__.getR2L=x.getR2L=function(){return wt};var Ot,jt=x.__private__.setZoomMode=function(S){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))at=S;else if(isNaN(S)){if(q.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');at=S}else at=parseInt(S,10)};x.__private__.getZoomMode=function(){return at};var qt,kt=x.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ot=S};x.__private__.getPageMode=function(){return Ot};var $t=x.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');qt=S};x.__private__.getLayoutMode=function(){return qt},x.__private__.setDisplayMode=x.setDisplayMode=function(S,q,fe){return jt(S),$t(q),kt(fe),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(S){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[S]},x.__private__.getDocumentProperties=function(){return yt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(S){for(var q in yt)yt.hasOwnProperty(q)&&S[q]&&(yt[q]=S[q]);return this},x.__private__.setDocumentProperty=function(S,q){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[S]=q};var zt,st,Vn,Kt,wi,Ee={},Ie={},Ue=[],Be={},Je={},it={},dt={},Lt=null,bt=0,pt=[],At=new N0(x),kn=r.hotfixes||[],Gt={},ji={},rr=[],xt=function S(q,fe,me,Ce,Pe,Ze){if(!(this instanceof S))return new S(q,fe,me,Ce,Pe,Ze);isNaN(q)&&(q=1),isNaN(fe)&&(fe=0),isNaN(me)&&(me=0),isNaN(Ce)&&(Ce=1),isNaN(Pe)&&(Pe=0),isNaN(Ze)&&(Ze=0),this._matrix=[q,fe,me,Ce,Pe,Ze]};Object.defineProperty(xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(S)},xt.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,fe=S.sx*this.shy+S.shy*this.sy,me=S.shx*this.sx+S.sy*this.shx,Ce=S.shx*this.shy+S.sy*this.sy,Pe=S.tx*this.sx+S.ty*this.shx+this.tx,Ze=S.tx*this.shy+S.ty*this.sy+this.ty;return new xt(q,fe,me,Ce,Pe,Ze)},xt.prototype.decompose=function(){var S=this.sx,q=this.shy,fe=this.shx,me=this.sy,Ce=this.tx,Pe=this.ty,Ze=Math.sqrt(S*S+q*q),ut=(S/=Ze)*fe+(q/=Ze)*me;fe-=S*ut,me-=q*ut;var _t=Math.sqrt(fe*fe+me*me);return ut/=_t,S*(me/=_t)<q*(fe/=_t)&&(S=-S,q=-q,ut=-ut,Ze=-Ze),{scale:new xt(Ze,0,0,_t,0,0),translate:new xt(1,0,0,1,Ce,Pe),rotate:new xt(S,q,-q,S,0,0),skew:new xt(1,0,ut,1,0,0)}},xt.prototype.toString=function(S){return this.join(" ")},xt.prototype.inversed=function(){var S=this.sx,q=this.shy,fe=this.shx,me=this.sy,Ce=this.tx,Pe=this.ty,Ze=1/(S*me-q*fe),ut=me*Ze,_t=-q*Ze,Yt=-fe*Ze,Zt=S*Ze;return new xt(ut,_t,Yt,Zt,-ut*Ce-Yt*Pe,-_t*Ce-Zt*Pe)},xt.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,fe=S.x*this.shy+S.y*this.sy+this.ty;return new ps(q,fe)},xt.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),fe=this.applyToPoint(new ps(S.x+S.w,S.y+S.h));return new vl(q.x,q.y,fe.x-q.x,fe.y-q.y)},xt.prototype.clone=function(){var S=this.sx,q=this.shy,fe=this.shx,me=this.sy,Ce=this.tx,Pe=this.ty;return new xt(S,q,fe,me,Ce,Pe)},x.Matrix=xt;var cn=x.matrixMult=function(S,q){return q.multiply(S)},sn=new xt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=sn;var wn=function(S,q){if(!Je[S]){var fe=(q instanceof $s?"Sh":"P")+(Object.keys(Be).length+1).toString(10);q.id=fe,Je[S]=fe,Be[fe]=q,At.publish("addPattern",q)}};x.ShadingPattern=$s,x.TilingPattern=Wl,x.addShadingPattern=function(S,q){return z("addShadingPattern()"),wn(S,q),this},x.beginTilingPattern=function(S){z("beginTilingPattern()"),ms(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},x.endTilingPattern=function(S,q){z("endTilingPattern()"),q.stream=We[H].join(`
`),wn(S,q),At.publish("endTilingPattern",q),rr.pop().restore()};var Wn=x.__private__.newObject=function(){var S=ti();return ar(S,!0),S},ti=x.__private__.newObjectDeferred=function(){return ue++,_e[ue]=function(){return pe},ue},ar=function(S,q){return q=typeof q=="boolean"&&q,_e[S]=pe,q&&de(S+" 0 obj"),S},So=x.__private__.newAdditionalObject=function(){var S={objId:ti(),content:""};return Ye.push(S),S},or=ti(),sr=ti(),Ni=x.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var fe=parseFloat(q[0]);q=[fe,fe,fe,"r"]}for(var me="#",Ce=0;Ce<3;Ce++)me+=("0"+Math.floor(255*parseFloat(q[Ce])).toString(16)).slice(-2);return me},Ei=x.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var fe=S.ch1,me=S.ch2,Ce=S.ch3,Pe=S.ch4,Ze=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var ut=new R2(fe);if(ut.ok)fe=ut.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var _t=parseInt(fe.substr(1),16);fe=_t>>16&255,me=_t>>8&255,Ce=255&_t}if(me===void 0||Pe===void 0&&fe===me&&me===Ce)if(typeof fe=="string")q=fe+" "+Ze[0];else switch(S.precision){case 2:q=ae(fe/255)+" "+Ze[0];break;case 3:default:q=O(fe/255)+" "+Ze[0]}else if(Pe===void 0||Nn(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return q=["1.","1.","1.",Ze[1]].join(" ");if(typeof fe=="string")q=[fe,me,Ce,Ze[1]].join(" ");else switch(S.precision){case 2:q=[ae(fe/255),ae(me/255),ae(Ce/255),Ze[1]].join(" ");break;default:case 3:q=[O(fe/255),O(me/255),O(Ce/255),Ze[1]].join(" ")}}else if(typeof fe=="string")q=[fe,me,Ce,Pe,Ze[2]].join(" ");else switch(S.precision){case 2:q=[ae(fe),ae(me),ae(Ce),ae(Pe),Ze[2]].join(" ");break;case 3:default:q=[O(fe),O(me),O(Ce),O(Pe),Ze[2]].join(" ")}return q},Gi=x.__private__.getFilters=function(){return u},_i=x.__private__.putStream=function(S){var q=(S=S||{}).data||"",fe=S.filters||Gi(),me=S.alreadyAppliedFilters||[],Ce=S.addLength1||!1,Pe=q.length,Ze=S.objectId,ut=function(Kn){return Kn};if(b!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(ut=mi.encryptor(Ze,0));var _t={};fe===!0&&(fe=["FlateEncode"]);var Yt=S.additionalKeyValues||[],Zt=(_t=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(q,fe):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(_t.data.length!==0&&(Yt.push({key:"Length",value:_t.data.length}),Ce===!0&&Yt.push({key:"Length1",value:Pe})),Zt.length!=0)if(Zt.split("/").length-1==1)Yt.push({key:"Filter",value:Zt});else{Yt.push({key:"Filter",value:"["+Zt+"]"});for(var rn=0;rn<Yt.length;rn+=1)if(Yt[rn].key==="DecodeParms"){for(var Pn=[],Fn=0;Fn<_t.reverseChain.split("/").length-1;Fn+=1)Pn.push("null");Pn.push(Yt[rn].value),Yt[rn].value="["+Pn.join(" ")+"]"}}de("<<");for(var Jn=0;Jn<Yt.length;Jn++)de("/"+Yt[Jn].key+" "+Yt[Jn].value);de(">>"),_t.data.length!==0&&(de("stream"),de(ut(_t.data)),de("endstream"))},_n=x.__private__.putPage=function(S){var q=S.number,fe=S.data,me=S.objId,Ce=S.contentsObjId;ar(me,!0),de("<</Type /Page"),de("/Parent "+S.rootDictionaryObjId+" 0 R"),de("/Resources "+S.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(V(S.mediaBox.bottomLeftX))+" "+parseFloat(V(S.mediaBox.bottomLeftY))+" "+V(S.mediaBox.topRightX)+" "+V(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&de("/CropBox ["+V(S.cropBox.bottomLeftX)+" "+V(S.cropBox.bottomLeftY)+" "+V(S.cropBox.topRightX)+" "+V(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&de("/BleedBox ["+V(S.bleedBox.bottomLeftX)+" "+V(S.bleedBox.bottomLeftY)+" "+V(S.bleedBox.topRightX)+" "+V(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&de("/TrimBox ["+V(S.trimBox.bottomLeftX)+" "+V(S.trimBox.bottomLeftY)+" "+V(S.trimBox.topRightX)+" "+V(S.trimBox.topRightY)+"]"),S.artBox!==null&&de("/ArtBox ["+V(S.artBox.bottomLeftX)+" "+V(S.artBox.bottomLeftY)+" "+V(S.artBox.topRightX)+" "+V(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&de("/UserUnit "+S.userUnit),At.publish("putPage",{objId:me,pageContext:pt[q],pageNumber:q,page:fe}),de("/Contents "+Ce+" 0 R"),de(">>"),de("endobj");var Pe=fe.join(`
`);return D===R.ADVANCED&&(Pe+=`
Q`),ar(Ce,!0),_i({data:Pe,filters:Gi(),objectId:Ce}),de("endobj"),me},Ba=x.__private__.putPages=function(){var S,q,fe=[];for(S=1;S<=bt;S++)pt[S].objId=ti(),pt[S].contentsObjId=ti();for(S=1;S<=bt;S++)fe.push(_n({number:S,data:We[S],objId:pt[S].objId,contentsObjId:pt[S].contentsObjId,mediaBox:pt[S].mediaBox,cropBox:pt[S].cropBox,bleedBox:pt[S].bleedBox,trimBox:pt[S].trimBox,artBox:pt[S].artBox,userUnit:pt[S].userUnit,rootDictionaryObjId:or,resourceDictionaryObjId:sr}));ar(or,!0),de("<</Type /Pages");var me="/Kids [";for(q=0;q<bt;q++)me+=fe[q]+" 0 R ";de(me+"]"),de("/Count "+bt),de(">>"),de("endobj"),At.publish("postPutPages")},Ao=function(S){At.publish("putFont",{font:S,out:de,newObject:Wn,putStream:_i}),S.isAlreadyPutted!==!0&&(S.objectNumber=Wn(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Zu(S.postScriptName)),de("/Subtype /Type1"),typeof S.encoding=="string"&&de("/Encoding /"+S.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},mr=function(){for(var S in Ee)Ee.hasOwnProperty(S)&&(w===!1||w===!0&&C.hasOwnProperty(S))&&Ao(Ee[S])},Mr=function(S){S.objectNumber=Wn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[V(S.x),V(S.y),V(S.x+S.width),V(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var fe=S.pages[1].join(`
`);_i({data:fe,additionalKeyValues:q,objectId:S.objectNumber}),de("endobj")},rs=function(){for(var S in Gt)Gt.hasOwnProperty(S)&&Mr(Gt[S])},ol=function(S,q){var fe,me=[],Ce=1/(q-1);for(fe=0;fe<1;fe+=Ce)me.push(fe);if(me.push(1),S[0].offset!=0){var Pe={offset:0,color:S[0].color};S.unshift(Pe)}if(S[S.length-1].offset!=1){var Ze={offset:1,color:S[S.length-1].color};S.push(Ze)}for(var ut="",_t=0,Yt=0;Yt<me.length;Yt++){for(fe=me[Yt];fe>S[_t+1].offset;)_t++;var Zt=S[_t].offset,rn=(fe-Zt)/(S[_t+1].offset-Zt),Pn=S[_t].color,Fn=S[_t+1].color;ut+=le(Math.round((1-rn)*Pn[0]+rn*Fn[0]).toString(16))+le(Math.round((1-rn)*Pn[1]+rn*Fn[1]).toString(16))+le(Math.round((1-rn)*Pn[2]+rn*Fn[2]).toString(16))}return ut.trim()},nu=function(S,q){q||(q=21);var fe=Wn(),me=ol(S.colors,q),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+q+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_i({data:me,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),de("endobj"),S.objectNumber=Wn(),de("<< /ShadingType "+S.type),de("/ColorSpace /DeviceRGB");var Pe="/Coords ["+V(parseFloat(S.coords[0]))+" "+V(parseFloat(S.coords[1]))+" ";S.type===2?Pe+=V(parseFloat(S.coords[2]))+" "+V(parseFloat(S.coords[3])):Pe+=V(parseFloat(S.coords[2]))+" "+V(parseFloat(S.coords[3]))+" "+V(parseFloat(S.coords[4]))+" "+V(parseFloat(S.coords[5])),de(Pe+="]"),S.matrix&&de("/Matrix ["+S.matrix.toString()+"]"),de("/Function "+fe+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},oc=function(S,q){var fe=ti(),me=Wn();q.push({resourcesOid:fe,objectOid:me}),S.objectNumber=me;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+S.boundingBox.map(V).join(" ")+"]"}),Ce.push({key:"XStep",value:V(S.xStep)}),Ce.push({key:"YStep",value:V(S.yStep)}),Ce.push({key:"Resources",value:fe+" 0 R"}),S.matrix&&Ce.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),_i({data:S.stream,additionalKeyValues:Ce,objectId:S.objectNumber}),de("endobj")},sa=function(S){var q;for(q in Be)Be.hasOwnProperty(q)&&(Be[q]instanceof $s?nu(Be[q]):Be[q]instanceof Wl&&oc(Be[q],S))},Co=function(S){for(var q in S.objectNumber=Wn(),de("<<"),S)switch(q){case"opacity":de("/ca "+ae(S[q]));break;case"stroke-opacity":de("/CA "+ae(S[q]))}de(">>"),de("endobj")},kr=function(){var S;for(S in it)it.hasOwnProperty(S)&&Co(it[S])},To=function(){for(var S in de("/XObject <<"),Gt)Gt.hasOwnProperty(S)&&Gt[S].objectNumber>=0&&de("/"+S+" "+Gt[S].objectNumber+" 0 R");At.publish("putXobjectDict"),de(">>")},iu=function(){mi.oid=Wn(),de("<<"),de("/Filter /Standard"),de("/V "+mi.v),de("/R "+mi.r),de("/U <"+mi.toHexString(mi.U)+">"),de("/O <"+mi.toHexString(mi.O)+">"),de("/P "+mi.P),de(">>"),de("endobj")},la=function(){for(var S in de("/Font <<"),Ee)Ee.hasOwnProperty(S)&&(w===!1||w===!0&&C.hasOwnProperty(S))&&de("/"+S+" "+Ee[S].objectNumber+" 0 R");de(">>")},sl=function(){if(Object.keys(Be).length>0){for(var S in de("/Shading <<"),Be)Be.hasOwnProperty(S)&&Be[S]instanceof $s&&Be[S].objectNumber>=0&&de("/"+S+" "+Be[S].objectNumber+" 0 R");At.publish("putShadingPatternDict"),de(">>")}},qa=function(S){if(Object.keys(Be).length>0){for(var q in de("/Pattern <<"),Be)Be.hasOwnProperty(q)&&Be[q]instanceof x.TilingPattern&&Be[q].objectNumber>=0&&Be[q].objectNumber<S&&de("/"+q+" "+Be[q].objectNumber+" 0 R");At.publish("putTilingPatternDict"),de(">>")}},sc=function(){if(Object.keys(it).length>0){var S;for(S in de("/ExtGState <<"),it)it.hasOwnProperty(S)&&it[S].objectNumber>=0&&de("/"+S+" "+it[S].objectNumber+" 0 R");At.publish("putGStateDict"),de(">>")}},Hn=function(S){ar(S.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),la(),sl(),qa(S.objectOid),sc(),To(),de(">>"),de("endobj")},Oi=function(){var S=[];mr(),kr(),rs(),sa(S),At.publish("putResources"),S.forEach(Hn),Hn({resourcesOid:sr,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources")},ll=function(){At.publish("putAdditionalObjects");for(var S=0;S<Ye.length;S++){var q=Ye[S];ar(q.objId,!0),de(q.content),de("endobj")}At.publish("postPutAdditionalObjects")},ru=function(S){Ie[S.fontName]=Ie[S.fontName]||{},Ie[S.fontName][S.fontStyle]=S.id},za=function(S,q,fe,me,Ce){var Pe={id:"F"+(Object.keys(Ee).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:fe,encoding:me,isStandardFont:Ce||!1,metadata:{}};return At.publish("addFont",{font:Pe,instance:this}),Ee[Pe.id]=Pe,ru(Pe),Pe.id},au=function(S){for(var q=0,fe=Ke.length;q<fe;q++){var me=za.call(this,S[q][0],S[q][1],S[q][2],Ke[q][3],!0);w===!1&&(C[me]=!0);var Ce=S[q][0].split("-");ru({id:me,fontName:Ce[0],fontStyle:Ce[1]||""})}At.publish("addFonts",{fonts:Ee,dictionary:Ie})},Yi=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(me){var q=me.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var fe="Error in function "+q.split(`
`)[0].split("<")[0]+": "+me.message;if(!Pt.console)throw new Error(fe);Pt.console.error(fe,me),Pt.alert&&alert(fe)}},S.foo.bar=S,S.foo},as=function(S,q){var fe,me,Ce,Pe,Ze,ut,_t,Yt,Zt;if(Ce=(q=q||{}).sourceEncoding||"Unicode",Ze=q.outputEncoding,(q.autoencode||Ze)&&Ee[zt].metadata&&Ee[zt].metadata[Ce]&&Ee[zt].metadata[Ce].encoding&&(Pe=Ee[zt].metadata[Ce].encoding,!Ze&&Ee[zt].encoding&&(Ze=Ee[zt].encoding),!Ze&&Pe.codePages&&(Ze=Pe.codePages[0]),typeof Ze=="string"&&(Ze=Pe[Ze]),Ze)){for(_t=!1,ut=[],fe=0,me=S.length;fe<me;fe++)(Yt=Ze[S.charCodeAt(fe)])?ut.push(String.fromCharCode(Yt)):ut.push(S[fe]),ut[fe].charCodeAt(0)>>8&&(_t=!0);S=ut.join("")}for(fe=S.length;_t===void 0&&fe!==0;)S.charCodeAt(fe-1)>>8&&(_t=!0),fe--;if(!_t)return S;for(ut=q.noBOM?[]:[254,255],fe=0,me=S.length;fe<me;fe++){if((Zt=(Yt=S.charCodeAt(fe))>>8)>>8)throw new Error("Character at position "+fe+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(Zt),ut.push(Yt-(Zt<<8))}return String.fromCharCode.apply(void 0,ut)},Rn=x.__private__.pdfEscape=x.pdfEscape=function(S,q){return as(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},No=x.__private__.beginPage=function(S){We[++bt]=[],pt[bt]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},ua(bt),Oe(We[H])},ul=function(S,q){var fe,me,Ce;switch(t=q||t,typeof S=="string"&&(fe=E(S.toLowerCase()),Array.isArray(fe)&&(me=fe[0],Ce=fe[1])),Array.isArray(S)&&(me=S[0]*st,Ce=S[1]*st),isNaN(me)&&(me=o[0],Ce=o[1]),(me>14400||Ce>14400)&&(In.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ce=Math.min(14400,Ce)),o=[me,Ce],t.substr(0,1)){case"l":Ce>me&&(o=[Ce,me]);break;case"p":me>Ce&&(o=[Ce,me])}No(o),fu(Ga),de(Rr),gl!==0&&de(gl+" J"),hs!==0&&de(hs+" j"),At.publish("addPage",{pageNumber:bt})},cl=function(S){S>0&&S<=bt&&(We.splice(S,1),pt.splice(S,1),bt--,H>bt&&(H=bt),this.setPage(H))},ua=function(S){S>0&&S<=bt&&(H=S)},ou=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return We.length-1},fl=function(S,q,fe){var me,Ce=void 0;return fe=fe||{},S=S!==void 0?S:Ee[zt].fontName,q=q!==void 0?q:Ee[zt].fontStyle,me=S.toLowerCase(),Ie[me]!==void 0&&Ie[me][q]!==void 0?Ce=Ie[me][q]:Ie[S]!==void 0&&Ie[S][q]!==void 0?Ce=Ie[S][q]:fe.disableWarning===!1&&In.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),Ce||fe.noFallback||(Ce=Ie.times[q])==null&&(Ce=Ie.times.normal),Ce},Va=x.__private__.putInfo=function(){var S=Wn(),q=function(me){return me};for(var fe in b!==null&&(q=mi.encryptor(S,0)),de("<<"),de("/Producer ("+Rn(q("jsPDF "+Mt.version))+")"),yt)yt.hasOwnProperty(fe)&&yt[fe]&&de("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+Rn(q(yt[fe]))+")");de("/CreationDate ("+Rn(q(ve))+")"),de(">>"),de("endobj")},dl=x.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||or;switch(Wn(),de("<<"),de("/Type /Catalog"),de("/Pages "+q+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+at;fe.substr(fe.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&de("/OpenAction [3 0 R /XYZ null null "+ae(at)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Ot&&de("/PageMode /"+Ot),At.publish("putCatalog"),de(">>"),de("endobj")},su=x.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ue+1)),de("/Root "+ue+" 0 R"),de("/Info "+(ue-1)+" 0 R"),b!==null&&de("/Encrypt "+mi.oid+" 0 R"),de("/ID [ <"+F+"> <"+F+"> ]"),de(">>")},lu=x.__private__.putHeader=function(){de("%PDF-"+T),de("%ºß¬à")},hl=x.__private__.putXRef=function(){var S="0000000000";de("xref"),de("0 "+(ue+1)),de("0000000000 65535 f ");for(var q=1;q<=ue;q++)typeof _e[q]=="function"?de((S+_e[q]()).slice(-10)+" 00000 n "):_e[q]!==void 0?de((S+_e[q]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},ca=x.__private__.buildDocument=function(){Nt(),Oe(xe),At.publish("buildDocument"),lu(),Ba(),ll(),Oi(),b!==null&&iu(),Va(),dl();var S=pe;return hl(),su(),de("startxref"),de(""+S),de("%%EOF"),Oe(We[H]),xe.join(`
`)},os=x.__private__.getBlob=function(S){return new Blob([Qe(S)],{type:"application/pdf"})},fa=x.output=x.__private__.output=Yi(function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return ca();case"save":x.save(q.filename);break;case"arraybuffer":return Qe(ca());case"blob":return os(ca());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(os(ca()))||void 0;In.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",me=ca();try{fe=Cp(me)}catch{fe=Cp(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+q.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ce=q.pdfObjectUrl,Pe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ut=Pt.open();return ut!==null&&ut.document.write(Ze),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Yt=Pt.open();if(Yt!==null){Yt.document.write(_t);var Zt=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=q.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Pn=Pt.open();if(Pn!==null&&(Pn.document.write(rn),Pn.document.title=q.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",q);default:return null}}),ss=function(S){return Array.isArray(kn)===!0&&kn.indexOf(S)>-1};switch(i){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=ss("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);st=i}var mi=null;ce(),ie();var Ha=function(S){return b!==null?mi.encryptor(S,0):function(q){return q}},da=x.__private__.getPageInfo=x.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[S].objId,pageNumber:S,pageContext:pt[S]}},Ut=x.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in pt)if(pt[q].objId===S)break;return da(q)},pl=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:pt[H].objId,pageNumber:H,pageContext:pt[H]}};x.addPage=function(){return ul.apply(this,arguments),this},x.setPage=function(){return ua.apply(this,arguments),Oe.call(this,We[H]),this},x.insertPage=function(S){return this.addPage(),this.movePage(H,S),this},x.movePage=function(S,q){var fe,me;if(S>q){fe=We[S],me=pt[S];for(var Ce=S;Ce>q;Ce--)We[Ce]=We[Ce-1],pt[Ce]=pt[Ce-1];We[q]=fe,pt[q]=me,this.setPage(q)}else if(S<q){fe=We[S],me=pt[S];for(var Pe=S;Pe<q;Pe++)We[Pe]=We[Pe+1],pt[Pe]=pt[Pe+1];We[q]=fe,pt[q]=me,this.setPage(q)}return this},x.deletePage=function(){return cl.apply(this,arguments),this},x.__private__.text=x.text=function(S,q,fe,me,Ce){var Pe,Ze,ut,_t,Yt,Zt,rn,Pn,Fn,Jn=(me=me||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Kn=fe;fe=q,q=S,S=Kn}if(arguments[3]instanceof xt?(z("The transform parameter of text() with a Matrix value"),Fn=Ce):(ut=arguments[4],_t=arguments[5],Nn(rn=arguments[3])==="object"&&rn!==null||(typeof ut=="string"&&(_t=ut,ut=null),typeof rn=="string"&&(_t=rn,rn=null),typeof rn=="number"&&(ut=rn,rn=null),me={flags:rn,angle:ut,align:_t})),isNaN(q)||isNaN(fe)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Jn;var gi="",Dr=!1,ur=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:lr,Jr=Jn.internal.scaleFactor;function xl(En){return En=En.split("	").join(Array(me.TabLen||9).join(" ")),Rn(En,rn)}function ma(En){for(var Sn,jn=En.concat(),Zn=[],oi=jn.length;oi--;)typeof(Sn=jn.shift())=="string"?Zn.push(Sn):Array.isArray(En)&&(Sn.length===1||Sn[1]===void 0&&Sn[2]===void 0)?Zn.push(Sn[0]):Zn.push([Sn[0],Sn[1],Sn[2]]);return Zn}function ga(En,Sn){var jn;if(typeof En=="string")jn=Sn(En)[0];else if(Array.isArray(En)){for(var Zn,oi,xa=En.concat(),Ai=[],Fi=xa.length;Fi--;)typeof(Zn=xa.shift())=="string"?Ai.push(Sn(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(oi=Sn(Zn[0],Zn[1],Zn[2]),Ai.push([oi[0],oi[1],oi[2]]));jn=Ai}return jn}var ys=!1,Ka=!0;if(typeof S=="string")ys=!0;else if(Array.isArray(S)){var bs=S.concat();Ze=[];for(var ko,Mi=bs.length;Mi--;)(typeof(ko=bs.shift())!="string"||Array.isArray(ko)&&typeof ko[0]!="string")&&(Ka=!1);ys=Ka}if(ys===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Za=et/Jn.internal.scaleFactor,Ro=Za*(ur-1);switch(me.baseline){case"bottom":fe-=Ro;break;case"top":fe+=Za-Ro;break;case"hanging":fe+=Za-2*Ro;break;case"middle":fe+=Za/2-Ro}if((Zt=me.maxWidth||0)>0&&(typeof S=="string"?S=Jn.splitTextToSize(S,Zt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(En,Sn){return En.concat(Jn.splitTextToSize(Sn,Zt))},[]))),Pe={text:S,x:q,y:fe,options:me,mutex:{pdfEscape:Rn,activeFontKey:zt,fonts:Ee,activeFontSize:et}},At.publish("preProcessText",Pe),S=Pe.text,ut=(me=Pe.options).angle,!(Fn instanceof xt)&&ut&&typeof ut=="number"){ut*=Math.PI/180,me.rotationDirection===0&&(ut=-ut),D===R.ADVANCED&&(ut=-ut);var Do=Math.cos(ut),xs=Math.sin(ut);Fn=new xt(Do,xs,-xs,Do,0,0)}else ut&&ut instanceof xt&&(Fn=ut);D!==R.ADVANCED||Fn||(Fn=sn),(Yt=me.charSpace||ds)!==void 0&&(gi+=V(k(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=me.horizontalScale)!==void 0&&(gi+=V(100*Pn)+` Tz
`),me.lang;var Ji=-1,dc=me.renderingMode!==void 0?me.renderingMode:me.stroke,wl=Jn.internal.getCurrentPageInfo().pageContext;switch(dc){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var hu=wl.usedRenderingMode!==void 0?wl.usedRenderingMode:-1;Ji!==-1?gi+=Ji+` Tr
`:hu!==-1&&(gi+=`0 Tr
`),Ji!==-1&&(wl.usedRenderingMode=Ji),_t=me.align||"left";var Ir,Si=et*ur,Io=Jn.internal.pageSize.getWidth(),pu=Ee[zt];Yt=me.charSpace||ds,Zt=me.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var va=[];if(Object.prototype.toString.call(S)==="[object Array]"){var cr;Ze=ma(S),_t!=="left"&&(Ir=Ze.map(function(En){return Jn.getStringUnitWidth(En,{font:pu,charSpace:Yt,fontSize:et,doKerning:!1})*et/Jr}));var br,Kr=0;if(_t==="right"){q-=Ir[0],S=[],Mi=Ze.length;for(var Zr=0;Zr<Mi;Zr++)Zr===0?(br=yr(q),cr=pa(fe)):(br=k(Kr-Ir[Zr]),cr=-Si),S.push([Ze[Zr],br,cr]),Kr=Ir[Zr]}else if(_t==="center"){q-=Ir[0]/2,S=[],Mi=Ze.length;for(var Ki=0;Ki<Mi;Ki++)Ki===0?(br=yr(q),cr=pa(fe)):(br=k((Kr-Ir[Ki])/2),cr=-Si),S.push([Ze[Ki],br,cr]),Kr=Ir[Ki]}else if(_t==="left"){S=[],Mi=Ze.length;for(var $a=0;$a<Mi;$a++)S.push(Ze[$a])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');S=[],Mi=Ze.length,Zt=Zt!==0?Zt:Io;for(var Ui=0;Ui<Mi;Ui++)cr=Ui===0?pa(fe):-Si,br=Ui===0?yr(q):0,Ui<Mi-1?va.push(V(k((Zt-Ir[Ui])/(Ze[Ui].split(" ").length-1)))):va.push(0),S.push([Ze[Ui],br,cr])}}var Xa=typeof me.R2L=="boolean"?me.R2L:wt;Xa===!0&&(S=ga(S,function(En,Sn,jn){return[En.split("").reverse().join(""),Sn,jn]})),Pe={text:S,x:q,y:fe,options:me,mutex:{pdfEscape:Rn,activeFontKey:zt,fonts:Ee,activeFontSize:et}},At.publish("postProcessText",Pe),S=Pe.text,Dr=Pe.mutex.isHex||!1;var ws=Ee[zt].encoding;ws!=="WinAnsiEncoding"&&ws!=="StandardEncoding"||(S=ga(S,function(En,Sn,jn){return[xl(En),Sn,jn]})),Ze=ma(S),S=[];for(var Zi,ki,Pr,Qa=0,xr=1,eo=Array.isArray(Ze[0])?xr:Qa,ya="",_s=function(En,Sn,jn){var Zn="";return jn instanceof xt?(jn=typeof me.angle=="number"?cn(jn,new xt(1,0,0,1,En,Sn)):cn(new xt(1,0,0,1,En,Sn),jn),D===R.ADVANCED&&(jn=cn(new xt(1,0,0,-1,0,0),jn)),Zn=jn.join(" ")+` Tm
`):Zn=V(En)+" "+V(Sn)+` Td
`,Zn},wr=0;wr<Ze.length;wr++){switch(ya="",eo){case xr:Pr=(Dr?"<":"(")+Ze[wr][0]+(Dr?">":")"),Zi=parseFloat(Ze[wr][1]),ki=parseFloat(Ze[wr][2]);break;case Qa:Pr=(Dr?"<":"(")+Ze[wr]+(Dr?">":")"),Zi=yr(q),ki=pa(fe)}va!==void 0&&va[wr]!==void 0&&(ya=va[wr]+` Tw
`),wr===0?S.push(ya+_s(Zi,ki,Fn)+Pr):eo===Qa?S.push(ya+Pr):eo===xr&&S.push(ya+_s(Zi,ki,Fn)+Pr)}S=eo===Qa?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var ba=`BT
/`;return ba+=zt+" "+et+` Tf
`,ba+=V(et*ur)+` TL
`,ba+=Lo+`
`,ba+=gi,ba+=S,de(ba+="ET"),C[zt]=!0,Jn};var uu=x.__private__.clip=x.clip=function(S){return de(S==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return uu("evenodd")},x.__private__.discardPath=x.discardPath=function(){return de("n"),this};var Wi=x.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(S){return Wi(S)&&(p=S),this};var gr=x.__private__.getStyle=x.getStyle=function(S){var q=p;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},ls=x.close=function(){return de("h"),this};x.stroke=function(){return de("S"),this},x.fill=function(S){return Gr("f",S),this},x.fillEvenOdd=function(S){return Gr("f*",S),this},x.fillStroke=function(S){return Gr("B",S),this},x.fillStrokeEvenOdd=function(S){return Gr("B*",S),this};var Gr=function(S,q){Nn(q)==="object"?us(q,S):de(S)},vr=function(S){S===null||D===R.ADVANCED&&S===void 0||(S=gr(S),de(S))};function ml(S,q,fe,me,Ce){var Pe=new Wl(q||this.boundingBox,fe||this.xStep,me||this.yStep,this.gState,Ce||this.matrix);Pe.stream=this.stream;var Ze=S+"$$"+this.cloneIndex+++"$$";return wn(Ze,Pe),Pe}var us=function(S,q){var fe=Je[S.key],me=Be[fe];if(me instanceof $s)de("q"),de(cu(q)),me.gState&&x.setGState(me.gState),de(S.matrix.toString()+" cm"),de("/"+fe+" sh"),de("Q");else if(me instanceof Wl){var Ce=new xt(1,0,0,-1,0,Ja());S.matrix&&(Ce=Ce.multiply(S.matrix||sn),fe=ml.call(me,S.key,S.boundingBox,S.xStep,S.yStep,Ce).id),de("q"),de("/Pattern cs"),de("/"+fe+" scn"),me.gState&&x.setGState(me.gState),de(q),de("Q")}},cu=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ja=x.moveTo=function(S,q){return de(V(k(S))+" "+V(te(q))+" m"),this},Yr=x.lineTo=function(S,q){return de(V(k(S))+" "+V(te(q))+" l"),this},ha=x.curveTo=function(S,q,fe,me,Ce,Pe){return de([V(k(S)),V(te(q)),V(k(fe)),V(te(me)),V(k(Ce)),V(te(Pe)),"c"].join(" ")),this};x.__private__.line=x.line=function(S,q,fe,me,Ce){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||!Wi(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return D===R.COMPAT?this.lines([[fe-S,me-q]],S,q,[1,1],Ce||"S"):this.lines([[fe-S,me-q]],S,q,[1,1]).stroke()},x.__private__.lines=x.lines=function(S,q,fe,me,Ce,Pe){var Ze,ut,_t,Yt,Zt,rn,Pn,Fn,Jn,Kn,gi,Dr;if(typeof S=="number"&&(Dr=fe,fe=q,q=S,S=Dr),me=me||[1,1],Pe=Pe||!1,isNaN(q)||isNaN(fe)||!Array.isArray(S)||!Array.isArray(me)||!Wi(Ce)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ja(q,fe),Ze=me[0],ut=me[1],Yt=S.length,Kn=q,gi=fe,_t=0;_t<Yt;_t++)(Zt=S[_t]).length===2?(Kn=Zt[0]*Ze+Kn,gi=Zt[1]*ut+gi,Yr(Kn,gi)):(rn=Zt[0]*Ze+Kn,Pn=Zt[1]*ut+gi,Fn=Zt[2]*Ze+Kn,Jn=Zt[3]*ut+gi,Kn=Zt[4]*Ze+Kn,gi=Zt[5]*ut+gi,ha(rn,Pn,Fn,Jn,Kn,gi));return Pe&&ls(),vr(Ce),this},x.path=function(S){for(var q=0;q<S.length;q++){var fe=S[q],me=fe.c;switch(fe.op){case"m":ja(me[0],me[1]);break;case"l":Yr(me[0],me[1]);break;case"c":ha.apply(this,me);break;case"h":ls()}}return this},x.__private__.rect=x.rect=function(S,q,fe,me,Ce){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||!Wi(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return D===R.COMPAT&&(me=-me),de([V(k(S)),V(te(q)),V(k(fe)),V(k(me)),"re"].join(" ")),vr(Ce),this},x.__private__.triangle=x.triangle=function(S,q,fe,me,Ce,Pe,Ze){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||isNaN(Ce)||isNaN(Pe)||!Wi(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-S,me-q],[Ce-fe,Pe-me],[S-Ce,q-Pe]],S,q,[1,1],Ze,!0),this},x.__private__.roundedRect=x.roundedRect=function(S,q,fe,me,Ce,Pe,Ze){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||isNaN(Ce)||isNaN(Pe)||!Wi(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*fe),Pe=Math.min(Pe,.5*me),this.lines([[fe-2*Ce,0],[Ce*ut,0,Ce,Pe-Pe*ut,Ce,Pe],[0,me-2*Pe],[0,Pe*ut,-Ce*ut,Pe,-Ce,Pe],[2*Ce-fe,0],[-Ce*ut,0,-Ce,-Pe*ut,-Ce,-Pe],[0,2*Pe-me],[0,-Pe*ut,Ce*ut,-Pe,Ce,-Pe]],S+Ce,q,[1,1],Ze,!0),this},x.__private__.ellipse=x.ellipse=function(S,q,fe,me,Ce){if(isNaN(S)||isNaN(q)||isNaN(fe)||isNaN(me)||!Wi(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*fe,Ze=4/3*(Math.SQRT2-1)*me;return ja(S+fe,q),ha(S+fe,q-Ze,S+Pe,q-me,S,q-me),ha(S-Pe,q-me,S-fe,q-Ze,S-fe,q),ha(S-fe,q+Ze,S-Pe,q+me,S,q+me),ha(S+Pe,q+me,S+fe,q+Ze,S+fe,q),vr(Ce),this},x.__private__.circle=x.circle=function(S,q,fe,me){if(isNaN(S)||isNaN(q)||isNaN(fe)||!Wi(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,fe,fe,me)},x.setFont=function(S,q,fe){return fe&&(q=Q(q,fe)),zt=fl(S,q,{disableWarning:!1}),this};var Li=x.__private__.getFont=x.getFont=function(){return Ee[fl.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var S,q,fe={};for(S in Ie)if(Ie.hasOwnProperty(S))for(q in fe[S]=[],Ie[S])Ie[S].hasOwnProperty(q)&&fe[S].push(q);return fe},x.addFont=function(S,q,fe,me,Ce){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(fe=Q(fe,me)),Ce=Ce||"Identity-H",za.call(this,S,q,fe,Ce)};var lr,Ga=r.lineWidth||.200025,Wr=x.__private__.getLineWidth=x.getLineWidth=function(){return Ga},fu=x.__private__.setLineWidth=x.setLineWidth=function(S){return Ga=S,de(V(k(S))+" w"),this};x.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(fe){return V(k(fe))}).join(" "),q=V(k(q)),de("["+S+"] "+q+" d"),this};var cs=x.__private__.getLineHeight=x.getLineHeight=function(){return et*lr};x.__private__.getLineHeight=x.getLineHeight=function(){return et*lr};var fs=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(lr=S),this},Ya=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return lr};fs(r.lineHeight);var yr=x.__private__.getHorizontalCoordinate=function(S){return k(S)},pa=x.__private__.getVerticalCoordinate=function(S){return D===R.ADVANCED?S:pt[H].mediaBox.topRightY-pt[H].mediaBox.bottomLeftY-k(S)},lc=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(S){return V(yr(S))},Wa=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(S){return V(pa(S))},Rr=r.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ni(Rr)},x.__private__.setStrokeColor=x.setDrawColor=function(S,q,fe,me){return Rr=Ei({ch1:S,ch2:q,ch3:fe,ch4:me,pdfColorType:"draw",precision:2}),de(Rr),this};var Eo=r.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ni(Eo)},x.__private__.setFillColor=x.setFillColor=function(S,q,fe,me){return Eo=Ei({ch1:S,ch2:q,ch3:fe,ch4:me,pdfColorType:"fill",precision:2}),de(Eo),this};var Lo=r.textColor||"0 g",uc=x.__private__.getTextColor=x.getTextColor=function(){return Ni(Lo)};x.__private__.setTextColor=x.setTextColor=function(S,q,fe,me){return Lo=Ei({ch1:S,ch2:q,ch3:fe,ch4:me,pdfColorType:"text",precision:3}),this};var ds=r.charSpace,cc=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(ds||0)};x.__private__.setCharSpace=x.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ds=S,this};var gl=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(S){var q=x.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gl=q,de(q+" J"),this};var hs=0;x.__private__.setLineJoin=x.setLineJoin=function(S){var q=x.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hs=q,de(q+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(V(k(S))+" M"),this},x.GState=pf,x.setGState=function(S){(S=typeof S=="string"?it[dt[S]]:du(null,S)).equals(Lt)||(de("/"+S.id+" gs"),Lt=S)};var du=function(S,q){if(!S||!dt[S]){var fe=!1;for(var me in it)if(it.hasOwnProperty(me)&&it[me].equals(q)){fe=!0;break}if(fe)q=it[me];else{var Ce="GS"+(Object.keys(it).length+1).toString(10);it[Ce]=q,q.id=Ce}return S&&(dt[S]=q.id),At.publish("addGState",q),q}};x.addGState=function(S,q){return du(S,q),this},x.saveGraphicsState=function(){return de("q"),Ue.push({key:zt,size:et,color:Lo}),this},x.restoreGraphicsState=function(){de("Q");var S=Ue.pop();return zt=S.key,et=S.size,Lo=S.color,Lt=null,this},x.setCurrentTransformationMatrix=function(S){return de(S.toString()+" cm"),this},x.comment=function(S){return de("#"+S),this};var ps=function(S,q){var fe=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=parseFloat(Pe))}});var me=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Pe){isNaN(Pe)||(me=parseFloat(Pe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Pe){Ce=Pe.toString()}}),this},vl=function(S,q,fe,me){ps.call(this,S,q),this.type="rect";var Ce=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Ze){isNaN(Ze)||(Ce=parseFloat(Ze))}});var Pe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ze){isNaN(Ze)||(Pe=parseFloat(Ze))}}),this},yl=function(){this.page=bt,this.currentPage=H,this.pages=We.slice(0),this.pagesContext=pt.slice(0),this.x=Vn,this.y=Kt,this.matrix=wi,this.width=Mo(H),this.height=Ja(H),this.outputDestination=lt,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){bt=this.page,H=this.currentPage,pt=this.pagesContext,We=this.pages,Vn=this.x,Kt=this.y,wi=this.matrix,vs(H,this.width),bl(H,this.height),lt=this.outputDestination};var ms=function(S,q,fe,me,Ce){rr.push(new yl),bt=H=0,We=[],Vn=S,Kt=q,wi=Ce,No([fe,me])},fc=function(S){if(ji[S])rr.pop().restore();else{var q=new yl,fe="Xo"+(Object.keys(Gt).length+1).toString(10);q.id=fe,ji[S]=fe,Gt[fe]=q,At.publish("addFormObject",q),rr.pop().restore()}};for(var gs in x.beginFormObject=function(S,q,fe,me,Ce){return ms(S,q,fe,me,Ce),this},x.endFormObject=function(S){return fc(S),this},x.doFormObject=function(S,q){var fe=Gt[ji[S]];return de("q"),de(q.toString()+" cm"),de("/"+fe.id+" Do"),de("Q"),this},x.getFormObject=function(S){var q=Gt[ji[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},x.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Yl(os(ca()),S),typeof Yl.unload=="function"&&Pt.setTimeout&&setTimeout(Yl.unload,911),this):new Promise(function(fe,me){try{var Ce=Yl(os(ca()),S);typeof Yl.unload=="function"&&Pt.setTimeout&&setTimeout(Yl.unload,911),fe(Ce)}catch(Pe){me(Pe.message)}})},Mt.API)Mt.API.hasOwnProperty(gs)&&(gs==="events"&&Mt.API.events.length?function(S,q){var fe,me,Ce;for(Ce=q.length-1;Ce!==-1;Ce--)fe=q[Ce][0],me=q[Ce][1],S.subscribe.apply(S,[fe].concat(typeof me=="function"?[me]:me))}(At,Mt.API.events):x[gs]=Mt.API[gs]);var Mo=x.getPageWidth=function(S){return(pt[S=S||H].mediaBox.topRightX-pt[S].mediaBox.bottomLeftX)/st},vs=x.setPageWidth=function(S,q){pt[S].mediaBox.topRightX=q*st+pt[S].mediaBox.bottomLeftX},Ja=x.getPageHeight=function(S){return(pt[S=S||H].mediaBox.topRightY-pt[S].mediaBox.bottomLeftY)/st},bl=x.setPageHeight=function(S,q){pt[S].mediaBox.topRightY=q*st+pt[S].mediaBox.bottomLeftY};return x.internal={pdfEscape:Rn,getStyle:gr,getFont:Li,getFontSize:ot,getCharSpace:cc,getTextColor:uc,getLineHeight:cs,getLineHeightFactor:Ya,getLineWidth:Wr,write:ht,getHorizontalCoordinate:yr,getVerticalCoordinate:pa,getCoordinateString:lc,getVerticalCoordinateString:Wa,collections:{},newObject:Wn,newAdditionalObject:So,newObjectDeferred:ti,newObjectDeferredBegin:ar,getFilters:Gi,putStream:_i,events:At,scaleFactor:st,pageSize:{getWidth:function(){return Mo(H)},setWidth:function(S){vs(H,S)},getHeight:function(){return Ja(H)},setHeight:function(S){bl(H,S)}},encryptionOptions:b,encryption:mi,getEncryptor:Ha,output:fa,getNumberOfPages:ou,pages:We,out:de,f2:ae,f3:O,getPageInfo:da,getPageInfoByObjId:Ut,getCurrentPageInfo:pl,getPDFVersion:L,Point:ps,Rectangle:vl,Matrix:xt,hasHotfix:ss},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Mo(H)},set:function(S){vs(H,S)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Ja(H)},set:function(S){bl(H,S)},enumerable:!0,configurable:!0}),au.call(x,Ke),zt="F1",ul(o,t),At.publish("initialized"),x}Ku.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},Ku.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ku.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Ku.prototype.processOwnerPassword=function(r,e){return Np(Tp(e).substr(0,5),r)},Ku.prototype.encryptor=function(r,e){var t=Tp(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return Np(t,i)}},pf.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Nn(r)!==Nn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Mt.API={events:[]},Mt.version="2.5.1";var ai=Mt.API,nm=1,tu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(r){return r.toFixed(2)},Ks=function(r){return r.toFixed(5)};ai.__acroform__={};var Lr=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},E0=function(r){return r*nm},mo=function(r){var e=new O2,t=mt.internal.getHeight(r)||0,i=mt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Jt(i)),Number(Jt(t))],e},ky=ai.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},Ry=ai.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},Dy=ai.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<e)==0?0:1},di=ai.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Dy(r,e-1)},hi=ai.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ky(r,e-1)},pi=ai.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ry(r,e-1)},Iy=ai.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,o=r[0],s=r[1],u=r[2],f=r[3],d={};return d.lowerLeft_X=t(o)||0,d.lowerLeft_Y=i(s+f)||0,d.upperRight_X=t(o+u)||0,d.upperRight_Y=i(s)||0,[Number(Jt(d.lowerLeft_X)),Number(Jt(d.lowerLeft_Y)),Number(Jt(d.upperRight_X)),Number(Jt(d.upperRight_Y))]},Py=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=Ep(r,t),o=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+o+" "+Jt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=mo(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},Ep=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=r.multiline?o.map(function(O){return O.split(`
`)}):o.map(function(O){return[O]});var s=t,u=mt.internal.getHeight(r)||0;u=u<0?-u:u;var f=mt.internal.getWidth(r)||0;f=f<0?-f:f;var d=function(O,k,ne){if(O+1<o.length){var te=k+" "+o[O+1][0];return md(te,r,ne).width<=f-4}return!1};s++;e:for(;s>0;){e="",s--;var p,b,w=md("3",r,s).height,C=r.multiline?u-s:(u-w)/2,x=C+=2,T=0,L=0,I=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+md(e,r,s=12).width+", FieldWidth:"+f+`
`;break}for(var E="",R=0,D=0;D<o.length;D++)if(o.hasOwnProperty(D)){var j=!1;if(o[D].length!==1&&I!==o[D].length-1){if((w+2)*(R+2)+2>u)continue e;E+=o[D][I],j=!0,L=D,D--}else{E=(E+=o[D][I]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var K=parseInt(D),Q=d(K,E,s),V=D>=o.length-1;if(Q&&!V){E+=" ",I=0;continue}if(Q||V){if(V)L=K;else if(r.multiline&&(w+2)*(R+2)+2>u)continue e}else{if(!r.multiline||(w+2)*(R+2)+2>u)continue e;L=K}}for(var z="",re=T;re<=L;re++){var ae=o[re];if(r.multiline){if(re===L){z+=ae[I]+" ",I=(I+1)%ae.length;continue}if(re===T){z+=ae[ae.length-1]+" ";continue}}z+=ae[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,b=md(z,r,s).width,r.textAlign){case"right":p=f-b-2;break;case"center":p=(f-b)/2;break;case"left":default:p=2}e+=Jt(p)+" "+Jt(x)+` Td
`,e+="("+tu(z)+`) Tj
`,e+=-Jt(p)+` 0 Td
`,x=-(s+2),b=0,T=j?L:L+1,R++,E=""}break}return i.text=e,i.fontSize=s,i},md=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:o}},Oy={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uy=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},Fy=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var i=t,o=r[t];e.internal.newObjectDeferredBegin(o.objId,!0),Nn(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete r[i]}},By=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Ua.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(Oy)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nm=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new U2,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s.objId=void 0,s.hasAnnotation&&Uy(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,o){var s=!i;for(var u in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(u)){var f=i[u],d=[],p=f.Rect;if(f.Rect&&(f.Rect=Iy(f.Rect,o)),o.internal.newObjectDeferredBegin(f.objId,!0),f.DA=mt.createDefaultAppearanceStream(f),Nn(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(d=f.getKeyValueListForStream()),f.Rect=p,f.hasAppearanceStream&&!f.appearanceStreamContent){var b=Py(f);d.push({key:"AP",value:"<</N "+b+">>"}),o.internal.acroformPlugin.xForms.push(b)}if(f.appearanceStreamContent){var w="";for(var C in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(C)){var x=f.appearanceStreamContent[C];if(w+="/"+C+" ",w+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var u in x)if(x.hasOwnProperty(u)){var T=x[u];typeof T=="function"&&(T=T.call(o,f)),w+="/"+u+" "+T+" ",o.internal.acroformPlugin.xForms.indexOf(T)>=0||o.internal.acroformPlugin.xForms.push(T)}}else typeof(T=x)=="function"&&(T=T.call(o,f)),w+="/"+u+" "+T,o.internal.acroformPlugin.xForms.indexOf(T)>=0||o.internal.acroformPlugin.xForms.push(T);w+=">>"}d.push({key:"AP",value:`<<
`+w+">>"})}o.internal.putStream({additionalKeyValues:d,objectId:f.objId}),o.internal.out("endobj")}s&&Fy(o.internal.acroformPlugin.xForms,o)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},P2=ai.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(u){return u};if(Array.isArray(r)){for(var o="[",s=0;s<r.length;s++)switch(s!==0&&(o+=" "),Nn(r[s])){case"boolean":case"number":case"object":o+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),o+="("+tu(i(r[s].toString()))+")"):o+=r[s].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},up=function(r,e,t){var i=function(o){return o};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+tu(i(r))+")"},vo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vo.prototype.toString=function(){return this.objId+" 0 R"},vo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},vo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],o=this[i];o&&(Array.isArray(o)?r.push({key:i,value:P2(o,this.objId,this.scope)}):o instanceof vo?(o.scope=this.scope,r.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&r.push({key:i,value:o}))}return r};var O2=function(){vo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Lr(O2,vo);var U2=function(){vo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+tu(t(r))+")"}},set:function(t){r=t}})};Lr(U2,vo);var Ua=function r(){vo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!di(e,3)},set:function(E){E?this.F=hi(e,3):this.F=pi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Td)return;s="FieldObject"+r.FieldNum++}var E=function(R){return R};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+tu(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/nm:p},set:function(E){p=E}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(E){b=E}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Td||this instanceof Qs))return up(w,this.objId,this.scope)},set:function(E){E=E.toString(),w=E}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Ti?C:up(C,this.objId,this.scope)},set:function(E){E=E.toString(),C=this instanceof Ti?E:E.substr(0,1)==="("?Yu(E.substr(1,E.length-2)):Yu(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?Yu(C.substr(1,C.length-1)):C},set:function(E){E=E.toString(),C=this instanceof Ti?"/"+E:E}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ti?x:up(x,this.objId,this.scope)},set:function(E){E=E.toString(),x=this instanceof Ti?E:E.substr(0,1)==="("?Yu(E.substr(1,E.length-2)):Yu(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?Yu(x.substr(1,x.length-1)):x},set:function(E){E=E.toString(),x=this instanceof Ti?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,L=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return L},set:function(E){E=!!E,L=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(E){T=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,1)},set:function(E){E?this.Ff=hi(this.Ff,1):this.Ff=pi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,2)},set:function(E){E?this.Ff=hi(this.Ff,2):this.Ff=pi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,3)},set:function(E){E?this.Ff=hi(this.Ff,3):this.Ff=pi(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');I=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(I){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};Lr(Ua,vo);var Jl=function(){Ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return P2(e,this.objId,this.scope)},set:function(t){var i,o;o=[],typeof(i=t)=="string"&&(o=function(s,u,f){f||(f=1);for(var d,p=[];d=u.exec(s);)p.push(d[f]);return p}(i,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,18)},set:function(t){t?this.Ff=hi(this.Ff,18):this.Ff=pi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=hi(this.Ff,19):this.Ff=pi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,20)},set:function(t){t?(this.Ff=hi(this.Ff,20),e.sort()):this.Ff=pi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,22)},set:function(t){t?this.Ff=hi(this.Ff,22):this.Ff=pi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,23)},set:function(t){t?this.Ff=hi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,27)},set:function(t){t?this.Ff=hi(this.Ff,27):this.Ff=pi(this.Ff,27)}}),this.hasAppearanceStream=!1};Lr(Jl,Ua);var Kl=function(){Jl.call(this),this.fontName="helvetica",this.combo=!1};Lr(Kl,Jl);var Zl=function(){Kl.call(this),this.combo=!0};Lr(Zl,Kl);var af=function(){Zl.call(this),this.edit=!0};Lr(af,Zl);var Ti=function(){Ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,15)},set:function(t){t?this.Ff=hi(this.Ff,15):this.Ff=pi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,16)},set:function(t){t?this.Ff=hi(this.Ff,16):this.Ff=pi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,17)},set:function(t){t?this.Ff=hi(this.Ff,17):this.Ff=pi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,26)},set:function(t){t?this.Ff=hi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,o=[];for(i in o.push("<<"),e)o.push("/"+i+" ("+tu(t(e[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(t){Nn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Lr(Ti,Ua);var of=function(){Ti.call(this),this.pushButton=!0};Lr(of,Ti);var $l=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Lr($l,Ti);var Td=function(){var r,e;Ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(f){return f};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,u=[];for(s in u.push("<<"),i)u.push("/"+s+" ("+tu(o(i[s]))+")");return u.push(">>"),u.join(`
`)},set:function(o){Nn(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(o){t="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lr(Td,Ua),$l.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},$l.prototype.createOption=function(r){var e=new Td;return e.Parent=this,e.optionName=r,this.Kids.push(e),qy.call(this.scope,e),e};var sf=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Lr(sf,Ti);var Qs=function(){Ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,13)},set:function(e){e?this.Ff=hi(this.Ff,13):this.Ff=pi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,21)},set:function(e){e?this.Ff=hi(this.Ff,21):this.Ff=pi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,23)},set:function(e){e?this.Ff=hi(this.Ff,23):this.Ff=pi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,24)},set:function(e){e?this.Ff=hi(this.Ff,24):this.Ff=pi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,25)},set:function(e){e?this.Ff=hi(this.Ff,25):this.Ff=pi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,26)},set:function(e){e?this.Ff=hi(this.Ff,26):this.Ff=pi(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lr(Qs,Ua);var lf=function(){Qs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!di(this.Ff,14)},set:function(r){r?this.Ff=hi(this.Ff,14):this.Ff=pi(this.Ff,14)}}),this.password=!0};Lr(lf,Qs);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),s=Ep(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Jt(s.fontSize)+" Tf "+o),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=mo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),o=[],s=mt.internal.getHeight(r),u=mt.internal.getWidth(r),f=Ep(r,r.caption);return o.push("1 g"),o.push("0 0 "+Jt(u)+" "+Jt(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Jt(u-1)+" "+Jt(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+t+" "+Jt(f.fontSize)+" Tf "+i),o.push(f.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=mt.RadioButton.Circle.YesNormal,e.D[r]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.getWidth(r)<=mt.internal.getHeight(r)?mt.internal.getWidth(r)/4:mt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var o=mt.internal.Bezier_C,s=Number((i*o).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.getWidth(r)<=mt.internal.getHeight(r)?mt.internal.getWidth(r)/4:mt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*mt.internal.Bezier_C).toFixed(5)),u=Number((i*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),t.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),t.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),t.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+u+" "+u+" "+i+" 0 "+i+" c"),t.push("-"+u+" "+i+" -"+i+" "+u+" -"+i+" 0 c"),t.push("-"+i+" -"+u+" -"+u+" -"+i+" 0 -"+i+" c"),t.push(u+" -"+i+" "+i+" -"+u+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.getWidth(r)<=mt.internal.getHeight(r)?mt.internal.getWidth(r)/4:mt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),s=Number((o*mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Ks(mt.internal.getWidth(r)/2)+" "+Ks(mt.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),t.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),t.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),t.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=mt.RadioButton.Cross.YesNormal,e.D[r]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=mo(r);e.scope=r.scope;var t=[],i=mt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Jt(mt.internal.getWidth(r)-2)+" "+Jt(mt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(i.x1.x)+" "+Jt(i.x1.y)+" m"),t.push(Jt(i.x2.x)+" "+Jt(i.x2.y)+" l"),t.push(Jt(i.x4.x)+" "+Jt(i.x4.y)+" m"),t.push(Jt(i.x3.x)+" "+Jt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=mt.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Jt(mt.internal.getWidth(r)-2)+" "+Jt(mt.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),i.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),i.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),i.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(mt.internal.getWidth(r))+" "+Jt(mt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};mt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=mt.internal.getWidth(r),t=mt.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},mt.internal.getWidth=function(r){var e=0;return Nn(r)==="object"&&(e=E0(r.Rect[2])),e},mt.internal.getHeight=function(r){var e=0;return Nn(r)==="object"&&(e=E0(r.Rect[3])),e};var qy=ai.addField=function(r){if(By(this,r),!(r instanceof Ua))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ai.AcroFormChoiceField=Jl,ai.AcroFormListBox=Kl,ai.AcroFormComboBox=Zl,ai.AcroFormEditBox=af,ai.AcroFormButton=Ti,ai.AcroFormPushButton=of,ai.AcroFormRadioButton=$l,ai.AcroFormCheckBox=sf,ai.AcroFormTextField=Qs,ai.AcroFormPasswordField=lf,ai.AcroFormAppearance=mt,ai.AcroForm={ChoiceField:Jl,ListBox:Kl,ComboBox:Zl,EditBox:af,Button:Ti,PushButton:of,RadioButton:$l,CheckBox:sf,TextField:Qs,PasswordField:lf,Appearance:mt},Mt.AcroForm={ChoiceField:Jl,ListBox:Kl,ComboBox:Zl,EditBox:af,Button:Ti,PushButton:of,RadioButton:$l,CheckBox:sf,TextField:Qs,PasswordField:lf,Appearance:mt};var zy=Mt.AcroForm;function F2(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(O,k){var ne,te,ve,F,J,ie=e;if((k=k||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(Q(O))for(J in t)for(ve=t[J],ne=0;ne<ve.length;ne+=1){for(F=!0,te=0;te<ve[ne].length;te+=1)if(ve[ne][te]!==void 0&&ve[ne][te]!==O[te]){F=!1;break}if(F===!0){ie=J;break}}else for(J in t)for(ve=t[J],ne=0;ne<ve.length;ne+=1){for(F=!0,te=0;te<ve[ne].length;te+=1)if(ve[ne][te]!==void 0&&ve[ne][te]!==O.charCodeAt(te)){F=!1;break}if(F===!0){ie=J;break}}return ie===e&&k!==e&&(ie=k),ie},o=function O(k){for(var ne=this.internal.write,te=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var F=[];if(F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Image"}),F.push({key:"Width",value:k.width}),F.push({key:"Height",value:k.height}),k.colorSpace===I.INDEXED?F.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(F.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===I.DEVICE_CMYK&&F.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),F.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&F.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var J="",ie=0,oe=k.transparency.length;ie<oe;ie++)J+=k.transparency[ie]+" "+k.transparency[ie]+" ";F.push({key:"Mask",value:"["+J+"]"})}k.sMask!==void 0&&F.push({key:"SMask",value:k.objectId+1+" 0 R"});var U=k.filter!==void 0?["/"+k.filter]:void 0;if(te({data:k.data,additionalKeyValues:F,alreadyAppliedFilters:U,objectId:k.objectId}),ne("endobj"),"sMask"in k&&k.sMask!==void 0){var ce="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,M={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:ce,data:k.sMask};"filter"in k&&(M.filter=k.filter),O.call(this,M)}if(k.colorSpace===I.INDEXED){var H=this.internal.newObject();te({data:z(new Uint8Array(k.palette)),objectId:H}),ne("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var k in O)o.call(this,O[k])},u=function(){var O,k=this.internal.collections.addImage_images,ne=this.internal.write;for(var te in k)ne("/I"+(O=k[te]).index,O.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",u))},d=function(){var O=this.internal.collections.addImage_images;return f.call(this),O},p=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(O){return typeof r["process"+O.toUpperCase()]=="function"},w=function(O){return Nn(O)==="object"&&O.nodeType===1},C=function(O,k){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var ne=""+O.getAttribute("src");if(ne.indexOf("data:image/")===0)return rf(unescape(ne).split("base64,").pop());var te=r.loadFile(ne,!0);if(te!==void 0)return te}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ve;switch(k){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return rf(O.toDataURL(ve,1).split("base64,").pop())}},x=function(O){var k=this.internal.collections.addImage_images;if(k){for(var ne in k)if(O===k[ne].alias)return k[ne]}},T=function(O,k,ne){return O||k||(O=-96,k=-96),O<0&&(O=-1*ne.width*72/O/this.internal.scaleFactor),k<0&&(k=-1*ne.height*72/k/this.internal.scaleFactor),O===0&&(O=k*ne.width/ne.height),k===0&&(k=O*ne.height/ne.width),[O,k]},L=function(O,k,ne,te,ve,F){var J=T.call(this,ne,te,ve),ie=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,U=d.call(this);if(ne=J[0],te=J[1],U[ve.index]=ve,F){F*=Math.PI/180;var ce=Math.cos(F),M=Math.sin(F),H=function(le){return le.toFixed(4)},X=[H(ce),H(M),H(-1*M),H(ce),0,0,"cm"]}this.internal.write("q"),F?(this.internal.write([1,"0","0",1,ie(O),oe(k+te),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ie(ne),"0","0",ie(te),"0","0","cm"].join(" "))):this.internal.write([ie(ne),"0","0",ie(te),ie(O),oe(k+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},I=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=r.__addimage__.sHashCode=function(O){var k,ne,te=0;if(typeof O=="string")for(ne=O.length,k=0;k<ne;k++)te=(te<<5)-te+O.charCodeAt(k),te|=0;else if(Q(O))for(ne=O.byteLength/2,k=0;k<ne;k++)te=(te<<5)-te+O[k],te|=0;return te},D=r.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var k=!0;return O.length===0&&(k=!1),O.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(k=!1),k},j=r.__addimage__.extractImageFromDataUrl=function(O){var k=(O=O||"").split("base64,"),ne=null;if(k.length===2){var te=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(k[0]);Array.isArray(te)&&(ne={mimeType:te[1],charset:te[2],data:k[1]})}return ne},K=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(O){return K()&&O instanceof ArrayBuffer};var Q=r.__addimage__.isArrayBufferView=function(O){return K()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},V=r.__addimage__.binaryStringToUint8Array=function(O){for(var k=O.length,ne=new Uint8Array(k),te=0;te<k;te++)ne[te]=O.charCodeAt(te);return ne},z=r.__addimage__.arrayBufferToBinaryString=function(O){for(var k="",ne=Q(O)?O:new Uint8Array(O),te=0;te<ne.length;te+=8192)k+=String.fromCharCode.apply(null,ne.subarray(te,te+8192));return k};r.addImage=function(){var O,k,ne,te,ve,F,J,ie,oe;if(typeof arguments[1]=="number"?(k=e,ne=arguments[1],te=arguments[2],ve=arguments[3],F=arguments[4],J=arguments[5],ie=arguments[6],oe=arguments[7]):(k=arguments[1],ne=arguments[2],te=arguments[3],ve=arguments[4],F=arguments[5],J=arguments[6],ie=arguments[7],oe=arguments[8]),Nn(O=arguments[0])==="object"&&!w(O)&&"imageData"in O){var U=O;O=U.imageData,k=U.format||k||e,ne=U.x||ne||0,te=U.y||te||0,ve=U.w||U.width||ve,F=U.h||U.height||F,J=U.alias||J,ie=U.compression||ie,oe=U.rotation||U.angle||oe}var ce=this.internal.getFilters();if(ie===void 0&&ce.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(ne)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var M=re.call(this,O,k,J,ie);return L.call(this,ne,te,ve,F,M,oe),this};var re=function(O,k,ne,te){var ve,F,J;if(typeof O=="string"&&i(O)===e){O=unescape(O);var ie=ae(O,!1);(ie!==""||(ie=r.loadFile(O,!0))!==void 0)&&(O=ie)}if(w(O)&&(O=C(O,k)),k=i(O,k),!b(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((J=ne)==null||J.length===0)&&(ne=function(oe){return typeof oe=="string"||Q(oe)?R(oe):Q(oe.data)?R(oe.data):null}(O)),(ve=x.call(this,ne))||(K()&&(O instanceof Uint8Array||k==="RGBA"||(F=O,O=V(O))),ve=this["process"+k.toUpperCase()](O,p.call(this),ne,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in r.image_compression?oe:E.NONE}(te),F)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},ae=r.__addimage__.convertBase64ToBinaryString=function(O,k){var ne;k=typeof k!="boolean"||k;var te,ve="";if(typeof O=="string"){te=(ne=j(O))!==null?ne.data:O;try{ve=rf(te)}catch(F){if(k)throw D(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+F.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ve};r.getImageProperties=function(O){var k,ne,te="";if(w(O)&&(O=C(O)),typeof O=="string"&&i(O)===e&&((te=ae(O,!1))===""&&(te=r.loadFile(O)||""),O=te),ne=i(O),!b(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(!K()||O instanceof Uint8Array||(O=V(O)),!(k=this["process"+ne.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=ne,k}})(Mt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Mt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,o,s,u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,b=!1,w=0;w<p.length&&!b;w++)switch((i=p[w]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var C=0;C<p.length;C++){i=p[C];var x=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var L=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(L.objId),R=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+u(i.bounds.x)+" "+f(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w)+" "+f(i.bounds.y)+"] ")+"/Contents ("+x(E(i.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+x(E(R))+") >>",L.content=s;var D=L.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+u(i.bounds.x+30)+" "+f(i.bounds.y+i.bounds.h)+" "+u(i.bounds.x+i.bounds.w+30)+" "+f(i.bounds.y)+"] ")+" /Parent "+D,i.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(L.objId,"0 R",I.objId,"0 R");break;case"freetext":o="/Rect ["+u(i.bounds.x)+" "+f(i.bounds.y)+" "+u(i.bounds.x+i.bounds.w)+" "+f(i.bounds.y+i.bounds.h)+"] ";var j=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+x(T(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var K=this.annotations._nameMap[i.options.name];i.options.pageNumber=K.page,i.options.top=K.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+x(T(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var Q=f(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+Q+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,o,s,u){var f=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:d(t),y:p(i),w:d(t+o),h:p(i+s)},options:u,type:"link"})},r.textWithLink=function(t,i,o,s){var u,f,d=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){f=s.maxWidth;var b=this.splitTextToSize(t,f).length;u=Math.ceil(p*b)}else f=d,u=p;return this.text(t,i,o,s),o+=.2*p,s.align==="center"&&(i-=d/2),s.align==="right"&&(i-=d),this.link(i,o-p,f,u,s),d},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Mt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(L){return e[L.charCodeAt(0)]!==void 0},u=r.__arabicParser__.isArabicLetter=function(L){return typeof L=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(L)},f=r.__arabicParser__.isArabicEndLetter=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(L){return u(L)&&o.indexOf(L.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length>=1};var p=r.__arabicParser__.arabicLetterHasFinalForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length>=3};var b=r.__arabicParser__.arabicLetterHasMedialForm=function(L){return u(L)&&s(L)&&e[L.charCodeAt(0)].length==4},w=r.__arabicParser__.resolveLigatures=function(L){var I=0,E=t,R="",D=0;for(I=0;I<L.length;I+=1)E[L.charCodeAt(I)]!==void 0?(D++,typeof(E=E[L.charCodeAt(I)])=="number"&&(R+=String.fromCharCode(E),E=t,D=0),I===L.length-1&&(E=t,R+=L.charAt(I-(D-1)),I-=D-1,D=0)):(E=t,R+=L.charAt(I-D),I-=D,D=0);return R};r.__arabicParser__.isArabicDiacritic=function(L){return L!==void 0&&i[L.charCodeAt(0)]!==void 0};var C=r.__arabicParser__.getCorrectForm=function(L,I,E){return u(L)?s(L)===!1?-1:!p(L)||!u(I)&&!u(E)||!u(E)&&f(I)||f(L)&&!u(I)||f(L)&&d(I)||f(L)&&f(I)?0:b(L)&&u(I)&&!f(I)&&u(E)&&p(E)?3:f(L)||!u(E)?1:2:-1},x=function(L){var I=0,E=0,R=0,D="",j="",K="",Q=(L=L||"").split("\\s+"),V=[];for(I=0;I<Q.length;I+=1){for(V.push(""),E=0;E<Q[I].length;E+=1)D=Q[I][E],j=Q[I][E-1],K=Q[I][E+1],u(D)?(R=C(D,j,K),V[I]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):V[I]+=D;V[I]=w(V[I])}return V.join(" ")},T=r.__arabicParser__.processArabic=r.processArabic=function(){var L,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(I)){var R=0;for(E=[],R=0;R<I.length;R+=1)Array.isArray(I[R])?E.push([x(I[R][0]),I[R][1],I[R][2]]):E.push([x(I[R])]);L=E}else L=x(I);return typeof arguments[0]=="string"?L:(arguments[0].text=L,arguments[0])};r.events.push(["preProcessText",T])}(Mt.API),Mt.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(f){t=f}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(f){i=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(f){o=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(f){s=f}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(f){u=f}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var o;if((t=t||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(L){d=L}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(L){p=L}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(L){b=L}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(L){w=L}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(L){C=L}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(L){x=L}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(L){T=L}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,p){i.call(this);var b=(p=p||{}).fontSize||this.getFontSize(),w=p.font||this.getFont(),C=p.scaleFactor||this.internal.scaleFactor,x=0,T=0,L=0,I=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var E=p.maxWidth;E>0?typeof d=="string"?d=this.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(D,j){return D.concat(I.splitTextToSize(j,E))},[])):d=Array.isArray(d)?d:[d];for(var R=0;R<d.length;R++)x<(L=this.getStringUnitWidth(d[R],{font:w})*b)&&(x=L);return x!==0&&(T=d.length),{w:x/=C,h:Math.max((T*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/C,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=r.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,C=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=w.top,x&&C&&(this.printHeaderRow(d.lineNumber,!0),d.y+=C[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-b,d.y+b,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+b,{align:"center",baseline:"top",maxWidth:d.width-b-b}):this.text(d.text,d.x+b,d.y+b,{align:"left",baseline:"top",maxWidth:d.width-b-b})),this.internal.__cell__.lastCell=d,this};r.table=function(d,p,b,w,C){if(i.call(this),!b)throw new Error("No data for PDF table.");var x,T,L,I,E=[],R=[],D=[],j={},K={},Q=[],V=[],z=(C=C||{}).autoSize||!1,re=C.printHeaders!==!1,ae=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,O=C.margins||Object.assign({width:this.getPageWidth()},e),k=typeof C.padding=="number"?C.padding:3,ne=C.headerBackgroundColor||"#c8c8c8",te=C.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=re,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=te,this.setFontSize(ae),w==null)R=E=Object.keys(b[0]),D=E.map(function(){return"left"});else if(Array.isArray(w)&&Nn(w[0])==="object")for(E=w.map(function(U){return U.name}),R=w.map(function(U){return U.prompt||U.name||""}),D=w.map(function(U){return U.align||"left"}),x=0;x<w.length;x+=1)K[w[x].name]=w[x].width*(19.049976/25.4);else Array.isArray(w)&&typeof w[0]=="string"&&(R=E=w,D=E.map(function(){return"left"}));if(z||Array.isArray(w)&&typeof w[0]=="string")for(x=0;x<E.length;x+=1){for(j[I=E[x]]=b.map(function(U){return U[I]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(R[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=j[I],this.setFont(void 0,"normal"),L=0;L<T.length;L+=1)Q.push(this.getTextDimensions(T[L],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[I]=Math.max.apply(null,Q)+k+k,Q=[]}if(re){var ve={};for(x=0;x<E.length;x+=1)ve[E[x]]={},ve[E[x]].text=R[x],ve[E[x]].align=D[x];var F=f.call(this,ve,K);V=E.map(function(U){return new s(d,p,K[U],F,ve[U].text,void 0,ve[U].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var J=w.reduce(function(U,ce){return U[ce.name]=ce.align,U},{});for(x=0;x<b.length;x+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:x,data:b[x]},this);var ie=f.call(this,b[x],K);for(L=0;L<E.length;L+=1){var oe=b[x][E[L]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:x,col:L,data:oe},this),u.call(this,new s(d,p,K[E[L]],ie,oe,x+2,J[E[L]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var f=function(d,p){var b=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(d).map(function(x){var T=d[x];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,p[x]-b-b)},this).map(function(x){return this.getLineHeightFactor()*x.length*w/C+b+b},this).reduce(function(x,T){return Math.max(x,T)},0)};r.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){b=this.internal.__cell__.tableHeaderRow[x].clone(),p&&(b.y=this.internal.__cell__.margins.top||0,C.push(b)),b.lineNumber=d;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,b),this.setTextColor(T)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}}(Mt.API);var B2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},q2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Lp=F2(q2),z2=[100,200,300,400,500,600,700,800,900],Vy=F2(z2);function Mp(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return B2[s=s||"normal"]?s:"normal"}(r.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),o=function(s){return typeof Lp[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:i,stretch:o,src:r.src||[],ref:r.ref||{name:e,style:[o,t,i].join(" ")}}}function L0(r,e,t,i){var o;for(o=t;o>=0&&o<e.length;o+=i)if(r[e[o]])return r[e[o]];for(o=t;o>=0&&o<e.length;o-=i)if(r[e[o]])return r[e[o]]}var Hy={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},M0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function k0(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function jy(r,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",o=Object.assign({},Hy,t.genericFontFamilies||{}),s=null,u=null,f=0;f<e.length;++f)if(o[(s=Mp(e[f])).family]&&(s.family=o[s.family]),r.hasOwnProperty(s.family)){u=r[s.family];break}if(!(u=u||r[i]))throw new Error("Could not find a font-family for the rule '"+k0(s)+"' and default family '"+i+"'.");if(u=function(d,p){if(p[d])return p[d];var b=Lp[d],w=b<=Lp.normal?-1:1,C=L0(p,q2,b,w);if(!C)throw new Error("Could not find a matching font-stretch value for "+d);return C}(s.stretch,u),u=function(d,p){if(p[d])return p[d];for(var b=B2[d],w=0;w<b.length;++w)if(p[b[w]])return p[b[w]];throw new Error("Could not find a matching font-style for "+d)}(s.style,u),!(u=function(d,p){if(p[d])return p[d];if(d===400&&p[500])return p[500];if(d===500&&p[400])return p[400];var b=Vy[d],w=L0(p,z2,b,d<400?-1:1);if(!w)throw new Error("Could not find a matching font-weight for value "+d);return w}(s.weight,u)))throw new Error("Failed to resolve a font for the rule '"+k0(s)+"'.");return u}function R0(r){return r.trimLeft()}function Gy(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function Yy(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var gd,D0,I0,cp=["times"];(function(r){var e,t,i,o,s,u,f,d,p,b=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new d,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new u,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new u,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,u=this.internal.Point,f=this.internal.Rectangle,d=this.internal.Matrix,p=new b}]);var w=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Oe){X=!!Oe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Oe){le=!!Oe}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Oe){isNaN(Oe)||(ue=Oe)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(Oe){isNaN(Oe)||(_e=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Oe){var de;typeof Oe=="number"?de=[Oe,Oe,Oe,Oe]:((de=new Array(4))[0]=Oe[0],de[1]=Oe.length>=2?Oe[1]:de[0],de[2]=Oe.length>=3?Oe[2]:de[0],de[3]=Oe.length>=4?Oe[3]:de[1]),p.margin=de}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Oe){xe=Oe}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Oe){pe=Oe}});var Ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ye},set:function(Oe){Ye=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Oe){Oe instanceof b&&(p=Oe)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Oe){p.path=Oe}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(Oe){We=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var de;de=C(Oe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var de=C(Oe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var rt=null;function lt(Oe,de){if(rt===null){var ht=function(Qe){var Ke=[];return Object.keys(Qe).forEach(function(et){Qe[et].forEach(function(at){var ot=null;switch(at){case"bold":ot={family:et,weight:"bold"};break;case"italic":ot={family:et,style:"italic"};break;case"bolditalic":ot={family:et,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:et}}ot!==null&&(ot.ref={name:et,style:at},Ke.push(ot))})}),Ke}(Oe.getFontList());rt=function(Qe){for(var Ke={},et=0;et<Qe.length;++et){var at=Mp(Qe[et]),ot=at.family,wt=at.stretch,Ot=at.style,jt=at.weight;Ke[ot]=Ke[ot]||{},Ke[ot][wt]=Ke[ot][wt]||{},Ke[ot][wt][Ot]=Ke[ot][wt][Ot]||{},Ke[ot][wt][Ot][jt]=at}return Ke}(ht.concat(de))}return rt}var Nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Nt},set:function(Oe){rt=null,Nt=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var de;if(this.ctx.font=Oe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var ht=de[1],Qe=(de[2],de[3]),Ke=de[4],et=(de[5],de[6]),at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(at==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var ot=function(yt){var zt,st,Vn=[],Kt=yt.trim();if(Kt==="")return cp;if(Kt in M0)return[M0[Kt]];for(;Kt!=="";){switch(st=null,zt=(Kt=R0(Kt)).charAt(0)){case'"':case"'":st=Gy(Kt.substring(1),zt);break;default:st=Yy(Kt)}if(st===null||(Vn.push(st[0]),(Kt=R0(st[1]))!==""&&Kt.charAt(0)!==","))return cp;Kt=Kt.replace(/^,/,"")}return Vn}(et);if(this.fontFaces){var wt=jy(lt(this.pdf,this.fontFaces),ot.map(function(yt){return{family:yt,stretch:"normal",weight:Qe,style:ht}}));this.pdf.setFont(wt.ref.name,wt.ref.style)}else{var Ot="";(Qe==="bold"||parseInt(Qe,10)>=700||ht==="bold")&&(Ot="bold"),ht==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var jt="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<ot.length;kt++){if(this.pdf.internal.getFont(ot[kt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){jt=ot[kt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(ot[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=ot[kt],Ot="bold";else if(this.pdf.internal.getFont(ot[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=ot[kt],Ot="normal";break}}if(jt===""){for(var $t=0;$t<ot.length;$t++)if(qt[ot[$t]]){jt=qt[ot[$t]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};w.prototype.setLineDash=function(M){this.lineDash=M},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){j.call(this,"fill",!1)},w.prototype.stroke=function(){j.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw In.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(M,H)},w.prototype.closePath=function(){var M=new u(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Nn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new u(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(M.x,M.y)},w.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw In.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},w.prototype.quadraticCurveTo=function(M,H,X,le){if(isNaN(X)||isNaN(le)||isNaN(M)||isNaN(H))throw In.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new u(X,le)),_e=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new u(ue.x,ue.y)},w.prototype.bezierCurveTo=function(M,H,X,le,ue,_e){if(isNaN(ue)||isNaN(_e)||isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le))throw In.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new u(ue,_e)),pe=this.ctx.transform.applyToPoint(new u(M,H)),Ye=this.ctx.transform.applyToPoint(new u(X,le));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:Ye.x,y2:Ye.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new u(xe.x,xe.y)},w.prototype.arc=function(M,H,X,le,ue,_e){if(isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le)||isNaN(ue))throw In.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new u(M,H));M=xe.x,H=xe.y;var pe=this.ctx.transform.applyToPoint(new u(0,X)),Ye=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(pe.x-Ye.x,2)+Math.pow(pe.y-Ye.y,2))}Math.abs(ue-le)>=2*Math.PI&&(le=0,ue=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:X,startAngle:le,endAngle:ue,counterclockwise:_e})},w.prototype.arcTo=function(M,H,X,le,ue){throw new Error("arcTo not implemented.")},w.prototype.rect=function(M,H,X,le){if(isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le))throw In.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+X,H),this.lineTo(M+X,H+le),this.lineTo(M,H+le),this.lineTo(M,H),this.lineTo(M+X,H),this.lineTo(M,H)},w.prototype.fillRect=function(M,H,X,le){if(isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le))throw In.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,X,le),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},w.prototype.strokeRect=function(M,H,X,le){if(isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le))throw In.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(M,H,X,le),this.stroke())},w.prototype.clearRect=function(M,H,X,le){if(isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le))throw In.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,X,le))},w.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},w.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(M){var H,X,le,ue;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,X=0,le=0,ue=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(_e!==null)H=parseInt(_e[1]),X=parseInt(_e[2]),le=parseInt(_e[3]),ue=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(_e[1]),X=parseInt(_e[2]),le=parseInt(_e[3]),ue=parseFloat(_e[4]);else{if(ue=1,typeof M=="string"&&M.charAt(0)!=="#"){var xe=new R2(M);M=xe.ok?xe.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,X=M.substring(2,3),X+=X,le=M.substring(3,4),le+=le):(H=M.substring(1,3),X=M.substring(3,5),le=M.substring(5,7)),H=parseInt(H,16),X=parseInt(X,16),le=parseInt(le,16)}}return{r:H,g:X,b:le,a:ue,style:M}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(M,H,X,le){if(isNaN(H)||isNaN(X)||typeof M!="string")throw In.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!x.call(this)){var ue=ie(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;k.call(this,{text:M,x:H,y:X,scale:_e,angle:ue,align:this.textAlign,maxWidth:le})}},w.prototype.strokeText=function(M,H,X,le){if(isNaN(H)||isNaN(X)||typeof M!="string")throw In.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){le=isNaN(le)?void 0:le;var ue=ie(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;k.call(this,{text:M,x:H,y:X,scale:_e,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:le})}},w.prototype.measureText=function(M){if(typeof M!="string")throw In.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,X=this.pdf.internal.scaleFactor,le=H.internal.getFontSize(),ue=H.getStringUnitWidth(M)*le/H.internal.scaleFactor,_e=function(xe){var pe=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new _e({width:ue*=Math.round(96*X/72*1e4)/1e4})},w.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw In.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new d(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.rotate=function(M){if(isNaN(M))throw In.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new d(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},w.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw In.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new d(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.transform=function(M,H,X,le,ue,_e){if(isNaN(M)||isNaN(H)||isNaN(X)||isNaN(le)||isNaN(ue)||isNaN(_e))throw In.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new d(M,H,X,le,ue,_e);this.ctx.transform=this.ctx.transform.multiply(xe)},w.prototype.setTransform=function(M,H,X,le,ue,_e){M=isNaN(M)?1:M,H=isNaN(H)?0:H,X=isNaN(X)?0:X,le=isNaN(le)?1:le,ue=isNaN(ue)?0:ue,_e=isNaN(_e)?0:_e,this.ctx.transform=new d(M,H,X,le,ue,_e)};var L=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(M,H,X,le,ue,_e,xe,pe,Ye){var We=this.pdf.getImageProperties(M),rt=1,lt=1,Nt=1,Oe=1;le!==void 0&&pe!==void 0&&(Nt=pe/le,Oe=Ye/ue,rt=We.width/le*pe/le,lt=We.height/ue*Ye/ue),_e===void 0&&(_e=H,xe=X,H=0,X=0),le!==void 0&&pe===void 0&&(pe=le,Ye=ue),le===void 0&&pe===void 0&&(pe=We.width,Ye=We.height);for(var de,ht=this.ctx.transform.decompose(),Qe=ie(ht.rotate.shx),Ke=new d,et=(Ke=(Ke=(Ke=Ke.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale)).applyToRectangle(new f(_e-H*Nt,xe-X*Oe,le*rt,ue*lt)),at=I.call(this,et),ot=[],wt=0;wt<at.length;wt+=1)ot.indexOf(at[wt])===-1&&ot.push(at[wt]);if(D(ot),this.autoPaging)for(var Ot=ot[0],jt=ot[ot.length-1],qt=Ot;qt<jt+1;qt++){this.pdf.setPage(qt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=qt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=qt===1?0:yt+(qt-2)*zt;if(this.ctx.clip_path.length!==0){var Vn=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(de,this.posX+this.margin[3],-st+$t+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=Vn}var Kt=JSON.parse(JSON.stringify(et));Kt=R([Kt],this.posX+this.margin[3],-st+$t+this.ctx.prevPageLastElemOffset)[0];var wi=(qt>Ot||qt<jt)&&L.call(this);wi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,zt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,Qe),wi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",et.x,et.y,et.w,et.h,null,null,Qe)};var I=function(M,H,X){var le=[];H=H||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":le.push(Math.floor((M.y+ue)/X)+1);break;case"arc":le.push(Math.floor((M.y+ue-M.radius)/X)+1),le.push(Math.floor((M.y+ue+M.radius)/X)+1);break;case"qct":var _e=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);le.push(Math.floor((_e.y+ue)/X)+1),le.push(Math.floor((_e.y+_e.h+ue)/X)+1);break;case"bct":var xe=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);le.push(Math.floor((xe.y+ue)/X)+1),le.push(Math.floor((xe.y+xe.h+ue)/X)+1);break;case"rect":le.push(Math.floor((M.y+ue)/X)+1),le.push(Math.floor((M.y+M.h+ue)/X)+1)}for(var pe=0;pe<le.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<le[pe];)E.call(this);return le},E=function(){var M=this.fillStyle,H=this.strokeStyle,X=this.font,le=this.lineCap,ue=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=X,this.lineCap=le,this.lineWidth=ue,this.lineJoin=_e},R=function(M,H,X){for(var le=0;le<M.length;le++)switch(M[le].type){case"bct":M[le].x2+=H,M[le].y2+=X;case"qct":M[le].x1+=H,M[le].y1+=X;case"mt":case"lt":case"arc":default:M[le].x+=H,M[le].y+=X}return M},D=function(M){return M.sort(function(H,X){return H-X})},j=function(M,H){for(var X,le,ue=this.fillStyle,_e=this.strokeStyle,xe=this.lineCap,pe=this.lineWidth,Ye=Math.abs(pe*this.ctx.transform.scaleX),We=this.lineJoin,rt=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),Nt=[],Oe=0;Oe<lt.length;Oe++)if(lt[Oe].x!==void 0)for(var de=I.call(this,lt[Oe]),ht=0;ht<de.length;ht+=1)Nt.indexOf(de[ht])===-1&&Nt.push(de[ht]);for(var Qe=0;Qe<Nt.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<Nt[Qe];)E.call(this);if(D(Nt),this.autoPaging)for(var Ke=Nt[0],et=Nt[Nt.length-1],at=Ke;at<et+1;at++){this.pdf.setPage(at),this.fillStyle=ue,this.strokeStyle=_e,this.lineCap=xe,this.lineWidth=Ye,this.lineJoin=We;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=at===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=at===1?0:Ot+(at-2)*jt;if(this.ctx.clip_path.length!==0){var kt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(X,this.posX+this.margin[3],-qt+wt+this.ctx.prevPageLastElemOffset),K.call(this,M,!0),this.path=kt}if(le=JSON.parse(JSON.stringify(rt)),this.path=R(le,this.posX+this.margin[3],-qt+wt+this.ctx.prevPageLastElemOffset),H===!1||at===0){var $t=(at>Ke||at<et)&&L.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,jt,null).clip().discardPath()),K.call(this,M,H),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=Ye,K.call(this,M,H),this.lineWidth=pe;this.path=rt},K=function(M,H){if((M!=="stroke"||H||!T.call(this))&&(M==="stroke"||H||!x.call(this))){for(var X,le,ue=[],_e=this.path,xe=0;xe<_e.length;xe++){var pe=_e[xe];switch(pe.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:pe,deltas:[],abs:[]});break;case"lt":var Ye=ue.length;if(_e[xe-1]&&!isNaN(_e[xe-1].x)&&(X=[pe.x-_e[xe-1].x,pe.y-_e[xe-1].y],Ye>0)){for(;Ye>=0;Ye--)if(ue[Ye-1].close!==!0&&ue[Ye-1].begin!==!0){ue[Ye-1].deltas.push(X),ue[Ye-1].abs.push(pe);break}}break;case"bct":X=[pe.x1-_e[xe-1].x,pe.y1-_e[xe-1].y,pe.x2-_e[xe-1].x,pe.y2-_e[xe-1].y,pe.x-_e[xe-1].x,pe.y-_e[xe-1].y],ue[ue.length-1].deltas.push(X);break;case"qct":var We=_e[xe-1].x+2/3*(pe.x1-_e[xe-1].x),rt=_e[xe-1].y+2/3*(pe.y1-_e[xe-1].y),lt=pe.x+2/3*(pe.x1-pe.x),Nt=pe.y+2/3*(pe.y1-pe.y),Oe=pe.x,de=pe.y;X=[We-_e[xe-1].x,rt-_e[xe-1].y,lt-_e[xe-1].x,Nt-_e[xe-1].y,Oe-_e[xe-1].x,de-_e[xe-1].y],ue[ue.length-1].deltas.push(X);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(pe)}}le=H?null:M==="stroke"?"stroke":"fill";for(var ht=!1,Qe=0;Qe<ue.length;Qe++)if(ue[Qe].arc)for(var Ke=ue[Qe].abs,et=0;et<Ke.length;et++){var at=Ke[et];at.type==="arc"?z.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,H,!ht):ne.call(this,at.x,at.y),ht=!0}else if(ue[Qe].close===!0)this.pdf.internal.out("h"),ht=!1;else if(ue[Qe].begin!==!0){var ot=ue[Qe].start.x,wt=ue[Qe].start.y;te.call(this,ue[Qe].deltas,ot,wt),ht=!0}le&&re.call(this,le),H&&ae.call(this)}},Q=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+H-X;case"hanging":return M+H-2*X;case"middle":return M+H/2-X;case"ideographic":return M;case"alphabetic":default:return M}},V=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,X){this.colorStops.push([H,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(M,H,X,le,ue,_e,xe,pe,Ye){for(var We=F.call(this,X,le,ue,_e),rt=0;rt<We.length;rt++){var lt=We[rt];rt===0&&(Ye?O.call(this,lt.x1+M,lt.y1+H):ne.call(this,lt.x1+M,lt.y1+H)),ve.call(this,M,H,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}pe?ae.call(this):re.call(this,xe)},re=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(M,H){this.pdf.internal.out(t(M)+" "+i(H)+" m")},k=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var X=this.pdf.getTextDimensions(M.text),le=Q.call(this,M.y),ue=V.call(this,le)-X.h,_e=this.ctx.transform.applyToPoint(new u(M.x,le)),xe=this.ctx.transform.decompose(),pe=new d;pe=(pe=(pe=pe.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ye,We,rt,lt=this.ctx.transform.applyToRectangle(new f(M.x,le,X.w,X.h)),Nt=pe.applyToRectangle(new f(M.x,ue,X.w,X.h)),Oe=I.call(this,Nt),de=[],ht=0;ht<Oe.length;ht+=1)de.indexOf(Oe[ht])===-1&&de.push(Oe[ht]);if(D(de),this.autoPaging)for(var Qe=de[0],Ke=de[de.length-1],et=Qe;et<Ke+1;et++){this.pdf.setPage(et);var at=et===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],Ot=wt-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],qt=jt-this.margin[3],kt=et===1?0:ot+(et-2)*Ot;if(this.ctx.clip_path.length!==0){var $t=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ye,this.posX+this.margin[3],-1*kt+at),K.call(this,"fill",!0),this.path=$t}var yt=R([JSON.parse(JSON.stringify(Nt))],this.posX+this.margin[3],-kt+at+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*M.scale),rt=this.lineWidth,this.lineWidth=rt*M.scale);var zt=this.autoPaging!=="text";if(zt||yt.y+yt.h<=wt){if(zt||yt.y>=at&&yt.x<=jt){var st=zt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||jt-yt.x)[0],Vn=R([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-kt+at+this.ctx.prevPageLastElemOffset)[0],Kt=zt&&(et>Qe||et<Ke)&&L.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,Ot,null).clip().discardPath()),this.pdf.text(st,Vn.x,Vn.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else yt.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-yt.y);M.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=rt)}else M.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*M.scale),rt=this.lineWidth,this.lineWidth=rt*M.scale),this.pdf.text(M.text,_e.x+this.posX,_e.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=rt)},ne=function(M,H,X,le){X=X||0,le=le||0,this.pdf.internal.out(t(M+X)+" "+i(H+le)+" l")},te=function(M,H,X){return this.pdf.lines(M,H,X,null,null)},ve=function(M,H,X,le,ue,_e,xe,pe){this.pdf.internal.out([e(o(X+M)),e(s(le+H)),e(o(ue+M)),e(s(_e+H)),e(o(xe+M)),e(s(pe+H)),"c"].join(" "))},F=function(M,H,X,le){for(var ue=2*Math.PI,_e=Math.PI/2;H>X;)H-=ue;var xe=Math.abs(X-H);xe<ue&&le&&(xe=ue-xe);for(var pe=[],Ye=le?-1:1,We=H;xe>1e-5;){var rt=We+Ye*Math.min(xe,_e);pe.push(J.call(this,M,We,rt)),xe-=Math.abs(rt-We),We=rt}return pe},J=function(M,H,X){var le=(X-H)/2,ue=M*Math.cos(le),_e=M*Math.sin(le),xe=ue,pe=-_e,Ye=xe*xe+pe*pe,We=Ye+xe*ue+pe*_e,rt=4/3*(Math.sqrt(2*Ye*We)-We)/(xe*_e-pe*ue),lt=xe-rt*pe,Nt=pe+rt*xe,Oe=lt,de=-Nt,ht=le+H,Qe=Math.cos(ht),Ke=Math.sin(ht);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:lt*Qe-Nt*Ke,y2:lt*Ke+Nt*Qe,x3:Oe*Qe-de*Ke,y3:Oe*Ke+de*Qe,x4:M*Math.cos(X),y4:M*Math.sin(X)}},ie=function(M){return 180*M/Math.PI},oe=function(M,H,X,le,ue,_e){var xe=M+.5*(X-M),pe=H+.5*(le-H),Ye=ue+.5*(X-ue),We=_e+.5*(le-_e),rt=Math.min(M,ue,xe,Ye),lt=Math.max(M,ue,xe,Ye),Nt=Math.min(H,_e,pe,We),Oe=Math.max(H,_e,pe,We);return new f(rt,Nt,lt-rt,Oe-Nt)},U=function(M,H,X,le,ue,_e,xe,pe){var Ye,We,rt,lt,Nt,Oe,de,ht,Qe,Ke,et,at,ot,wt,Ot=X-M,jt=le-H,qt=ue-X,kt=_e-le,$t=xe-ue,yt=pe-_e;for(We=0;We<41;We++)Qe=(de=(rt=M+(Ye=We/40)*Ot)+Ye*((Nt=X+Ye*qt)-rt))+Ye*(Nt+Ye*(ue+Ye*$t-Nt)-de),Ke=(ht=(lt=H+Ye*jt)+Ye*((Oe=le+Ye*kt)-lt))+Ye*(Oe+Ye*(_e+Ye*yt-Oe)-ht),We==0?(et=Qe,at=Ke,ot=Qe,wt=Ke):(et=Math.min(et,Qe),at=Math.min(at,Ke),ot=Math.max(ot,Qe),wt=Math.max(wt,Ke));return new f(Math.round(et),Math.round(at),Math.round(ot-et),Math.round(wt-at))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,X=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Mt.API),function(r){var e=function(s){var u,f,d,p,b,w,C,x,T,L;for(f=[],d=0,p=(s+=u="\0\0\0\0".slice(s.length%4||4)).length;p>d;d+=4)(b=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(w=(b=((b=((b=((b=(b-(L=b%85))/85)-(T=b%85))/85)-(x=b%85))/85)-(C=b%85))/85)%85,f.push(w+33,C+33,x+33,T+33,L+33)):f.push(122);return function(I,E){for(var R=E;R>0;R--)I.pop()}(f,u.length),String.fromCharCode.apply(String,f)+"~>"},t=function(s){var u,f,d,p,b,w=String,C="length",x=255,T="charCodeAt",L="slice",I="replace";for(s[L](-2),s=s[L](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),d=[],p=0,b=(s+=u="uuuuu"[L](s[C]%5||5))[C];b>p;p+=5)f=52200625*(s[T](p)-33)+614125*(s[T](p+1)-33)+7225*(s[T](p+2)-33)+85*(s[T](p+3)-33)+(s[T](p+4)-33),d.push(x&f>>24,x&f>>16,x&f>>8,x&f);return function(E,R){for(var D=R;D>0;D--)E.pop()}(d,u[C]),w.fromCharCode.apply(w,d)},i=function(s){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),u.test(s)===!1)return"";for(var f="",d=0;d<s.length;d+=2)f+=String.fromCharCode("0x"+(s[d]+s[d+1]));return f},o=function(s){for(var u=new Uint8Array(s.length),f=s.length;f--;)u[f]=s.charCodeAt(f);return s=(u=Ap(u)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};r.processDataByFilters=function(s,u){var f=0,d=s||"",p=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}}(Mt.API),function(r){r.loadFile=function(e,t,i){return function(o,s,u){s=s!==!1,u=typeof u=="function"?u:function(){};var f=void 0;try{f=function(d,p,b){var w=new XMLHttpRequest,C=0,x=function(T){var L=T.length,I=[],E=String.fromCharCode;for(C=0;C<L;C+=1)I.push(E(255&T.charCodeAt(C)));return I.join("")};if(w.open("GET",d,!p),w.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(w.onload=function(){w.status===200?b(x(this.responseText)):b(void 0)}),w.send(null),p&&w.status===200)return x(w.responseText)}(o,s,u)}catch{}return f}(e,t,i)},r.loadImageFile=r.loadFile}(Mt.API),function(r){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):yp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function t(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):yp(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var i=function(u){var f=Nn(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(u,f){var d=document.createElement(u);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},s=function u(f){var d=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),p=u.convert(Promise.resolve(),d);return p=(p=p.setProgress(1,u,1,[u])).set(f)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(u,f){return u.__proto__=f||s.prototype,u},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(u,f){return this.then(function(){switch(f=f||function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(t).then(function(d){return this.set({src:o("div",{innerHTML:u,dompurify:d})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},s.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function d(p,b){for(var w=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),C=p.firstChild;C;C=C.nextSibling)b!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||w.appendChild(d(C,b));return p.nodeType===1&&(p.nodeName==="CANVAS"?(w.width=p.width,w.height=p.height,w.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(w.value=p.value),w.addEventListener("load",function(){w.scrollTop=p.scrollTop,w.scrollLeft=p.scrollLeft},!0)),w}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var C=0;C<p.length;++C){var x=p[C],T=x.src.find(function(L){return L.format==="truetype"});T&&d.addFont(T.url,x.ref.name,x.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(u,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},s.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},s.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},s.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(u){if(i(u)!=="object")return this;var f=Object.keys(u||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=u[d]};switch(d){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[d]=u[d]}}},this);return this.then(function(){return this.thenList(f)})},s.prototype.get=function(u,f){return this.then(function(){var d=u in s.template.prop?this.prop[u]:this.opt[u];return f?f(d):d})},s.prototype.setMargin=function(u){return this.then(function(){switch(i(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},s.prototype.setPageSize=function(u){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(u=u||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},s.prototype.setProgress=function(u,f,d,p){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(u,f,d,p){return this.setProgress(u?this.progress.val+u:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(u,f){var d=this;return this.thenCore(u,f,function(p,b){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,p),w}).then(p,b).then(function(w){return d.updateProgress(1),w})})},s.prototype.thenCore=function(u,f,d){d=d||Promise.prototype.then,u&&(u=u.bind(this)),f&&(f=f.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),b=d.call(p,u,f);return s.convert(b,this.__proto__)},s.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},s.prototype.thenList=function(u){var f=this;return u.forEach(function(d){f=f.thenCore(d)}),f},s.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return s.convert(f,this)},s.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},s.prototype.error=function(u){return this.then(function(){throw new Error(u)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(u,f,d){if(Nn(u)==="object"){var p=u;u=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",u=(""+(u||"P")).toLowerCase();var b,w=(""+d).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var x,T=0,L=0;if(C.hasOwnProperty(w))T=C[w][1]/b,L=C[w][0]/b;else try{T=d[1],L=d[0]}catch{throw new Error("Invalid format: "+d)}if(u==="p"||u==="portrait")u="p",L>T&&(x=L,L=T,T=x);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",T>L&&(x=L,L=T,T=x)}return{width:L,height:T,unit:f,k:b,orientation:u}},r.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Mp):null;var d=new s(f);return f.worker?d:d.from(u).doCallback()}}(Mt.API),Mt.API.addJS=function(r){return I0=r,this.internal.events.subscribe("postPutResources",function(){gd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),D0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+I0+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gd!==void 0&&D0!==void 0&&this.internal.out("/Names <</JavaScript "+gd+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=t.outline.render().split(/\r\n/),s=0;s<o.length;s++){var u=o[s],f=i.exec(u);if(f!=null){var d=f[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,b=[];for(s=0;s<p;s++){var w=t.internal.newObject();b.push(w);var C=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<b.length;s++)t.internal.write("(page_"+(s+1)+")"+b[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,o,s){var u={title:o,options:s,children:[]};return i==null&&(i=this.root),i.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var u=i.children[s];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var f=this.count=this.count_r({count:0},u);if(f>0&&this.line("/Count "+f),u.options&&u.options.pageNumber){var d=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,o){for(var s=0;s<o.children.length;s++)i.count++,this.count_r(i,o.children[s]);return i.count}}])}(Mt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,o,s,u,f){var d,p=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=function(w){for(var C,x=256*w.charCodeAt(4)+w.charCodeAt(5),T=w.length,L={width:0,height:0,numcomponents:1},I=4;I<T;I+=2){if(I+=x,e.indexOf(w.charCodeAt(I+1))!==-1){C=256*w.charCodeAt(I+5)+w.charCodeAt(I+6),L={width:256*w.charCodeAt(I+7)+w.charCodeAt(I+8),height:C,numcomponents:w.charCodeAt(I+9)};break}x=256*w.charCodeAt(I+2)+w.charCodeAt(I+3)}return L}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}b={data:t,width:d.width,height:d.height,colorSpace:f,bitsPerComponent:8,filter:p,index:i,alias:o}}return b}}(Mt.API);var Wu,vd,P0,O0,U0,Wy=function(){var r,e,t;function i(s){var u,f,d,p,b,w,C,x,T,L,I,E,R,D;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(u=this.readUInt32(),T=(function(){var j,K;for(K=[],j=0;j<4;++j)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),p=this.readUInt16()||100,w.delay=1e3*b/p,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,u-=4),s=(w!=null?w.data:void 0)||this.imgData,E=0;0<=u?E<u:E>u;0<=u?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((L=d-this.transparency.indexed.length)>0)for(R=0;0<=L?R<L:R>L;0<=L?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":C=(I=this.read(u)).indexOf(0),x=String.fromCharCode.apply(String,I.slice(0,C)),this.text[x]=String.fromCharCode.apply(String,I.slice(C+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(D=this.colorType)===4||D===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var u,f;for(f=[],u=0;0<=s?u<s:u>s;0<=s?++u:--u)f.push(this.data[this.pos++]);return f},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var u=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*u),d=0,p=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function b(w,C,x,T){var L,I,E,R,D,j,K,Q,V,z,re,ae,O,k,ne,te,ve,F,J,ie,oe,U=Math.ceil((p.width-w)/x),ce=Math.ceil((p.height-C)/T),M=p.width==U&&p.height==ce;for(k=u*U,ae=M?f:new Uint8Array(k*ce),j=s.length,O=0,I=0;O<ce&&d<j;){switch(s[d++]){case 0:for(R=ve=0;ve<k;R=ve+=1)ae[I++]=s[d++];break;case 1:for(R=F=0;F<k;R=F+=1)L=s[d++],D=R<u?0:ae[I-u],ae[I++]=(L+D)%256;break;case 2:for(R=J=0;J<k;R=J+=1)L=s[d++],E=(R-R%u)/u,ne=O&&ae[(O-1)*k+E*u+R%u],ae[I++]=(ne+L)%256;break;case 3:for(R=ie=0;ie<k;R=ie+=1)L=s[d++],E=(R-R%u)/u,D=R<u?0:ae[I-u],ne=O&&ae[(O-1)*k+E*u+R%u],ae[I++]=(L+Math.floor((D+ne)/2))%256;break;case 4:for(R=oe=0;oe<k;R=oe+=1)L=s[d++],E=(R-R%u)/u,D=R<u?0:ae[I-u],O===0?ne=te=0:(ne=ae[(O-1)*k+E*u+R%u],te=E&&ae[(O-1)*k+(E-1)*u+R%u]),K=D+ne-te,Q=Math.abs(K-D),z=Math.abs(K-ne),re=Math.abs(K-te),V=Q<=z&&Q<=re?D:z<=re?ne:te,ae[I++]=(L+V)%256;break;default:throw new Error("Invalid filter algorithm: "+s[d-1])}if(!M){var H=((C+O*T)*p.width+w)*u,X=O*k;for(R=0;R<U;R+=1){for(var le=0;le<u;le+=1)f[H++]=ae[X++];H+=(x-1)*u}}O++}}return s=Ty(s),p.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),f},i.prototype.decodePalette=function(){var s,u,f,d,p,b,w,C,x;for(f=this.palette,b=this.transparency.indexed||[],p=new Uint8Array((b.length||0)+f.length),d=0,s=0,u=w=0,C=f.length;w<C;u=w+=3)p[d++]=f[u],p[d++]=f[u+1],p[d++]=f[u+2],p[d++]=(x=b[s++])!=null?x:255;return p},i.prototype.copyToImageData=function(s,u){var f,d,p,b,w,C,x,T,L,I,E;if(d=this.colors,L=null,f=this.hasAlphaChannel,this.palette.length&&(L=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),d=4,f=!0),T=(p=s.data||s).length,w=L||u,b=C=0,d===1)for(;b<T;)x=L?4*u[b/4]:C,I=w[x++],p[b++]=I,p[b++]=I,p[b++]=I,p[b++]=f?w[x++]:255,C=x;else for(;b<T;)x=L?4*u[b/4]:C,p[b++]=w[x++],p[b++]=w[x++],p[b++]=w[x++],p[b++]=f?w[x++]:255,C=x},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var o=function(){if(Object.prototype.toString.call(Pt)==="[object Window]"){try{e=Pt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return o(),r=function(s){var u;if(o()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(u=new Image).src=e.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var u,f,d,p,b,w,C,x;if(this.animation){for(x=[],f=b=0,w=(C=this.animation.frames).length;b<w;f=++b)u=C[f],d=s.createImageData(u.width,u.height),p=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(d,p),u.imageData=d,x.push(u.image=r(d));return x}},i.prototype.renderFrame=function(s,u){var f,d,p;return f=(d=this.animation.frames)[u],p=d[u-1],u===0&&s.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?s.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&s.putImageData(p.imageData,p.xOffset,p.yOffset),f.blendOp===0&&s.clearRect(f.xOffset,f.yOffset,f.width,f.height),s.drawImage(f.image,f.xOffset,f.yOffset)},i.prototype.animate=function(s){var u,f,d,p,b,w,C=this;return f=0,w=this.animation,p=w.numFrames,d=w.frames,b=w.numPlays,(u=function(){var x,T;if(x=f++%p,T=d[x],C.renderFrame(s,x),p>1&&f/p<b)return C.animation._timeout=setTimeout(u,T.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var u,f;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,u=s.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(f=u.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),u.putImageData(f,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Jy(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,o=r[e++],s=o>>7,u=1<<(7&o)+1;r[e++],r[e++];var f=null,d=null;s&&(f=e,d=u,e+=3*u);var p=!0,b=[],w=0,C=null,x=0,T=null;for(this.width=t,this.height=i;p&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,T=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var L=r[e++];w=r[e++]|r[e++]<<8,C=r[e++],(1&L)==0&&(C=null),x=L>>2&7,e++;break;case 254:for(;;){if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var I=r[e++]|r[e++]<<8,E=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,j=r[e++],K=j>>6&1,Q=1<<(7&j)+1,V=f,z=d,re=!1;j>>7&&(re=!0,V=e,z=Q,e+=3*Q);var ae=e;for(e++;;){var O;if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}b.push({x:I,y:E,width:R,height:D,has_local_palette:re,palette_offset:V,palette_size:z,data_offset:ae,data_length:e-ae,transparent_index:C,interlaced:!!K,delay:w,disposal:x});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return T},this.frameInfo=function(k){if(k<0||k>=b.length)throw new Error("Frame index out of range.");return b[k]},this.decodeAndBlitFrameBGRA=function(k,ne){var te=this.frameInfo(k),ve=te.width*te.height,F=new Uint8Array(ve);F0(r,te.data_offset,F,ve);var J=te.palette_offset,ie=te.transparent_index;ie===null&&(ie=256);var oe=te.width,U=t-oe,ce=oe,M=4*(te.y*t+te.x),H=4*((te.y+te.height)*t+te.x),X=M,le=4*U;te.interlaced===!0&&(le+=4*t*7);for(var ue=8,_e=0,xe=F.length;_e<xe;++_e){var pe=F[_e];if(ce===0&&(ce=oe,(X+=le)>=H&&(le=4*U+4*t*(ue-1),X=M+(oe+U)*(ue<<1),ue>>=1)),pe===ie)X+=4;else{var Ye=r[J+3*pe],We=r[J+3*pe+1],rt=r[J+3*pe+2];ne[X++]=rt,ne[X++]=We,ne[X++]=Ye,ne[X++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(k,ne){var te=this.frameInfo(k),ve=te.width*te.height,F=new Uint8Array(ve);F0(r,te.data_offset,F,ve);var J=te.palette_offset,ie=te.transparent_index;ie===null&&(ie=256);var oe=te.width,U=t-oe,ce=oe,M=4*(te.y*t+te.x),H=4*((te.y+te.height)*t+te.x),X=M,le=4*U;te.interlaced===!0&&(le+=4*t*7);for(var ue=8,_e=0,xe=F.length;_e<xe;++_e){var pe=F[_e];if(ce===0&&(ce=oe,(X+=le)>=H&&(le=4*U+4*t*(ue-1),X=M+(oe+U)*(ue<<1),ue>>=1)),pe===ie)X+=4;else{var Ye=r[J+3*pe],We=r[J+3*pe+1],rt=r[J+3*pe+2];ne[X++]=Ye,ne[X++]=We,ne[X++]=rt,ne[X++]=255}--ce}}}function F0(r,e,t,i){for(var o=r[e++],s=1<<o,u=s+1,f=u+1,d=o+1,p=(1<<d)-1,b=0,w=0,C=0,x=r[e++],T=new Int32Array(4096),L=null;;){for(;b<16&&x!==0;)w|=r[e++]<<b,b+=8,x===1?x=r[e++]:--x;if(b<d)break;var I=w&p;if(w>>=d,b-=d,I!==s){if(I===u)break;for(var E=I<f?I:L,R=0,D=E;D>s;)D=T[D]>>8,++R;var j=D;if(C+R+(E!==I?1:0)>i)return void In.log("Warning, gif stream longer than expected.");t[C++]=j;var K=C+=R;for(E!==I&&(t[C++]=j),D=E;R--;)D=T[D],t[--K]=255&D,D>>=8;L!==null&&f<4096&&(T[f++]=L<<8|j,f>=p+1&&d<12&&(++d,p=p<<1|1)),L=I}else f=u+1,p=(1<<(d=o+1))-1,L=null}return C!==i&&In.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fp(r){var e,t,i,o,s,u=Math.floor,f=new Array(64),d=new Array(64),p=new Array(64),b=new Array(64),w=new Array(65535),C=new Array(65535),x=new Array(64),T=new Array(64),L=[],I=0,E=7,R=new Array(64),D=new Array(64),j=new Array(64),K=new Array(256),Q=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function F(M,H){for(var X=0,le=0,ue=new Array,_e=1;_e<=16;_e++){for(var xe=1;xe<=M[_e];xe++)ue[H[le]]=[],ue[H[le]][0]=X,ue[H[le]][1]=_e,le++,X++;X*=2}return ue}function J(M){for(var H=M[0],X=M[1]-1;X>=0;)H&1<<X&&(I|=1<<E),X--,--E<0&&(I==255?(ie(255),ie(0)):ie(I),E=7,I=0)}function ie(M){L.push(M)}function oe(M){ie(M>>8&255),ie(255&M)}function U(M,H,X,le,ue){for(var _e,xe=ue[0],pe=ue[240],Ye=function(Ke,et){var at,ot,wt,Ot,jt,qt,kt,$t,yt,zt,st=0;for(yt=0;yt<8;++yt){at=Ke[st],ot=Ke[st+1],wt=Ke[st+2],Ot=Ke[st+3],jt=Ke[st+4],qt=Ke[st+5],kt=Ke[st+6];var Vn=at+($t=Ke[st+7]),Kt=at-$t,wi=ot+kt,Ee=ot-kt,Ie=wt+qt,Ue=wt-qt,Be=Ot+jt,Je=Ot-jt,it=Vn+Be,dt=Vn-Be,Lt=wi+Ie,bt=wi-Ie;Ke[st]=it+Lt,Ke[st+4]=it-Lt;var pt=.707106781*(bt+dt);Ke[st+2]=dt+pt,Ke[st+6]=dt-pt;var At=.382683433*((it=Je+Ue)-(bt=Ee+Kt)),kn=.5411961*it+At,Gt=1.306562965*bt+At,ji=.707106781*(Lt=Ue+Ee),rr=Kt+ji,xt=Kt-ji;Ke[st+5]=xt+kn,Ke[st+3]=xt-kn,Ke[st+1]=rr+Gt,Ke[st+7]=rr-Gt,st+=8}for(st=0,yt=0;yt<8;++yt){at=Ke[st],ot=Ke[st+8],wt=Ke[st+16],Ot=Ke[st+24],jt=Ke[st+32],qt=Ke[st+40],kt=Ke[st+48];var cn=at+($t=Ke[st+56]),sn=at-$t,wn=ot+kt,Wn=ot-kt,ti=wt+qt,ar=wt-qt,So=Ot+jt,or=Ot-jt,sr=cn+So,Ni=cn-So,Ei=wn+ti,Gi=wn-ti;Ke[st]=sr+Ei,Ke[st+32]=sr-Ei;var _i=.707106781*(Gi+Ni);Ke[st+16]=Ni+_i,Ke[st+48]=Ni-_i;var _n=.382683433*((sr=or+ar)-(Gi=Wn+sn)),Ba=.5411961*sr+_n,Ao=1.306562965*Gi+_n,mr=.707106781*(Ei=ar+Wn),Mr=sn+mr,rs=sn-mr;Ke[st+40]=rs+Ba,Ke[st+24]=rs-Ba,Ke[st+8]=Mr+Ao,Ke[st+56]=Mr-Ao,st++}for(yt=0;yt<64;++yt)zt=Ke[yt]*et[yt],x[yt]=zt>0?zt+.5|0:zt-.5|0;return x}(M,H),We=0;We<64;++We)T[V[We]]=Ye[We];var rt=T[0]-X;X=T[0],rt==0?J(le[0]):(J(le[C[_e=32767+rt]]),J(w[_e]));for(var lt=63;lt>0&&T[lt]==0;)lt--;if(lt==0)return J(xe),X;for(var Nt,Oe=1;Oe<=lt;){for(var de=Oe;T[Oe]==0&&Oe<=lt;)++Oe;var ht=Oe-de;if(ht>=16){Nt=ht>>4;for(var Qe=1;Qe<=Nt;++Qe)J(pe);ht&=15}_e=32767+T[Oe],J(ue[(ht<<4)+C[_e]]),J(w[_e]),Oe++}return lt!=63&&J(xe),X}function ce(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(H){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ue=u((X[le]*H+50)/100);ue=Math.min(Math.max(ue,1),255),f[V[le]]=ue}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var pe=u((_e[xe]*H+50)/100);pe=Math.min(Math.max(pe,1),255),d[V[xe]]=pe}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,rt=0;rt<8;rt++)for(var lt=0;lt<8;lt++)p[We]=1/(f[V[We]]*Ye[rt]*Ye[lt]*8),b[We]=1/(d[V[We]]*Ye[rt]*Ye[lt]*8),We++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,H){H&&ce(H),L=new Array,I=0,E=7,oe(65496),oe(65504),oe(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),oe(1),oe(1),ie(0),ie(0),function(){oe(65499),oe(132),ie(0);for(var ot=0;ot<64;ot++)ie(f[ot]);ie(1);for(var wt=0;wt<64;wt++)ie(d[wt])}(),function(ot,wt){oe(65472),oe(17),ie(8),oe(wt),oe(ot),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(M.width,M.height),function(){oe(65476),oe(418),ie(0);for(var ot=0;ot<16;ot++)ie(z[ot+1]);for(var wt=0;wt<=11;wt++)ie(re[wt]);ie(16);for(var Ot=0;Ot<16;Ot++)ie(ae[Ot+1]);for(var jt=0;jt<=161;jt++)ie(O[jt]);ie(1);for(var qt=0;qt<16;qt++)ie(k[qt+1]);for(var kt=0;kt<=11;kt++)ie(ne[kt]);ie(17);for(var $t=0;$t<16;$t++)ie(te[$t+1]);for(var yt=0;yt<=161;yt++)ie(ve[yt])}(),oe(65498),oe(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var X=0,le=0,ue=0;I=0,E=7,this.encode.displayName="_encode_";for(var _e,xe,pe,Ye,We,rt,lt,Nt,Oe,de=M.data,ht=M.width,Qe=M.height,Ke=4*ht,et=0;et<Qe;){for(_e=0;_e<Ke;){for(We=Ke*et+_e,lt=-1,Nt=0,Oe=0;Oe<64;Oe++)rt=We+(Nt=Oe>>3)*Ke+(lt=4*(7&Oe)),et+Nt>=Qe&&(rt-=Ke*(et+1+Nt-Qe)),_e+lt>=Ke&&(rt-=_e+lt-Ke+4),xe=de[rt++],pe=de[rt++],Ye=de[rt++],R[Oe]=(Q[xe]+Q[pe+256>>0]+Q[Ye+512>>0]>>16)-128,D[Oe]=(Q[xe+768>>0]+Q[pe+1024>>0]+Q[Ye+1280>>0]>>16)-128,j[Oe]=(Q[xe+1280>>0]+Q[pe+1536>>0]+Q[Ye+1792>>0]>>16)-128;X=U(R,p,X,e,i),le=U(D,b,le,t,o),ue=U(j,b,ue,t,o),_e+=32}et+=8}if(E>=0){var at=[];at[1]=E+1,at[0]=(1<<E+1)-1,J(at)}return oe(65497),new Uint8Array(L)},r=r||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)K[H]=M(H)}(),e=F(z,re),t=F(k,ne),i=F(ae,O),o=F(te,ve),function(){for(var M=1,H=2,X=1;X<=15;X++){for(var le=M;le<H;le++)C[32767+le]=X,w[32767+le]=[],w[32767+le][1]=X,w[32767+le][0]=le;for(var ue=-(H-1);ue<=-M;ue++)C[32767+ue]=X,w[32767+ue]=[],w[32767+ue][1]=X,w[32767+ue][0]=H-1+ue;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)Q[M]=19595*M,Q[M+256>>0]=38470*M,Q[M+512>>0]=7471*M+32768,Q[M+768>>0]=-11059*M,Q[M+1024>>0]=-21709*M,Q[M+1280>>0]=32768*M+8421375,Q[M+1536>>0]=-27439*M,Q[M+1792>>0]=-5329*M}(),ce(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function B0(r){function e(z){if(!z)throw Error("assert :P")}function t(z,re,ae){for(var O=0;4>O;O++)if(z[re+O]!=ae.charCodeAt(O))return!0;return!1}function i(z,re,ae,O,k){for(var ne=0;ne<k;ne++)z[re+ne]=ae[O+ne]}function o(z,re,ae,O){for(var k=0;k<O;k++)z[re+k]=ae}function s(z){return new Int32Array(z)}function u(z,re){for(var ae=[],O=0;O<z;O++)ae.push(new re);return ae}function f(z,re){var ae=[];return function O(k,ne,te){for(var ve=te[ne],F=0;F<ve&&(k.push(te.length>ne+1?[]:new re),!(te.length<ne+1));F++)O(k[F],ne+1,te)}(ae,0,z),ae}var d=function(){var z=this;function re(h,y){for(var A=1<<y-1>>>0;h&A;)A>>>=1;return A?(h&A-1)+A:h}function ae(h,y,A,N,B){e(!(N%A));do h[y+(N-=A)]=B;while(0<N)}function O(h,y,A,N,B){if(e(2328>=B),512>=B)var G=s(512);else if((G=s(B))==null)return 0;return function(W,Z,ee,se,ge,Le){var Te,Se,He=Z,De=1<<ee,ye=s(16),we=s(16);for(e(ge!=0),e(se!=null),e(W!=null),e(0<ee),Se=0;Se<ge;++Se){if(15<se[Se])return 0;++ye[se[Se]]}if(ye[0]==ge)return 0;for(we[1]=0,Te=1;15>Te;++Te){if(ye[Te]>1<<Te)return 0;we[Te+1]=we[Te]+ye[Te]}for(Se=0;Se<ge;++Se)Te=se[Se],0<se[Se]&&(Le[we[Te]++]=Se);if(we[15]==1)return(se=new k).g=0,se.value=Le[0],ae(W,He,1,De,se),De;var Fe,je=-1,ze=De-1,ct=0,tt=1,Ct=1,nt=1<<ee;for(Se=0,Te=1,ge=2;Te<=ee;++Te,ge<<=1){if(tt+=Ct<<=1,0>(Ct-=ye[Te]))return 0;for(;0<ye[Te];--ye[Te])(se=new k).g=Te,se.value=Le[Se++],ae(W,He+ct,ge,nt,se),ct=re(ct,Te)}for(Te=ee+1,ge=2;15>=Te;++Te,ge<<=1){if(tt+=Ct<<=1,0>(Ct-=ye[Te]))return 0;for(;0<ye[Te];--ye[Te]){if(se=new k,(ct&ze)!=je){for(He+=nt,Fe=1<<(je=Te)-ee;15>je&&!(0>=(Fe-=ye[je]));)++je,Fe<<=1;De+=nt=1<<(Fe=je-ee),W[Z+(je=ct&ze)].g=Fe+ee,W[Z+je].value=He-Z-je}se.g=Te-ee,se.value=Le[Se++],ae(W,He+(ct>>ee),ge,nt,se),ct=re(ct,Te)}}return tt!=2*we[15]-1?0:De}(h,y,A,N,B,G)}function k(){this.value=this.g=0}function ne(){this.value=this.g=0}function te(){this.G=u(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Mi,ne)}function ve(h,y,A,N){e(h!=null),e(y!=null),e(2147483648>N),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=y,h.pa=A,h.Jd=y,h.Yc=A+N,h.Zc=4<=N?A+N-4+1:A,_e(h)}function F(h,y){for(var A=0;0<y--;)A|=pe(h,128)<<y;return A}function J(h,y){var A=F(h,y);return xe(h)?-A:A}function ie(h,y,A,N){var B,G=0;for(e(h!=null),e(y!=null),e(4294967288>N),h.Sb=N,h.Ra=0,h.u=0,h.h=0,4<N&&(N=4),B=0;B<N;++B)G+=y[A+B]<<8*B;h.Ra=G,h.bb=N,h.oa=y,h.pa=A}function oe(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Do-8>>>0,++h.bb,h.u-=8;X(h)&&(h.h=1,h.u=0)}function U(h,y){if(e(0<=y),!h.h&&y<=Ro){var A=H(h)&Za[y];return h.u+=y,oe(h),A}return h.h=1,h.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(h){return h.Ra>>>(h.u&Do-1)>>>0}function X(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Do}function le(h,y){h.u=y,h.h=X(h)}function ue(h){h.u>=xs&&(e(h.u>=xs),oe(h))}function _e(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function xe(h){return F(h,1)}function pe(h,y){var A=h.Ca;0>h.b&&_e(h);var N=h.b,B=A*y>>>8,G=(h.I>>>N>B)+0;for(G?(A-=B,h.I-=B+1<<N>>>0):A=B+1,N=A,B=0;256<=N;)B+=8,N>>=8;return N=7^B+Ji[N],h.b-=N,h.Ca=(A<<N)-1,G}function Ye(h,y,A){h[y+0]=A>>24&255,h[y+1]=A>>16&255,h[y+2]=A>>8&255,h[y+3]=A>>0&255}function We(h,y){return h[y+0]<<0|h[y+1]<<8}function rt(h,y){return We(h,y)|h[y+2]<<16}function lt(h,y){return We(h,y)|We(h,y+2)<<16}function Nt(h,y){var A=1<<y;return e(h!=null),e(0<y),h.X=s(A),h.X==null?0:(h.Mb=32-y,h.Xa=y,1)}function Oe(h,y){e(h!=null),e(y!=null),e(h.Xa==y.Xa),i(y.X,0,h.X,0,1<<y.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function ht(h,y,A,N){e(A!=null),e(N!=null);var B=A[0],G=N[0];return B==0&&(B=(h*G+y/2)/y),G==0&&(G=(y*B+h/2)/h),0>=B||0>=G?0:(A[0]=B,N[0]=G,1)}function Qe(h,y){return h+(1<<y)-1>>>y}function Ke(h,y){return((4278255360&h)+(4278255360&y)>>>0&4278255360)+((16711935&h)+(16711935&y)>>>0&16711935)>>>0}function et(h,y){z[y]=function(A,N,B,G,W,Z,ee){var se;for(se=0;se<W;++se){var ge=z[h](Z[ee+se-1],B,G+se);Z[ee+se]=Ke(A[N+se],ge)}}}function at(){this.ud=this.hd=this.jd=0}function ot(h,y){return((4278124286&(h^y))>>>1)+(h&y)>>>0}function wt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Ot(h,y){return wt(h+(h-y+.5>>1))}function jt(h,y,A){return Math.abs(y-A)-Math.abs(h-A)}function qt(h,y,A,N,B,G,W){for(N=G[W-1],A=0;A<B;++A)G[W+A]=N=Ke(h[y+A],N)}function kt(h,y,A,N,B){var G;for(G=0;G<A;++G){var W=h[y+G],Z=W>>8&255,ee=16711935&(ee=(ee=16711935&W)+((Z<<16)+Z));N[B+G]=(4278255360&W)+ee>>>0}}function $t(h,y){y.jd=h>>0&255,y.hd=h>>8&255,y.ud=h>>16&255}function yt(h,y,A,N,B,G){var W;for(W=0;W<N;++W){var Z=y[A+W],ee=Z>>>8,se=Z,ge=255&(ge=(ge=Z>>>16)+((h.jd<<24>>24)*(ee<<24>>24)>>>5));se=255&(se=(se=se+((h.hd<<24>>24)*(ee<<24>>24)>>>5))+((h.ud<<24>>24)*(ge<<24>>24)>>>5)),B[G+W]=(4278255360&Z)+(ge<<16)+se}}function zt(h,y,A,N,B){z[y]=function(G,W,Z,ee,se,ge,Le,Te,Se){for(ee=Le;ee<Te;++ee)for(Le=0;Le<Se;++Le)se[ge++]=B(Z[N(G[W++])])},z[h]=function(G,W,Z,ee,se,ge,Le){var Te=8>>G.b,Se=G.Ea,He=G.K[0],De=G.w;if(8>Te)for(G=(1<<G.b)-1,De=(1<<Te)-1;W<Z;++W){var ye,we=0;for(ye=0;ye<Se;++ye)ye&G||(we=N(ee[se++])),ge[Le++]=B(He[we&De]),we>>=Te}else z["VP8LMapColor"+A](ee,se,He,De,ge,Le,W,Z,Se)}}function st(h,y,A,N,B){for(A=y+A;y<A;){var G=h[y++];N[B++]=G>>16&255,N[B++]=G>>8&255,N[B++]=G>>0&255}}function Vn(h,y,A,N,B){for(A=y+A;y<A;){var G=h[y++];N[B++]=G>>16&255,N[B++]=G>>8&255,N[B++]=G>>0&255,N[B++]=G>>24&255}}function Kt(h,y,A,N,B){for(A=y+A;y<A;){var G=(W=h[y++])>>16&240|W>>12&15,W=W>>0&240|W>>28&15;N[B++]=G,N[B++]=W}}function wi(h,y,A,N,B){for(A=y+A;y<A;){var G=(W=h[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;N[B++]=G,N[B++]=W}}function Ee(h,y,A,N,B){for(A=y+A;y<A;){var G=h[y++];N[B++]=G>>0&255,N[B++]=G>>8&255,N[B++]=G>>16&255}}function Ie(h,y,A,N,B,G){if(G==0)for(A=y+A;y<A;)Ye(N,((G=h[y++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else i(N,B,h,y,A)}function Ue(h,y){z[y][0]=z[h+"0"],z[y][1]=z[h+"1"],z[y][2]=z[h+"2"],z[y][3]=z[h+"3"],z[y][4]=z[h+"4"],z[y][5]=z[h+"5"],z[y][6]=z[h+"6"],z[y][7]=z[h+"7"],z[y][8]=z[h+"8"],z[y][9]=z[h+"9"],z[y][10]=z[h+"10"],z[y][11]=z[h+"11"],z[y][12]=z[h+"12"],z[y][13]=z[h+"13"],z[y][14]=z[h+"0"],z[y][15]=z[h+"0"]}function Be(h){return h==Cl||h==to||h==_a||h==As}function Je(){this.eb=[],this.size=this.A=this.fb=0}function it(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new it,this.sd=null}function Lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function At(h,y){var A=h.T,N=y.ba.f.RGBA,B=N.eb,G=N.fb+h.ka*N.A,W=yi[y.ba.S],Z=h.y,ee=h.O,se=h.f,ge=h.N,Le=h.ea,Te=h.W,Se=y.cc,He=y.dc,De=y.Mc,ye=y.Nc,we=h.ka,Fe=h.ka+h.T,je=h.U,ze=je+1>>1;for(we==0?W(Z,ee,null,null,se,ge,Le,Te,se,ge,Le,Te,B,G,null,null,je):(W(y.ec,y.fc,Z,ee,Se,He,De,ye,se,ge,Le,Te,B,G-N.A,B,G,je),++A);we+2<Fe;we+=2)Se=se,He=ge,De=Le,ye=Te,ge+=h.Rc,Te+=h.Rc,G+=2*N.A,W(Z,(ee+=2*h.fa)-h.fa,Z,ee,Se,He,De,ye,se,ge,Le,Te,B,G-N.A,B,G,je);return ee+=h.fa,h.j+Fe<h.o?(i(y.ec,y.fc,Z,ee,je),i(y.cc,y.dc,se,ge,ze),i(y.Mc,y.Nc,Le,Te,ze),A--):1&Fe||W(Z,ee,null,null,se,ge,Le,Te,se,ge,Le,Te,B,G+N.A,null,null,je),A}function kn(h,y,A){var N=h.F,B=[h.J];if(N!=null){var G=h.U,W=y.ba.S,Z=W==Fo||W==_a;y=y.ba.f.RGBA;var ee=[0],se=h.ka;ee[0]=h.T,h.Kb&&(se==0?--ee[0]:(--se,B[0]-=h.width),h.j+h.ka+h.T==h.o&&(ee[0]=h.o-h.j-se));var ge=y.eb;se=y.fb+se*y.A,h=Fi(N,B[0],h.width,G,ee,ge,se+(Z?0:3),y.A),e(A==ee),h&&Be(W)&&xa(ge,se,Z,G,ee,y.A)}return 0}function Gt(h){var y=h.ma,A=y.ba.S,N=11>A,B=A==Ss||A==Al||A==Fo||A==wa||A==12||Be(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Ka(y.Oa,h,B?11:12))return 0;if(B&&Be(A)&&Ze(),h.da)alert("todo:use_scaling");else{if(N){if(y.Ib=pt,h.Kb){if(A=h.U+1>>1,y.memory=s(h.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+h.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=At,Ze()}}else alert("todo:EmitYUV");B&&(y.Jb=kn,N&&Ce())}if(N&&!xf){for(h=0;256>h;++h)Gd[h]=89858*(h-128)+li>>ta,El[h]=-22014*(h-128)+li,pc[h]=-45773*(h-128),ui[h]=113618*(h-128)+li>>ta;for(h=ro;h<Su;++h)y=76283*(h-16)+li>>ta,Ll[h-ro]=ur(y,255),mc[h-ro]=ur(y+8>>4,15);xf=1}return 1}function ji(h){var y=h.ma,A=h.U,N=h.T;return e(!(1&h.ka)),0>=A||0>=N?0:(A=y.Ib(h,y),y.Jb!=null&&y.Jb(h,y,A),y.Dc+=A,1)}function rr(h){h.ma.memory=null}function xt(h,y,A,N){return U(h,8)!=47?0:(y[0]=U(h,14)+1,A[0]=U(h,14)+1,N[0]=U(h,1),U(h,3)!=0?0:!h.h)}function cn(h,y){if(4>h)return h+1;var A=h-2>>1;return(2+(1&h)<<A)+U(y,A)+1}function sn(h,y){return 120<y?y-120:1<=(A=((A=Aa[y-1])>>4)*h+(8-(15&A)))?A:1;var A}function wn(h,y,A){var N=H(A),B=h[y+=255&N].g-8;return 0<B&&(le(A,A.u+8),N=H(A),y+=h[y].value,y+=N&(1<<B)-1),le(A,A.u+h[y].g),h[y].value}function Wn(h,y,A){return A.g+=h.g,A.value+=h.value<<y>>>0,e(8>=A.g),h.g}function ti(h,y,A){var N=h.xc;return e((y=N==0?0:h.vc[h.md*(A>>N)+(y>>N)])<h.Wb),h.Ya[y]}function ar(h,y,A,N){var B=h.ab,G=h.c*y,W=h.C;y=W+y;var Z=A,ee=N;for(N=h.Ta,A=h.Ua;0<B--;){var se=h.gc[B],ge=W,Le=y,Te=Z,Se=ee,He=(ee=N,Z=A,se.Ea);switch(e(ge<Le),e(Le<=se.nc),se.hc){case 2:hu(Te,Se,(Le-ge)*He,ee,Z);break;case 0:var De=ge,ye=Le,we=ee,Fe=Z,je=(nt=se).Ea;De==0&&(dc(Te,Se,null,null,1,we,Fe),qt(Te,Se+1,0,0,je-1,we,Fe+1),Se+=je,Fe+=je,++De);for(var ze=1<<nt.b,ct=ze-1,tt=Qe(je,nt.b),Ct=nt.K,nt=nt.w+(De>>nt.b)*tt;De<ye;){var fn=Ct,mn=nt,en=1;for(wl(Te,Se,we,Fe-je,1,we,Fe);en<je;){var Xt=(en&~ct)+ze;Xt>je&&(Xt=je),(0,va[fn[mn++]>>8&15])(Te,Se+ +en,we,Fe+en-je,Xt-en,we,Fe+en),en=Xt}Se+=je,Fe+=je,++De&ct||(nt+=tt)}Le!=se.nc&&i(ee,Z-He,ee,Z+(Le-ge-1)*He,He);break;case 1:for(He=Te,ye=Se,je=(Te=se.Ea)-(Fe=Te&~(we=(Se=1<<se.b)-1)),De=Qe(Te,se.b),ze=se.K,se=se.w+(ge>>se.b)*De;ge<Le;){for(ct=ze,tt=se,Ct=new at,nt=ye+Fe,fn=ye+Te;ye<nt;)$t(ct[tt++],Ct),cr(Ct,He,ye,Se,ee,Z),ye+=Se,Z+=Se;ye<fn&&($t(ct[tt++],Ct),cr(Ct,He,ye,je,ee,Z),ye+=je,Z+=je),++ge&we||(se+=De)}break;case 3:if(Te==ee&&Se==Z&&0<se.b){for(ye=ee,Te=He=Z+(Le-ge)*He-(Fe=(Le-ge)*Qe(se.Ea,se.b)),Se=ee,we=Z,De=[],Fe=(je=Fe)-1;0<=Fe;--Fe)De[Fe]=Se[we+Fe];for(Fe=je-1;0<=Fe;--Fe)ye[Te+Fe]=De[Fe];Ir(se,ge,Le,ee,He,ee,Z)}else Ir(se,ge,Le,Te,Se,ee,Z)}Z=N,ee=A}ee!=A&&i(N,A,Z,ee,G)}function So(h,y){var A=h.V,N=h.Ba+h.c*h.C,B=y-h.C;if(e(y<=h.l.o),e(16>=B),0<B){var G=h.l,W=h.Ta,Z=h.Ua,ee=G.width;if(ar(h,B,A,N),B=Z=[Z],e((A=h.C)<(N=y)),e(G.v<G.va),N>G.o&&(N=G.o),A<G.j){var se=G.j-A;A=G.j,B[0]+=se*ee}if(A>=N?A=0:(B[0]+=4*G.v,G.ka=A-G.j,G.U=G.va-G.v,G.T=N-A,A=1),A){if(Z=Z[0],11>(A=h.ca).S){var ge=A.f.RGBA,Le=(N=A.S,B=G.U,G=G.T,se=ge.eb,ge.A),Te=G;for(ge=ge.fb+h.Ma*ge.A;0<Te--;){var Se=W,He=Z,De=B,ye=se,we=ge;switch(N){case Ri:br(Se,He,De,ye,we);break;case Ss:Kr(Se,He,De,ye,we);break;case Cl:Kr(Se,He,De,ye,we),xa(ye,we,0,De,1,0);break;case $r:$a(Se,He,De,ye,we);break;case Al:Ie(Se,He,De,ye,we,1);break;case to:Ie(Se,He,De,ye,we,1),xa(ye,we,0,De,1,0);break;case Fo:Ie(Se,He,De,ye,we,0);break;case _a:Ie(Se,He,De,ye,we,0),xa(ye,we,1,De,1,0);break;case wa:Zr(Se,He,De,ye,we);break;case As:Zr(Se,He,De,ye,we),Ai(ye,we,De,1,0);break;case yu:Ki(Se,He,De,ye,we);break;default:e(0)}Z+=ee,ge+=Le}h.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=A.height)}}h.C=y,e(h.C<=h.i)}function or(h){var y;if(0<h.ua)return 0;for(y=0;y<h.Wb;++y){var A=h.Ya[y].G,N=h.Ya[y].H;if(0<A[1][N[1]+0].g||0<A[2][N[2]+0].g||0<A[3][N[3]+0].g)return 0}return 1}function sr(h,y,A,N,B,G){if(h.Z!=0){var W=h.qd,Z=h.rd;for(e(Qr[h.Z]!=null);y<A;++y)Qr[h.Z](W,Z,N,B,N,B,G),W=N,Z=B,B+=G;h.qd=W,h.rd=Z}}function Ni(h,y){var A=h.l.ma,N=A.Z==0||A.Z==1?h.l.j:h.C;if(N=h.C<N?N:h.C,e(y<=h.l.o),y>N){var B=h.l.width,G=A.ca,W=A.tb+B*N,Z=h.V,ee=h.Ba+h.c*N,se=h.gc;e(h.ab==1),e(se[0].hc==3),Io(se[0],N,y,Z,ee,G,W),sr(A,N,y,G,W,B)}h.C=h.Ma=y}function Ei(h,y,A,N,B,G,W){var Z=h.$/N,ee=h.$%N,se=h.m,ge=h.s,Le=A+h.$,Te=Le;B=A+N*B;var Se=A+N*G,He=280+ge.ua,De=h.Pb?Z:16777216,ye=0<ge.ua?ge.Wa:null,we=ge.wc,Fe=Le<Se?ti(ge,ee,Z):null;e(h.C<G),e(Se<=B);var je=!1;e:for(;;){for(;je||Le<Se;){var ze=0;if(Z>=De){var ct=Le-A;e((De=h).Pb),De.wd=De.m,De.xd=ct,0<De.s.ua&&Oe(De.s.Wa,De.s.vb),De=Z+vf}if(ee&we||(Fe=ti(ge,ee,Z)),e(Fe!=null),Fe.Qb&&(y[Le]=Fe.qb,je=!0),!je)if(ue(se),Fe.jc){ze=se,ct=y;var tt=Le,Ct=Fe.pd[H(ze)&Mi-1];e(Fe.jc),256>Ct.g?(le(ze,ze.u+Ct.g),ct[tt]=Ct.value,ze=0):(le(ze,ze.u+Ct.g-256),e(256<=Ct.value),ze=Ct.value),ze==0&&(je=!0)}else ze=wn(Fe.G[0],Fe.H[0],se);if(se.h)break;if(je||256>ze){if(!je)if(Fe.nd)y[Le]=(Fe.qb|ze<<8)>>>0;else{if(ue(se),je=wn(Fe.G[1],Fe.H[1],se),ue(se),ct=wn(Fe.G[2],Fe.H[2],se),tt=wn(Fe.G[3],Fe.H[3],se),se.h)break;y[Le]=(tt<<24|je<<16|ze<<8|ct)>>>0}if(je=!1,++Le,++ee>=N&&(ee=0,++Z,W!=null&&Z<=G&&!(Z%16)&&W(h,Z),ye!=null))for(;Te<Le;)ze=y[Te++],ye.X[(506832829*ze&4294967295)>>>ye.Mb]=ze}else if(280>ze){if(ze=cn(ze-256,se),ct=wn(Fe.G[4],Fe.H[4],se),ue(se),ct=sn(N,ct=cn(ct,se)),se.h)break;if(Le-A<ct||B-Le<ze)break e;for(tt=0;tt<ze;++tt)y[Le+tt]=y[Le+tt-ct];for(Le+=ze,ee+=ze;ee>=N;)ee-=N,++Z,W!=null&&Z<=G&&!(Z%16)&&W(h,Z);if(e(Le<=B),ee&we&&(Fe=ti(ge,ee,Z)),ye!=null)for(;Te<Le;)ze=y[Te++],ye.X[(506832829*ze&4294967295)>>>ye.Mb]=ze}else{if(!(ze<He))break e;for(je=ze-280,e(ye!=null);Te<Le;)ze=y[Te++],ye.X[(506832829*ze&4294967295)>>>ye.Mb]=ze;ze=Le,e(!(je>>>(ct=ye).Xa)),y[ze]=ct.X[je],je=!0}je||e(se.h==X(se))}if(h.Pb&&se.h&&Le<B)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Oe(h.s.vb,h.s.Wa);else{if(se.h)break e;W!=null&&W(h,Z>G?G:Z),h.a=0,h.$=Le-A}return 1}return h.a=3,0}function Gi(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var y=h.Wa;y!=null&&(y.X=null),h.vb=null,e(h!=null)}function _i(){var h=new fc;return h==null?null:(h.a=0,h.xb=Cs,Ue("Predictor","VP8LPredictors"),Ue("Predictor","VP8LPredictors_C"),Ue("PredictorAdd","VP8LPredictorsAdd"),Ue("PredictorAdd","VP8LPredictorsAdd_C"),hu=kt,cr=yt,br=st,Kr=Vn,Zr=Kt,Ki=wi,$a=Ee,z.VP8LMapColor32b=Si,z.VP8LMapColor8b=pu,h)}function _n(h,y,A,N,B){var G=1,W=[h],Z=[y],ee=N.m,se=N.s,ge=null,Le=0;e:for(;;){if(A)for(;G&&U(ee,1);){var Te=W,Se=Z,He=N,De=1,ye=He.m,we=He.gc[He.ab],Fe=U(ye,2);if(He.Oc&1<<Fe)G=0;else{switch(He.Oc|=1<<Fe,we.hc=Fe,we.Ea=Te[0],we.nc=Se[0],we.K=[null],++He.ab,e(4>=He.ab),Fe){case 0:case 1:we.b=U(ye,3)+2,De=_n(Qe(we.Ea,we.b),Qe(we.nc,we.b),0,He,we.K),we.K=we.K[0];break;case 3:var je,ze=U(ye,8)+1,ct=16<ze?0:4<ze?1:2<ze?2:3;if(Te[0]=Qe(we.Ea,ct),we.b=ct,je=De=_n(ze,1,0,He,we.K)){var tt,Ct=ze,nt=we,fn=1<<(8>>nt.b),mn=s(fn);if(mn==null)je=0;else{var en=nt.K[0],Xt=nt.w;for(mn[0]=nt.K[0][0],tt=1;tt<1*Ct;++tt)mn[tt]=Ke(en[Xt+tt],mn[tt-1]);for(;tt<4*fn;++tt)mn[tt]=0;nt.K[0]=null,nt.K[0]=mn,je=1}}De=je;break;case 2:break;default:e(0)}G=De}}if(W=W[0],Z=Z[0],G&&U(ee,1)&&!(G=1<=(Le=U(ee,4))&&11>=Le)){N.a=3;break e}var xn;if(xn=G)t:{var gn,Vt,An,Et=N,It=W,ln=Z,dn=Le,bi=A,ci=Et.m,$n=Et.s,Xn=[null],ni=1,Ar=0,vn=qo[dn];n:for(;;){if(bi&&U(ci,1)){var ii=U(ci,3)+2,Or=Qe(It,ii),ao=Qe(ln,ii),Ho=Or*ao;if(!_n(Or,ao,0,Et,Xn))break n;for(Xn=Xn[0],$n.xc=ii,gn=0;gn<Ho;++gn){var oo=Xn[gn]>>8&65535;Xn[gn]=oo,oo>=ni&&(ni=oo+1)}}if(ci.h)break n;for(Vt=0;5>Vt;++Vt){var On=fr[Vt];!Vt&&0<dn&&(On+=1<<dn),Ar<On&&(Ar=On)}var Ml=u(ni*vn,k),Au=ni,qi=u(Au,te);if(qi==null)var Bn=null;else e(65536>=Au),Bn=qi;var jo=s(Ar);if(Bn==null||jo==null||Ml==null){Et.a=1;break n}var so=Ml;for(gn=An=0;gn<ni;++gn){var $i=Bn[gn],lo=$i.G,Xi=$i.H,kl=0,Ns=1,Cu=0;for(Vt=0;5>Vt;++Vt){On=fr[Vt],lo[Vt]=so,Xi[Vt]=An,!Vt&&0<dn&&(On+=1<<dn);r:{var Rl,Tu=On,Dl=Et,Es=jo,Sf=so,Af=An,Il=0,Ea=Dl.m,Wd=U(Ea,1);if(o(Es,0,0,Tu),Wd){var Cf=U(Ea,1)+1,Tf=U(Ea,1),gc=U(Ea,Tf==0?1:8);Es[gc]=1,Cf==2&&(Es[gc=U(Ea,8)]=1);var Ls=1}else{var vc=s(19),yc=U(Ea,4)+4;if(19<yc){Dl.a=3;var Pl=0;break r}for(Rl=0;Rl<yc;++Rl)vc[Sa[Rl]]=U(Ea,3);var Nu=void 0,Ms=void 0,Nf=Dl,Ef=vc,La=Tu,Ol=Es,Eu=0,Ur=Nf.m,ks=8,bc=u(128,k);i:for(;O(bc,0,7,Ef,19);){if(U(Ur,1)){var Lf=2+2*U(Ur,3);if((Nu=2+U(Ur,Lf))>La)break i}else Nu=La;for(Ms=0;Ms<La&&Nu--;){ue(Ur);var xc=bc[0+(127&H(Ur))];le(Ur,Ur.u+xc.g);var Go=xc.value;if(16>Go)Ol[Ms++]=Go,Go!=0&&(ks=Go);else{var Mf=Go==16,wc=Go-16,_c=Sr[wc],Sc=U(Ur,bu[wc])+_c;if(Ms+Sc>La)break i;for(var kf=Mf?ks:0;0<Sc--;)Ol[Ms++]=kf}}Eu=1;break i}Eu||(Nf.a=3),Ls=Eu}(Ls=Ls&&!Ea.h)&&(Il=O(Sf,Af,8,Es,Tu)),Ls&&Il!=0?Pl=Il:(Dl.a=3,Pl=0)}if(Pl==0)break n;if(Ns&&Bo[Vt]==1&&(Ns=so[An].g==0),kl+=so[An].g,An+=Pl,3>=Vt){var Yo,Lu=jo[0];for(Yo=1;Yo<On;++Yo)jo[Yo]>Lu&&(Lu=jo[Yo]);Cu+=Lu}}if($i.nd=Ns,$i.Qb=0,Ns&&($i.qb=(lo[3][Xi[3]+0].value<<24|lo[1][Xi[1]+0].value<<16|lo[2][Xi[2]+0].value)>>>0,kl==0&&256>lo[0][Xi[0]+0].value&&($i.Qb=1,$i.qb+=lo[0][Xi[0]+0].value<<8)),$i.jc=!$i.Qb&&6>Cu,$i.jc){var Ul,Ma=$i;for(Ul=0;Ul<Mi;++Ul){var na=Ul,ka=Ma.pd[na],Fl=Ma.G[0][Ma.H[0]+na];256<=Fl.value?(ka.g=Fl.g+256,ka.value=Fl.value):(ka.g=0,ka.value=0,na>>=Wn(Fl,8,ka),na>>=Wn(Ma.G[1][Ma.H[1]+na],16,ka),na>>=Wn(Ma.G[2][Ma.H[2]+na],0,ka),Wn(Ma.G[3][Ma.H[3]+na],24,ka))}}}$n.vc=Xn,$n.Wb=ni,$n.Ya=Bn,$n.yc=Ml,xn=1;break t}xn=0}if(!(G=xn)){N.a=3;break e}if(0<Le){if(se.ua=1<<Le,!Nt(se.Wa,Le)){N.a=1,G=0;break e}}else se.ua=0;var Bl=N,Ac=W,Rf=Z,Cc=Bl.s,Tc=Cc.xc;if(Bl.c=Ac,Bl.i=Rf,Cc.md=Qe(Ac,Tc),Cc.wc=Tc==0?-1:(1<<Tc)-1,A){N.xb=bf;break e}if((ge=s(W*Z))==null){N.a=1,G=0;break e}G=(G=Ei(N,ge,0,W,Z,Z,null))&&!ee.h;break e}return G?(B!=null?B[0]=ge:(e(ge==null),e(A)),N.$=0,A||Gi(se)):Gi(se),G}function Ba(h,y){var A=h.c*h.i,N=A+y+16*y;return e(h.c<=y),h.V=s(N),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+A+y,1)}function Ao(h,y){var A=h.C,N=y-A,B=h.V,G=h.Ba+h.c*A;for(e(y<=h.l.o);0<N;){var W=16<N?16:N,Z=h.l.ma,ee=h.l.width,se=ee*W,ge=Z.ca,Le=Z.tb+ee*A,Te=h.Ta,Se=h.Ua;ar(h,W,B,G),Po(Te,Se,ge,Le,se),sr(Z,A,A+W,ge,Le,ee),N-=W,B+=W*h.c,A+=W}e(A==y),h.C=h.Ma=y}function mr(){this.ub=this.yd=this.td=this.Rb=0}function Mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ol(){this.Yb=function(){var h=[];return function y(A,N,B){for(var G=B[N],W=0;W<G&&(A.push(B.length>N+1?[]:0),!(B.length<N+1));W++)y(A[W],N+1,B)}(h,0,[3,11]),h}()}function nu(){this.jb=s(3),this.Wc=f([4,8],ol),this.Xc=f([4,17],ol)}function oc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function sa(){this.ld=this.La=this.dd=this.tc=0}function Co(){this.Na=this.la=0}function kr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function To(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function iu(){this.uc=this.M=this.Nb=0,this.wa=Array(new sa),this.Y=0,this.ya=Array(new To),this.aa=0,this.l=new qa}function la(){this.y=s(16),this.f=s(8),this.ea=s(8)}function sl(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new mr,this.Kc=new Mr,this.ed=new oc,this.Qa=new rs,this.Ic=this.$c=this.Aa=0,this.D=new iu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,ce),this.ia=0,this.pb=u(4,kr),this.Pa=new nu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new la),this.Hd=0,this.rb=Array(new Co),this.sb=0,this.wa=Array(new sa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new To),this.L=this.aa=0,this.gd=f([4,2],sa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sc(){var h=new sl;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,si||(si=ru)),h}function Hn(h,y,A){return h.a==0&&(h.a=y,h.sc=A,h.cb=0),0}function Oi(h,y,A){return 3<=A&&h[y+0]==157&&h[y+1]==1&&h[y+2]==42}function ll(h,y){if(h==null)return 0;if(h.a=0,h.sc="OK",y==null)return Hn(h,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,N=y.w,B=y.ha;if(4>B)return Hn(h,7,"Truncated header.");var G=A[N+0]|A[N+1]<<8|A[N+2]<<16,W=h.Od;if(W.Rb=!(1&G),W.td=G>>1&7,W.yd=G>>4&1,W.ub=G>>5,3<W.td)return Hn(h,3,"Incorrect keyframe parameters.");if(!W.yd)return Hn(h,4,"Frame not displayable.");N+=3,B-=3;var Z=h.Kc;if(W.Rb){if(7>B)return Hn(h,7,"cannot parse picture header");if(!Oi(A,N,B))return Hn(h,3,"Bad code word");Z.c=16383&(A[N+4]<<8|A[N+3]),Z.Td=A[N+4]>>6,Z.i=16383&(A[N+6]<<8|A[N+5]),Z.Ud=A[N+6]>>6,N+=7,B-=7,h.za=Z.c+15>>4,h.Ub=Z.i+15>>4,y.width=Z.c,y.height=Z.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,o((G=h.Pa).jb,0,255,G.jb.length),e((G=h.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,o(G.Zb,0,0,G.Zb.length),o(G.Lb,0,0,G.Lb)}if(W.ub>B)return Hn(h,7,"bad partition length");ve(G=h.m,A,N,W.ub),N+=W.ub,B-=W.ub,W.Rb&&(Z.Ld=xe(G),Z.Kd=xe(G)),Z=h.Qa;var ee,se=h.Pa;if(e(G!=null),e(Z!=null),Z.Cb=xe(G),Z.Cb){if(Z.Bb=xe(G),xe(G)){for(Z.Fb=xe(G),ee=0;4>ee;++ee)Z.Zb[ee]=xe(G)?J(G,7):0;for(ee=0;4>ee;++ee)Z.Lb[ee]=xe(G)?J(G,6):0}if(Z.Bb)for(ee=0;3>ee;++ee)se.jb[ee]=xe(G)?F(G,8):255}else Z.Bb=0;if(G.Ka)return Hn(h,3,"cannot parse segment header");if((Z=h.ed).zd=xe(G),Z.Tb=F(G,6),Z.wb=F(G,3),Z.Pc=xe(G),Z.Pc&&xe(G)){for(se=0;4>se;++se)xe(G)&&(Z.vd[se]=J(G,6));for(se=0;4>se;++se)xe(G)&&(Z.od[se]=J(G,6))}if(h.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return Hn(h,3,"cannot parse filter header");var ge=B;if(B=ee=N,N=ee+ge,Z=ge,h.Xb=(1<<F(h.m,2))-1,ge<3*(se=h.Xb))A=7;else{for(ee+=3*se,Z-=3*se,ge=0;ge<se;++ge){var Le=A[B+0]|A[B+1]<<8|A[B+2]<<16;Le>Z&&(Le=Z),ve(h.Jc[+ge],A,ee,Le),ee+=Le,Z-=Le,B+=3}ve(h.Jc[+se],A,ee,Z),A=ee<N?0:5}if(A!=0)return Hn(h,A,"cannot parse partitions");for(A=F(ee=h.m,7),B=xe(ee)?J(ee,4):0,N=xe(ee)?J(ee,4):0,Z=xe(ee)?J(ee,4):0,se=xe(ee)?J(ee,4):0,ee=xe(ee)?J(ee,4):0,ge=h.Qa,Le=0;4>Le;++Le){if(ge.Cb){var Te=ge.Zb[Le];ge.Fb||(Te+=A)}else{if(0<Le){h.pb[Le]=h.pb[0];continue}Te=A}var Se=h.pb[Le];Se.Sc[0]=Tl[ur(Te+B,127)],Se.Sc[1]=Nl[ur(Te+0,127)],Se.Eb[0]=2*Tl[ur(Te+N,127)],Se.Eb[1]=101581*Nl[ur(Te+Z,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Tl[ur(Te+se,117)],Se.Qc[1]=Nl[ur(Te+ee,127)],Se.lc=Te+ee}if(!W.Rb)return Hn(h,4,"Not a key frame.");for(xe(G),W=h.Pa,A=0;4>A;++A){for(B=0;8>B;++B)for(N=0;3>N;++N)for(Z=0;11>Z;++Z)se=pe(G,zo[A][B][N][Z])?F(G,8):Xr[A][B][N][Z],W.Wc[A][B].Yb[N][Z]=se;for(B=0;17>B;++B)W.Xc[A][B]=W.Wc[A][yf[B]]}return h.kc=xe(G),h.kc&&(h.Bd=F(G,8)),h.cb=1}function ru(h,y,A,N,B,G,W){var Z=y[B].Yb[A];for(A=0;16>B;++B){if(!pe(h,Z[A+0]))return B;for(;!pe(h,Z[A+1]);)if(Z=y[++B].Yb[0],A=0,B==16)return 16;var ee=y[B+1].Yb;if(pe(h,Z[A+2])){var se=h,ge=0;if(pe(se,(Te=Z)[(Le=A)+3]))if(pe(se,Te[Le+6])){for(Z=0,Le=2*(ge=pe(se,Te[Le+8]))+(Te=pe(se,Te[Le+9+ge])),ge=0,Te=Gn[Le];Te[Z];++Z)ge+=ge+pe(se,Te[Z]);ge+=3+(8<<Le)}else pe(se,Te[Le+7])?(ge=7+2*pe(se,165),ge+=pe(se,145)):ge=5+pe(se,159);else ge=pe(se,Te[Le+4])?3+pe(se,Te[Le+5]):2;Z=ee[2]}else ge=1,Z=ee[1];ee=W+pn[B],0>(se=h).b&&_e(se);var Le,Te=se.b,Se=(Le=se.Ca>>1)-(se.I>>Te)>>31;--se.b,se.Ca+=Se,se.Ca|=1,se.I-=(Le+1&Se)<<Te,G[ee]=((ge^Se)-Se)*N[(0<B)+0]}return 16}function za(h){var y=h.rb[h.sb-1];y.la=0,y.Na=0,o(h.zc,0,0,h.zc.length),h.ja=0}function au(h,y){if(h==null)return 0;if(y==null)return Hn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!ll(h,y))return 0;if(e(h.cb),y.ac==null||y.ac(y)){y.ob&&(h.L=0);var A=Na[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=y.v-A>>4,h.zb=y.j-A>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=y.o+15+A>>4,h.Hb=y.va+15+A>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var N=h.ed;for(A=0;4>A;++A){var B;if(h.Qa.Cb){var G=h.Qa.Lb[A];h.Qa.Fb||(G+=N.Tb)}else G=N.Tb;for(B=0;1>=B;++B){var W=h.gd[A][B],Z=G;if(N.Pc&&(Z+=N.vd[0],B&&(Z+=N.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var ee=Z;0<N.wb&&(ee=4<N.wb?ee>>2:ee>>1)>9-N.wb&&(ee=9-N.wb),1>ee&&(ee=1),W.dd=ee,W.tc=2*Z+ee,W.ld=40<=Z?2:15<=Z?1:0}else W.tc=0;W.La=B}}}A=0}else Hn(h,6,"Frame setup failed"),A=h.a;if(A=A==0){if(A){h.$c=0,0<h.Aa||(h.Ic=wf);e:{A=h.Ic,N=4*(ee=h.za);var se=32*ee,ge=ee+1,Le=0<h.L?ee*(0<h.Aa?2:1):0,Te=(h.Aa==2?2:1)*ee;if((W=N+832+(B=3*(16*A+Na[h.L])/2*se)+(G=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=W)A=0;else{if(W>h.Vb){if(h.Vb=0,h.Ec=s(W),h.Fc=0,h.Ec==null){A=Hn(h,1,"no memory during frame initialization.");break e}h.Vb=W}W=h.Ec,Z=h.Fc,h.Ac=W,h.Bc=Z,Z+=N,h.Gd=u(se,la),h.Hd=0,h.rb=u(ge+1,Co),h.sb=1,h.wa=Le?u(Le,sa):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=ee),e(!0),h.oc=W,h.pc=Z,Z+=832,h.ya=u(Te,To),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=ee),h.R=16*ee,h.B=8*ee,ee=(se=Na[h.L])*h.R,se=se/2*h.B,h.sa=W,h.ta=Z+ee,h.qa=h.sa,h.ra=h.ta+16*A*h.R+se,h.Ha=h.qa,h.Ia=h.ra+8*A*h.B+se,h.$c=0,Z+=B,h.mb=G?W:null,h.nb=G?Z:null,e(Z+G<=h.Fc+h.Vb),za(h),o(h.Ac,h.Bc,0,N),A=1}}if(A){if(y.ka=0,y.y=h.sa,y.O=h.ta,y.f=h.qa,y.N=h.ra,y.ea=h.Ha,y.Vd=h.Ia,y.fa=h.R,y.Rc=h.B,y.F=null,y.J=0,!Oo){for(A=-255;255>=A;++A)mu[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)_l[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Sl[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)gu[255+A]=0>A?0:255<A?255:A;Oo=1}Ui=Va,Xa=cl,Zi=ua,ki=ou,Pr=fl,ws=ul,Qa=Eo,xr=Lo,eo=cc,ya=gl,_s=uc,wr=ds,ba=hs,En=du,Sn=Ya,jn=yr,Zn=pa,oi=lc,Bi[0]=Wi,Bi[1]=su,Bi[2]=pl,Bi[3]=uu,Bi[4]=gr,Bi[5]=Gr,Bi[6]=ls,Bi[7]=vr,Bi[8]=us,Bi[9]=ml,Ca[0]=ss,Ca[1]=hl,Ca[2]=ca,Ca[3]=os,Ca[4]=mi,Ca[5]=Ha,Ca[6]=da,dr[0]=ha,dr[1]=lu,dr[2]=cu,dr[3]=ja,dr[4]=lr,dr[5]=Li,dr[6]=Ga,A=1}else A=0}A&&(A=function(Se,He){for(Se.M=0;Se.M<Se.Va;++Se.M){var De,ye=Se.Jc[Se.M&Se.Xb],we=Se.m,Fe=Se;for(De=0;De<Fe.za;++De){var je=we,ze=Fe,ct=ze.Ac,tt=ze.Bc+4*De,Ct=ze.zc,nt=ze.ya[ze.aa+De];if(ze.Qa.Bb?nt.$b=pe(je,ze.Pa.jb[0])?2+pe(je,ze.Pa.jb[2]):pe(je,ze.Pa.jb[1]):nt.$b=0,ze.kc&&(nt.Ad=pe(je,ze.Bd)),nt.Za=!pe(je,145)+0,nt.Za){var fn=nt.Ob,mn=0;for(ze=0;4>ze;++ze){var en,Xt=Ct[0+ze];for(en=0;4>en;++en){Xt=hc[ct[tt+en]][Xt];for(var xn=no[pe(je,Xt[0])];0<xn;)xn=no[2*xn+pe(je,Xt[xn])];Xt=-xn,ct[tt+en]=Xt}i(fn,mn,ct,tt,4),mn+=4,Ct[0+ze]=Xt}}else Xt=pe(je,156)?pe(je,128)?1:3:pe(je,163)?2:0,nt.Ob[0]=Xt,o(ct,tt,Xt,4),o(Ct,0,Xt,4);nt.Dd=pe(je,142)?pe(je,114)?pe(je,183)?1:3:2:0}if(Fe.m.Ka)return Hn(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(Fe=ye,je=(we=Se).rb[we.sb-1],ct=we.rb[we.sb+we.ja],De=we.ya[we.aa+we.ja],tt=we.kc?De.Ad:0)je.la=ct.la=0,De.Za||(je.Na=ct.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var gn,Vt;if(je=ct,ct=Fe,tt=we.Pa.Xc,Ct=we.ya[we.aa+we.ja],nt=we.pb[Ct.$b],ze=Ct.ad,fn=0,mn=we.rb[we.sb-1],Xt=en=0,o(ze,fn,0,384),Ct.Za)var An=0,Et=tt[3];else{xn=s(16);var It=je.Na+mn.Na;if(It=si(ct,tt[1],It,nt.Eb,0,xn,0),je.Na=mn.Na=(0<It)+0,1<It)Ui(xn,0,ze,fn);else{var ln=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)ze[fn+xn]=ln}An=1,Et=tt[0]}var dn=15&je.la,bi=15&mn.la;for(xn=0;4>xn;++xn){var ci=1&bi;for(ln=Vt=0;4>ln;++ln)dn=dn>>1|(ci=(It=si(ct,Et,It=ci+(1&dn),nt.Sc,An,ze,fn))>An)<<7,Vt=Vt<<2|(3<It?3:1<It?2:ze[fn+0]!=0),fn+=16;dn>>=4,bi=bi>>1|ci<<7,en=(en<<8|Vt)>>>0}for(Et=dn,An=bi>>4,gn=0;4>gn;gn+=2){for(Vt=0,dn=je.la>>4+gn,bi=mn.la>>4+gn,xn=0;2>xn;++xn){for(ci=1&bi,ln=0;2>ln;++ln)It=ci+(1&dn),dn=dn>>1|(ci=0<(It=si(ct,tt[2],It,nt.Qc,0,ze,fn)))<<3,Vt=Vt<<2|(3<It?3:1<It?2:ze[fn+0]!=0),fn+=16;dn>>=2,bi=bi>>1|ci<<5}Xt|=Vt<<4*gn,Et|=dn<<4<<gn,An|=(240&bi)<<gn}je.la=Et,mn.la=An,Ct.Hc=en,Ct.Gc=Xt,Ct.ia=43690&Xt?0:nt.ia,tt=!(en|Xt)}if(0<we.L&&(we.wa[we.Y+we.ja]=we.gd[De.$b][De.Za],we.wa[we.Y+we.ja].La|=!tt),Fe.Ka)return Hn(Se,7,"Premature end-of-file encountered.")}if(za(Se),we=He,Fe=1,De=(ye=Se).D,je=0<ye.L&&ye.M>=ye.zb&&ye.M<=ye.Va,ye.Aa==0)e:{if(De.M=ye.M,De.uc=je,ga(ye,De),Fe=1,De=(Vt=ye.D).Nb,je=(Xt=Na[ye.L])*ye.R,ct=Xt/2*ye.B,xn=16*De*ye.R,ln=8*De*ye.B,tt=ye.sa,Ct=ye.ta-je+xn,nt=ye.qa,ze=ye.ra-ct+ln,fn=ye.Ha,mn=ye.Ia-ct+ln,bi=(dn=Vt.M)==0,en=dn>=ye.Va-1,ye.Aa==2&&ga(ye,Vt),Vt.uc)for(ci=(It=ye).D.M,e(It.D.uc),Vt=It.yb;Vt<It.Hb;++Vt){An=Vt,Et=ci;var $n=(Xn=(On=It).D).Nb;gn=On.R;var Xn=Xn.wa[Xn.Y+An],ni=On.sa,Ar=On.ta+16*$n*gn+16*An,vn=Xn.dd,ii=Xn.tc;if(ii!=0)if(e(3<=ii),On.L==1)0<An&&jn(ni,Ar,gn,ii+4),Xn.La&&oi(ni,Ar,gn,ii),0<Et&&Sn(ni,Ar,gn,ii+4),Xn.La&&Zn(ni,Ar,gn,ii);else{var Or=On.B,ao=On.qa,Ho=On.ra+8*$n*Or+8*An,oo=On.Ha,On=On.Ia+8*$n*Or+8*An;$n=Xn.ld,0<An&&(xr(ni,Ar,gn,ii+4,vn,$n),ya(ao,Ho,oo,On,Or,ii+4,vn,$n)),Xn.La&&(wr(ni,Ar,gn,ii,vn,$n),En(ao,Ho,oo,On,Or,ii,vn,$n)),0<Et&&(Qa(ni,Ar,gn,ii+4,vn,$n),eo(ao,Ho,oo,On,Or,ii+4,vn,$n)),Xn.La&&(_s(ni,Ar,gn,ii,vn,$n),ba(ao,Ho,oo,On,Or,ii,vn,$n))}}if(ye.ia&&alert("todo:DitherRow"),we.put!=null){if(Vt=16*dn,dn=16*(dn+1),bi?(we.y=ye.sa,we.O=ye.ta+xn,we.f=ye.qa,we.N=ye.ra+ln,we.ea=ye.Ha,we.W=ye.Ia+ln):(Vt-=Xt,we.y=tt,we.O=Ct,we.f=nt,we.N=ze,we.ea=fn,we.W=mn),en||(dn-=Xt),dn>we.o&&(dn=we.o),we.F=null,we.J=null,ye.Fa!=null&&0<ye.Fa.length&&Vt<dn&&(we.J=bl(ye,we,Vt,dn-Vt),we.F=ye.mb,we.F==null&&we.F.length==0)){Fe=Hn(ye,3,"Could not decode alpha data.");break e}Vt<we.j&&(Xt=we.j-Vt,Vt=we.j,e(!(1&Xt)),we.O+=ye.R*Xt,we.N+=ye.B*(Xt>>1),we.W+=ye.B*(Xt>>1),we.F!=null&&(we.J+=we.width*Xt)),Vt<dn&&(we.O+=we.v,we.N+=we.v>>1,we.W+=we.v>>1,we.F!=null&&(we.J+=we.v),we.ka=Vt-we.j,we.U=we.va-we.v,we.T=dn-Vt,Fe=we.put(we))}De+1!=ye.Ic||en||(i(ye.sa,ye.ta-je,tt,Ct+16*ye.R,je),i(ye.qa,ye.ra-ct,nt,ze+8*ye.B,ct),i(ye.Ha,ye.Ia-ct,fn,mn+8*ye.B,ct))}if(!Fe)return Hn(Se,6,"Output aborted.")}return 1}(h,y)),y.bc!=null&&y.bc(y),A&=1}return A?(h.cb=0,A):0}function Yi(h,y,A,N,B){B=h[y+A+32*N]+(B>>3),h[y+A+32*N]=-256&B?0>B?0:255:B}function as(h,y,A,N,B,G){Yi(h,y,0,A,N+B),Yi(h,y,1,A,N+G),Yi(h,y,2,A,N-G),Yi(h,y,3,A,N-B)}function Rn(h){return(20091*h>>16)+h}function No(h,y,A,N){var B,G=0,W=s(16);for(B=0;4>B;++B){var Z=h[y+0]+h[y+8],ee=h[y+0]-h[y+8],se=(35468*h[y+4]>>16)-Rn(h[y+12]),ge=Rn(h[y+4])+(35468*h[y+12]>>16);W[G+0]=Z+ge,W[G+1]=ee+se,W[G+2]=ee-se,W[G+3]=Z-ge,G+=4,y++}for(B=G=0;4>B;++B)Z=(h=W[G+0]+4)+W[G+8],ee=h-W[G+8],se=(35468*W[G+4]>>16)-Rn(W[G+12]),Yi(A,N,0,0,Z+(ge=Rn(W[G+4])+(35468*W[G+12]>>16))),Yi(A,N,1,0,ee+se),Yi(A,N,2,0,ee-se),Yi(A,N,3,0,Z-ge),G++,N+=32}function ul(h,y,A,N){var B=h[y+0]+4,G=35468*h[y+4]>>16,W=Rn(h[y+4]),Z=35468*h[y+1]>>16;as(A,N,0,B+W,h=Rn(h[y+1]),Z),as(A,N,1,B+G,h,Z),as(A,N,2,B-G,h,Z),as(A,N,3,B-W,h,Z)}function cl(h,y,A,N,B){No(h,y,A,N),B&&No(h,y+16,A,N+4)}function ua(h,y,A,N){Xa(h,y+0,A,N,1),Xa(h,y+32,A,N+128,1)}function ou(h,y,A,N){var B;for(h=h[y+0]+4,B=0;4>B;++B)for(y=0;4>y;++y)Yi(A,N,y,B,h)}function fl(h,y,A,N){h[y+0]&&ki(h,y+0,A,N),h[y+16]&&ki(h,y+16,A,N+4),h[y+32]&&ki(h,y+32,A,N+128),h[y+48]&&ki(h,y+48,A,N+128+4)}function Va(h,y,A,N){var B,G=s(16);for(B=0;4>B;++B){var W=h[y+0+B]+h[y+12+B],Z=h[y+4+B]+h[y+8+B],ee=h[y+4+B]-h[y+8+B],se=h[y+0+B]-h[y+12+B];G[0+B]=W+Z,G[8+B]=W-Z,G[4+B]=se+ee,G[12+B]=se-ee}for(B=0;4>B;++B)W=(h=G[0+4*B]+3)+G[3+4*B],Z=G[1+4*B]+G[2+4*B],ee=G[1+4*B]-G[2+4*B],se=h-G[3+4*B],A[N+0]=W+Z>>3,A[N+16]=se+ee>>3,A[N+32]=W-Z>>3,A[N+48]=se-ee>>3,N+=64}function dl(h,y,A){var N,B=y-32,G=vi,W=255-h[B-1];for(N=0;N<A;++N){var Z,ee=G,se=W+h[y-1];for(Z=0;Z<A;++Z)h[y+Z]=ee[se+h[B+Z]];y+=32}}function su(h,y){dl(h,y,4)}function lu(h,y){dl(h,y,8)}function hl(h,y){dl(h,y,16)}function ca(h,y){var A;for(A=0;16>A;++A)i(h,y+32*A,h,y-32,16)}function os(h,y){var A;for(A=16;0<A;--A)o(h,y,h[y-1],16),y+=32}function fa(h,y,A){var N;for(N=0;16>N;++N)o(y,A+32*N,h,16)}function ss(h,y){var A,N=16;for(A=0;16>A;++A)N+=h[y-1+32*A]+h[y+A-32];fa(N>>5,h,y)}function mi(h,y){var A,N=8;for(A=0;16>A;++A)N+=h[y-1+32*A];fa(N>>4,h,y)}function Ha(h,y){var A,N=8;for(A=0;16>A;++A)N+=h[y+A-32];fa(N>>4,h,y)}function da(h,y){fa(128,h,y)}function Ut(h,y,A){return h+2*y+A+2>>2}function pl(h,y){var A,N=y-32;for(N=new Uint8Array([Ut(h[N-1],h[N+0],h[N+1]),Ut(h[N+0],h[N+1],h[N+2]),Ut(h[N+1],h[N+2],h[N+3]),Ut(h[N+2],h[N+3],h[N+4])]),A=0;4>A;++A)i(h,y+32*A,N,0,N.length)}function uu(h,y){var A=h[y-1],N=h[y-1+32],B=h[y-1+64],G=h[y-1+96];Ye(h,y+0,16843009*Ut(h[y-1-32],A,N)),Ye(h,y+32,16843009*Ut(A,N,B)),Ye(h,y+64,16843009*Ut(N,B,G)),Ye(h,y+96,16843009*Ut(B,G,G))}function Wi(h,y){var A,N=4;for(A=0;4>A;++A)N+=h[y+A-32]+h[y-1+32*A];for(N>>=3,A=0;4>A;++A)o(h,y+32*A,N,4)}function gr(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],G=h[y-1-32],W=h[y+0-32],Z=h[y+1-32],ee=h[y+2-32],se=h[y+3-32];h[y+0+96]=Ut(N,B,h[y-1+96]),h[y+1+96]=h[y+0+64]=Ut(A,N,B),h[y+2+96]=h[y+1+64]=h[y+0+32]=Ut(G,A,N),h[y+3+96]=h[y+2+64]=h[y+1+32]=h[y+0+0]=Ut(W,G,A),h[y+3+64]=h[y+2+32]=h[y+1+0]=Ut(Z,W,G),h[y+3+32]=h[y+2+0]=Ut(ee,Z,W),h[y+3+0]=Ut(se,ee,Z)}function ls(h,y){var A=h[y+1-32],N=h[y+2-32],B=h[y+3-32],G=h[y+4-32],W=h[y+5-32],Z=h[y+6-32],ee=h[y+7-32];h[y+0+0]=Ut(h[y+0-32],A,N),h[y+1+0]=h[y+0+32]=Ut(A,N,B),h[y+2+0]=h[y+1+32]=h[y+0+64]=Ut(N,B,G),h[y+3+0]=h[y+2+32]=h[y+1+64]=h[y+0+96]=Ut(B,G,W),h[y+3+32]=h[y+2+64]=h[y+1+96]=Ut(G,W,Z),h[y+3+64]=h[y+2+96]=Ut(W,Z,ee),h[y+3+96]=Ut(Z,ee,ee)}function Gr(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],G=h[y-1-32],W=h[y+0-32],Z=h[y+1-32],ee=h[y+2-32],se=h[y+3-32];h[y+0+0]=h[y+1+64]=G+W+1>>1,h[y+1+0]=h[y+2+64]=W+Z+1>>1,h[y+2+0]=h[y+3+64]=Z+ee+1>>1,h[y+3+0]=ee+se+1>>1,h[y+0+96]=Ut(B,N,A),h[y+0+64]=Ut(N,A,G),h[y+0+32]=h[y+1+96]=Ut(A,G,W),h[y+1+32]=h[y+2+96]=Ut(G,W,Z),h[y+2+32]=h[y+3+96]=Ut(W,Z,ee),h[y+3+32]=Ut(Z,ee,se)}function vr(h,y){var A=h[y+0-32],N=h[y+1-32],B=h[y+2-32],G=h[y+3-32],W=h[y+4-32],Z=h[y+5-32],ee=h[y+6-32],se=h[y+7-32];h[y+0+0]=A+N+1>>1,h[y+1+0]=h[y+0+64]=N+B+1>>1,h[y+2+0]=h[y+1+64]=B+G+1>>1,h[y+3+0]=h[y+2+64]=G+W+1>>1,h[y+0+32]=Ut(A,N,B),h[y+1+32]=h[y+0+96]=Ut(N,B,G),h[y+2+32]=h[y+1+96]=Ut(B,G,W),h[y+3+32]=h[y+2+96]=Ut(G,W,Z),h[y+3+64]=Ut(W,Z,ee),h[y+3+96]=Ut(Z,ee,se)}function ml(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],G=h[y-1+96];h[y+0+0]=A+N+1>>1,h[y+2+0]=h[y+0+32]=N+B+1>>1,h[y+2+32]=h[y+0+64]=B+G+1>>1,h[y+1+0]=Ut(A,N,B),h[y+3+0]=h[y+1+32]=Ut(N,B,G),h[y+3+32]=h[y+1+64]=Ut(B,G,G),h[y+3+64]=h[y+2+64]=h[y+0+96]=h[y+1+96]=h[y+2+96]=h[y+3+96]=G}function us(h,y){var A=h[y-1+0],N=h[y-1+32],B=h[y-1+64],G=h[y-1+96],W=h[y-1-32],Z=h[y+0-32],ee=h[y+1-32],se=h[y+2-32];h[y+0+0]=h[y+2+32]=A+W+1>>1,h[y+0+32]=h[y+2+64]=N+A+1>>1,h[y+0+64]=h[y+2+96]=B+N+1>>1,h[y+0+96]=G+B+1>>1,h[y+3+0]=Ut(Z,ee,se),h[y+2+0]=Ut(W,Z,ee),h[y+1+0]=h[y+3+32]=Ut(A,W,Z),h[y+1+32]=h[y+3+64]=Ut(N,A,W),h[y+1+64]=h[y+3+96]=Ut(B,N,A),h[y+1+96]=Ut(G,B,N)}function cu(h,y){var A;for(A=0;8>A;++A)i(h,y+32*A,h,y-32,8)}function ja(h,y){var A;for(A=0;8>A;++A)o(h,y,h[y-1],8),y+=32}function Yr(h,y,A){var N;for(N=0;8>N;++N)o(y,A+32*N,h,8)}function ha(h,y){var A,N=8;for(A=0;8>A;++A)N+=h[y+A-32]+h[y-1+32*A];Yr(N>>4,h,y)}function Li(h,y){var A,N=4;for(A=0;8>A;++A)N+=h[y+A-32];Yr(N>>3,h,y)}function lr(h,y){var A,N=4;for(A=0;8>A;++A)N+=h[y-1+32*A];Yr(N>>3,h,y)}function Ga(h,y){Yr(128,h,y)}function Wr(h,y,A){var N=h[y-A],B=h[y+0],G=3*(B-N)+vu[1020+h[y-2*A]-h[y+A]],W=Uo[112+(G+4>>3)];h[y-A]=vi[255+N+Uo[112+(G+3>>3)]],h[y+0]=vi[255+B-W]}function fu(h,y,A,N){var B=h[y+0],G=h[y+A];return _r[255+h[y-2*A]-h[y-A]]>N||_r[255+G-B]>N}function cs(h,y,A,N){return 4*_r[255+h[y-A]-h[y+0]]+_r[255+h[y-2*A]-h[y+A]]<=N}function fs(h,y,A,N,B){var G=h[y-3*A],W=h[y-2*A],Z=h[y-A],ee=h[y+0],se=h[y+A],ge=h[y+2*A],Le=h[y+3*A];return 4*_r[255+Z-ee]+_r[255+W-se]>N?0:_r[255+h[y-4*A]-G]<=B&&_r[255+G-W]<=B&&_r[255+W-Z]<=B&&_r[255+Le-ge]<=B&&_r[255+ge-se]<=B&&_r[255+se-ee]<=B}function Ya(h,y,A,N){var B=2*N+1;for(N=0;16>N;++N)cs(h,y+N,A,B)&&Wr(h,y+N,A)}function yr(h,y,A,N){var B=2*N+1;for(N=0;16>N;++N)cs(h,y+N*A,1,B)&&Wr(h,y+N*A,1)}function pa(h,y,A,N){var B;for(B=3;0<B;--B)Ya(h,y+=4*A,A,N)}function lc(h,y,A,N){var B;for(B=3;0<B;--B)yr(h,y+=4,A,N)}function Wa(h,y,A,N,B,G,W,Z){for(G=2*G+1;0<B--;){if(fs(h,y,A,G,W))if(fu(h,y,A,Z))Wr(h,y,A);else{var ee=h,se=y,ge=A,Le=ee[se-2*ge],Te=ee[se-ge],Se=ee[se+0],He=ee[se+ge],De=ee[se+2*ge],ye=27*(Fe=vu[1020+3*(Se-Te)+vu[1020+Le-He]])+63>>7,we=18*Fe+63>>7,Fe=9*Fe+63>>7;ee[se-3*ge]=vi[255+ee[se-3*ge]+Fe],ee[se-2*ge]=vi[255+Le+we],ee[se-ge]=vi[255+Te+ye],ee[se+0]=vi[255+Se-ye],ee[se+ge]=vi[255+He-we],ee[se+2*ge]=vi[255+De-Fe]}y+=N}}function Rr(h,y,A,N,B,G,W,Z){for(G=2*G+1;0<B--;){if(fs(h,y,A,G,W))if(fu(h,y,A,Z))Wr(h,y,A);else{var ee=h,se=y,ge=A,Le=ee[se-ge],Te=ee[se+0],Se=ee[se+ge],He=Uo[112+((De=3*(Te-Le))+4>>3)],De=Uo[112+(De+3>>3)],ye=He+1>>1;ee[se-2*ge]=vi[255+ee[se-2*ge]+ye],ee[se-ge]=vi[255+Le+De],ee[se+0]=vi[255+Te-He],ee[se+ge]=vi[255+Se-ye]}y+=N}}function Eo(h,y,A,N,B,G){Wa(h,y,A,1,16,N,B,G)}function Lo(h,y,A,N,B,G){Wa(h,y,1,A,16,N,B,G)}function uc(h,y,A,N,B,G){var W;for(W=3;0<W;--W)Rr(h,y+=4*A,A,1,16,N,B,G)}function ds(h,y,A,N,B,G){var W;for(W=3;0<W;--W)Rr(h,y+=4,1,A,16,N,B,G)}function cc(h,y,A,N,B,G,W,Z){Wa(h,y,B,1,8,G,W,Z),Wa(A,N,B,1,8,G,W,Z)}function gl(h,y,A,N,B,G,W,Z){Wa(h,y,1,B,8,G,W,Z),Wa(A,N,1,B,8,G,W,Z)}function hs(h,y,A,N,B,G,W,Z){Rr(h,y+4*B,B,1,8,G,W,Z),Rr(A,N+4*B,B,1,8,G,W,Z)}function du(h,y,A,N,B,G,W,Z){Rr(h,y+4,1,B,8,G,W,Z),Rr(A,N+4,1,B,8,G,W,Z)}function ps(){this.ba=new dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ms(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new k}function fc(){this.xb=this.a=0,this.l=new qa,this.ca=new dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ms,this.ab=0,this.gc=u(4,yl),this.Oc=0}function gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Mo(h,y,A,N,B,G,W){for(h=h==null?0:h[y+0],y=0;y<W;++y)B[G+y]=h+A[N+y]&255,h=B[G+y]}function vs(h,y,A,N,B,G,W){var Z;if(h==null)Mo(null,null,A,N,B,G,W);else for(Z=0;Z<W;++Z)B[G+Z]=h[y+Z]+A[N+Z]&255}function Ja(h,y,A,N,B,G,W){if(h==null)Mo(null,null,A,N,B,G,W);else{var Z,ee=h[y+0],se=ee,ge=ee;for(Z=0;Z<W;++Z)se=ge+(ee=h[y+Z])-se,ge=A[N+Z]+(-256&se?0>se?0:255:se)&255,se=ee,B[G+Z]=ge}}function bl(h,y,A,N){var B=y.width,G=y.o;if(e(h!=null&&y!=null),0>A||0>=N||A+N>G)return null;if(!h.Cc){if(h.ga==null){var W;if(h.ga=new gs,(W=h.ga==null)||(W=y.width*y.o,e(h.Gb.length==0),h.Gb=s(W),h.Uc=0,h.Gb==null?W=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,W=1),W=!W),!W){W=h.ga;var Z=h.Fa,ee=h.P,se=h.qc,ge=h.mb,Le=h.nb,Te=ee+1,Se=se-1,He=W.l;if(e(Z!=null&&ge!=null&&y!=null),Qr[0]=null,Qr[1]=Mo,Qr[2]=vs,Qr[3]=Ja,W.ca=ge,W.tb=Le,W.c=y.width,W.i=y.height,e(0<W.c&&0<W.i),1>=se)y=0;else if(W.$a=Z[ee+0]>>0&3,W.Z=Z[ee+0]>>2&3,W.Lc=Z[ee+0]>>4&3,ee=Z[ee+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ee)y=0;else if(He.put=ji,He.ac=Gt,He.bc=rr,He.ma=W,He.width=y.width,He.height=y.height,He.Da=y.Da,He.v=y.v,He.va=y.va,He.j=y.j,He.o=y.o,W.$a)e:{e(W.$a==1),y=_i();t:for(;;){if(y==null){y=0;break e}if(e(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,ie(y.m,Z,Te,Se),!_n(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&or(y.s)?(W.ic=1,Z=y.c*y.i,y.Ta=null,y.Ua=0,y.V=s(Z),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=Ba(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=Se>=W.c*W.i;W=!y}if(W)return null;h.ga.Lc!=1?h.Ga=0:N=G-A}e(h.ga!=null),e(A+N<=G);e:{if(y=(Z=h.ga).c,G=Z.l.o,Z.$a==0){if(Te=h.rc,Se=h.Vc,He=h.Fa,ee=h.P+1+A*y,se=h.mb,ge=h.nb+A*y,e(ee<=h.P+h.qc),Z.Z!=0)for(e(Qr[Z.Z]!=null),W=0;W<N;++W)Qr[Z.Z](Te,Se,He,ee,se,ge,y),Te=se,Se=ge,ge+=y,ee+=y;else for(W=0;W<N;++W)i(se,ge,He,ee,y),Te=se,Se=ge,ge+=y,ee+=y;h.rc=Te,h.Vc=Se}else{if(e(Z.mc!=null),y=A+N,e((W=Z.mc)!=null),e(y<=W.i),W.C>=y)y=1;else if(Z.ic||Ce(),Z.ic){Z=W.V,Te=W.Ba,Se=W.c;var De=W.i,ye=(He=1,ee=W.$/Se,se=W.$%Se,ge=W.m,Le=W.s,W.$),we=Se*De,Fe=Se*y,je=Le.wc,ze=ye<Fe?ti(Le,se,ee):null;e(ye<=we),e(y<=De),e(or(Le));t:for(;;){for(;!ge.h&&ye<Fe;){if(se&je||(ze=ti(Le,se,ee)),e(ze!=null),ue(ge),256>(De=wn(ze.G[0],ze.H[0],ge)))Z[Te+ye]=De,++ye,++se>=Se&&(se=0,++ee<=y&&!(ee%16)&&Ni(W,ee));else{if(!(280>De)){He=0;break t}De=cn(De-256,ge);var ct,tt=wn(ze.G[4],ze.H[4],ge);if(ue(ge),!(ye>=(tt=sn(Se,tt=cn(tt,ge)))&&we-ye>=De)){He=0;break t}for(ct=0;ct<De;++ct)Z[Te+ye+ct]=Z[Te+ye+ct-tt];for(ye+=De,se+=De;se>=Se;)se-=Se,++ee<=y&&!(ee%16)&&Ni(W,ee);ye<Fe&&se&je&&(ze=ti(Le,se,ee))}e(ge.h==X(ge))}Ni(W,ee>y?y:ee);break t}!He||ge.h&&ye<we?(He=0,W.a=ge.h?5:3):W.$=ye,y=He}else y=Ei(W,W.V,W.Ba,W.c,W.i,y,Ao);if(!y){N=0;break e}}A+N>=G&&(h.Cc=1),N=1}if(!N)return null;if(h.Cc&&((N=h.ga)!=null&&(N.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+A*B}function S(h,y,A,N,B,G){for(;0<B--;){var W,Z=h,ee=y+(A?1:0),se=h,ge=y+(A?0:3);for(W=0;W<N;++W){var Le=se[ge+4*W];Le!=255&&(Le*=32897,Z[ee+4*W+0]=Z[ee+4*W+0]*Le>>23,Z[ee+4*W+1]=Z[ee+4*W+1]*Le>>23,Z[ee+4*W+2]=Z[ee+4*W+2]*Le>>23)}y+=G}}function q(h,y,A,N,B){for(;0<N--;){var G;for(G=0;G<A;++G){var W=h[y+2*G+0],Z=15&(se=h[y+2*G+1]),ee=4369*Z,se=(240&se|se>>4)*ee>>16;h[y+2*G+0]=(240&W|W>>4)*ee>>16&240|(15&W|W<<4)*ee>>16>>4&15,h[y+2*G+1]=240&se|Z}y+=B}}function fe(h,y,A,N,B,G,W,Z){var ee,se,ge=255;for(se=0;se<B;++se){for(ee=0;ee<N;++ee){var Le=h[y+ee];G[W+4*ee]=Le,ge&=Le}y+=A,W+=Z}return ge!=255}function me(h,y,A,N,B){var G;for(G=0;G<B;++G)A[N+G]=h[y+G]>>8}function Ce(){xa=S,Ai=q,Fi=fe,Po=me}function Pe(h,y,A){z[h]=function(N,B,G,W,Z,ee,se,ge,Le,Te,Se,He,De,ye,we,Fe,je){var ze,ct=je-1>>1,tt=Z[ee+0]|se[ge+0]<<16,Ct=Le[Te+0]|Se[He+0]<<16;e(N!=null);var nt=3*tt+Ct+131074>>2;for(y(N[B+0],255&nt,nt>>16,De,ye),G!=null&&(nt=3*Ct+tt+131074>>2,y(G[W+0],255&nt,nt>>16,we,Fe)),ze=1;ze<=ct;++ze){var fn=Z[ee+ze]|se[ge+ze]<<16,mn=Le[Te+ze]|Se[He+ze]<<16,en=tt+fn+Ct+mn+524296,Xt=en+2*(fn+Ct)>>3;nt=Xt+tt>>1,tt=(en=en+2*(tt+mn)>>3)+fn>>1,y(N[B+2*ze-1],255&nt,nt>>16,De,ye+(2*ze-1)*A),y(N[B+2*ze-0],255&tt,tt>>16,De,ye+(2*ze-0)*A),G!=null&&(nt=en+Ct>>1,tt=Xt+mn>>1,y(G[W+2*ze-1],255&nt,nt>>16,we,Fe+(2*ze-1)*A),y(G[W+2*ze+0],255&tt,tt>>16,we,Fe+(2*ze+0)*A)),tt=fn,Ct=mn}1&je||(nt=3*tt+Ct+131074>>2,y(N[B+je-1],255&nt,nt>>16,De,ye+(je-1)*A),G!=null&&(nt=3*Ct+tt+131074>>2,y(G[W+je-1],255&nt,nt>>16,we,Fe+(je-1)*A)))}}function Ze(){yi[Ri]=Ta,yi[Ss]=ea,yi[$r]=io,yi[Al]=xu,yi[Fo]=wu,yi[wa]=Ts,yi[yu]=_u,yi[Cl]=ea,yi[to]=xu,yi[_a]=wu,yi[As]=Ts}function ut(h){return h&-16384?0>h?0:255:h>>jd}function _t(h,y){return ut((19077*h>>8)+(26149*y>>8)-14234)}function Yt(h,y,A){return ut((19077*h>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function Zt(h,y){return ut((19077*h>>8)+(33050*y>>8)-17685)}function rn(h,y,A,N,B){N[B+0]=_t(h,A),N[B+1]=Yt(h,y,A),N[B+2]=Zt(h,y)}function Pn(h,y,A,N,B){N[B+0]=Zt(h,y),N[B+1]=Yt(h,y,A),N[B+2]=_t(h,A)}function Fn(h,y,A,N,B){var G=Yt(h,y,A);y=G<<3&224|Zt(h,y)>>3,N[B+0]=248&_t(h,A)|G>>5,N[B+1]=y}function Jn(h,y,A,N,B){var G=240&Zt(h,y)|15;N[B+0]=240&_t(h,A)|Yt(h,y,A)>>4,N[B+1]=G}function Kn(h,y,A,N,B){N[B+0]=255,rn(h,y,A,N,B+1)}function gi(h,y,A,N,B){Pn(h,y,A,N,B),N[B+3]=255}function Dr(h,y,A,N,B){rn(h,y,A,N,B),N[B+3]=255}function ur(h,y){return 0>h?0:h>y?y:h}function Jr(h,y,A){z[h]=function(N,B,G,W,Z,ee,se,ge,Le){for(var Te=ge+(-2&Le)*A;ge!=Te;)y(N[B+0],G[W+0],Z[ee+0],se,ge),y(N[B+1],G[W+0],Z[ee+0],se,ge+A),B+=2,++W,++ee,ge+=2*A;1&Le&&y(N[B+0],G[W+0],Z[ee+0],se,ge)}}function xl(h,y,A){return A==0?h==0?y==0?6:5:y==0?4:0:A}function ma(h,y,A,N,B){switch(h>>>30){case 3:Xa(y,A,N,B,0);break;case 2:ws(y,A,N,B);break;case 1:ki(y,A,N,B)}}function ga(h,y){var A,N,B=y.M,G=y.Nb,W=h.oc,Z=h.pc+40,ee=h.oc,se=h.pc+584,ge=h.oc,Le=h.pc+600;for(A=0;16>A;++A)W[Z+32*A-1]=129;for(A=0;8>A;++A)ee[se+32*A-1]=129,ge[Le+32*A-1]=129;for(0<B?W[Z-1-32]=ee[se-1-32]=ge[Le-1-32]=129:(o(W,Z-32-1,127,21),o(ee,se-32-1,127,9),o(ge,Le-32-1,127,9)),N=0;N<h.za;++N){var Te=y.ya[y.aa+N];if(0<N){for(A=-1;16>A;++A)i(W,Z+32*A-4,W,Z+32*A+12,4);for(A=-1;8>A;++A)i(ee,se+32*A-4,ee,se+32*A+4,4),i(ge,Le+32*A-4,ge,Le+32*A+4,4)}var Se=h.Gd,He=h.Hd+N,De=Te.ad,ye=Te.Hc;if(0<B&&(i(W,Z-32,Se[He].y,0,16),i(ee,se-32,Se[He].f,0,8),i(ge,Le-32,Se[He].ea,0,8)),Te.Za){var we=W,Fe=Z-32+16;for(0<B&&(N>=h.za-1?o(we,Fe,Se[He].y[15],4):i(we,Fe,Se[He+1].y,0,4)),A=0;4>A;A++)we[Fe+128+A]=we[Fe+256+A]=we[Fe+384+A]=we[Fe+0+A];for(A=0;16>A;++A,ye<<=2)we=W,Fe=Z+Vo[A],Bi[Te.Ob[A]](we,Fe),ma(ye,De,16*+A,we,Fe)}else if(we=xl(N,B,Te.Ob[0]),Ca[we](W,Z),ye!=0)for(A=0;16>A;++A,ye<<=2)ma(ye,De,16*+A,W,Z+Vo[A]);for(A=Te.Gc,we=xl(N,B,Te.Dd),dr[we](ee,se),dr[we](ge,Le),ye=De,we=ee,Fe=se,255&(Te=A>>0)&&(170&Te?Zi(ye,256,we,Fe):Pr(ye,256,we,Fe)),Te=ge,ye=Le,255&(A>>=8)&&(170&A?Zi(De,320,Te,ye):Pr(De,320,Te,ye)),B<h.Ub-1&&(i(Se[He].y,0,W,Z+480,16),i(Se[He].f,0,ee,se+224,8),i(Se[He].ea,0,ge,Le+224,8)),A=8*G*h.B,Se=h.sa,He=h.ta+16*N+16*G*h.R,De=h.qa,Te=h.ra+8*N+A,ye=h.Ha,we=h.Ia+8*N+A,A=0;16>A;++A)i(Se,He+A*h.R,W,Z+32*A,16);for(A=0;8>A;++A)i(De,Te+A*h.B,ee,se+32*A,8),i(ye,we+A*h.B,ge,Le+32*A,8)}}function ys(h,y,A,N,B,G,W,Z,ee){var se=[0],ge=[0],Le=0,Te=ee!=null?ee.kd:0,Se=ee??new vl;if(h==null||12>A)return 7;Se.data=h,Se.w=y,Se.ha=A,y=[y],A=[A],Se.gb=[Se.gb];e:{var He=y,De=A,ye=Se.gb;if(e(h!=null),e(De!=null),e(ye!=null),ye[0]=0,12<=De[0]&&!t(h,He[0],"RIFF")){if(t(h,He[0]+8,"WEBP")){ye=3;break e}var we=lt(h,He[0]+4);if(12>we||4294967286<we){ye=3;break e}if(Te&&we>De[0]-8){ye=7;break e}ye[0]=we,He[0]+=12,De[0]-=12}ye=0}if(ye!=0)return ye;for(we=0<Se.gb[0],A=A[0];;){e:{var Fe=h;De=y,ye=A;var je=se,ze=ge,ct=He=[0];if((nt=Le=[Le])[0]=0,8>ye[0])ye=7;else{if(!t(Fe,De[0],"VP8X")){if(lt(Fe,De[0]+4)!=10){ye=3;break e}if(18>ye[0]){ye=7;break e}var tt=lt(Fe,De[0]+8),Ct=1+rt(Fe,De[0]+12);if(2147483648<=Ct*(Fe=1+rt(Fe,De[0]+15))){ye=3;break e}ct!=null&&(ct[0]=tt),je!=null&&(je[0]=Ct),ze!=null&&(ze[0]=Fe),De[0]+=18,ye[0]-=18,nt[0]=1}ye=0}}if(Le=Le[0],He=He[0],ye!=0)return ye;if(De=!!(2&He),!we&&Le)return 3;if(G!=null&&(G[0]=!!(16&He)),W!=null&&(W[0]=De),Z!=null&&(Z[0]=0),W=se[0],He=ge[0],Le&&De&&ee==null){ye=0;break}if(4>A){ye=7;break}if(we&&Le||!we&&!Le&&!t(h,y[0],"ALPH")){A=[A],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{tt=h,ye=y,we=A;var nt=Se.gb;je=Se.na,ze=Se.P,ct=Se.Sa,Ct=22,e(tt!=null),e(we!=null),Fe=ye[0];var fn=we[0];for(e(je!=null),e(ct!=null),je[0]=null,ze[0]=null,ct[0]=0;;){if(ye[0]=Fe,we[0]=fn,8>fn){ye=7;break e}var mn=lt(tt,Fe+4);if(4294967286<mn){ye=3;break e}var en=8+mn+1&-2;if(Ct+=en,0<nt&&Ct>nt){ye=3;break e}if(!t(tt,Fe,"VP8 ")||!t(tt,Fe,"VP8L")){ye=0;break e}if(fn[0]<en){ye=7;break e}t(tt,Fe,"ALPH")||(je[0]=tt,ze[0]=Fe+8,ct[0]=mn),Fe+=en,fn-=en}}if(A=A[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],ye!=0)break}A=[A],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(nt=h,ye=y,we=A,je=Se.gb[0],ze=Se.Ja,ct=Se.xa,tt=ye[0],Fe=!t(nt,tt,"VP8 "),Ct=!t(nt,tt,"VP8L"),e(nt!=null),e(we!=null),e(ze!=null),e(ct!=null),8>we[0])ye=7;else{if(Fe||Ct){if(nt=lt(nt,tt+4),12<=je&&nt>je-12){ye=3;break e}if(Te&&nt>we[0]-8){ye=7;break e}ze[0]=nt,ye[0]+=8,we[0]-=8,ct[0]=Ct}else ct[0]=5<=we[0]&&nt[tt+0]==47&&!(nt[tt+4]>>5),ze[0]=we[0];ye=0}if(A=A[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],y=y[0],ye!=0)break;if(4294967286<Se.Ja)return 3;if(Z==null||De||(Z[0]=Se.xa?2:1),W=[W],He=[He],Se.xa){if(5>A){ye=7;break}Z=W,Te=He,De=G,h==null||5>A?h=0:5<=A&&h[y+0]==47&&!(h[y+4]>>5)?(we=[0],nt=[0],je=[0],ie(ze=new M,h,y,A),xt(ze,we,nt,je)?(Z!=null&&(Z[0]=we[0]),Te!=null&&(Te[0]=nt[0]),De!=null&&(De[0]=je[0]),h=1):h=0):h=0}else{if(10>A){ye=7;break}Z=He,h==null||10>A||!Oi(h,y+3,A-3)?h=0:(Te=h[y+0]|h[y+1]<<8|h[y+2]<<16,De=16383&(h[y+7]<<8|h[y+6]),h=16383&(h[y+9]<<8|h[y+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Se.Ja||!De||!h?h=0:(W&&(W[0]=De),Z&&(Z[0]=h),h=1))}if(!h||(W=W[0],He=He[0],Le&&(se[0]!=W||ge[0]!=He)))return 3;ee!=null&&(ee[0]=Se,ee.offset=y-ee.w,e(4294967286>y-ee.w),e(ee.offset==ee.ha-A));break}return ye==0||ye==7&&Le&&ee==null?(G!=null&&(G[0]|=Se.na!=null&&0<Se.na.length),N!=null&&(N[0]=W),B!=null&&(B[0]=He),0):ye}function Ka(h,y,A){var N=y.width,B=y.height,G=0,W=0,Z=N,ee=B;if(y.Da=h!=null&&0<h.Da,y.Da&&(Z=h.cd,ee=h.bd,G=h.v,W=h.j,11>A||(G&=-2,W&=-2),0>G||0>W||0>=Z||0>=ee||G+Z>N||W+ee>B))return 0;if(y.v=G,y.j=W,y.va=G+Z,y.o=W+ee,y.U=Z,y.T=ee,y.da=h!=null&&0<h.da,y.da){if(!ht(Z,ee,A=[h.ib],G=[h.hb]))return 0;y.ib=A[0],y.hb=G[0]}return y.ob=h!=null&&h.ob,y.Kb=h==null||!h.Sd,y.da&&(y.ob=y.ib<3*N/4&&y.hb<3*B/4,y.Kb=0),1}function bs(h){if(h==null)return 2;if(11>h.S){var y=h.f.RGBA;y.fb+=(h.height-1)*y.A,y.A=-y.A}else y=h.f.kb,h=h.height,y.O+=(h-1)*y.fa,y.fa=-y.fa,y.N+=(h-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(h-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(h-1)*y.lb,y.lb=-y.lb);return 0}function ko(h,y,A,N){if(N==null||0>=h||0>=y)return 2;if(A!=null){if(A.Da){var B=A.cd,G=A.bd,W=-2&A.v,Z=-2&A.j;if(0>W||0>Z||0>=B||0>=G||W+B>h||Z+G>y)return 2;h=B,y=G}if(A.da){if(!ht(h,y,B=[A.ib],G=[A.hb]))return 2;h=B[0],y=G[0]}}N.width=h,N.height=y;e:{var ee=N.width,se=N.height;if(h=N.S,0>=ee||0>=se||!(h>=Ri&&13>h))h=2;else{if(0>=N.Rd&&N.sd==null){W=G=B=y=0;var ge=(Z=ee*_f[h])*se;if(11>h||(G=(se+1)/2*(y=(ee+1)/2),h==12&&(W=(B=ee)*se)),(se=s(ge+2*G+W))==null){h=1;break e}N.sd=se,11>h?((ee=N.f.RGBA).eb=se,ee.fb=0,ee.A=Z,ee.size=ge):((ee=N.f.kb).y=se,ee.O=0,ee.fa=Z,ee.Fd=ge,ee.f=se,ee.N=0+ge,ee.Ab=y,ee.Cd=G,ee.ea=se,ee.W=0+ge+G,ee.Db=y,ee.Ed=G,h==12&&(ee.F=se,ee.J=0+ge+2*G),ee.Tc=W,ee.lb=B)}if(y=1,B=N.S,G=N.width,W=N.height,B>=Ri&&13>B)if(11>B)h=N.f.RGBA,y&=(Z=Math.abs(h.A))*(W-1)+G<=h.size,y&=Z>=G*_f[B],y&=h.eb!=null;else{h=N.f.kb,Z=(G+1)/2,ge=(W+1)/2,ee=Math.abs(h.fa),se=Math.abs(h.Ab);var Le=Math.abs(h.Db),Te=Math.abs(h.lb),Se=Te*(W-1)+G;y&=ee*(W-1)+G<=h.Fd,y&=se*(ge-1)+Z<=h.Cd,y=(y&=Le*(ge-1)+Z<=h.Ed)&ee>=G&se>=Z&Le>=Z,y&=h.y!=null,y&=h.f!=null,y&=h.ea!=null,B==12&&(y&=Te>=G,y&=Se<=h.Tc,y&=h.F!=null)}else y=0;h=y?0:2}}return h!=0||A!=null&&A.fd&&(h=bs(N)),h}var Mi=64,Za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ro=24,Do=32,xs=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(h){return h},z.Predictor2=function(h,y,A){return y[A+0]},z.Predictor3=function(h,y,A){return y[A+1]},z.Predictor4=function(h,y,A){return y[A-1]},z.Predictor5=function(h,y,A){return ot(ot(h,y[A+1]),y[A+0])},z.Predictor6=function(h,y,A){return ot(h,y[A-1])},z.Predictor7=function(h,y,A){return ot(h,y[A+0])},z.Predictor8=function(h,y,A){return ot(y[A-1],y[A+0])},z.Predictor9=function(h,y,A){return ot(y[A+0],y[A+1])},z.Predictor10=function(h,y,A){return ot(ot(h,y[A-1]),ot(y[A+0],y[A+1]))},z.Predictor11=function(h,y,A){var N=y[A+0];return 0>=jt(N>>24&255,h>>24&255,(y=y[A-1])>>24&255)+jt(N>>16&255,h>>16&255,y>>16&255)+jt(N>>8&255,h>>8&255,y>>8&255)+jt(255&N,255&h,255&y)?N:h},z.Predictor12=function(h,y,A){var N=y[A+0];return(wt((h>>24&255)+(N>>24&255)-((y=y[A-1])>>24&255))<<24|wt((h>>16&255)+(N>>16&255)-(y>>16&255))<<16|wt((h>>8&255)+(N>>8&255)-(y>>8&255))<<8|wt((255&h)+(255&N)-(255&y)))>>>0},z.Predictor13=function(h,y,A){var N=y[A-1];return(Ot((h=ot(h,y[A+0]))>>24&255,N>>24&255)<<24|Ot(h>>16&255,N>>16&255)<<16|Ot(h>>8&255,N>>8&255)<<8|Ot(h>>0&255,N>>0&255))>>>0};var dc=z.PredictorAdd0;z.PredictorAdd1=qt,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var wl=z.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var hu,Ir=z.ColorIndexInverseTransform,Si=z.MapARGB,Io=z.VP8LColorIndexInverseTransformAlpha,pu=z.MapAlpha,va=z.VP8LPredictorsAdd=[];va.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var cr,br,Kr,Zr,Ki,$a,Ui,Xa,ws,Zi,ki,Pr,Qa,xr,eo,ya,_s,wr,ba,En,Sn,jn,Zn,oi,xa,Ai,Fi,Po,mu=s(511),_l=s(2041),Sl=s(225),gu=s(767),Oo=0,vu=_l,Uo=Sl,vi=gu,_r=mu,Ri=0,Ss=1,$r=2,Al=3,Fo=4,wa=5,yu=6,Cl=7,to=8,_a=9,As=10,bu=[2,3,7],Sr=[3,3,11],fr=[280,256,256,256,40],Bo=[0,1,1,1,0],Sa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Aa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vf=8,Tl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],si=null,Gn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],no=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Xr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],Bi=[],dr=[],bf=1,Cs=2,Qr=[],yi=[];Pe("UpsampleRgbLinePair",rn,3),Pe("UpsampleBgrLinePair",Pn,3),Pe("UpsampleRgbaLinePair",Dr,4),Pe("UpsampleBgraLinePair",gi,4),Pe("UpsampleArgbLinePair",Kn,4),Pe("UpsampleRgba4444LinePair",Jn,2),Pe("UpsampleRgb565LinePair",Fn,2);var Ta=z.UpsampleRgbLinePair,io=z.UpsampleBgrLinePair,ea=z.UpsampleRgbaLinePair,xu=z.UpsampleBgraLinePair,wu=z.UpsampleArgbLinePair,Ts=z.UpsampleRgba4444LinePair,_u=z.UpsampleRgb565LinePair,ta=16,li=1<<ta-1,ro=-227,Su=482,jd=6,xf=0,Gd=s(256),ui=s(256),pc=s(256),El=s(256),Ll=s(Su-ro),mc=s(Su-ro);Jr("YuvToRgbRow",rn,3),Jr("YuvToBgrRow",Pn,3),Jr("YuvToRgbaRow",Dr,4),Jr("YuvToBgraRow",gi,4),Jr("YuvToArgbRow",Kn,4),Jr("YuvToRgba4444Row",Jn,2),Jr("YuvToRgb565Row",Fn,2);var Vo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Na=[0,2,8],Yd=[8,7,6,4,4,2,2,2,1,1,1,1],wf=1;this.WebPDecodeRGBA=function(h,y,A,N,B){var G=Ss,W=new ps,Z=new dt;W.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var ee=Z.width,se=Z.height,ge=new Lt;if(ge==null||h==null)var Le=2;else e(ge!=null),Le=ys(h,y,A,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Le!=0?ee=0:(ee!=null&&(ee[0]=ge.width[0]),se!=null&&(se[0]=ge.height[0]),ee=1),ee){Z.width=Z.width[0],Z.height=Z.height[0],N!=null&&(N[0]=Z.width),B!=null&&(B[0]=Z.height);e:{if(N=new qa,(B=new vl).data=h,B.w=y,B.ha=A,B.kd=1,y=[0],e(B!=null),((h=ys(B.data,B.w,B.ha,null,null,null,y,null,B))==0||h==7)&&y[0]&&(h=4),(y=h)==0){if(e(W!=null),N.data=B.data,N.w=B.w+B.offset,N.ha=B.ha-B.offset,N.put=ji,N.ac=Gt,N.bc=rr,N.ma=W,B.xa){if((h=_i())==null){W=1;break e}if(function(Te,Se){var He=[0],De=[0],ye=[0];t:for(;;){if(Te==null)return 0;if(Se==null)return Te.a=2,0;if(Te.l=Se,Te.a=0,ie(Te.m,Se.data,Se.w,Se.ha),!xt(Te.m,He,De,ye)){Te.a=3;break t}if(Te.xb=Cs,Se.width=He[0],Se.height=De[0],!_n(He[0],De[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(h,N)){if(N=(y=ko(N.width,N.height,W.Oa,W.ba))==0){t:{N=h;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((A=N.l)!=null),e((B=A.ma)!=null),N.xb!=0){if(N.ca=B.ba,N.tb=B.tb,e(N.ca!=null),!Ka(B.Oa,A,Al)){N.a=2;break n}if(!Ba(N,A.width)||A.da)break n;if((A.da||Be(N.ca.S))&&Ce(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Ce()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Nt(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Ei(N,N.V,N.Ba,N.c,N.i,A.o,So))break n;B.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(y=h.a)}else y=h.a}else{if((h=new sc)==null){W=1;break e}if(h.Fa=B.na,h.P=B.P,h.qc=B.Sa,ll(h,N)){if((y=ko(N.width,N.height,W.Oa,W.ba))==0){if(h.Aa=0,A=W.Oa,e((B=h)!=null),A!=null){if(0<(ee=0>(ee=A.Md)?0:100<ee?255:255*ee/100)){for(se=ge=0;4>se;++se)12>(Le=B.pb[se]).lc&&(Le.ia=ee*Yd[0>Le.lc?0:Le.lc]>>3),ge|=Le.ia;ge&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=A.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}au(h,N)||(y=h.a)}}else y=h.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=bs(W.ba))}W=y}G=W!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var _f=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(z,re){for(var ae="",O=0;O<4;O++)ae+=String.fromCharCode(z[re++]);return ae}function b(z,re){return(z[re+0]<<0|z[re+1]<<8|z[re+2]<<16)>>>0}function w(z,re){return(z[re+0]<<0|z[re+1]<<8|z[re+2]<<16|z[re+3]<<24)>>>0}new d;var C=[0],x=[0],T=[],L=new d,I=r,E=function(z,re){var ae={},O=0,k=!1,ne=0,te=0;if(ae.frames=[],!function(H,X,le,ue){for(var _e=0;_e<ue;_e++)if(H[X+_e]!=le.charCodeAt(_e))return!0;return!1}(z,re,"RIFF",4)){var ve,F;for(w(z,re+=4),re+=8;re<z.length;){var J=p(z,re),ie=w(z,re+=4);re+=4;var oe=ie+(1&ie);switch(J){case"VP8 ":case"VP8L":ae.frames[O]===void 0&&(ae.frames[O]={}),(M=ae.frames[O]).src_off=k?te:re-8,M.src_size=ne+ie+8,O++,k&&(k=!1,ne=0,te=0);break;case"VP8X":(M=ae.header={}).feature_flags=z[re];var U=re+4;M.canvas_width=1+b(z,U),U+=3,M.canvas_height=1+b(z,U),U+=3;break;case"ALPH":k=!0,ne=oe+8,te=re-8;break;case"ANIM":(M=ae.header).bgcolor=w(z,re),U=re+4,M.loop_count=(ve=z)[(F=U)+0]<<0|ve[F+1]<<8,U+=2;break;case"ANMF":var ce,M;(M=ae.frames[O]={}).offset_x=2*b(z,re),re+=3,M.offset_y=2*b(z,re),re+=3,M.width=1+b(z,re),re+=3,M.height=1+b(z,re),re+=3,M.duration=b(z,re),re+=3,ce=z[re++],M.dispose=1&ce,M.blend=ce>>1&1}J!="ANMF"&&(re+=oe)}return ae}}(I,0);E.response=I,E.rgbaoutput=!0,E.dataurl=!1;var R=E.header?E.header:null,D=E.frames?E.frames:null;if(R){R.loop_counter=R.loop_count,C=[R.canvas_height],x=[R.canvas_width];for(var j=0;j<D.length&&D[j].blend!=0;j++);}var K=D[0],Q=L.WebPDecodeRGBA(I,K.src_off,K.src_size,x,C);K.rgba=Q,K.imgwidth=x[0],K.imgheight=C[0];for(var V=0;V<x[0]*C[0]*4;V++)T[V]=Q[V];return this.width=x,this.height=C,this.data=T,this}(function(r){var e=function(){return typeof Ap=="function"},t=function(C,x,T,L){var I=4,E=u;switch(L){case r.image_compression.FAST:I=1,E=s;break;case r.image_compression.MEDIUM:I=6,E=f;break;case r.image_compression.SLOW:I=9,E=d}C=i(C,x,T,E);var R=Ap(C,{level:I});return r.__addimage__.arrayBufferToBinaryString(R)},i=function(C,x,T,L){for(var I,E,R,D=C.length/x,j=new Uint8Array(C.length+D),K=b(),Q=0;Q<D;Q+=1){if(R=Q*x,I=C.subarray(R,R+x),L)j.set(L(I,T,E),R+Q);else{for(var V,z=K.length,re=[];V<z;V+=1)re[V]=K[V](I,T,E);var ae=w(re.concat());j.set(re[ae],R+Q)}E=I}return j},o=function(C){var x=Array.apply([],C);return x.unshift(0),x},s=function(C,x){var T,L=[],I=C.length;L[0]=1;for(var E=0;E<I;E+=1)T=C[E-x]||0,L[E+1]=C[E]-T+256&255;return L},u=function(C,x,T){var L,I=[],E=C.length;I[0]=2;for(var R=0;R<E;R+=1)L=T&&T[R]||0,I[R+1]=C[R]-L+256&255;return I},f=function(C,x,T){var L,I,E=[],R=C.length;E[0]=3;for(var D=0;D<R;D+=1)L=C[D-x]||0,I=T&&T[D]||0,E[D+1]=C[D]+256-(L+I>>>1)&255;return E},d=function(C,x,T){var L,I,E,R,D=[],j=C.length;D[0]=4;for(var K=0;K<j;K+=1)L=C[K-x]||0,I=T&&T[K]||0,E=T&&T[K-x]||0,R=p(L,I,E),D[K+1]=C[K]-R+256&255;return D},p=function(C,x,T){if(C===x&&x===T)return C;var L=Math.abs(x-T),I=Math.abs(C-T),E=Math.abs(C+x-T-T);return L<=I&&L<=E?C:I<=E?x:T},b=function(){return[o,s,u,f,d]},w=function(C){var x=C.map(function(T){return T.reduce(function(L,I){return L+Math.abs(I)},0)});return x.indexOf(Math.min.apply(null,x))};r.processPNG=function(C,x,T,L){var I,E,R,D,j,K,Q,V,z,re,ae,O,k,ne,te,ve=this.decode.FLATE_DECODE,F="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(R=new Wy(C)).imgData,E=R.bits,I=R.colorSpace,j=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){z=(V=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,ae=new Uint8Array(z*R.colors),re=new Uint8Array(z);var J,ie=R.pixelBitlength-R.bits;for(ne=0,te=0;ne<z;ne++){for(k=V[ne],J=0;J<ie;)ae[te++]=k>>>J&255,J+=R.bits;re[ne]=k>>>J&255}}if(R.bits===16){z=(V=new Uint32Array(R.decodePixels().buffer)).length,ae=new Uint8Array(z*(32/R.pixelBitlength)*R.colors),re=new Uint8Array(z*(32/R.pixelBitlength)),O=R.colors>1,ne=0,te=0;for(var oe=0;ne<z;)k=V[ne++],ae[te++]=k>>>0&255,O&&(ae[te++]=k>>>16&255,k=V[ne++],ae[te++]=k>>>0&255),re[oe++]=k>>>16&255;E=8}L!==r.image_compression.NONE&&e()?(C=t(ae,R.width*R.colors,R.colors,L),Q=t(re,R.width,1,L)):(C=ae,Q=re,ve=void 0)}if(R.colorType===3&&(I=this.color_spaces.INDEXED,K=R.palette,R.transparency.indexed)){var U=R.transparency.indexed,ce=0;for(ne=0,z=U.length;ne<z;++ne)ce+=U[ne];if((ce/=255)===z-1&&U.indexOf(0)!==-1)D=[U.indexOf(0)];else if(ce!==z){for(V=R.decodePixels(),re=new Uint8Array(V.length),ne=0,z=V.length;ne<z;ne++)re[ne]=U[V[ne]];Q=t(re,R.width,1)}}var M=function(H){var X;switch(H){case r.image_compression.FAST:X=11;break;case r.image_compression.MEDIUM:X=13;break;case r.image_compression.SLOW:X=14;break;default:X=12}return X}(L);return ve===this.decode.FLATE_DECODE&&(F="/Predictor "+M+" "),F+="/Colors "+j+" /BitsPerComponent "+E+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(Q&&this.__addimage__.isArrayBuffer(Q)||this.__addimage__.isArrayBufferView(Q))&&(Q=this.__addimage__.arrayBufferToBinaryString(Q)),{alias:T,data:C,index:x,filter:ve,decodeParameters:F,transparency:D,palette:K,sMask:Q,predictor:M,width:R.width,height:R.height,bitsPerComponent:E,colorSpace:I}}}})(Mt.API),function(r){r.processGIF89A=function(e,t,i,o){var s=new Jy(e),u=s.width,f=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:u,height:f},b=new fp(100).encode(p,100);return r.processJPEG.call(this,b,t,i,o)},r.processGIF87A=r.processGIF89A}(Mt.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){In.log("bit decode error:"+t)}},Pa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<e;o++)for(var s=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+8*o*4,f=0;f<8&&8*o+f<this.width;f++){var d=this.palette[s>>7-f&1];this.data[u+4*f]=d.blue,this.data[u+4*f+1]=d.green,this.data[u+4*f+2]=d.red,this.data[u+4*f+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<r;o++){var s=this.datav.getUint8(this.pos++,!0),u=i*this.width*4+2*o*4,f=s>>4,d=15&s,p=this.palette[f];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*o+1>=this.width)break;p=this.palette[d],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(o<this.palette.length){var u=this.palette[o];this.data[s]=u.red,this.data[s+1]=u.green,this.data[s+2]=u.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Pa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&e)/e*255|0,f=(s>>5&e)/e*255|0,d=(s>>10&e)/e*255|0,p=s>>15?255:0,b=i*this.width*4+4*o;this.data[b]=d,this.data[b+1]=f,this.data[b+2]=u,this.data[b+3]=p}this.pos+=r}},Pa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(u&e)/e*255|0,d=(u>>5&t)/t*255|0,p=(u>>11)/e*255|0,b=o*this.width*4+4*s;this.data[b]=p,this.data[b+1]=d,this.data[b+2]=f,this.data[b+3]=255}this.pos+=r}},Pa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=o,this.data[u+2]=i,this.data[u+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*t;this.data[f]=s,this.data[f+1]=o,this.data[f+2]=i,this.data[f+3]=u}},Pa.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,i,o){var s=new Pa(e,!1),u=s.width,f=s.height,d={data:s.getData(),width:u,height:f},p=new fp(100).encode(d,100);return r.processJPEG.call(this,p,t,i,o)}}(Mt.API),B0.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,i,o){var s=new B0(e),u=s.width,f=s.height,d={data:s.getData(),width:u,height:f},p=new fp(100).encode(d,100);return r.processJPEG.call(this,p,t,i,o)}}(Mt.API),Mt.API.processRGBA=function(r,e,t){for(var i=r.data,o=i.length,s=new Uint8Array(o/4*3),u=new Uint8Array(o/4),f=0,d=0,p=0;p<o;p+=4){var b=i[p],w=i[p+1],C=i[p+2],x=i[p+3];s[f++]=b,s[f++]=w,s[f++]=C,u[d++]=x}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Mt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wu=Mt.API,vd=Wu.getCharWidthsArray=function(r,e){var t,i,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),f=e.widths?e.widths:o.metadata.Unicode.widths,d=f.fof?f.fof:1,p=e.kerning?e.kerning:o.metadata.Unicode.kerning,b=p.fof?p.fof:1,w=e.doKerning!==!1,C=0,x=r.length,T=0,L=f[0]||d,I=[];for(t=0;t<x;t++)i=r.charCodeAt(t),typeof o.metadata.widthOfString=="function"?I.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+u*(1e3/s)||0)/1e3):(C=w&&Nn(p[i])==="object"&&!isNaN(parseInt(p[i][T],10))?p[i][T]/b:0,I.push((f[i]||L)/d+C)),T=i;return I},P0=Wu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return Wu.processArabic&&(r=Wu.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,o)/t:vd.apply(this,arguments).reduce(function(s,u){return s+u},0)},O0=function(r,e,t,i){for(var o=[],s=0,u=r.length,f=0;s!==u&&f+e[s]<t;)f+=e[s],s++;o.push(r.slice(0,s));var d=s;for(f=0;s!==u;)f+e[s]>i&&(o.push(r.slice(d,s)),f=0,d=s),f+=e[s],s++;return d!==s&&o.push(r.slice(d,s)),o},U0=function(r,e,t){t||(t={});var i,o,s,u,f,d,p,b=[],w=[b],C=t.textIndent||0,x=0,T=0,L=r.split(" "),I=vd.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?L[0].length+2:t.lineIndent||0){var E=Array(d).join(" "),R=[];L.map(function(j){(j=j.split(/\s*\n/)).length>1?R=R.concat(j.map(function(K,Q){return(Q&&K.length?`
`:"")+K})):R.push(j[0])}),L=R,d=P0.apply(this,[E,t])}for(s=0,u=L.length;s<u;s++){var D=0;if(i=L[s],d&&i[0]==`
`&&(i=i.substr(1),D=1),C+x+(T=(o=vd.apply(this,[i,t])).reduce(function(j,K){return j+K},0))>e||D){if(T>e){for(f=O0.apply(this,[i,o,e-(C+x),e]),b.push(f.shift()),b=[f.pop()];f.length;)w.push([f.shift()]);T=o.slice(i.length-(b[0]?b[0].length:0)).reduce(function(j,K){return j+K},0)}else b=[i];w.push(b),C=T+d,x=I}else b.push(i),C+=x+T,x=I}return p=d?function(j,K){return(K?E:"")+j.join(" ")}:function(j){return j.join(" ")},w.map(p)},Wu.splitTextToSize=function(r,e,t){var i,o=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var w=this.internal.getFont(b.fontName,b.fontStyle);return w.metadata.Unicode?{widths:w.metadata.Unicode.widths||{0:1},kerning:w.metadata.Unicode.kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/o;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=t.lineIndent;var f,d,p=[];for(f=0,d=i.length;f<d;f++)p=p.concat(U0.apply(this,[i[f],u,s]));return p},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},o=0;o<e.length;o++)t[e[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=e[o];var s=function(w){return"0x"+parseInt(w,10).toString(16)},u=r.__fontmetrics__.compress=function(w){var C,x,T,L,I=["{"];for(var E in w){if(C=w[E],isNaN(parseInt(E,10))?x="'"+E+"'":(E=parseInt(E,10),x=(x=s(E).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof C=="number")C<0?(T=s(C).slice(3),L="-"):(T=s(C).slice(2),L=""),T=L+T.slice(0,-1)+i[T.slice(-1)];else{if(Nn(C)!=="object")throw new Error("Don't know what to do with value type "+Nn(C)+".");T=u(C)}I.push(x+T)}return I.push("}"),I.join("")},f=r.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var C,x,T,L,I={},E=1,R=I,D=[],j="",K="",Q=w.length-1,V=1;V<Q;V+=1)(L=w[V])=="'"?C?(T=C.join(""),C=void 0):C=[]:C?C.push(L):L=="{"?(D.push([R,T]),R={},T=void 0):L=="}"?((x=D.pop())[0][x[1]]=R,T=void 0,R=x[0]):L=="-"?E=-1:T===void 0?t.hasOwnProperty(L)?(j+=t[L],T=parseInt(j,16)*E,E=1,j=""):j+=L:t.hasOwnProperty(L)?(K+=t[L],R[T]=parseInt(K,16)*E,E=1,T=void 0,K=""):K+=L;return I},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(w){var C=w.font,x=b.Unicode[C.postScriptName];x&&(C.metadata.Unicode={},C.metadata.Unicode.widths=x.widths,C.metadata.Unicode.kerning=x.kerning);var T=p.Unicode[C.postScriptName];T&&(C.metadata.Unicode.encoding=T,C.encoding=T.codePages[0])}])}(Mt.API),function(r){var e=function(t){for(var i=t.length,o=new Uint8Array(i),s=0;s<i;s++)o[s]=t.charCodeAt(s);return o};r.API.events.push(["addFont",function(t){var i=void 0,o=t.font,s=t.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(u,f){f=/^\x00\x01\x00\x00/.test(f)?e(f):e(rf(f)),u.metadata=r.API.TTFFont.open(f),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(o,i)}}])}(Mt),function(r){function e(){return(Pt.canvg?Promise.resolve(Pt.canvg):yp(()=>import("./index.es-CPwQHSoy.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Mt.API.addSvgAsImage=function(t,i,o,s,u,f,d,p){if(isNaN(i)||isNaN(o))throw In.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(u))throw In.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=s,b.height=u;var w=b.getContext("2d");w.fillStyle="#fff",w.fillRect(0,0,b.width,b.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return e().then(function(T){return T.fromString(w,t,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(C)}).then(function(){x.addImage(b.toDataURL("image/jpeg",1),i,o,s,u,d,p)})}}(),Mt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(e,t);return this},Mt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,o,s,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(u),d=[],p=0,b=0,w=0;function C(T,L){var I,E=!1;for(I=0;I<T.length;I+=1)T[I]===L&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var x=f.length;for(w=0;w<x;w+=1)t[f[w]].value=t[f[w]].defaultValue,t[f[w]].explicitSet=!1}if(Nn(r)==="object"){for(o in r)if(s=r[o],C(f,o)&&s!==void 0){if(t[o].type==="boolean"&&typeof s=="boolean")t[o].value=s;else if(t[o].type==="name"&&C(t[o].valueSet,s))t[o].value=s;else if(t[o].type==="integer"&&Number.isInteger(s))t[o].value=s;else if(t[o].type==="array"){for(p=0;p<s.length;p+=1)if(i=!0,s[p].length===1&&typeof s[p][0]=="number")d.push(String(s[p]-1));else if(s[p].length>1){for(b=0;b<s[p].length;b+=1)typeof s[p][b]!="number"&&(i=!1);i===!0&&d.push([s[p][0]-1,s[p][1]-1].join(" "))}t[o].value="["+d.join(" ")+"]"}else t[o].value=t[o].defaultValue;t[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,L=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?L.push("/"+T+" /"+t[T].value):L.push("/"+T+" "+t[T].value));L.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+L.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=s.length+u.length+f.length+o.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(o+s+u+f+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,u){for(var f,d=u.metadata.Unicode.widths,p=["","0","00","000","0000"],b=[""],w=0,C=s.length;w<C;++w){if(f=u.metadata.characterToGlyph(s.charCodeAt(w)),u.metadata.glyIdsUsed.push(f),u.metadata.toUnicode[f]=s.charCodeAt(w),d.indexOf(f)==-1&&(d.push(f),d.push([parseInt(u.metadata.widthOfGlyph(f),10)])),f=="0")return b.join("");f=f.toString(16),b.push(p[4-f.length],f)}return b.join("")},i=function(s){var u,f,d,p,b,w,C;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],w=0,C=(f=Object.keys(s).sort(function(x,T){return x-T})).length;w<C;w++)u=f[w],d.length>=100&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[u]!==void 0&&s[u]!==null&&typeof s[u].toString=="function"&&(p=("0000"+s[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),d.push("<"+u+"><"+p+">"));return d.length&&(b+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(u){var f=u.font,d=u.out,p=u.newObject,b=u.putStream;if(f.metadata instanceof r.API.TTFFont&&f.encoding==="Identity-H"){for(var w=f.metadata.Unicode.widths,C=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),x="",T=0;T<C.length;T++)x+=String.fromCharCode(C[T]);var L=p();b({data:x,addLength1:!0,objectId:L}),d("endobj");var I=p();b({data:i(f.metadata.toUnicode),addLength1:!0,objectId:I}),d("endobj");var E=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Zu(f.fontName)),d("/FontFile2 "+L+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(f.metadata.bbox)),d("/Flags "+f.metadata.flags),d("/StemV "+f.metadata.stemV),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d(">>"),d("endobj");var R=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+Zu(f.fontName)),d("/FontDescriptor "+E+" 0 R"),d("/W "+r.API.PDFObject.convert(w)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+f.encoding+")"),d(">>"),d(">>"),d("endobj"),f.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+I+" 0 R"),d("/BaseFont /"+Zu(f.fontName)),d("/Encoding /"+f.encoding),d("/DescendantFonts ["+R+" 0 R]"),d(">>"),d("endobj"),f.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(u){var f=u.font,d=u.out,p=u.newObject,b=u.putStream;if(f.metadata instanceof r.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var w=f.metadata.rawData,C="",x=0;x<w.length;x++)C+=String.fromCharCode(w[x]);var T=p();b({data:C,addLength1:!0,objectId:T}),d("endobj");var L=p();b({data:i(f.metadata.toUnicode),addLength1:!0,objectId:L}),d("endobj");var I=p();d("<<"),d("/Descent "+f.metadata.decender),d("/CapHeight "+f.metadata.capHeight),d("/StemV "+f.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+T+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(f.metadata.bbox)),d("/FontName /"+Zu(f.fontName)),d("/ItalicAngle "+f.metadata.italicAngle),d("/Ascent "+f.metadata.ascender),d(">>"),d("endobj"),f.objectNumber=p();for(var E=0;E<f.metadata.hmtx.widths.length;E++)f.metadata.hmtx.widths[E]=parseInt(f.metadata.hmtx.widths[E]*(1e3/f.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+L+" 0 R/BaseFont/"+Zu(f.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),d("endobj"),f.isAlreadyPutted=!0}})(s)}]);var o=function(s){var u,f=s.text||"",d=s.x,p=s.y,b=s.options||{},w=s.mutex||{},C=w.pdfEscape,x=w.activeFontKey,T=w.fonts,L=x,I="",E=0,R="",D=T[L].encoding;if(T[L].encoding!=="Identity-H")return{text:f,x:d,y:p,options:b,mutex:w};for(R=f,L=x,Array.isArray(f)&&(R=f[0]),E=0;E<R.length;E+=1)T[L].metadata.hasOwnProperty("cmap")&&(u=T[L].metadata.cmap.unicode.codeMap[R[E].charCodeAt(0)]),u||R[E].charCodeAt(0)<256&&T[L].metadata.hasOwnProperty("Unicode")?I+=R[E]:I+="";var j="";return parseInt(L.slice(1))<14||D==="WinAnsiEncoding"?j=C(I,L).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(j=t(I,T[L])),w.isHex=!0,{text:j,x:d,y:p,options:b,mutex:w}};e.events.push(["postProcessText",function(s){var u=s.text||"",f=[],d={text:u,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?f.push([o(Object.assign({},d,{text:u[p][0]})).text,u[p][1],u[p][2]]):f.push(o(Object.assign({},d,{text:u[p]})).text);s.text=f}else s.text=o(Object.assign({},d,{text:u})).text}])}(Mt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Mt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var o,s,u,f,d,p,b,w=e,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},L={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var j=function(O){var k=O.charCodeAt(),ne=k>>8,te=L[ne];return te!==void 0?w[256*te+(255&k)]:ne===252||ne===253?"AL":E.test(ne)?"L":ne===8?"R":"N"},K=function(O){for(var k,ne=0;ne<O.length;ne++){if((k=j(O.charAt(ne)))==="L")return!1;if(k==="R")return!0}return!1},Q=function(O,k,ne,te){var ve,F,J,ie,oe=k[te];switch(oe){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(oe="AN");break;case"AL":R=!0,oe="R";break;case"WS":oe="N";break;case"CS":te<1||te+1>=k.length||(ve=ne[te-1])!=="EN"&&ve!=="AN"||(F=k[te+1])!=="EN"&&F!=="AN"?oe="N":R&&(F="AN"),oe=F===ve?F:"N";break;case"ES":oe=(ve=te>0?ne[te-1]:"B")==="EN"&&te+1<k.length&&k[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&ne[te-1]==="EN"){oe="EN";break}if(R){oe="N";break}for(J=te+1,ie=k.length;J<ie&&k[J]==="ET";)J++;oe=J<ie&&k[J]==="EN"?"EN":"N";break;case"NSM":if(u&&!f){for(ie=k.length,J=te+1;J<ie&&k[J]==="NSM";)J++;if(J<ie){var U=O[te],ce=U>=1425&&U<=2303||U===64286;if(ve=k[J],ce&&(ve==="R"||ve==="AL")){oe="R";break}}}oe=te<1||(ve=k[te-1])==="B"?"N":ne[te-1];break;case"B":R=!1,o=!0,oe=D;break;case"S":s=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":oe="N"}return oe},V=function(O,k,ne){var te=O.split("");return ne&&z(te,ne,{hiLevel:D}),te.reverse(),k&&k.reverse(),te.join("")},z=function(O,k,ne){var te,ve,F,J,ie,oe=-1,U=O.length,ce=0,M=[],H=D?x:C,X=[];for(R=!1,o=!1,s=!1,ve=0;ve<U;ve++)X[ve]=j(O[ve]);for(F=0;F<U;F++){if(ie=ce,M[F]=Q(O,X,M,F),te=240&(ce=H[ie][T[M[F]]]),ce&=15,k[F]=J=H[ce][5],te>0)if(te===16){for(ve=oe;ve<F;ve++)k[ve]=1;oe=-1}else oe=-1;if(H[ce][6])oe===-1&&(oe=F);else if(oe>-1){for(ve=oe;ve<F;ve++)k[ve]=J;oe=-1}X[F]==="B"&&(k[F]=0),ne.hiLevel|=J}s&&function(le,ue,_e){for(var xe=0;xe<_e;xe++)if(le[xe]==="S"){ue[xe]=D;for(var pe=xe-1;pe>=0&&le[pe]==="WS";pe--)ue[pe]=D}}(X,k,U)},re=function(O,k,ne,te,ve){if(!(ve.hiLevel<O)){if(O===1&&D===1&&!o)return k.reverse(),void(ne&&ne.reverse());for(var F,J,ie,oe,U=k.length,ce=0;ce<U;){if(te[ce]>=O){for(ie=ce+1;ie<U&&te[ie]>=O;)ie++;for(oe=ce,J=ie-1;oe<J;oe++,J--)F=k[oe],k[oe]=k[J],k[J]=F,ne&&(F=ne[oe],ne[oe]=ne[J],ne[J]=F);ce=ie}ce++}}},ae=function(O,k,ne){var te=O.split(""),ve={hiLevel:D};return ne||(ne=[]),z(te,ne,ve),function(F,J,ie){if(ie.hiLevel!==0&&b)for(var oe,U=0;U<F.length;U++)J[U]===1&&(oe=I.indexOf(F[U]))>=0&&(F[U]=I[oe+1])}(te,ne,ve),re(2,te,k,ne,ve),re(1,te,k,ne,ve),te.join("")};return this.__bidiEngine__.doBidiReorder=function(O,k,ne){if(function(ve,F){if(F)for(var J=0;J<ve.length;J++)F[J]=J;f===void 0&&(f=K(ve)),p===void 0&&(p=K(ve))}(O,k),u||!d||p)if(u&&d&&f^p)D=f?1:0,O=V(O,k,ne);else if(!u&&d&&p)D=f?1:0,O=ae(O,k,ne),O=V(O,k);else if(!u||f||d||p){if(u&&!d&&f^p)O=V(O,k),f?(D=0,O=ae(O,k,ne)):(D=1,O=ae(O,k,ne),O=V(O,k));else if(u&&f&&!d&&p)D=1,O=ae(O,k,ne),O=V(O,k);else if(!u&&!d&&f^p){var te=b;f?(D=1,O=ae(O,k,ne),D=0,b=!1,O=ae(O,k,ne),b=te):(D=0,O=ae(O,k,ne),O=V(O,k),D=1,b=!1,O=ae(O,k,ne),b=te,O=V(O,k))}}else D=0,O=ae(O,k,ne);else D=f?1:0,O=ae(O,k,ne);return O},this.__bidiEngine__.setOptions=function(O){O&&(u=O.isInputVisual,d=O.isOutputVisual,f=O.isInputRtl,p=O.isOutputRtl,b=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var o=i.text,s=(i.x,i.y,i.options||{}),u=(i.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var f=0;for(u=[],f=0;f<o.length;f+=1)Object.prototype.toString.call(o[f])==="[object Array]"?u.push([t.doBidiReorder(o[f][0]),o[f][1],o[f][2]]):u.push([t.doBidiReorder(o[f])]);i.text=u}else i.text=t.doBidiReorder(o);t.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new nl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ub(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Ky(this.contents),this.head=new $y(this),this.name=new nb(this),this.cmap=new V2(this),this.toUnicode={},this.hhea=new Xy(this),this.maxp=new ib(this),this.hmtx=new rb(this),this.post=new eb(this),this.os2=new Qy(this),this.loca=new lb(this),this.glyf=new ab(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,f,d,p;for(p=[],u=0,f=(d=this.bbox).length;u<f;u++)e=d[u],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),(32768&(t=o>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var o,s,u,f;for(u=0,s=0,f=(e=""+e).length;0<=f?s<f:s>f;s=0<=f?++s:--s)o=e.charCodeAt(s),u+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/t)||0;return u*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r}();var Fa,nl=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,o;for(o=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)o.push(this.writeByte(e.charCodeAt(t)));return o},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,o,s,u,f,d;return e=this.readByte(),t=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),u=this.readByte(),f=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^s)+65536*(255^u)+256*(255^f)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*o+16777216*s+65536*u+256*f+d},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)t=e[i],s.push(this.writeByte(t));return s},r}(),Ky=function(){var r;function e(t){var i,o,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,o,s,u,f,d,p,b,w,C,x,T,L;for(L in x=Object.keys(t).length,d=Math.log(2),w=16*Math.floor(Math.log(x)/d),u=Math.floor(w/d),b=16*x-w,(o=new nl).writeInt(this.scalarType),o.writeShort(x),o.writeShort(w),o.writeShort(u),o.writeShort(b),s=16*x,p=o.pos+s,f=null,T=[],t)for(C=t[L],o.writeString(L),o.writeInt(r(C)),o.writeInt(p),o.writeInt(C.length),T=T.concat(C),L==="head"&&(f=p),p+=C.length;p%4;)T.push(0),p++;return o.write(T),i=2981146554-r(o.data),o.pos=f+8,o.writeUInt32(i),o.data},r=function(t){var i,o,s,u;for(t=H2.call(t);t.length%4;)t.push(0);for(s=new nl(t),o=0,i=0,u=t.length;i<u;i=i+=4)o+=s.readUInt32();return 4294967295&o},e}(),Zy={}.hasOwnProperty,_o=function(r,e){for(var t in e)Zy.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};Fa=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var $y=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new nl).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),q0=function(){function r(e,t){var i,o,s,u,f,d,p,b,w,C,x,T,L,I,E,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(x=e.readUInt16(),C=x/2,e.pos+=6,s=function(){var j,K;for(K=[],d=j=0;0<=C?j<C:j>C;d=0<=C?++j:--j)K.push(e.readUInt16());return K}(),e.pos+=2,L=function(){var j,K;for(K=[],d=j=0;0<=C?j<C:j>C;d=0<=C?++j:--j)K.push(e.readUInt16());return K}(),p=function(){var j,K;for(K=[],d=j=0;0<=C?j<C:j>C;d=0<=C?++j:--j)K.push(e.readUInt16());return K}(),b=function(){var j,K;for(K=[],d=j=0;0<=C?j<C:j>C;d=0<=C?++j:--j)K.push(e.readUInt16());return K}(),o=(this.length-e.pos+this.offset)/2,f=function(){var j,K;for(K=[],d=j=0;0<=o?j<o:j>o;d=0<=o?++j:--j)K.push(e.readUInt16());return K}(),d=E=0,D=s.length;E<D;d=++E)for(I=s[d],i=R=T=L[d];T<=I?R<=I:R>=I;i=T<=I?++R:--R)b[d]===0?u=i+p[d]:(u=f[b[d]/2+(i-T)-(C-d)]||0)!==0&&(u+=p[d]),this.codeMap[i]=65535&u}e.pos=w}return r.encode=function(e,t){var i,o,s,u,f,d,p,b,w,C,x,T,L,I,E,R,D,j,K,Q,V,z,re,ae,O,k,ne,te,ve,F,J,ie,oe,U,ce,M,H,X,le,ue,_e,xe,pe,Ye,We,rt;switch(te=new nl,u=Object.keys(e).sort(function(lt,Nt){return lt-Nt}),t){case"macroman":for(L=0,I=function(){var lt=[];for(T=0;T<256;++T)lt.push(0);return lt}(),R={0:0},s={},ve=0,oe=u.length;ve<oe;ve++)R[pe=e[o=u[ve]]]==null&&(R[pe]=++L),s[o]={old:e[o],new:R[e[o]]},I[o]=R[e[o]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(I),{charMap:s,subtable:te.data,maxGlyphID:L+1};case"unicode":for(k=[],w=[],D=0,R={},i={},E=p=null,F=0,U=u.length;F<U;F++)R[K=e[o=u[F]]]==null&&(R[K]=++D),i[o]={old:K,new:R[K]},f=R[K]-o,E!=null&&f===p||(E&&w.push(E),k.push(o),p=f),E=o;for(E&&w.push(E),w.push(65535),k.push(65535),ae=2*(re=k.length),z=2*Math.pow(Math.log(re)/Math.LN2,2),C=Math.log(z/2)/Math.LN2,V=2*re-z,d=[],Q=[],x=[],T=J=0,ce=k.length;J<ce;T=++J){if(O=k[T],b=w[T],O===65535){d.push(0),Q.push(0);break}if(O-(ne=i[O].new)>=32768)for(d.push(0),Q.push(2*(x.length+re-T)),o=ie=O;O<=b?ie<=b:ie>=b;o=O<=b?++ie:--ie)x.push(i[o].new);else d.push(ne-O),Q.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*re+2*x.length),te.writeUInt16(0),te.writeUInt16(ae),te.writeUInt16(z),te.writeUInt16(C),te.writeUInt16(V),_e=0,M=w.length;_e<M;_e++)o=w[_e],te.writeUInt16(o);for(te.writeUInt16(0),xe=0,H=k.length;xe<H;xe++)o=k[xe],te.writeUInt16(o);for(Ye=0,X=d.length;Ye<X;Ye++)f=d[Ye],te.writeUInt16(f);for(We=0,le=Q.length;We<le;We++)j=Q[We],te.writeUInt16(j);for(rt=0,ue=x.length;rt<ue;rt++)L=x[rt],te.writeUInt16(L);return{charMap:i,subtable:te.data,maxGlyphID:D+1}}},r}(),V2=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,o,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)i=new q0(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var o,s;return i==null&&(i="macroman"),o=q0.encode(t,i),(s=new nl).writeUInt16(0),s.writeUInt16(1),o.table=s.data.concat(o.subtable),o},e}(),Xy=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Qy=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,o;for(o=[],i=0;i<10;++i)o.push(t.readByte());return o}(),this.charRange=function(){var i,o;for(o=[],i=0;i<4;++i)o.push(t.readInt());return o}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(t.readInt());return o}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),eb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="post",e.prototype.parse=function(t){var i,o,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var u;for(o=t.readUInt16(),this.glyphNameIndex=[],u=0;0<=o?u<o:u>o;u=0<=o?++u:--u)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return o=t.readUInt16(),this.offsets=t.read(o);case 196608:break;case 262144:return this.map=(function(){var f,d,p;for(p=[],u=f=0,d=this.file.maxp.numGlyphs;0<=d?f<d:f>d;u=0<=d?++f:--f)p.push(t.readUInt32());return p}).call(this)}},e}(),tb=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="name",e.prototype.parse=function(t){var i,o,s,u,f,d,p,b,w,C,x;for(t.pos=this.offset,t.readShort(),i=t.readShort(),d=t.readShort(),o=[],u=0;0<=i?u<i:u>i;u=0<=i?++u:--u)o.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(p={},u=w=0,C=o.length;w<C;u=++w)s=o[u],t.pos=s.offset,b=t.readString(s.length),f=new tb(b,s),p[x=s.nameID]==null&&(p[x]=[]),p[s.nameID].push(f);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e}(),ib=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),rb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,o,s,u,f,d,p;for(t.pos=this.offset,this.metrics=[],i=0,d=this.file.hhea.numberOfMetrics;0<=d?i<d:i>d;i=0<=d?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,w;for(w=[],i=b=0;0<=s?b<s:b>s;i=0<=s?++b:--b)w.push(t.readInt16());return w}(),this.widths=(function(){var b,w,C,x;for(x=[],b=0,w=(C=this.metrics).length;b<w;b++)u=C[b],x.push(u.advance);return x}).call(this),o=this.widths[this.widths.length-1],p=[],i=f=0;0<=s?f<s:f>s;i=0<=s?++f:--f)p.push(this.widths.push(o));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),H2=[].slice,ab=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,o,s,u,f,d,p,b,w,C;return t in this.cache?this.cache[t]:(u=this.file.loca,i=this.file.contents,o=u.indexOf(t),(s=u.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+o,f=(d=new nl(i.read(s))).readShort(),b=d.readShort(),C=d.readShort(),p=d.readShort(),w=d.readShort(),this.cache[t]=f===-1?new sb(d,b,C,p,w):new ob(d,f,b,C,p,w),this.cache[t]))},e.prototype.encode=function(t,i,o){var s,u,f,d,p;for(f=[],u=[],d=0,p=i.length;d<p;d++)s=t[i[d]],u.push(f.length),s&&(f=f.concat(s.encode(o)));return u.push(f.length),{table:f,offsets:u}},e}(),ob=function(){function r(e,t,i,o,s,u){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=o,this.xMax=s,this.yMax=u,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),sb=function(){function r(e,t,i,o,s){var u,f;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;f=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&f;)u.pos+=1&f?4:2,128&f?u.pos+=8:64&f?u.pos+=4:8&f&&(u.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new nl(H2.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),lb=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return _o(e,Fa),e.prototype.tag="loca",e.prototype.parse=function(t){var i,o;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,u;for(u=[],o=0,s=this.length;o<s;o+=2)u.push(2*t.readUInt16());return u}).call(this):(function(){var s,u;for(u=[],o=0,s=this.length;o<s;o+=4)u.push(t.readUInt32());return u}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var o=new Uint32Array(this.offsets.length),s=0,u=0,f=0;f<o.length;++f)if(o[f]=s,u<i.length&&i[u]==f){++u,o[f]=s;var d=this.offsets[f],p=this.offsets[f+1]-d;p>0&&(s+=p)}for(var b=new Array(4*o.length),w=0;w<o.length;++w)b[4*w+3]=255&o[w],b[4*w+2]=(65280&o[w])>>8,b[4*w+1]=(16711680&o[w])>>16,b[4*w]=(4278190080&o[w])>>24;return b},e}(),ub=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,o,s;for(t in o=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=o[i];return e},r.prototype.glyphsFor=function(e){var t,i,o,s,u,f,d;for(o={},u=0,f=e.length;u<f;u++)o[s=e[u]]=this.font.glyf.glyphFor(s);for(s in t=[],o)(i=o[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in d=this.glyphsFor(t))i=d[s],o[s]=i;return o},r.prototype.encode=function(e,t){var i,o,s,u,f,d,p,b,w,C,x,T,L,I,E;for(o in i=V2.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),x={0:0},E=i.charMap)x[(d=E[o]).old]=d.new;for(T in C=i.maxGlyphID,u)T in x||(x[T]=C++);return b=function(R){var D,j;for(D in j={},R)j[R[D]]=D;return j}(x),w=Object.keys(b).sort(function(R,D){return R-D}),L=function(){var R,D,j;for(j=[],R=0,D=w.length;R<D;R++)f=w[R],j.push(b[f]);return j}(),s=this.font.glyf.encode(u,L,x),p=this.font.loca.encode(s.offsets,L),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},r}();Mt.API.PDFObject=function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,o,s,u;if(Array.isArray(t))return"["+function(){var f,d,p;for(p=[],f=0,d=t.length;f<d;f++)i=t[f],p.push(e.convert(i));return p}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(o in s=["<<"],t)u=t[o],s.push("/"+o+" "+e.convert(u));return s.push(">>"),s.join(`
`)}return""+t},e}();const cb=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:zy,AcroFormAppearance:mt,AcroFormButton:Ti,AcroFormCheckBox:sf,AcroFormChoiceField:Jl,AcroFormComboBox:Zl,AcroFormEditBox:af,AcroFormListBox:Kl,AcroFormPasswordField:lf,AcroFormPushButton:of,AcroFormRadioButton:$l,AcroFormTextField:Qs,GState:pf,ShadingPattern:$s,TilingPattern:Wl,default:Mt,jsPDF:Mt},Symbol.toStringTag,{value:"Module"}));var xd={exports:{}};const fb=_v(cb);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var z0=xd.exports,V0;function db(){return V0||(V0=1,function(r,e){(function(i,o){r.exports=o(function(){try{return fb}catch{}}())})(typeof globalThis<"u"?globalThis:typeof z0<"u"?z0:typeof window<"u"?window:typeof self<"u"?self:wv,function(t){return function(){var i={172:function(f,d){var p=this&&this.__extends||function(){var C=function(x,T){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,I){L.__proto__=I}||function(L,I){for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&(L[E]=I[E])},C(x,T)};return function(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");C(x,T);function L(){this.constructor=x}x.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.CellHookData=d.HookData=void 0;var b=function(){function C(x,T,L){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=L,this.doc=x.getDocument()}return C}();d.HookData=b;var w=function(C){p(x,C);function x(T,L,I,E,R,D){var j=C.call(this,T,L,D)||this;return j.cell=I,j.row=E,j.column=R,j.section=E.section,j}return x}(b);d.CellHookData=w},340:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0});var b=p(4),w=p(136),C=p(744),x=p(776),T=p(664),L=p(972);function I(E){E.API.autoTable=function(){for(var R=[],D=0;D<arguments.length;D++)R[D]=arguments[D];var j;R.length===1?j=R[0]:(console.error("Use of deprecated autoTable initiation"),j=R[2]||{},j.columns=R[0],j.body=R[1]);var K=(0,x.parseInput)(this,j),Q=(0,L.createTable)(this,K);return(0,T.drawTable)(this,Q),this},E.API.lastAutoTable=!1,E.API.previousAutoTable=!1,E.API.autoTable.previous=!1,E.API.autoTableText=function(R,D,j,K){(0,w.default)(R,D,j,K,this)},E.API.autoTableSetDefaults=function(R){return C.DocHandler.setDefaults(R,this),this},E.autoTableSetDefaults=function(R,D){C.DocHandler.setDefaults(R,D)},E.API.autoTableHtmlToJson=function(R,D){var j;if(D===void 0&&(D=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var K=new C.DocHandler(this),Q=(0,b.parseHtml)(K,R,window,D,!1),V=Q.head,z=Q.body,re=((j=V[0])===null||j===void 0?void 0:j.map(function(ae){return ae.content}))||[];return{columns:re,rows:z,data:z}},E.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var R=this.lastAutoTable;return R&&R.finalY?R.finalY:0},E.API.autoTableAddPageContent=function(R){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),E.API.autoTable.globalDefaults||(E.API.autoTable.globalDefaults={}),E.API.autoTable.globalDefaults.addPageContent=R,this},E.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}d.default=I},136:function(f,d){Object.defineProperty(d,"__esModule",{value:!0});function p(b,w,C,x,T){x=x||{};var L=1.15,I=T.internal.scaleFactor,E=T.internal.getFontSize()/I,R=T.getLineHeightFactor?T.getLineHeightFactor():L,D=E*R,j=/\r\n|\r|\n/g,K="",Q=1;if((x.valign==="middle"||x.valign==="bottom"||x.halign==="center"||x.halign==="right")&&(K=typeof b=="string"?b.split(j):b,Q=K.length||1),C+=E*(2-L),x.valign==="middle"?C-=Q/2*D:x.valign==="bottom"&&(C-=Q*D),x.halign==="center"||x.halign==="right"){var V=E;if(x.halign==="center"&&(V*=.5),K&&Q>=1){for(var z=0;z<K.length;z++)T.text(K[z],w-T.getStringUnitWidth(K[z])*V,C),C+=D;return T}w-=T.getStringUnitWidth(b)*V}return x.halign==="justify"?T.text(b,w,C,{maxWidth:x.maxWidth||100,align:"justify"}):T.text(b,w,C),T}d.default=p},420:function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getPageAvailableWidth=d.parseSpacing=d.getFillStyle=d.addTableBorder=d.getStringWidth=void 0;function p(T,L,I){I.applyStyles(L,!0);var E=Array.isArray(T)?T:[T],R=E.map(function(D){return I.getTextWidth(D)}).reduce(function(D,j){return Math.max(D,j)},0);return R}d.getStringWidth=p;function b(T,L,I,E){var R=L.settings.tableLineWidth,D=L.settings.tableLineColor;T.applyStyles({lineWidth:R,lineColor:D});var j=w(R,!1);j&&T.rect(I.x,I.y,L.getWidth(T.pageSize().width),E.y-I.y,j)}d.addTableBorder=b;function w(T,L){var I=T>0,E=L||L===0;return I&&E?"DF":I?"S":E?"F":null}d.getFillStyle=w;function C(T,L){var I,E,R,D;if(T=T||L,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=L}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(I=T.left)!==null&&I!==void 0?I:L,top:(E=T.top)!==null&&E!==void 0?E:L,right:(R=T.right)!==null&&R!==void 0?R:L,bottom:(D=T.bottom)!==null&&D!==void 0?D:L}):(typeof T!="number"&&(T=L),{top:T,right:T,bottom:T,left:T})}d.parseSpacing=C;function x(T,L){var I=C(L.settings.margin,0);return T.pageSize().width-(I.left+I.right)}d.getPageAvailableWidth=x},796:function(f,d){var p=this&&this.__extends||function(){var x=function(T,L){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,E){I.__proto__=E}||function(I,E){for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(I[R]=E[R])},x(T,L)};return function(T,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");x(T,L);function I(){this.constructor=T}T.prototype=L===null?Object.create(L):(I.prototype=L.prototype,new I)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.getTheme=d.defaultStyles=d.HtmlRowInput=void 0;var b=function(x){p(T,x);function T(L){var I=x.call(this)||this;return I._element=L,I}return T}(Array);d.HtmlRowInput=b;function w(x){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/x,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}d.defaultStyles=w;function C(x){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[x]}d.getTheme=C},903:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseCss=void 0;var b=p(420);function w(I,E,R,D,j){var K={},Q=1.3333333333333333,V=x(E,function(oe){return j.getComputedStyle(oe).backgroundColor});V!=null&&(K.fillColor=V);var z=x(E,function(oe){return j.getComputedStyle(oe).color});z!=null&&(K.textColor=z);var re=L(D,R);re&&(K.cellPadding=re);var ae="borderTopColor",O=Q*R,k=D.borderTopWidth;if(D.borderBottomWidth===k&&D.borderRightWidth===k&&D.borderLeftWidth===k){var ne=(parseFloat(k)||0)/O;ne&&(K.lineWidth=ne)}else K.lineWidth={top:(parseFloat(D.borderTopWidth)||0)/O,right:(parseFloat(D.borderRightWidth)||0)/O,bottom:(parseFloat(D.borderBottomWidth)||0)/O,left:(parseFloat(D.borderLeftWidth)||0)/O},K.lineWidth.top||(K.lineWidth.right?ae="borderRightColor":K.lineWidth.bottom?ae="borderBottomColor":K.lineWidth.left&&(ae="borderLeftColor"));console.log(K.lineWidth);var te=x(E,function(oe){return j.getComputedStyle(oe)[ae]});te!=null&&(K.lineColor=te);var ve=["left","right","center","justify"];ve.indexOf(D.textAlign)!==-1&&(K.halign=D.textAlign),ve=["middle","bottom","top"],ve.indexOf(D.verticalAlign)!==-1&&(K.valign=D.verticalAlign);var F=parseInt(D.fontSize||"");isNaN(F)||(K.fontSize=F/Q);var J=C(D);J&&(K.fontStyle=J);var ie=(D.fontFamily||"").toLowerCase();return I.indexOf(ie)!==-1&&(K.font=ie),K}d.parseCss=w;function C(I){var E="";return(I.fontWeight==="bold"||I.fontWeight==="bolder"||parseInt(I.fontWeight)>=700)&&(E="bold"),(I.fontStyle==="italic"||I.fontStyle==="oblique")&&(E+="italic"),E}function x(I,E){var R=T(I,E);if(!R)return null;var D=R.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!D||!Array.isArray(D))return null;var j=[parseInt(D[1]),parseInt(D[2]),parseInt(D[3])],K=parseInt(D[4]);return K===0||isNaN(j[0])||isNaN(j[1])||isNaN(j[2])?null:j}function T(I,E){var R=E(I);return R==="rgba(0, 0, 0, 0)"||R==="transparent"||R==="initial"||R==="inherit"?I.parentElement==null?null:T(I.parentElement,E):R}function L(I,E){var R=[I.paddingTop,I.paddingRight,I.paddingBottom,I.paddingLeft],D=96/(72/E),j=(parseInt(I.lineHeight)-parseInt(I.fontSize))/E/2,K=R.map(function(V){return parseInt(V||"0")/D}),Q=(0,b.parseSpacing)(K,0);return j>Q.top&&(Q.top=j),j>Q.bottom&&(Q.bottom=j),Q}},744:function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.DocHandler=void 0;var p={},b=function(){function w(C){this.jsPDFDocument=C,this.userStyles={textColor:C.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:C.internal.getFontSize(),fontStyle:C.internal.getFont().fontStyle,font:C.internal.getFont().fontName,lineWidth:C.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:C.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return w.setDefaults=function(C,x){x===void 0&&(x=null),x?x.__autoTableDocumentDefaults=C:p=C},w.unifyColor=function(C){return Array.isArray(C)?C:typeof C=="number"?[C,C,C]:typeof C=="string"?[C]:null},w.prototype.applyStyles=function(C,x){var T,L,I;x===void 0&&(x=!1),C.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(C.fontStyle);var E=this.jsPDFDocument.internal.getFont(),R=E.fontStyle,D=E.fontName;if(C.font&&(D=C.font),C.fontStyle){R=C.fontStyle;var j=this.getFontList()[D];j&&j.indexOf(R)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j[0]),R=j[0])}if(this.jsPDFDocument.setFont(D,R),C.fontSize&&this.jsPDFDocument.setFontSize(C.fontSize),!x){var K=w.unifyColor(C.fillColor);K&&(T=this.jsPDFDocument).setFillColor.apply(T,K),K=w.unifyColor(C.textColor),K&&(L=this.jsPDFDocument).setTextColor.apply(L,K),K=w.unifyColor(C.lineColor),K&&(I=this.jsPDFDocument).setDrawColor.apply(I,K),typeof C.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(C.lineWidth)}},w.prototype.splitTextToSize=function(C,x,T){return this.jsPDFDocument.splitTextToSize(C,x,T)},w.prototype.rect=function(C,x,T,L,I){return this.jsPDFDocument.rect(C,x,T,L,I)},w.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},w.prototype.getTextWidth=function(C){return this.jsPDFDocument.getTextWidth(C)},w.prototype.getDocument=function(){return this.jsPDFDocument},w.prototype.setPage=function(C){this.jsPDFDocument.setPage(C)},w.prototype.addPage=function(){return this.jsPDFDocument.addPage()},w.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},w.prototype.getGlobalOptions=function(){return p||{}},w.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},w.prototype.pageSize=function(){var C=this.jsPDFDocument.internal.pageSize;return C.width==null&&(C={width:C.getWidth(),height:C.getHeight()}),C},w.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},w.prototype.getLineHeightFactor=function(){var C=this.jsPDFDocument;return C.getLineHeightFactor?C.getLineHeightFactor():1.15},w.prototype.getLineHeight=function(C){return C/this.scaleFactor()*this.getLineHeightFactor()},w.prototype.pageNumber=function(){var C=this.jsPDFDocument.internal.getCurrentPageInfo();return C?C.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},w}();d.DocHandler=b},4:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseHtml=void 0;var b=p(903),w=p(796);function C(L,I,E,R,D){var j,K;R===void 0&&(R=!1),D===void 0&&(D=!1);var Q;typeof I=="string"?Q=E.document.querySelector(I):Q=I;var V=Object.keys(L.getFontList()),z=L.scaleFactor(),re=[],ae=[],O=[];if(!Q)return console.error("Html table could not be found with input: ",I),{head:re,body:ae,foot:O};for(var k=0;k<Q.rows.length;k++){var ne=Q.rows[k],te=(K=(j=ne==null?void 0:ne.parentElement)===null||j===void 0?void 0:j.tagName)===null||K===void 0?void 0:K.toLowerCase(),ve=x(V,z,E,ne,R,D);ve&&(te==="thead"?re.push(ve):te==="tfoot"?O.push(ve):ae.push(ve))}return{head:re,body:ae,foot:O}}d.parseHtml=C;function x(L,I,E,R,D,j){for(var K=new w.HtmlRowInput(R),Q=0;Q<R.cells.length;Q++){var V=R.cells[Q],z=E.getComputedStyle(V);if(D||z.display!=="none"){var re=void 0;j&&(re=(0,b.parseCss)(L,V,I,z,E)),K.push({rowSpan:V.rowSpan,colSpan:V.colSpan,styles:re,_element:V,content:T(V)})}}var ae=E.getComputedStyle(R);if(K.length>0&&(D||ae.display!=="none"))return K}function T(L){var I=L.cloneNode(!0);return I.innerHTML=I.innerHTML.replace(/\n/g,"").replace(/ +/g," "),I.innerHTML=I.innerHTML.split(/<br.*?>/).map(function(E){return E.trim()}).join(`
`),I.innerText||I.textContent||""}},776:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.parseInput=void 0;var b=p(4),w=p(356),C=p(420),x=p(744),T=p(792);function L(Q,V){var z=new x.DocHandler(Q),re=z.getDocumentOptions(),ae=z.getGlobalOptions();(0,T.default)(z,ae,re,V);var O=(0,w.assign)({},ae,re,V),k;typeof window<"u"&&(k=window);var ne=I(ae,re,V),te=E(ae,re,V),ve=R(z,O),F=j(z,O,k);return{id:V.tableId,content:F,hooks:te,styles:ne,settings:ve}}d.parseInput=L;function I(Q,V,z){for(var re={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ae=function(te){if(te==="columnStyles"){var ve=Q[te],F=V[te],J=z[te];re.columnStyles=(0,w.assign)({},ve,F,J)}else{var ie=[Q,V,z],oe=ie.map(function(U){return U[te]||{}});re[te]=(0,w.assign)({},oe[0],oe[1],oe[2])}},O=0,k=Object.keys(re);O<k.length;O++){var ne=k[O];ae(ne)}return re}function E(Q,V,z){for(var re=[Q,V,z],ae={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,k=re;O<k.length;O++){var ne=k[O];ne.didParseCell&&ae.didParseCell.push(ne.didParseCell),ne.willDrawCell&&ae.willDrawCell.push(ne.willDrawCell),ne.didDrawCell&&ae.didDrawCell.push(ne.didDrawCell),ne.willDrawPage&&ae.willDrawPage.push(ne.willDrawPage),ne.didDrawPage&&ae.didDrawPage.push(ne.didDrawPage)}return ae}function R(Q,V){var z,re,ae,O,k,ne,te,ve,F,J,ie,oe,U=(0,C.parseSpacing)(V.margin,40/Q.scaleFactor()),ce=(z=D(Q,V.startY))!==null&&z!==void 0?z:U.top,M;V.showFoot===!0?M="everyPage":V.showFoot===!1?M="never":M=(re=V.showFoot)!==null&&re!==void 0?re:"everyPage";var H;V.showHead===!0?H="everyPage":V.showHead===!1?H="never":H=(ae=V.showHead)!==null&&ae!==void 0?ae:"everyPage";var X=(O=V.useCss)!==null&&O!==void 0?O:!1,le=V.theme||(X?"plain":"striped"),ue=!!V.horizontalPageBreak,_e=(k=V.horizontalPageBreakRepeat)!==null&&k!==void 0?k:null;return{includeHiddenHtml:(ne=V.includeHiddenHtml)!==null&&ne!==void 0?ne:!1,useCss:X,theme:le,startY:ce,margin:U,pageBreak:(te=V.pageBreak)!==null&&te!==void 0?te:"auto",rowPageBreak:(ve=V.rowPageBreak)!==null&&ve!==void 0?ve:"auto",tableWidth:(F=V.tableWidth)!==null&&F!==void 0?F:"auto",showHead:H,showFoot:M,tableLineWidth:(J=V.tableLineWidth)!==null&&J!==void 0?J:0,tableLineColor:(ie=V.tableLineColor)!==null&&ie!==void 0?ie:200,horizontalPageBreak:ue,horizontalPageBreakRepeat:_e,horizontalPageBreakBehaviour:(oe=V.horizontalPageBreakBehaviour)!==null&&oe!==void 0?oe:"afterAllRows"}}function D(Q,V){var z=Q.getLastAutoTable(),re=Q.scaleFactor(),ae=Q.pageNumber(),O=!1;if(z&&z.startPageNumber){var k=z.startPageNumber+z.pageNumber-1;O=k===ae}return typeof V=="number"?V:(V==null||V===!1)&&O&&(z==null?void 0:z.finalY)!=null?z.finalY+20/re:null}function j(Q,V,z){var re=V.head||[],ae=V.body||[],O=V.foot||[];if(V.html){var k=V.includeHiddenHtml;if(z){var ne=(0,b.parseHtml)(Q,V.html,z,k,V.useCss)||{};re=ne.head||re,ae=ne.body||re,O=ne.foot||re}else console.error("Cannot parse html in non browser environment")}var te=V.columns||K(re,ae,O);return{columns:te,head:re,body:ae,foot:O}}function K(Q,V,z){var re=Q[0]||V[0]||z[0]||[],ae=[];return Object.keys(re).filter(function(O){return O!=="_element"}).forEach(function(O){var k=1,ne;Array.isArray(re)?ne=re[parseInt(O)]:ne=re[O],typeof ne=="object"&&!Array.isArray(ne)&&(k=(ne==null?void 0:ne.colSpan)||1);for(var te=0;te<k;te++){var ve=void 0;Array.isArray(re)?ve=ae.length:ve=O+(te>0?"_".concat(te):"");var F={dataKey:ve};ae.push(F)}}),ae}},792:function(f,d){Object.defineProperty(d,"__esModule",{value:!0});function p(w,C,x,T){for(var L=function(D){D&&typeof D!="object"&&console.error("The options parameter should be of type object, is: "+typeof D),typeof D.extendWidth<"u"&&(D.tableWidth=D.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof D.margins<"u"&&(typeof D.margin>"u"&&(D.margin=D.margins),console.error("Use of deprecated option: margins, use margin instead.")),D.startY&&typeof D.startY!="number"&&(console.error("Invalid value for startY option",D.startY),delete D.startY),!D.didDrawPage&&(D.afterPageContent||D.beforePageContent||D.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),D.didDrawPage=function(O){w.applyStyles(w.userStyles),D.beforePageContent&&D.beforePageContent(O),w.applyStyles(w.userStyles),D.afterPageContent&&D.afterPageContent(O),w.applyStyles(w.userStyles),D.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),w.applyStyles(w.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){D[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var k=O[0],ne=O[1];D[ne]&&(console.error("Use of deprecated option ".concat(ne,". Use ").concat(k," instead")),D[k]=D[ne])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var k=typeof O=="string"?O:O[0],ne=typeof O=="string"?O:O[1];typeof D[k]<"u"&&(typeof D.styles[ne]>"u"&&(D.styles[ne]=D[k]),console.error("Use of deprecated option: "+k+", use the style "+ne+" instead."))});for(var j=0,K=["styles","bodyStyles","headStyles","footStyles"];j<K.length;j++){var Q=K[j];b(D[Q]||{})}for(var V=D.columnStyles||{},z=0,re=Object.keys(V);z<re.length;z++){var ae=re[z];b(V[ae]||{})}},I=0,E=[C,x,T];I<E.length;I++){var R=E[I];L(R)}}d.default=p;function b(w){w.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),w.minCellHeight||(w.minCellHeight=w.rowHeight)):w.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),w.cellWidth||(w.cellWidth=w.columnWidth))}},260:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.Column=d.Cell=d.Row=d.Table=void 0;var b=p(796),w=p(172),C=p(420),x=function(){function E(R,D){this.pageNumber=1,this.pageCount=1,this.id=R.id,this.settings=R.settings,this.styles=R.styles,this.hooks=R.hooks,this.columns=D.columns,this.head=D.head,this.body=D.body,this.foot=D.foot}return E.prototype.getHeadHeight=function(R){return this.head.reduce(function(D,j){return D+j.getMaxCellHeight(R)},0)},E.prototype.getFootHeight=function(R){return this.foot.reduce(function(D,j){return D+j.getMaxCellHeight(R)},0)},E.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},E.prototype.callCellHooks=function(R,D,j,K,Q,V){for(var z=0,re=D;z<re.length;z++){var ae=re[z],O=new w.CellHookData(R,this,j,K,Q,V),k=ae(O)===!1;if(j.text=Array.isArray(j.text)?j.text:[j.text],k)return!1}return!0},E.prototype.callEndPageHooks=function(R,D){R.applyStyles(R.userStyles);for(var j=0,K=this.hooks.didDrawPage;j<K.length;j++){var Q=K[j];Q(new w.HookData(R,this,D))}},E.prototype.callWillDrawPageHooks=function(R,D){for(var j=0,K=this.hooks.willDrawPage;j<K.length;j++){var Q=K[j];Q(new w.HookData(R,this,D))}},E.prototype.getWidth=function(R){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var D=this.columns.reduce(function(K,Q){return K+Q.wrappedWidth},0);return D}else{var j=this.settings.margin;return R-j.left-j.right}},E}();d.Table=x;var T=function(){function E(R,D,j,K,Q){Q===void 0&&(Q=!1),this.height=0,this.raw=R,R instanceof b.HtmlRowInput&&(this.raw=R._element,this.element=R._element),this.index=D,this.section=j,this.cells=K,this.spansMultiplePages=Q}return E.prototype.getMaxCellHeight=function(R){var D=this;return R.reduce(function(j,K){var Q;return Math.max(j,((Q=D.cells[K.index])===null||Q===void 0?void 0:Q.height)||0)},0)},E.prototype.hasRowSpan=function(R){var D=this;return R.filter(function(j){var K=D.cells[j.index];return K?K.rowSpan>1:!1}).length>0},E.prototype.canEntireRowFit=function(R,D){return this.getMaxCellHeight(D)<=R},E.prototype.getMinimumRowHeight=function(R,D){var j=this;return R.reduce(function(K,Q){var V=j.cells[Q.index];if(!V)return 0;var z=D.getLineHeight(V.styles.fontSize),re=V.padding("vertical"),ae=re+z;return ae>K?ae:K},0)},E}();d.Row=T;var L=function(){function E(R,D,j){var K,Q;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=D,this.section=j,this.raw=R;var V=R;R!=null&&typeof R=="object"&&!Array.isArray(R)?(this.rowSpan=R.rowSpan||1,this.colSpan=R.colSpan||1,V=(Q=(K=R.content)!==null&&K!==void 0?K:R.title)!==null&&Q!==void 0?Q:R,R._element&&(this.raw=R._element)):(this.rowSpan=1,this.colSpan=1);var z=V!=null?""+V:"",re=/\r\n|\r|\n/g;this.text=z.split(re)}return E.prototype.getTextPos=function(){var R;if(this.styles.valign==="top")R=this.y+this.padding("top");else if(this.styles.valign==="bottom")R=this.y+this.height-this.padding("bottom");else{var D=this.height-this.padding("vertical");R=this.y+D/2+this.padding("top")}var j;if(this.styles.halign==="right")j=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var K=this.width-this.padding("horizontal");j=this.x+K/2+this.padding("left")}else j=this.x+this.padding("left");return{x:j,y:R}},E.prototype.getContentHeight=function(R,D){D===void 0&&(D=1.15);var j=Array.isArray(this.text)?this.text.length:1,K=this.styles.fontSize/R*D,Q=j*K+this.padding("vertical");return Math.max(Q,this.styles.minCellHeight)},E.prototype.padding=function(R){var D=(0,C.parseSpacing)(this.styles.cellPadding,0);return R==="vertical"?D.top+D.bottom:R==="horizontal"?D.left+D.right:D[R]},E}();d.Cell=L;var I=function(){function E(R,D,j){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=R,this.raw=D,this.index=j}return E.prototype.getMaxCustomCellWidth=function(R){for(var D=0,j=0,K=R.allRows();j<K.length;j++){var Q=K[j],V=Q.cells[this.index];V&&typeof V.styles.cellWidth=="number"&&(D=Math.max(D,V.styles.cellWidth))}return D},E}();d.Column=I},356:function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.assign=void 0;function p(b,w,C,x,T){if(b==null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(b),I=1;I<arguments.length;I++){var E=arguments[I];if(E!=null)for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(L[R]=E[R])}return L}d.assign=p},972:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.createTable=void 0;var b=p(744),w=p(260),C=p(324),x=p(796),T=p(356);function L(Q,V){var z=new b.DocHandler(Q),re=I(V,z.scaleFactor()),ae=new w.Table(V,re);return(0,C.calculateWidths)(z,ae),z.applyStyles(z.userStyles),ae}d.createTable=L;function I(Q,V){var z=Q.content,re=j(z.columns);if(z.head.length===0){var ae=R(re,"head");ae&&z.head.push(ae)}if(z.foot.length===0){var ae=R(re,"foot");ae&&z.foot.push(ae)}var O=Q.settings.theme,k=Q.styles;return{columns:re,head:E("head",z.head,re,k,O,V),body:E("body",z.body,re,k,O,V),foot:E("foot",z.foot,re,k,O,V)}}function E(Q,V,z,re,ae,O){var k={},ne=V.map(function(te,ve){for(var F=0,J={},ie=0,oe=0,U=0,ce=z;U<ce.length;U++){var M=ce[U];if(k[M.index]==null||k[M.index].left===0)if(oe===0){var H=void 0;Array.isArray(te)?H=te[M.index-ie-F]:H=te[M.dataKey];var X={};typeof H=="object"&&!Array.isArray(H)&&(X=(H==null?void 0:H.styles)||{});var le=K(Q,M,ve,ae,re,O,X),ue=new w.Cell(H,le,Q);J[M.dataKey]=ue,J[M.index]=ue,oe=ue.colSpan-1,k[M.index]={left:ue.rowSpan-1,times:oe}}else oe--,ie++;else k[M.index].left--,oe=k[M.index].times,F++}return new w.Row(te,ve,Q,J)});return ne}function R(Q,V){var z={};return Q.forEach(function(re){if(re.raw!=null){var ae=D(V,re.raw);ae!=null&&(z[re.dataKey]=ae)}}),Object.keys(z).length>0?z:null}function D(Q,V){if(Q==="head"){if(typeof V=="object")return V.header||V.title||null;if(typeof V=="string"||typeof V=="number")return V}else if(Q==="foot"&&typeof V=="object")return V.footer;return null}function j(Q){return Q.map(function(V,z){var re,ae,O;return typeof V=="object"?O=(ae=(re=V.dataKey)!==null&&re!==void 0?re:V.key)!==null&&ae!==void 0?ae:z:O=z,new w.Column(O,V,z)})}function K(Q,V,z,re,ae,O,k){var ne=(0,x.getTheme)(re),te;Q==="head"?te=ae.headStyles:Q==="body"?te=ae.bodyStyles:Q==="foot"&&(te=ae.footStyles);var ve=(0,T.assign)({},ne.table,ne[Q],ae.styles,te),F=ae.columnStyles[V.dataKey]||ae.columnStyles[V.index]||{},J=Q==="body"?F:{},ie=Q==="body"&&z%2===0?(0,T.assign)({},ne.alternateRow,ae.alternateRowStyles):{},oe=(0,x.defaultStyles)(O),U=(0,T.assign)({},oe,ve,ie,J);return(0,T.assign)(U,k)}},664:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.addPage=d.drawTable=void 0;var b=p(420),w=p(260),C=p(744),x=p(356),T=p(136),L=p(224);function I(F,J){var ie=J.settings,oe=ie.startY,U=ie.margin,ce={x:U.left,y:oe},M=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns),H=oe+U.bottom+M;if(ie.pageBreak==="avoid"){var X=J.body,le=X.reduce(function(xe,pe){return xe+pe.height},0);H+=le}var ue=new C.DocHandler(F);(ie.pageBreak==="always"||ie.startY!=null&&H>ue.pageSize().height)&&(ve(ue),ce.y=U.top),J.callWillDrawPageHooks(ue,ce);var _e=(0,x.assign)({},ce);J.startPageNumber=ue.pageNumber(),ie.horizontalPageBreak?E(ue,J,_e,ce):(ue.applyStyles(ue.userStyles),(ie.showHead==="firstPage"||ie.showHead==="everyPage")&&J.head.forEach(function(xe){return ae(ue,J,xe,ce,J.columns)}),ue.applyStyles(ue.userStyles),J.body.forEach(function(xe,pe){var Ye=pe===J.body.length-1;re(ue,J,xe,Ye,_e,ce,J.columns)}),ue.applyStyles(ue.userStyles),(ie.showFoot==="lastPage"||ie.showFoot==="everyPage")&&J.foot.forEach(function(xe){return ae(ue,J,xe,ce,J.columns)})),(0,b.addTableBorder)(ue,J,_e,ce),J.callEndPageHooks(ue,ce),J.finalY=ce.y,F.lastAutoTable=J,F.previousAutoTable=J,F.autoTable&&(F.autoTable.previous=J),ue.applyStyles(ue.userStyles)}d.drawTable=I;function E(F,J,ie,oe){var U=(0,L.calculateAllColumnsCanFitInPage)(F,J),ce=J.settings;if(ce.horizontalPageBreakBehaviour==="afterAllRows")U.forEach(function(le,ue){F.applyStyles(F.userStyles),ue>0?te(F,J,ie,oe,le.columns,!0):R(F,J,oe,le.columns),D(F,J,ie,oe,le.columns),K(F,J,oe,le.columns)});else for(var M=-1,H=U[0],X=function(){var le=M;if(H){F.applyStyles(F.userStyles);var ue=H.columns;M>=0?te(F,J,ie,oe,ue,!0):R(F,J,oe,ue),le=j(F,J,M+1,oe,ue),K(F,J,oe,ue)}var _e=le-M;U.slice(1).forEach(function(xe){F.applyStyles(F.userStyles),te(F,J,ie,oe,xe.columns,!0),j(F,J,M+1,oe,xe.columns,_e),K(F,J,oe,xe.columns)}),M=le};M<J.body.length-1;)X()}function R(F,J,ie,oe){var U=J.settings;F.applyStyles(F.userStyles),(U.showHead==="firstPage"||U.showHead==="everyPage")&&J.head.forEach(function(ce){return ae(F,J,ce,ie,oe)})}function D(F,J,ie,oe,U){F.applyStyles(F.userStyles),J.body.forEach(function(ce,M){var H=M===J.body.length-1;re(F,J,ce,H,ie,oe,U)})}function j(F,J,ie,oe,U,ce){F.applyStyles(F.userStyles),ce=ce??J.body.length;var M=Math.min(ie+ce,J.body.length),H=-1;return J.body.slice(ie,M).forEach(function(X,le){var ue=ie+le===J.body.length-1,_e=ne(F,J,ue,oe);X.canEntireRowFit(_e,U)&&(ae(F,J,X,oe,U),H=ie+le)}),H}function K(F,J,ie,oe){var U=J.settings;F.applyStyles(F.userStyles),(U.showFoot==="lastPage"||U.showFoot==="everyPage")&&J.foot.forEach(function(ce){return ae(F,J,ce,ie,oe)})}function Q(F,J,ie){var oe=ie.getLineHeight(F.styles.fontSize),U=F.padding("vertical"),ce=Math.floor((J-U)/oe);return Math.max(0,ce)}function V(F,J,ie,oe){var U={};F.spansMultiplePages=!0,F.height=0;for(var ce=0,M=0,H=ie.columns;M<H.length;M++){var X=H[M],le=F.cells[X.index];if(le){Array.isArray(le.text)||(le.text=[le.text]);var ue=new w.Cell(le.raw,le.styles,le.section);ue=(0,x.assign)(ue,le),ue.text=[];var _e=Q(le,J,oe);le.text.length>_e&&(ue.text=le.text.splice(_e,le.text.length));var xe=oe.scaleFactor(),pe=oe.getLineHeightFactor();le.contentHeight=le.getContentHeight(xe,pe),le.contentHeight>=J&&(le.contentHeight=J,ue.styles.minCellHeight-=J),le.contentHeight>F.height&&(F.height=le.contentHeight),ue.contentHeight=ue.getContentHeight(xe,pe),ue.contentHeight>ce&&(ce=ue.contentHeight),U[X.index]=ue}}var Ye=new w.Row(F.raw,-1,F.section,U,!0);Ye.height=ce;for(var We=0,rt=ie.columns;We<rt.length;We++){var X=rt[We],ue=Ye.cells[X.index];ue&&(ue.height=Ye.height);var le=F.cells[X.index];le&&(le.height=F.height)}return Ye}function z(F,J,ie,oe){var U=F.pageSize().height,ce=oe.settings.margin,M=ce.top+ce.bottom,H=U-M;J.section==="body"&&(H-=oe.getHeadHeight(oe.columns)+oe.getFootHeight(oe.columns));var X=J.getMinimumRowHeight(oe.columns,F),le=X<ie;if(X>H)return console.error("Will not be able to print row ".concat(J.index," correctly since it's minimum height is larger than page height")),!0;if(!le)return!1;var ue=J.hasRowSpan(oe.columns),_e=J.getMaxCellHeight(oe.columns)>H;return _e?(ue&&console.error("The content of row ".concat(J.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ue||oe.settings.rowPageBreak==="avoid")}function re(F,J,ie,oe,U,ce,M){var H=ne(F,J,oe,ce);if(ie.canEntireRowFit(H,M))ae(F,J,ie,ce,M);else if(z(F,ie,H,J)){var X=V(ie,H,J,F);ae(F,J,ie,ce,M),te(F,J,U,ce,M),re(F,J,X,oe,U,ce,M)}else te(F,J,U,ce,M),re(F,J,ie,oe,U,ce,M)}function ae(F,J,ie,oe,U){oe.x=J.settings.margin.left;for(var ce=0,M=U;ce<M.length;ce++){var H=M[ce],X=ie.cells[H.index];if(!X){oe.x+=H.width;continue}F.applyStyles(X.styles),X.x=oe.x,X.y=oe.y;var le=J.callCellHooks(F,J.hooks.willDrawCell,X,ie,H,oe);if(le===!1){oe.x+=H.width;continue}O(F,X,oe);var ue=X.getTextPos();(0,T.default)(X.text,ue.x,ue.y,{halign:X.styles.halign,valign:X.styles.valign,maxWidth:Math.ceil(X.width-X.padding("left")-X.padding("right"))},F.getDocument()),J.callCellHooks(F,J.hooks.didDrawCell,X,ie,H,oe),oe.x+=H.width}oe.y+=ie.height}function O(F,J,ie){var oe=J.styles;if(F.getDocument().setFillColor(F.getDocument().getFillColor()),typeof oe.lineWidth=="number"){var U=(0,b.getFillStyle)(oe.lineWidth,oe.fillColor);U&&F.rect(J.x,ie.y,J.width,J.height,U)}else typeof oe.lineWidth=="object"&&(oe.fillColor&&F.rect(J.x,ie.y,J.width,J.height,"F"),k(F,J,ie,oe.lineWidth))}function k(F,J,ie,oe){var U,ce,M,H;oe.top&&(U=ie.x,ce=ie.y,M=ie.x+J.width,H=ie.y,oe.right&&(M+=.5*oe.right),oe.left&&(U-=.5*oe.left),X(oe.top,U,ce,M,H)),oe.bottom&&(U=ie.x,ce=ie.y+J.height,M=ie.x+J.width,H=ie.y+J.height,oe.right&&(M+=.5*oe.right),oe.left&&(U-=.5*oe.left),X(oe.bottom,U,ce,M,H)),oe.left&&(U=ie.x,ce=ie.y,M=ie.x,H=ie.y+J.height,oe.top&&(ce-=.5*oe.top),oe.bottom&&(H+=.5*oe.bottom),X(oe.left,U,ce,M,H)),oe.right&&(U=ie.x+J.width,ce=ie.y,M=ie.x+J.width,H=ie.y+J.height,oe.top&&(ce-=.5*oe.top),oe.bottom&&(H+=.5*oe.bottom),X(oe.right,U,ce,M,H));function X(le,ue,_e,xe,pe){F.getDocument().setLineWidth(le),F.getDocument().line(ue,_e,xe,pe,"S")}}function ne(F,J,ie,oe){var U=J.settings.margin.bottom,ce=J.settings.showFoot;return(ce==="everyPage"||ce==="lastPage"&&ie)&&(U+=J.getFootHeight(J.columns)),F.pageSize().height-oe.y-U}function te(F,J,ie,oe,U,ce){U===void 0&&(U=[]),ce===void 0&&(ce=!1),F.applyStyles(F.userStyles),J.settings.showFoot==="everyPage"&&!ce&&J.foot.forEach(function(H){return ae(F,J,H,oe,U)}),J.callEndPageHooks(F,oe);var M=J.settings.margin;(0,b.addTableBorder)(F,J,ie,oe),ve(F),J.pageNumber++,J.pageCount++,oe.x=M.left,oe.y=M.top,ie.y=M.top,J.callWillDrawPageHooks(F,oe),J.settings.showHead==="everyPage"&&(J.head.forEach(function(H){return ae(F,J,H,oe,U)}),F.applyStyles(F.userStyles))}d.addPage=te;function ve(F){var J=F.pageNumber();F.setPage(J+1);var ie=F.pageNumber();return ie===J?(F.addPage(),!0):!1}},224:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.calculateAllColumnsCanFitInPage=void 0;var b=p(420);function w(x,T,L){var I;L===void 0&&(L={});var E=(0,b.getPageAvailableWidth)(x,T),R=new Map,D=[],j=[],K=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?K=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(K=[T.settings.horizontalPageBreakRepeat]),K.forEach(function(re){var ae=T.columns.find(function(O){return O.dataKey===re||O.index===re});ae&&!R.has(ae.index)&&(R.set(ae.index,!0),D.push(ae.index),j.push(T.columns[ae.index]),E-=ae.wrappedWidth)});for(var Q=!0,V=(I=L==null?void 0:L.start)!==null&&I!==void 0?I:0;V<T.columns.length;){if(R.has(V)){V++;continue}var z=T.columns[V].wrappedWidth;if(Q||E>=z)Q=!1,D.push(V),j.push(T.columns[V]),E-=z;else break;V++}return{colIndexes:D,columns:j,lastIndex:V-1}}function C(x,T){for(var L=[],I=0;I<T.columns.length;I++){var E=w(x,T,{start:I});E.columns.length&&(L.push(E),I=E.lastIndex)}return L}d.calculateAllColumnsCanFitInPage=C},324:function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0}),d.ellipsize=d.resizeColumns=d.calculateWidths=void 0;var b=p(420);function w(D,j){C(D,j);var K=[],Q=0;j.columns.forEach(function(z){var re=z.getMaxCustomCellWidth(j);re?z.width=re:(z.width=z.wrappedWidth,K.push(z)),Q+=z.width});var V=j.getWidth(D.pageSize().width)-Q;V&&(V=x(K,V,function(z){return Math.max(z.minReadableWidth,z.minWidth)})),V&&(V=x(K,V,function(z){return z.minWidth})),V=Math.abs(V),!j.settings.horizontalPageBreak&&V>.1/D.scaleFactor()&&(V=V<1?V:Math.round(V),console.warn("Of the table content, ".concat(V," units width could not fit page"))),L(j),I(j,D),T(j)}d.calculateWidths=w;function C(D,j){var K=D.scaleFactor(),Q=j.settings.horizontalPageBreak,V=(0,b.getPageAvailableWidth)(D,j);j.allRows().forEach(function(z){for(var re=0,ae=j.columns;re<ae.length;re++){var O=ae[re],k=z.cells[O.index];if(k){var ne=j.hooks.didParseCell;j.callCellHooks(D,ne,k,z,O,null);var te=k.padding("horizontal");k.contentWidth=(0,b.getStringWidth)(k.text,k.styles,D)+te;var ve=(0,b.getStringWidth)(k.text.join(" ").split(/\s+/),k.styles,D);if(k.minReadableWidth=ve+k.padding("horizontal"),typeof k.styles.cellWidth=="number")k.minWidth=k.styles.cellWidth,k.wrappedWidth=k.styles.cellWidth;else if(k.styles.cellWidth==="wrap"||Q===!0)k.contentWidth>V?(k.minWidth=V,k.wrappedWidth=V):(k.minWidth=k.contentWidth,k.wrappedWidth=k.contentWidth);else{var F=10/K;k.minWidth=k.styles.minCellWidth||F,k.wrappedWidth=k.contentWidth,k.minWidth>k.wrappedWidth&&(k.wrappedWidth=k.minWidth)}}}}),j.allRows().forEach(function(z){for(var re=0,ae=j.columns;re<ae.length;re++){var O=ae[re],k=z.cells[O.index];if(k&&k.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,k.wrappedWidth),O.minWidth=Math.max(O.minWidth,k.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,k.minReadableWidth);else{var ne=j.styles.columnStyles[O.dataKey]||j.styles.columnStyles[O.index]||{},te=ne.cellWidth||ne.minCellWidth;te&&typeof te=="number"&&(O.minWidth=te,O.wrappedWidth=te)}k&&(k.colSpan>1&&!O.minWidth&&(O.minWidth=k.minWidth),k.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=k.minWidth))}})}function x(D,j,K){for(var Q=j,V=D.reduce(function(F,J){return F+J.wrappedWidth},0),z=0;z<D.length;z++){var re=D[z],ae=re.wrappedWidth/V,O=Q*ae,k=re.width+O,ne=K(re),te=k<ne?ne:k;j-=te-re.width,re.width=te}if(j=Math.round(j*1e10)/1e10,j){var ve=D.filter(function(F){return j<0?F.width>K(F):!0});ve.length&&(j=x(ve,j,K))}return j}d.resizeColumns=x;function T(D){for(var j={},K=1,Q=D.allRows(),V=0;V<Q.length;V++)for(var z=Q[V],re=0,ae=D.columns;re<ae.length;re++){var O=ae[re],k=j[O.index];if(K>1)K--,delete z.cells[O.index];else if(k)k.cell.height+=z.height,K=k.cell.colSpan,delete z.cells[O.index],k.left--,k.left<=1&&delete j[O.index];else{var ne=z.cells[O.index];if(!ne)continue;if(ne.height=z.height,ne.rowSpan>1){var te=Q.length-V,ve=ne.rowSpan>te?te:ne.rowSpan;j[O.index]={cell:ne,left:ve,row:z}}}}}function L(D){for(var j=D.allRows(),K=0;K<j.length;K++)for(var Q=j[K],V=null,z=0,re=0,ae=0;ae<D.columns.length;ae++){var O=D.columns[ae];if(re-=1,re>1&&D.columns[ae+1])z+=O.width,delete Q.cells[O.index];else if(V){var k=V;delete Q.cells[O.index],V=null,k.width=O.width+z}else{var k=Q.cells[O.index];if(!k)continue;if(re=k.colSpan,z=0,k.colSpan>1){V=k,z+=O.width;continue}k.width=O.width+z}}}function I(D,j){for(var K={count:0,height:0},Q=0,V=D.allRows();Q<V.length;Q++){for(var z=V[Q],re=0,ae=D.columns;re<ae.length;re++){var O=ae[re],k=z.cells[O.index];if(k){j.applyStyles(k.styles,!0);var ne=k.width-k.padding("horizontal");if(k.styles.overflow==="linebreak")k.text=j.splitTextToSize(k.text,ne+1/j.scaleFactor(),{fontSize:k.styles.fontSize});else if(k.styles.overflow==="ellipsize")k.text=E(k.text,ne,k.styles,j,"...");else if(k.styles.overflow==="hidden")k.text=E(k.text,ne,k.styles,j,"");else if(typeof k.styles.overflow=="function"){var te=k.styles.overflow(k.text,ne);typeof te=="string"?k.text=[te]:k.text=te}k.contentHeight=k.getContentHeight(j.scaleFactor(),j.getLineHeightFactor());var ve=k.contentHeight/k.rowSpan;k.rowSpan>1&&K.count*K.height<ve*k.rowSpan?K={height:ve,count:k.rowSpan}:K&&K.count>0&&K.height>ve&&(ve=K.height),ve>z.height&&(z.height=ve)}}K.count--}}function E(D,j,K,Q,V){return D.map(function(z){return R(z,j,K,Q,V)})}d.ellipsize=E;function R(D,j,K,Q,V){var z=1e4*Q.scaleFactor();if(j=Math.ceil(j*z)/z,j>=(0,b.getStringWidth)(D,K,Q))return D;for(;j<(0,b.getStringWidth)(D+V,K,Q)&&!(D.length<=1);)D=D.substring(0,D.length-1);return D.trim()+V}},964:function(f){if(typeof t>"u"){var d=new Error("Cannot find module 'undefined'");throw d.code="MODULE_NOT_FOUND",d}f.exports=t}},o={};function s(f){var d=o[f];if(d!==void 0)return d.exports;var p=o[f]={exports:{}};return i[f].call(p.exports,p,p.exports,s),p.exports}var u={};return function(){var f=u;Object.defineProperty(f,"__esModule",{value:!0}),f.Cell=f.Column=f.Row=f.Table=f.CellHookData=f.__drawTable=f.__createTable=f.applyPlugin=void 0;var d=s(340),p=s(776),b=s(664),w=s(972),C=s(260);Object.defineProperty(f,"Table",{enumerable:!0,get:function(){return C.Table}});var x=s(172);Object.defineProperty(f,"CellHookData",{enumerable:!0,get:function(){return x.CellHookData}});var T=s(260);Object.defineProperty(f,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(f,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(f,"Row",{enumerable:!0,get:function(){return T.Row}});function L(j){(0,d.default)(j)}f.applyPlugin=L;function I(j,K){var Q=(0,p.parseInput)(j,K),V=(0,w.createTable)(j,Q);(0,b.drawTable)(j,V)}function E(j,K){var Q=(0,p.parseInput)(j,K);return(0,w.createTable)(j,Q)}f.__createTable=E;function R(j,K){(0,b.drawTable)(j,K)}f.__drawTable=R;try{var D=s(964);D.jsPDF&&(D=D.jsPDF),L(D)}catch{}f.default=I}(),u}()})}(xd)),xd.exports}var hb=db();const pb=Kp(hb),kp=r=>r==null||String(r).toUpperCase()==="NULL"?"Sin Datos":typeof r=="boolean"?r?"Sí":"No":typeof r=="object"?JSON.stringify(r,null,2):String(r),Nd=r=>{if(!r||r.length===0)return[];const e=r.reduce((o,s)=>(Object.keys(s).forEach(u=>{o.includes(u)||o.push(u)}),o),[]),t=["name","taskName","description","type","status","role","availability","crop","area","location","model","year","category","unit","startDate","endDate","startDateTime","endDateTime","contactPerson","phone","email","id","clientId","contractorId","fieldId","lotId","parcelId","campaignId","tasksListId","createdByUserId","taskId","machineryId","personnelId","productInsumeId","userId"],i=[...new Set([...t.filter(o=>e.includes(o)),...e])];if(i.length<=2&&i.includes("id")&&i[0]!=="id"){const o=i.indexOf("id");if(o>0){const s=i.splice(o,1)[0];i.unshift(s)}}else if(i.length>2&&i[0]==="id"&&(i.includes("name")||i.includes("taskName"))){const o=i.indexOf("id"),s=i.indexOf("name"),u=i.indexOf("taskName");if(!(s!==-1&&o>s)){if(!(u!==-1&&o>u)){if(o!==-1){const f=i.splice(o,1)[0];let d=0;s!==-1?d=s+1:u!==-1?d=u+1:d=1,i.splice(Math.min(d,i.length),0,f)}}}}return i},wd=r=>{if(jr[r])return jr[r];let e=r.replace(/([A-Z])/g," $1");return e=e.replace(/_/g," "),e=e.charAt(0).toUpperCase()+e.slice(1),e},mb=({isOpen:r,onClose:e,title:t,items:i,entityTypeForHeaders:o})=>{const[s,u]=$e.useState(""),[f,d]=$e.useState(1),p=$e.useRef(null),[b,w]=$e.useState({key:null,direction:"ascending"});$e.useEffect(()=>{r&&(u(""),d(1),w({key:null,direction:"ascending"}))},[r,i,t]);const C=$e.useMemo(()=>Nd(i),[i]),x=$e.useMemo(()=>{if(!s)return i;const Q=s.toLowerCase();return i.filter(V=>C.some(z=>{const re=V[z],ae=kp(re);return String(ae).toLowerCase().includes(Q)}))},[i,s,C]),T=$e.useMemo(()=>{let Q=[...x];return b.key&&Q.sort((V,z)=>{const re=V[b.key],ae=z[b.key];if(re==null&&ae==null)return 0;if(re==null)return b.direction==="ascending"?-1:1;if(ae==null)return b.direction==="ascending"?1:-1;if(typeof re=="number"&&typeof ae=="number")return b.direction==="ascending"?re-ae:ae-re;const O=String(re).toLowerCase(),k=String(ae).toLowerCase();return O<k?b.direction==="ascending"?-1:1:O>k?b.direction==="ascending"?1:-1:0}),Q},[x,b]),L=Q=>{let V="ascending";b.key===Q&&b.direction==="ascending"&&(V="descending"),w({key:Q,direction:V})};if(!r)return null;const I=()=>d(Q=>Math.min(Q+.1,2)),E=()=>d(Q=>Math.max(Q-.1,.5)),R=()=>{em(T,t,o)},D=(Q,V)=>{var O;const z=(O=Q.querySelector("table"))==null?void 0:O.cloneNode(!0);if(!z)return`<html><body><h1>${V}</h1><p>No se pudo encontrar la tabla para imprimir.</p></body></html>`;z.querySelectorAll(".no-print, .no-print-in-section").forEach(k=>k.remove());const re=`
      <style>
        body { font-family: 'Inter', sans-serif; margin: 20px; }
        h1.print-page-title { font-size: 16pt; text-align: center; margin-bottom: 15px; color: black !important; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid #888; padding: 5px 8px; text-align: left; font-size: 9pt; word-break: break-word; color: black !important; page-break-inside: avoid; }
        th { background-color: #eee; font-weight: bold; }
        .no-print, .no-print-in-section { display: none !important; }
        .dark\\:bg-gray-800, .dark\\:bg-gray-700, .dark\\:bg-gray-600, .dark\\:bg-gray-500, .dark\\:bg-gray-650, .dark\\:bg-gray-100 { background-color: white !important; }
        .dark\\:text-gray-100, .dark\\:text-gray-200, .dark\\:text-gray-300, .dark\\:text-gray-400 { color: black !important; }
        .dark\\:divide-gray-500, .dark\\:divide-gray-300 { border-color: #ccc !important; }
        .dark\\:hover\\:bg-gray-550:hover, .dark\\:hover\\:bg-gray-200:hover { background-color: #f0f0f0 !important; }
        /* Sticky header removal for print */
        thead { position: static !important; }
        /* Remove sort indicators for print */
        th .sort-indicator { display: none !important; }
      </style>
    `,ae=z.querySelector("thead tr");return ae&&ae.querySelectorAll("th").forEach(k=>{const ne=k.querySelector(".sort-indicator");ne&&ne.remove()}),`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${V}</title>
          ${re}
        </head>
        <body>
          <h1 class="print-page-title">${V}</h1>
          ${z.outerHTML}
        </body>
      </html>
    `},j=()=>{var re;if(!p.current){alert("No se pudo encontrar el contenido para imprimir.");return}const Q=D(p.current,t);if(!Q||Q.includes("<body></body>")){console.error("Generated printable HTML is empty or malformed for:",t),alert("No se pudo generar el contenido para la impresión. Intente de nuevo.");return}const V=document.createElement("iframe");V.style.position="absolute",V.style.width="0",V.style.height="0",V.style.border="0",V.setAttribute("title","Contenido de Impresión"),V.setAttribute("aria-hidden","true"),document.body.appendChild(V);let z=null;try{const ae=(re=V.contentWindow)==null?void 0:re.document;if(!ae)throw new Error("Could not access iframe document.");ae.open(),ae.write(Q),ae.close(),z=window.setTimeout(()=>{document.body.contains(V)&&(console.warn("iframe onload fallback: Removing print frame for",t),document.body.removeChild(V))},3e3),V.onload=()=>{z&&clearTimeout(z);try{if(V.contentWindow)V.contentWindow.focus(),setTimeout(()=>{var O;try{(O=V.contentWindow)==null||O.print()}catch(k){console.error(`Error during print() call for ${t}:`,k),alert(`Ocurrió un error al invocar la impresión: ${k.message}`)}finally{setTimeout(()=>{document.body.contains(V)&&document.body.removeChild(V)},1e3)}},100);else throw new Error("iframe contentWindow is not available after load.")}catch(O){console.error(`Error during print operation for ${t}:`,O),alert(`Ocurrió un error al intentar imprimir: ${O.message}`),setTimeout(()=>{document.body.contains(V)&&document.body.removeChild(V)},500)}}}catch(ae){console.error(`Error setting up iframe for print (${t}):`,ae),alert(`Error al preparar la impresión: ${ae.message}`),z&&clearTimeout(z),document.body.contains(V)&&document.body.removeChild(V)}},K=()=>{if(!T||T.length===0){alert("No hay datos para exportar a PDF.");return}try{const Q=new Mt({orientation:"landscape"});let V,z,re,ae;if(o&&ff[o]){const k=ff[o];ae=k.map(ne=>jr[ne.replace(/_([a-z0-9])/g,te=>te[1].toUpperCase())]||wd(ne)),re=k.map(ne=>{let te=ne.replace(/_([a-z0-9])/g,ve=>ve[1].toUpperCase());return(o==="contractors"&&ne==="contractor_id"||o==="tasks"&&ne==="task_entry_id")&&(te="id"),te})}else re=Nd(T),ae=re.map(k=>jr[k]||wd(k));V=[ae],z=T.map(k=>re.map(ne=>{const te=k[ne];return te==null||String(te).toUpperCase()==="NULL"?"Sin Datos":typeof te=="boolean"?te?"Sí":"No":String(te)})),pb(Q,{head:V,body:z,startY:20,headStyles:{fillColor:[22,160,133]},alternateRowStyles:{fillColor:[240,240,240]},styles:{fontSize:8,cellPadding:1.5,minCellHeight:5},columnStyles:ae.reduce((k,ne,te)=>(k[te]={cellWidth:"wrap"},k),{}),tableWidth:"auto",margin:{top:20,right:10,bottom:10,left:10},didDrawPage:k=>{Q.setFontSize(14),Q.text(t,k.settings.margin.left,15),Q.setFontSize(8),Q.text(`Página ${k.pageNumber}`,k.settings.margin.left,Q.internal.pageSize.height-5)}});const O=`${t.replace(/[^a-z0-9_.-]/gi,"_").toLowerCase()}_${new Date().toISOString().slice(0,10)}.pdf`;Q.save(O)}catch(Q){console.error("Error al generar PDF:",Q),alert(`Error al generar PDF: ${Q.message}`)}};return Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm flex flex-col items-center justify-center z-50 p-2 sm:p-4 md:p-6 no-print",role:"dialog","aria-modal":"true","aria-labelledby":"fullscreen-data-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full h-full max-w-full max-h-full flex flex-col text-gray-800 dark:text-gray-100",children:[Y.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-300 dark:border-gray-700 flex-shrink-0",children:[Y.jsxs("h2",{id:"fullscreen-data-title",className:"text-base sm:text-lg font-semibold text-green-600 dark:text-green-400 truncate pr-2 flex-shrink min-w-0",children:[t," (",T.length," ",T.length===1?"el.":"els.",")"]}),Y.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 flex-wrap",children:[Y.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-md p-1 my-1",children:[Y.jsx("input",{type:"text",placeholder:"Buscar...",value:s,onChange:Q=>u(Q.target.value),className:"px-2 py-1 text-xs sm:text-sm bg-transparent focus:outline-none w-20 xxs:w-24 xs:w-32 sm:w-auto","aria-label":"Buscar en la tabla"}),Y.jsx(iy,{className:"h-4 w-4 text-gray-500 dark:text-gray-400 mr-1"})]}),Y.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:inline my-1",children:["Zoom: ",Math.round(f*100),"%"]}),Y.jsx("button",{onClick:E,title:"Alejar",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Alejar zoom",children:Y.jsx(ny,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:I,title:"Acercar",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Acercar zoom",children:Y.jsx(ty,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:j,title:"Imprimir Tabla",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Imprimir tabla",children:Y.jsx(Xp,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:R,title:"Descargar CSV",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Descargar CSV",children:Y.jsx(Qp,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:K,title:"Descargar PDF",className:"p-1.5 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 my-1","aria-label":"Descargar PDF",children:Y.jsx(ry,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),Y.jsx("button",{onClick:e,title:"Cerrar Vista Completa",className:"p-1.5 sm:p-2 rounded bg-red-500 hover:bg-red-600 text-white my-1","aria-label":"Cerrar vista completa",children:Y.jsx(ey,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]}),Y.jsx("div",{ref:p,className:"flex-grow p-1 sm:p-2 overflow-auto",style:{fontSize:`${f*100}%`},children:T.length>0?Y.jsx(T2,{items:T,columnOrder:C,formatValueFunction:kp,formatHeaderFunction:wd,sortConfig:b,onRequestSort:L}):Y.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic mt-10",children:s?"No hay resultados para su búsqueda.":"No hay datos para mostrar."})})]})})},gb=({database:r,groupedResults:e,onViewFullScreen:t})=>{const[i,o]=$e.useState(null),s=$e.useRef(new Map),u=w=>{o(C=>C===w?null:w)},f=w=>{em(w.items,w.groupTitle,w.entityType)},d=w=>{t({title:w.groupTitle,items:w.items,entityType:w.entityType})},p=(w,C)=>{let x="";const T=w.querySelector("table"),L=w.querySelector(".space-y-2");if(T){const E=document.createElement("table"),R=T.querySelector("thead"),D=T.querySelector("tbody");R&&E.appendChild(R.cloneNode(!0)),D&&E.appendChild(D.cloneNode(!0)),E.querySelectorAll(".no-print, .no-print-in-section").forEach(j=>j.remove()),x=E.outerHTML}else if(L&&L.closest(".mb-4.p-3")){let E="<ul>";w.querySelectorAll(".bg-gray-200.dark\\:bg-gray-600.p-2.rounded.shadow").forEach(D=>{const j=D.querySelector("button > span.font-medium");let K=`<li><strong>${j?j.textContent:"Elemento"}</strong>: `;const Q=D.querySelector('div[id^="details-"]');if(Q){const V=[];Q.querySelectorAll("div.grid.grid-cols-3").forEach(z=>{var O,k;const re=z.querySelector("strong"),ae=z.querySelector("span.col-span-2, pre.col-span-2");re&&ae&&V.push(`${(O=re.textContent)==null?void 0:O.replace(":","").trim()} - ${(k=ae.textContent)==null?void 0:k.trim()}`)}),K+=V.join("; ")||"(No hay detalles visibles)"}else K+="(Detalles no expandidos en esta vista)";K+="</li>",E+=K}),E+="</ul>",x=E}else{const E=w.cloneNode(!0);E.querySelectorAll('.no-print, .no-print-in-section, button, [aria-hidden="true"]').forEach(R=>R.remove()),x=E.innerHTML}return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${C}</title>
          
      <style>
        body { font-family: 'Inter', sans-serif; margin: 20px; color: #333; }
        h1.print-page-title { font-size: 16pt; text-align: center; margin-bottom: 15px; color: black !important; }
        table { border-collapse: collapse; width: 100%; margin-top: 10px; }
        th, td { border: 1px solid #888; padding: 5px 8px; text-align: left; font-size: 9pt; word-break: break-word; color: black !important; page-break-inside: avoid; }
        th { background-color: #eee; font-weight: bold; }
        ul { list-style-type: disc; padding-left: 20px; font-size: 9pt; }
        li { margin-bottom: 4px; color: black !important; page-break-inside: avoid; }
        strong { font-weight: bold; }
        .no-print, .no-print-in-section { display: none !important; }
        .dark\\:bg-gray-800, .dark\\:bg-gray-700, .dark\\:bg-gray-600, .dark\\:bg-gray-500, .dark\\:bg-gray-200 { background-color: white !important; }
        .dark\\:text-gray-100, .dark\\:text-gray-200, .dark\\:text-gray-300, .dark\\:text-gray-400, .dark\\:text-yellow-300, .dark\\:text-yellow-400, .dark\\:text-yellow-500, .dark\\:text-gray-700 { color: black !important; }
        .dark\\:border-gray-600, .dark\\:border-gray-500, .dark\\:border-gray-300 { border-color: #ccc !important; }
      </style>
    
        </head>
        <body>
          <h1 class="print-page-title">${C}</h1>
          ${x}
        </body>
      </html>
    `},b=(w,C)=>{var E;const x=s.current.get(w);if(!x){console.error("Content element for printing not found for group index:",w),alert("No se pudo encontrar el contenido para imprimir.");return}const T=p(x,C);if(!T||T.includes("<body></body>")){console.error("Generated printable HTML is empty or malformed for:",C),alert("No se pudo generar el contenido para la impresión. Intente de nuevo.");return}const L=document.createElement("iframe");L.style.position="absolute",L.style.width="0",L.style.height="0",L.style.border="0",L.style.zIndex="99999",L.setAttribute("title","Contenido de Impresión"),L.setAttribute("aria-hidden","true"),document.body.appendChild(L);let I=null;try{const R=(E=L.contentWindow)==null?void 0:E.document;if(!R)throw new Error("Could not access iframe document.");R.open(),R.write(T),R.close(),I=window.setTimeout(()=>{document.body.contains(L)&&(console.warn("iframe onload fallback: Removing print frame for",C),document.body.removeChild(L))},3e3),L.onload=()=>{I&&clearTimeout(I);try{if(L.contentWindow)L.contentWindow.focus(),setTimeout(()=>{var D;try{(D=L.contentWindow)==null||D.print()}catch(j){console.error(`Error during print() call for ${C}:`,j),alert(`Ocurrió un error al invocar la impresión: ${j.message}`)}finally{setTimeout(()=>{document.body.contains(L)&&document.body.removeChild(L)},1e3)}},100);else throw new Error("iframe contentWindow is not available after load.")}catch(D){console.error(`Error during print operation for ${C}:`,D),alert(`Ocurrió un error al intentar imprimir: ${D.message}`),setTimeout(()=>{document.body.contains(L)&&document.body.removeChild(L)},500)}}}catch(R){console.error(`Error setting up iframe for print (${C}):`,R),alert(`Error al preparar la impresión: ${R.message}`),I&&clearTimeout(I),document.body.contains(L)&&document.body.removeChild(L)}};return Y.jsxs("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 p-4 overflow-y-auto border-l border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-200 bg-transition no-print",children:[Y.jsx("h2",{className:"text-lg font-semibold mb-4 text-green-600 dark:text-green-400 border-b border-gray-300 dark:border-gray-600 pb-2",children:"Lista de Trabajos de Agro Aereo Roberts"}),e&&e.length>0&&Y.jsxs("div",{className:"mb-6",children:[Y.jsx("h3",{className:"text-md font-semibold mb-2 text-yellow-600 dark:text-yellow-400",children:"Resultados de la Consulta:"}),e.map((w,C)=>{const x=w.items.length>0&&(w.entityType||w.groupTitle.toLowerCase().startsWith("listado:")),T=w.count!==void 0?w.count:w.items.length;return Y.jsxs("div",{className:"mb-4 p-3 bg-gray-200 dark:bg-gray-700 rounded-lg shadow",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsxs("h4",{className:"text-sm font-medium text-yellow-500 dark:text-yellow-300",children:[w.groupTitle," (",T," elemento",T===1?"":"s",")"]}),w.items.length>0&&Y.jsxs("div",{className:"flex space-x-1 no-print-in-section",children:[Y.jsx("button",{onClick:()=>f(w),title:"Descargar CSV",className:"p-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded-md text-xs","aria-label":"Descargar resultados como CSV",children:Y.jsx(Qp,{className:"h-3.5 w-3.5"})}),Y.jsx("button",{onClick:()=>d(w),title:"Ver en Pantalla Completa",className:"p-1.5 bg-indigo-500 hover:bg-indigo-600 text-white rounded-md text-xs","aria-label":"Ver resultados en pantalla completa",children:Y.jsx(A2,{className:"h-3.5 w-3.5"})}),Y.jsx("button",{onClick:()=>b(C,`Impresión: ${w.groupTitle}`),title:"Imprimir Resultados",className:"p-1.5 bg-gray-500 hover:bg-gray-600 text-white rounded-md text-xs","aria-label":"Imprimir Resultados",children:Y.jsx(Xp,{className:"h-3.5 w-3.5"})})]})]}),Y.jsx("div",{ref:L=>{L?s.current.set(C,L):s.current.delete(C)},children:x?Y.jsx(T2,{items:w.items,columnOrder:Nd(w.items),formatValueFunction:kp,formatHeaderFunction:wd}):w.items.length>0?Y.jsx(b0,{items:w.items,defaultExpanded:!0}):Y.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No hay elementos para mostrar en este grupo."})})]},C)}),Y.jsx("hr",{className:"my-4 border-gray-300 dark:border-gray-600"})]}),Y.jsx("div",{className:"space-y-3",children:ns.map(w=>{const C=r[w],x=Hr[w];return Y.jsxs("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-lg shadow",children:[Y.jsxs("button",{onClick:()=>u(w),className:"w-full flex justify-between items-center p-3 text-left hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors rounded-t-lg","aria-expanded":i===w,"aria-controls":`entity-details-${w}`,children:[Y.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:[x," (",C.length,")"]}),Y.jsx("span",{className:`transform transition-transform text-gray-600 dark:text-gray-400 ${i===w?"rotate-180":"rotate-0"}`,"aria-hidden":"true",children:"▼"})]}),i===w&&Y.jsx("div",{id:`entity-details-${w}`,className:"p-3 border-t border-gray-300 dark:border-gray-600",children:C.length>0?Y.jsx(b0,{items:C}):Y.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:["No hay datos para ",x,"."]})})]},w)})})]})};var bn;(function(r){r.assertEqual=o=>{};function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{const s={};for(const u of o)s[u]=u;return s},r.getValidEnumValues=o=>{const s=r.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),u={};for(const f of s)u[f]=o[f];return r.objectValues(u)},r.objectValues=o=>r.objectKeys(o).map(function(s){return o[s]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&s.push(u);return s},r.find=(o,s)=>{for(const u of o)if(s(u))return u},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,s=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(s)}r.joinValues=i,r.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(bn||(bn={}));var H0;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(H0||(H0={}));const vt=bn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zs=r=>{switch(typeof r){case"undefined":return vt.undefined;case"string":return vt.string;case"number":return Number.isNaN(r)?vt.nan:vt.number;case"boolean":return vt.boolean;case"function":return vt.function;case"bigint":return vt.bigint;case"symbol":return vt.symbol;case"object":return Array.isArray(r)?vt.array:r===null?vt.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?vt.promise:typeof Map<"u"&&r instanceof Map?vt.map:typeof Set<"u"&&r instanceof Set?vt.set:typeof Date<"u"&&r instanceof Date?vt.date:vt.object;default:return vt.unknown}},Xe=bn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class is extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},o=s=>{for(const u of s.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(t(u));else{let f=i,d=0;for(;d<u.path.length;){const p=u.path[d];d===u.path.length-1?(f[p]=f[p]||{_errors:[]},f[p]._errors.push(t(u))):f[p]=f[p]||{_errors:[]},f=f[p],d++}}};return o(this),i}static assert(e){if(!(e instanceof is))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}is.create=r=>new is(r);const Rp=(r,e)=>{let t;switch(r.code){case Xe.invalid_type:r.received===vt.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Xe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,bn.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:t=`Unrecognized key(s) in object: ${bn.joinValues(r.keys,", ")}`;break;case Xe.invalid_union:t="Invalid input";break;case Xe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${bn.joinValues(r.options)}`;break;case Xe.invalid_enum_value:t=`Invalid enum value. Expected ${bn.joinValues(r.options)}, received '${r.received}'`;break;case Xe.invalid_arguments:t="Invalid function arguments";break;case Xe.invalid_return_type:t="Invalid function return type";break;case Xe.invalid_date:t="Invalid date";break;case Xe.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:bn.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Xe.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Xe.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Xe.custom:t="Invalid input";break;case Xe.invalid_intersection_types:t="Intersection results could not be merged";break;case Xe.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Xe.not_finite:t="Number must be finite";break;default:t=e.defaultError,bn.assertNever(r)}return{message:t}};let vb=Rp;function yb(){return vb}const bb=r=>{const{data:e,path:t,errorMaps:i,issueData:o}=r,s=[...t,...o.path||[]],u={...o,path:s};if(o.message!==void 0)return{...o,path:s,message:o.message};let f="";const d=i.filter(p=>!!p).slice().reverse();for(const p of d)f=p(u,{data:e,defaultError:f}).message;return{...o,path:s,message:f}};function ft(r,e){const t=yb(),i=bb({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Rp?void 0:Rp].filter(o=>!!o)});r.common.issues.push(i)}class pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const o of t){if(o.status==="aborted")return Wt;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const o of t){const s=await o.key,u=await o.value;i.push({key:s,value:u})}return pr.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const o of t){const{key:s,value:u}=o;if(s.status==="aborted"||u.status==="aborted")return Wt;s.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[s.value]=u.value)}return{status:e.value,value:i}}}const Wt=Object.freeze({status:"aborted"}),tf=r=>({status:"dirty",value:r}),oa=r=>({status:"valid",value:r}),j0=r=>r.status==="aborted",G0=r=>r.status==="dirty",Qu=r=>r.status==="valid",Ed=r=>typeof Promise<"u"&&r instanceof Promise;var St;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(St||(St={}));class wo{constructor(e,t,i,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Y0=(r,e)=>{if(Qu(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new is(r.common.issues);return this._error=t,this._error}}};function tn(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:o}=r;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(u,f)=>{const{message:d}=r;return u.code==="invalid_enum_value"?{message:d??f.defaultError}:typeof f.data>"u"?{message:d??i??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:d??t??f.defaultError}},description:o}}class un{get description(){return this._def.description}_getType(e){return Zs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pr,ctx:{common:e.parent.common,data:e.data,parsedType:Zs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Ed(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)},o=this._parseSync({data:e,path:i.path,parent:i});return Y0(i,o)}"~validate"(e){var i,o;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Qu(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(o=(i=s==null?void 0:s.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Qu(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zs(e)},o=this._parse({data:e,path:i.path,parent:i}),s=await(Ed(o)?o:Promise.resolve(o));return Y0(i,s)}refine(e,t){const i=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,s)=>{const u=e(o),f=()=>s.addIssue({code:Xe.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(e,t){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof t=="function"?t(i,o):t),!1))}_refinement(e){return new nc({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return el.create(this,this._def)}nullable(){return ic.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xo.create(this)}promise(){return Dd.create(this,this._def)}or(e){return Md.create([this,e],this._def)}and(e){return kd.create(this,e,this._def)}transform(e){return new nc({...tn(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Op({...tn(this._def),innerType:this,defaultValue:t,typeName:Ht.ZodDefault})}brand(){return new Vb({typeName:Ht.ZodBranded,type:this,...tn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Up({...tn(this._def),innerType:this,catchValue:t,typeName:Ht.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return im.create(this,e)}readonly(){return Fp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xb=/^c[^\s-]{8,}$/i,wb=/^[0-9a-z]+$/,_b=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Sb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ab=/^[a-z0-9_-]{21}$/i,Cb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Nb=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Eb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dp;const Lb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Rb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Db=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ib=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,j2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pb=new RegExp(`^${j2}$`);function G2(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Ob(r){return new RegExp(`^${G2(r)}$`)}function Ub(r){let e=`${j2}T${G2(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Fb(r,e){return!!((e==="v4"||!e)&&Lb.test(r)||(e==="v6"||!e)&&kb.test(r))}function Bb(r,e){if(!Cb.test(r))return!1;try{const[t]=r.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function qb(r,e){return!!((e==="v4"||!e)&&Mb.test(r)||(e==="v6"||!e)&&Rb.test(r))}class yo extends un{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==vt.string){const s=this._getOrReturnCtx(e);return ft(s,{code:Xe.invalid_type,expected:vt.string,received:s.parsedType}),Wt}const i=new pr;let o;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const u=e.data.length>s.value,f=e.data.length<s.value;(u||f)&&(o=this._getOrReturnCtx(e,o),u?ft(o,{code:Xe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):f&&ft(o,{code:Xe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")Nb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"email",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")dp||(dp=new RegExp(Eb,"u")),dp.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"emoji",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")Sb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"uuid",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")Ab.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"nanoid",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")xb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"cuid",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")wb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"cuid2",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")_b.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"ulid",code:Xe.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ft(o,{validation:"url",code:Xe.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"regex",code:Xe.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?Ub(s).test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?Pb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?Ob(s).test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?Tb.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"duration",code:Xe.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?Fb(e.data,s.version)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"ip",code:Xe.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?Bb(e.data,s.alg)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"jwt",code:Xe.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?qb(e.data,s.version)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"cidr",code:Xe.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?Db.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"base64",code:Xe.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?Ib.test(e.data)||(o=this._getOrReturnCtx(e,o),ft(o,{validation:"base64url",code:Xe.invalid_string,message:s.message}),i.dirty()):bn.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(o=>e.test(o),{validation:t,code:Xe.invalid_string,...St.errToObj(i)})}_addCheck(e){return new yo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...St.errToObj(e)})}url(e){return this._addCheck({kind:"url",...St.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...St.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...St.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...St.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...St.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...St.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...St.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...St.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...St.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...St.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...St.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...St.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...St.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...St.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...St.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...St.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...St.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...St.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...St.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...St.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...St.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...St.errToObj(t)})}nonempty(e){return this.min(1,St.errToObj(e))}trim(){return new yo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}yo.create=r=>new yo({checks:[],typeName:Ht.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...tn(r)});function zb(r,e){const t=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=t>i?t:i,s=Number.parseInt(r.toFixed(o).replace(".","")),u=Number.parseInt(e.toFixed(o).replace(".",""));return s%u/10**o}class Xl extends un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==vt.number){const s=this._getOrReturnCtx(e);return ft(s,{code:Xe.invalid_type,expected:vt.number,received:s.parsedType}),Wt}let i;const o=new pr;for(const s of this._def.checks)s.kind==="int"?bn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?zb(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.not_finite,message:s.message}),o.dirty()):bn.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,St.toString(t))}gt(e,t){return this.setLimit("min",e,!1,St.toString(t))}lte(e,t){return this.setLimit("max",e,!0,St.toString(t))}lt(e,t){return this.setLimit("max",e,!1,St.toString(t))}setLimit(e,t,i,o){return new Xl({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:St.toString(o)}]})}_addCheck(e){return new Xl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:St.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:St.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:St.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:St.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:St.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Xl.create=r=>new Xl({checks:[],typeName:Ht.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...tn(r)});class Ql extends un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==vt.bigint)return this._getInvalidInput(e);let i;const o=new pr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Xe.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):bn.assertNever(s);return{status:o.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ft(t,{code:Xe.invalid_type,expected:vt.bigint,received:t.parsedType}),Wt}gte(e,t){return this.setLimit("min",e,!0,St.toString(t))}gt(e,t){return this.setLimit("min",e,!1,St.toString(t))}lte(e,t){return this.setLimit("max",e,!0,St.toString(t))}lt(e,t){return this.setLimit("max",e,!1,St.toString(t))}setLimit(e,t,i,o){return new Ql({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:St.toString(o)}]})}_addCheck(e){return new Ql({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:St.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:St.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:St.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:St.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:St.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ql.create=r=>new Ql({checks:[],typeName:Ht.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...tn(r)});class Ld extends un{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==vt.boolean){const i=this._getOrReturnCtx(e);return ft(i,{code:Xe.invalid_type,expected:vt.boolean,received:i.parsedType}),Wt}return oa(e.data)}}Ld.create=r=>new Ld({typeName:Ht.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...tn(r)});class ec extends un{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==vt.date){const s=this._getOrReturnCtx(e);return ft(s,{code:Xe.invalid_type,expected:vt.date,received:s.parsedType}),Wt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ft(s,{code:Xe.invalid_date}),Wt}const i=new pr;let o;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),ft(o,{code:Xe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):bn.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ec({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:St.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:St.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ec.create=r=>new ec({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Ht.ZodDate,...tn(r)});class W0 extends un{_parse(e){if(this._getType(e)!==vt.symbol){const i=this._getOrReturnCtx(e);return ft(i,{code:Xe.invalid_type,expected:vt.symbol,received:i.parsedType}),Wt}return oa(e.data)}}W0.create=r=>new W0({typeName:Ht.ZodSymbol,...tn(r)});class J0 extends un{_parse(e){if(this._getType(e)!==vt.undefined){const i=this._getOrReturnCtx(e);return ft(i,{code:Xe.invalid_type,expected:vt.undefined,received:i.parsedType}),Wt}return oa(e.data)}}J0.create=r=>new J0({typeName:Ht.ZodUndefined,...tn(r)});class K0 extends un{_parse(e){if(this._getType(e)!==vt.null){const i=this._getOrReturnCtx(e);return ft(i,{code:Xe.invalid_type,expected:vt.null,received:i.parsedType}),Wt}return oa(e.data)}}K0.create=r=>new K0({typeName:Ht.ZodNull,...tn(r)});class Z0 extends un{constructor(){super(...arguments),this._any=!0}_parse(e){return oa(e.data)}}Z0.create=r=>new Z0({typeName:Ht.ZodAny,...tn(r)});class Dp extends un{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oa(e.data)}}Dp.create=r=>new Dp({typeName:Ht.ZodUnknown,...tn(r)});class il extends un{_parse(e){const t=this._getOrReturnCtx(e);return ft(t,{code:Xe.invalid_type,expected:vt.never,received:t.parsedType}),Wt}}il.create=r=>new il({typeName:Ht.ZodNever,...tn(r)});class $0 extends un{_parse(e){if(this._getType(e)!==vt.undefined){const i=this._getOrReturnCtx(e);return ft(i,{code:Xe.invalid_type,expected:vt.void,received:i.parsedType}),Wt}return oa(e.data)}}$0.create=r=>new $0({typeName:Ht.ZodVoid,...tn(r)});class xo extends un{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),o=this._def;if(t.parsedType!==vt.array)return ft(t,{code:Xe.invalid_type,expected:vt.array,received:t.parsedType}),Wt;if(o.exactLength!==null){const u=t.data.length>o.exactLength.value,f=t.data.length<o.exactLength.value;(u||f)&&(ft(t,{code:u?Xe.too_big:Xe.too_small,minimum:f?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(ft(t,{code:Xe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(ft(t,{code:Xe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((u,f)=>o.type._parseAsync(new wo(t,u,t.path,f)))).then(u=>pr.mergeArray(i,u));const s=[...t.data].map((u,f)=>o.type._parseSync(new wo(t,u,t.path,f)));return pr.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new xo({...this._def,minLength:{value:e,message:St.toString(t)}})}max(e,t){return new xo({...this._def,maxLength:{value:e,message:St.toString(t)}})}length(e,t){return new xo({...this._def,exactLength:{value:e,message:St.toString(t)}})}nonempty(e){return this.min(1,e)}}xo.create=(r,e)=>new xo({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...tn(e)});function $u(r){if(r instanceof xi){const e={};for(const t in r.shape){const i=r.shape[t];e[t]=el.create($u(i))}return new xi({...r._def,shape:()=>e})}else return r instanceof xo?new xo({...r._def,type:$u(r.element)}):r instanceof el?el.create($u(r.unwrap())):r instanceof ic?ic.create($u(r.unwrap())):r instanceof eu?eu.create(r.items.map(e=>$u(e))):r}class xi extends un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=bn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==vt.object){const p=this._getOrReturnCtx(e);return ft(p,{code:Xe.invalid_type,expected:vt.object,received:p.parsedType}),Wt}const{status:i,ctx:o}=this._processInputParams(e),{shape:s,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof il&&this._def.unknownKeys==="strip"))for(const p in o.data)u.includes(p)||f.push(p);const d=[];for(const p of u){const b=s[p],w=o.data[p];d.push({key:{status:"valid",value:p},value:b._parse(new wo(o,w,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof il){const p=this._def.unknownKeys;if(p==="passthrough")for(const b of f)d.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(p==="strict")f.length>0&&(ft(o,{code:Xe.unrecognized_keys,keys:f}),i.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const b of f){const w=o.data[b];d.push({key:{status:"valid",value:b},value:p._parse(new wo(o,w,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const b of d){const w=await b.key,C=await b.value;p.push({key:w,value:C,alwaysSet:b.alwaysSet})}return p}).then(p=>pr.mergeObjectSync(i,p)):pr.mergeObjectSync(i,d)}get shape(){return this._def.shape()}strict(e){return St.errToObj,new xi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var s,u;const o=((u=(s=this._def).errorMap)==null?void 0:u.call(s,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:St.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new xi({...this._def,unknownKeys:"strip"})}passthrough(){return new xi({...this._def,unknownKeys:"passthrough"})}extend(e){return new xi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xi({...this._def,catchall:e})}pick(e){const t={};for(const i of bn.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new xi({...this._def,shape:()=>t})}omit(e){const t={};for(const i of bn.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new xi({...this._def,shape:()=>t})}deepPartial(){return $u(this)}partial(e){const t={};for(const i of bn.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?t[i]=o:t[i]=o.optional()}return new xi({...this._def,shape:()=>t})}required(e){const t={};for(const i of bn.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof el;)s=s._def.innerType;t[i]=s}return new xi({...this._def,shape:()=>t})}keyof(){return Y2(bn.objectKeys(this.shape))}}xi.create=(r,e)=>new xi({shape:()=>r,unknownKeys:"strip",catchall:il.create(),typeName:Ht.ZodObject,...tn(e)});xi.strictCreate=(r,e)=>new xi({shape:()=>r,unknownKeys:"strict",catchall:il.create(),typeName:Ht.ZodObject,...tn(e)});xi.lazycreate=(r,e)=>new xi({shape:r,unknownKeys:"strip",catchall:il.create(),typeName:Ht.ZodObject,...tn(e)});class Md extends un{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function o(s){for(const f of s)if(f.result.status==="valid")return f.result;for(const f of s)if(f.result.status==="dirty")return t.common.issues.push(...f.ctx.common.issues),f.result;const u=s.map(f=>new is(f.ctx.common.issues));return ft(t,{code:Xe.invalid_union,unionErrors:u}),Wt}if(t.common.async)return Promise.all(i.map(async s=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(o);{let s;const u=[];for(const d of i){const p={...t,common:{...t.common,issues:[]},parent:null},b=d._parseSync({data:t.data,path:t.path,parent:p});if(b.status==="valid")return b;b.status==="dirty"&&!s&&(s={result:b,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const f=u.map(d=>new is(d));return ft(t,{code:Xe.invalid_union,unionErrors:f}),Wt}}get options(){return this._def.options}}Md.create=(r,e)=>new Md({options:r,typeName:Ht.ZodUnion,...tn(e)});function Ip(r,e){const t=Zs(r),i=Zs(e);if(r===e)return{valid:!0,data:r};if(t===vt.object&&i===vt.object){const o=bn.objectKeys(e),s=bn.objectKeys(r).filter(f=>o.indexOf(f)!==-1),u={...r,...e};for(const f of s){const d=Ip(r[f],e[f]);if(!d.valid)return{valid:!1};u[f]=d.data}return{valid:!0,data:u}}else if(t===vt.array&&i===vt.array){if(r.length!==e.length)return{valid:!1};const o=[];for(let s=0;s<r.length;s++){const u=r[s],f=e[s],d=Ip(u,f);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return t===vt.date&&i===vt.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class kd extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),o=(s,u)=>{if(j0(s)||j0(u))return Wt;const f=Ip(s.value,u.value);return f.valid?((G0(s)||G0(u))&&t.dirty(),{status:t.value,value:f.data}):(ft(i,{code:Xe.invalid_intersection_types}),Wt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,u])=>o(s,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}kd.create=(r,e,t)=>new kd({left:r,right:e,typeName:Ht.ZodIntersection,...tn(t)});class eu extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.array)return ft(i,{code:Xe.invalid_type,expected:vt.array,received:i.parsedType}),Wt;if(i.data.length<this._def.items.length)return ft(i,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&i.data.length>this._def.items.length&&(ft(i,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((u,f)=>{const d=this._def.items[f]||this._def.rest;return d?d._parse(new wo(i,u,i.path,f)):null}).filter(u=>!!u);return i.common.async?Promise.all(s).then(u=>pr.mergeArray(t,u)):pr.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new eu({...this._def,rest:e})}}eu.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new eu({items:r,typeName:Ht.ZodTuple,rest:null,...tn(e)})};class Rd extends un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.object)return ft(i,{code:Xe.invalid_type,expected:vt.object,received:i.parsedType}),Wt;const o=[],s=this._def.keyType,u=this._def.valueType;for(const f in i.data)o.push({key:s._parse(new wo(i,f,i.path,f)),value:u._parse(new wo(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?pr.mergeObjectAsync(t,o):pr.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof un?new Rd({keyType:e,valueType:t,typeName:Ht.ZodRecord,...tn(i)}):new Rd({keyType:yo.create(),valueType:e,typeName:Ht.ZodRecord,...tn(t)})}}class X0 extends un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.map)return ft(i,{code:Xe.invalid_type,expected:vt.map,received:i.parsedType}),Wt;const o=this._def.keyType,s=this._def.valueType,u=[...i.data.entries()].map(([f,d],p)=>({key:o._parse(new wo(i,f,i.path,[p,"key"])),value:s._parse(new wo(i,d,i.path,[p,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const d of u){const p=await d.key,b=await d.value;if(p.status==="aborted"||b.status==="aborted")return Wt;(p.status==="dirty"||b.status==="dirty")&&t.dirty(),f.set(p.value,b.value)}return{status:t.value,value:f}})}else{const f=new Map;for(const d of u){const p=d.key,b=d.value;if(p.status==="aborted"||b.status==="aborted")return Wt;(p.status==="dirty"||b.status==="dirty")&&t.dirty(),f.set(p.value,b.value)}return{status:t.value,value:f}}}}X0.create=(r,e,t)=>new X0({valueType:e,keyType:r,typeName:Ht.ZodMap,...tn(t)});class mf extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==vt.set)return ft(i,{code:Xe.invalid_type,expected:vt.set,received:i.parsedType}),Wt;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ft(i,{code:Xe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ft(i,{code:Xe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const s=this._def.valueType;function u(d){const p=new Set;for(const b of d){if(b.status==="aborted")return Wt;b.status==="dirty"&&t.dirty(),p.add(b.value)}return{status:t.value,value:p}}const f=[...i.data.values()].map((d,p)=>s._parse(new wo(i,d,i.path,p)));return i.common.async?Promise.all(f).then(d=>u(d)):u(f)}min(e,t){return new mf({...this._def,minSize:{value:e,message:St.toString(t)}})}max(e,t){return new mf({...this._def,maxSize:{value:e,message:St.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}mf.create=(r,e)=>new mf({valueType:r,minSize:null,maxSize:null,typeName:Ht.ZodSet,...tn(e)});class Pp extends un{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Pp.create=(r,e)=>new Pp({getter:r,typeName:Ht.ZodLazy,...tn(e)});class Q0 extends un{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ft(t,{received:t.data,code:Xe.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Q0.create=(r,e)=>new Q0({value:r,typeName:Ht.ZodLiteral,...tn(e)});function Y2(r,e){return new tc({values:r,typeName:Ht.ZodEnum,...tn(e)})}class tc extends un{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return ft(t,{expected:bn.joinValues(i),received:t.parsedType,code:Xe.invalid_type}),Wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return ft(t,{received:t.data,code:Xe.invalid_enum_value,options:i}),Wt}return oa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tc.create(e,{...this._def,...t})}exclude(e,t=this._def){return tc.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}tc.create=Y2;class e1 extends un{_parse(e){const t=bn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==vt.string&&i.parsedType!==vt.number){const o=bn.objectValues(t);return ft(i,{expected:bn.joinValues(o),received:i.parsedType,code:Xe.invalid_type}),Wt}if(this._cache||(this._cache=new Set(bn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=bn.objectValues(t);return ft(i,{received:i.data,code:Xe.invalid_enum_value,options:o}),Wt}return oa(e.data)}get enum(){return this._def.values}}e1.create=(r,e)=>new e1({values:r,typeName:Ht.ZodNativeEnum,...tn(e)});class Dd extends un{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==vt.promise&&t.common.async===!1)return ft(t,{code:Xe.invalid_type,expected:vt.promise,received:t.parsedType}),Wt;const i=t.parsedType===vt.promise?t.data:Promise.resolve(t.data);return oa(i.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Dd.create=(r,e)=>new Dd({type:r,typeName:Ht.ZodPromise,...tn(e)});class nc extends un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:u=>{ft(i,u),u.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const u=o.transform(i.data,s);if(i.common.async)return Promise.resolve(u).then(async f=>{if(t.value==="aborted")return Wt;const d=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return d.status==="aborted"?Wt:d.status==="dirty"||t.value==="dirty"?tf(d.value):d});{if(t.value==="aborted")return Wt;const f=this._def.schema._parseSync({data:u,path:i.path,parent:i});return f.status==="aborted"?Wt:f.status==="dirty"||t.value==="dirty"?tf(f.value):f}}if(o.type==="refinement"){const u=f=>{const d=o.refinement(f,s);if(i.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?Wt:(f.status==="dirty"&&t.dirty(),u(f.value),{status:t.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?Wt:(f.status==="dirty"&&t.dirty(),u(f.value).then(()=>({status:t.value,value:f.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Qu(u))return Wt;const f=o.transform(u.value,s);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Qu(u)?Promise.resolve(o.transform(u.value,s)).then(f=>({status:t.value,value:f})):Wt);bn.assertNever(o)}}nc.create=(r,e,t)=>new nc({schema:r,typeName:Ht.ZodEffects,effect:e,...tn(t)});nc.createWithPreprocess=(r,e,t)=>new nc({schema:e,effect:{type:"preprocess",transform:r},typeName:Ht.ZodEffects,...tn(t)});class el extends un{_parse(e){return this._getType(e)===vt.undefined?oa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}el.create=(r,e)=>new el({innerType:r,typeName:Ht.ZodOptional,...tn(e)});class ic extends un{_parse(e){return this._getType(e)===vt.null?oa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ic.create=(r,e)=>new ic({innerType:r,typeName:Ht.ZodNullable,...tn(e)});class Op extends un{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===vt.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Op.create=(r,e)=>new Op({innerType:r,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...tn(e)});class Up extends un{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ed(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new is(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new is(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Up.create=(r,e)=>new Up({innerType:r,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...tn(e)});class t1 extends un{_parse(e){if(this._getType(e)!==vt.nan){const i=this._getOrReturnCtx(e);return ft(i,{code:Xe.invalid_type,expected:vt.nan,received:i.parsedType}),Wt}return{status:"valid",value:e.data}}}t1.create=r=>new t1({typeName:Ht.ZodNaN,...tn(r)});class Vb extends un{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class im extends un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Wt:s.status==="dirty"?(t.dirty(),tf(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Wt:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,t){return new im({in:e,out:t,typeName:Ht.ZodPipeline})}}class Fp extends un{_parse(e){const t=this._def.innerType._parse(e),i=o=>(Qu(o)&&(o.value=Object.freeze(o.value)),o);return Ed(t)?t.then(o=>i(o)):i(t)}unwrap(){return this._def.innerType}}Fp.create=(r,e)=>new Fp({innerType:r,typeName:Ht.ZodReadonly,...tn(e)});var Ht;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const Gl=yo.create,n1=Xl.create;Ql.create;const Hb=Ld.create;ec.create;const i1=Dp.create;il.create;const nf=xo.create,jb=xi.create,Gb=Md.create;kd.create;eu.create;const Yb=Rd.create,Wb=Pp.create,Jb=tc.create;Dd.create;el.create;ic.create;const Ju={string:r=>yo.create({...r,coerce:!0}),number:r=>Xl.create({...r,coerce:!0}),boolean:r=>Ld.create({...r,coerce:!0}),bigint:r=>Ql.create({...r,coerce:!0}),date:r=>ec.create({...r,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kb,Zb;function $b(){return{geminiUrl:Kb,vertexUrl:Zb}}function Xb(r,e,t){var i,o,s;if(!(!((i=r.httpOptions)===null||i===void 0)&&i.baseUrl)){const u=$b();return r.vertexai?(o=u.vertexUrl)!==null&&o!==void 0?o:e:(s=u.geminiUrl)!==null&&s!==void 0?s:t}return r.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gf{}function Bt(r,e){const t=/\{([^}]+)\}/g;return r.replace(t,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function g(r,e,t){for(let s=0;s<e.length-1;s++){const u=e[s];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in r))if(Array.isArray(t))r[f]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(r[f])){const d=r[f];if(Array.isArray(t))for(let p=0;p<d.length;p++){const b=d[p];g(b,e.slice(s+1),t[p])}else for(const p of d)g(p,e.slice(s+1),t)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in r||(r[f]=[{}]);const d=r[f];g(d[0],e.slice(s+1),t);return}(!r[u]||typeof r[u]!="object")&&(r[u]={}),r=r[u]}const i=e[e.length-1],o=r[i];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else r[i]=t}function m(r,e){try{if(e.length===1&&e[0]==="_self")return r;for(let t=0;t<e.length;t++){if(typeof r!="object"||r===null)return;const i=e[t];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in r){const s=r[o];return Array.isArray(s)?s.map(u=>m(u,e.slice(t+1))):void 0}else return}else r=r[i]}return r}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var r1;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(r1||(r1={}));var a1;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(a1||(a1={}));var go;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(go||(go={}));var o1;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(o1||(o1={}));var s1;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(s1||(s1={}));var l1;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(l1||(l1={}));var u1;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(u1||(u1={}));var c1;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(c1||(c1={}));var f1;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY"})(f1||(f1={}));var d1;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(d1||(d1={}));var h1;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(h1||(h1={}));var p1;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(p1||(p1={}));var m1;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(m1||(m1={}));var Id;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(Id||(Id={}));var g1;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(g1||(g1={}));var Bp;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bp||(Bp={}));var v1;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(v1||(v1={}));var y1;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(y1||(y1={}));var b1;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(b1||(b1={}));var x1;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(x1||(x1={}));var w1;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(w1||(w1={}));var _1;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(_1||(_1={}));var S1;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(S1||(S1={}));var A1;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(A1||(A1={}));var C1;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi"})(C1||(C1={}));var T1;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(T1||(T1={}));var N1;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(N1||(N1={}));var E1;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(E1||(E1={}));var L1;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(L1||(L1={}));var M1;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(M1||(M1={}));var k1;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(k1||(k1={}));var R1;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(R1||(R1={}));var D1;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(D1||(D1={}));var I1;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(I1||(I1={}));var P1;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(P1||(P1={}));var O1;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(O1||(O1={}));var U1;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(U1||(U1={}));var F1;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(F1||(F1={}));var Xu;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(Xu||(Xu={}));class ef{get text(){var e,t,i,o,s,u,f,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",b=!1;const w=[];for(const C of(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&d!==void 0?d:[]){for(const[x,T]of Object.entries(C))x!=="text"&&x!=="thought"&&(T!==null||T!==void 0)&&w.push(x);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;b=!0,p+=C.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?p:void 0}get data(){var e,t,i,o,s,u,f,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const b=[];for(const w of(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&d!==void 0?d:[]){for(const[C,x]of Object.entries(w))C!=="inlineData"&&(x!==null||x!==void 0)&&b.push(C);w.inlineData&&typeof w.inlineData.data=="string"&&(p+=atob(w.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,i,o,s,u,f,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||d===void 0?void 0:d.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,i,o,s,u,f,d,p;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||d===void 0?void 0:d.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,i,o,s,u,f,d,p;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(d=(f=(u=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||d===void 0?void 0:d.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((b==null?void 0:b.length)!==0)return(p=b==null?void 0:b[0])===null||p===void 0?void 0:p.output}}class B1{}class q1{}class Qb{}class e3{}class z1{}class V1{}class H1{}class t3{}class j1{}class G1{}class Y1{}class n3{}class qp{constructor(e){const t={};for(const i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class i3{}class r3{}class a3{get text(){var e,t,i;let o="",s=!1;const u=[];for(const f of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,p]of Object.entries(f))d!=="text"&&d!=="thought"&&p!==null&&u.push(d);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;s=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,t,i;let o="";const s=[];for(const u of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[f,d]of Object.entries(u))f!=="inlineData"&&d!==null&&s.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class o3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zn(r,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(r.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W2(r,e){const t=zn(r,e);return t?t.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}`:t.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${t}`:t:""}function J2(r,e){return Array.isArray(e)?e.map(t=>Pd(r,t)):[Pd(r,e)]}function Pd(r,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function s3(r,e){const t=Pd(r,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function l3(r,e){const t=Pd(r,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function W1(r,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function K2(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>W1(r,t)):[W1(r,e)]}function zp(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function J1(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function K1(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function Er(r,e){if(e==null)throw new Error("ContentUnion is required");return zp(e)?e:{role:"user",parts:K2(r,e)}}function Z2(r,e){if(!e)return[];if(r.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const i=Er(r,t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(r.isVertexAI()){const t=Er(r,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Er(r,t)):[Er(r,e)]}function Oa(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(J1(e)||K1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Er(r,e)]}const t=[],i=[],o=zp(e[0]);for(const s of e){const u=zp(s);if(u!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(s);else{if(J1(s)||K1(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(s)}}return o||t.push({role:"user",parts:K2(r,i)}),t}const Z1=Jb(["string","number","integer","object","array","boolean","null"]),u3=Gb([Z1,nf(Z1)]);function c3(r=!0){const e=Wb(()=>{const t=jb({type:u3.optional(),format:Gl().optional(),title:Gl().optional(),description:Gl().optional(),default:i1().optional(),items:e.optional(),minItems:Ju.string().optional(),maxItems:Ju.string().optional(),enum:nf(i1()).optional(),properties:Yb(Gl(),e).optional(),required:nf(Gl()).optional(),minProperties:Ju.string().optional(),maxProperties:Ju.string().optional(),propertyOrdering:nf(Gl()).optional(),minimum:n1().optional(),maximum:n1().optional(),minLength:Ju.string().optional(),maxLength:Ju.string().optional(),pattern:Gl().optional(),anyOf:nf(e).optional(),additionalProperties:Hb().optional()});return r?t.strict():t});return e}function f3(r,e){r.includes("null")&&(e.nullable=!0);const t=r.filter(i=>i!=="null");if(t.length===1)e.type=Object.keys(go).includes(t[0].toUpperCase())?go[t[0].toUpperCase()]:go.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of t)e.anyOf.push({type:Object.keys(go).includes(i.toUpperCase())?go[i.toUpperCase()]:go.TYPE_UNSPECIFIED})}}function uf(r){const e={},t=["items"],i=["anyOf"],o=["properties"];if(r.type&&r.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=r.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,r=s[1]):s[1].type==="null"&&(e.nullable=!0,r=s[0])),r.type instanceof Array&&f3(r.type,e);for(const[u,f]of Object.entries(r))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.keys(go).includes(f.toUpperCase())?f.toUpperCase():go.TYPE_UNSPECIFIED}else if(t.includes(u))e[u]=uf(f);else if(i.includes(u)){const d=[];for(const p of f){if(p.type=="null"){e.nullable=!0;continue}d.push(uf(p))}e[u]=d}else if(o.includes(u)){const d={};for(const[p,b]of Object.entries(f))d[p]=uf(b);e[u]=d}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Od(r,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=c3().parse(e);return uf(t)}else return uf(e)}function $2(r,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function X2(r,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function qd(r,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Od(r,t.parameters)),t.response&&(t.response=Od(r,t.response));return e}function zd(r,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function d3(r,e,t,i=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===i;return r.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${r.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${r.getProject()}/locations/${r.getLocation()}/${e}`:o?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function rl(r,e){if(typeof e!="string")throw new Error("name must be a string");return d3(r,e,"cachedContents")}function Q2(r,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function al(r,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function h3(r){return r!=null&&typeof r=="object"&&"name"in r}function p3(r){return r!=null&&typeof r=="object"&&"video"in r}function m3(r){return r!=null&&typeof r=="object"&&"uri"in r}function e5(r,e){var t;let i;if(h3(e)&&(i=e.name),!(m3(e)&&(i=e.uri,i===void 0))&&!(p3(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const s=i.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${i}`);i=s[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function t5(r,e){let t;return r.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function n5(r,e){for(const t of["models","tunedModels","publisherModels"])if(g3(e,t))return e[t];return[]}function g3(r,e){return r!==null&&typeof r=="object"&&e in r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v3(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function y3(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function b3(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function x3(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],v3(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],y3(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],b3(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function $1(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>x3(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function w3(r,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const o=m(e,["description"]);o!=null&&g(t,["description"],o);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const u=m(e,["parameters"]);u!=null&&g(t,["parameters"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],f),t}function _3(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function S3(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],_3(r,i)),t}function A3(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function C3(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],A3(r,i)),t}function T3(){return{}}function N3(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>w3(r,p))),g(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=m(e,["googleSearch"]);o!=null&&g(t,["googleSearch"],S3(r,o));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],C3(r,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],T3());const f=m(e,["codeExecution"]);return f!=null&&g(t,["codeExecution"],f),t}function E3(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function L3(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function M3(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],L3(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function k3(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],E3(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],M3(r,o)),t}function R3(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const u=m(e,["displayName"]);t!==void 0&&u!=null&&g(t,["displayName"],u);const f=m(e,["contents"]);if(t!==void 0&&f!=null){let w=Oa(r,f);Array.isArray(w)&&(w=w.map(C=>$1(r,C))),g(t,["contents"],w)}const d=m(e,["systemInstruction"]);t!==void 0&&d!=null&&g(t,["systemInstruction"],$1(r,Er(r,d)));const p=m(e,["tools"]);if(t!==void 0&&p!=null){let w=p;Array.isArray(w)&&(w=w.map(C=>N3(r,C))),g(t,["tools"],w)}const b=m(e,["toolConfig"]);if(t!==void 0&&b!=null&&g(t,["toolConfig"],k3(r,b)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function D3(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],W2(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],R3(r,o,t)),t}function I3(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function P3(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function O3(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function U3(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],O3(r,o,t)),t}function F3(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function B3(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],F3(r,i,t)),t}function q3(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function z3(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function V3(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function H3(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],q3(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],z3(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],V3(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function X1(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>H3(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function j3(r,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const o=m(e,["name"]);o!=null&&g(t,["name"],o);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function G3(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function Y3(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],G3(r,i)),t}function W3(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function J3(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],W3(r,i)),t}function K3(){return{}}function Z3(r,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function $3(r,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],Z3(r,i));const o=m(e,["authType"]);o!=null&&g(t,["authType"],o);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const u=m(e,["httpBasicAuthConfig"]);u!=null&&g(t,["httpBasicAuthConfig"],u);const f=m(e,["oauthConfig"]);f!=null&&g(t,["oauthConfig"],f);const d=m(e,["oidcConfig"]);return d!=null&&g(t,["oidcConfig"],d),t}function X3(r,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],$3(r,i)),t}function Q3(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(w=>j3(r,w))),g(t,["functionDeclarations"],b)}const o=m(e,["retrieval"]);o!=null&&g(t,["retrieval"],o);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],Y3(r,s));const u=m(e,["googleSearchRetrieval"]);u!=null&&g(t,["googleSearchRetrieval"],J3(r,u)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],K3());const d=m(e,["googleMaps"]);if(d!=null&&g(t,["googleMaps"],X3(r,d)),m(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=m(e,["codeExecution"]);return p!=null&&g(t,["codeExecution"],p),t}function e4(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function t4(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function n4(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],t4(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function i4(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],e4(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],n4(r,o)),t}function r4(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);t!==void 0&&s!=null&&g(t,["expireTime"],s);const u=m(e,["displayName"]);t!==void 0&&u!=null&&g(t,["displayName"],u);const f=m(e,["contents"]);if(t!==void 0&&f!=null){let C=Oa(r,f);Array.isArray(C)&&(C=C.map(x=>X1(r,x))),g(t,["contents"],C)}const d=m(e,["systemInstruction"]);t!==void 0&&d!=null&&g(t,["systemInstruction"],X1(r,Er(r,d)));const p=m(e,["tools"]);if(t!==void 0&&p!=null){let C=p;Array.isArray(C)&&(C=C.map(x=>Q3(r,x))),g(t,["tools"],C)}const b=m(e,["toolConfig"]);t!==void 0&&b!=null&&g(t,["toolConfig"],i4(r,b));const w=m(e,["kmsKeyName"]);return t!==void 0&&w!=null&&g(t,["encryption_spec","kmsKeyName"],w),i}function a4(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],W2(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],r4(r,o,t)),t}function o4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function s4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function l4(r,e,t){const i={},o=m(e,["ttl"]);t!==void 0&&o!=null&&g(t,["ttl"],o);const s=m(e,["expireTime"]);return t!==void 0&&s!=null&&g(t,["expireTime"],s),i}function u4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],rl(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],l4(r,o,t)),t}function c4(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function f4(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],c4(r,i,t)),t}function _d(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const d=m(e,["expireTime"]);d!=null&&g(t,["expireTime"],d);const p=m(e,["usageMetadata"]);return p!=null&&g(t,["usageMetadata"],p),t}function d4(){return{}}function h4(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>_d(r,u))),g(t,["cachedContents"],s)}return t}function Sd(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["model"]);s!=null&&g(t,["model"],s);const u=m(e,["createTime"]);u!=null&&g(t,["createTime"],u);const f=m(e,["updateTime"]);f!=null&&g(t,["updateTime"],f);const d=m(e,["expireTime"]);d!=null&&g(t,["expireTime"],d);const p=m(e,["usageMetadata"]);return p!=null&&g(t,["usageMetadata"],p),t}function p4(){return{}}function m4(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Sd(r,u))),g(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rc;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(rc||(rc={}));class Vd{constructor(e,t,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,o)}init(e,t,i){var o,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};i?typeof i=="object"?u=Object.assign({},i):u=i:u={config:{}},u.config&&(u.config.pageToken=t.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(s=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g4 extends gf{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vd(rc.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=a4(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Sd(this.apiClient,b))}else{const p=D3(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>_d(this.apiClient,b))}}async get(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=o4(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Sd(this.apiClient,b))}else{const p=I3(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>_d(this.apiClient,b))}}async delete(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=s4(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(()=>{const b=p4(),w=new G1;return Object.assign(w,b),w})}else{const p=P3(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(()=>{const b=d4(),w=new G1;return Object.assign(w,b),w})}}async update(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=u4(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Sd(this.apiClient,b))}else{const p=U3(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>_d(this.apiClient,b))}}async listInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=f4(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=m4(this.apiClient,b),C=new Y1;return Object.assign(C,w),C})}else{const p=B3(this.apiClient,e);return f=Bt("cachedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=h4(this.apiClient,b),C=new Y1;return Object.assign(C,w),C})}}}function Q1(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ei(r){return this instanceof ei?(this.v=r,this):new ei(r)}function cf(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(x){return function(T){return Promise.resolve(T).then(x,w)}}function f(x,T){i[x]&&(o[x]=function(L){return new Promise(function(I,E){s.push([x,L,I,E])>1||d(x,L)})},T&&(o[x]=T(o[x])))}function d(x,T){try{p(i[x](T))}catch(L){C(s[0][3],L)}}function p(x){x.value instanceof ei?Promise.resolve(x.value.v).then(b,w):C(s[0][2],x)}function b(x){d("next",x)}function w(x){d("throw",x)}function C(x,T){x(T),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Ad(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Q1=="function"?Q1(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(u){return new Promise(function(f,d){u=r[s](u),o(f,d,u.done,u.value)})}}function o(s,u,f,d){Promise.resolve(d).then(function(p){s({value:p,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v4(r){var e;if(r.candidates==null||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:i5(t)}function i5(r){if(r.parts===void 0||r.parts.length===0)return!1;for(const e of r.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function y4(r){if(r.length!==0){for(const e of r)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function e2(r){if(r===void 0||r.length===0)return[];const e=[],t=r.length;let i=0;for(;i<t;)if(r[i].role==="user")e.push(r[i]),i++;else{const o=[];let s=!0;for(;i<t&&r[i].role==="model";)o.push(r[i]),s&&!i5(r[i])&&(s=!1),i++;s?e.push(...o):e.pop()}return e}class b4{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new x4(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class x4{constructor(e,t,i,o={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),y4(s)}async sendMessage(e){var t;await this.sendPromise;const i=Er(this.apiClient,e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,u,f;const d=await o,p=(u=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content,b=d.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let C=[];b!=null&&(C=(f=b.slice(w))!==null&&f!==void 0?f:[]);const x=p?[p]:[];this.recordHistory(i,x,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const i=Er(this.apiClient,e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,i)}getHistory(e=!1){const t=e?e2(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,o;return cf(this,arguments,function*(){var u,f,d,p;const b=[];try{for(var w=!0,C=Ad(e),x;x=yield ei(C.next()),u=x.done,!u;w=!0){p=x.value,w=!1;const T=p;if(v4(T)){const L=(o=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;L!==void 0&&b.push(L)}yield yield ei(T)}}catch(T){f={error:T}}finally{try{!w&&!u&&(d=C.return)&&(yield ei(d.call(C)))}finally{if(f)throw f.error}}this.recordHistory(t,b)})}recordHistory(e,t,i){let o=[];t.length>0&&t.every(s=>s.role!==void 0)?o=t:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...e2(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w4(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);return t!==void 0&&s!=null&&g(t,["_query","pageToken"],s),i}function _4(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],w4(r,i,t)),t}function S4(r,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const o=m(e,["message"]);o!=null&&g(t,["message"],o);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function A4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const u=m(e,["sizeBytes"]);u!=null&&g(t,["sizeBytes"],u);const f=m(e,["createTime"]);f!=null&&g(t,["createTime"],f);const d=m(e,["expirationTime"]);d!=null&&g(t,["expirationTime"],d);const p=m(e,["updateTime"]);p!=null&&g(t,["updateTime"],p);const b=m(e,["sha256Hash"]);b!=null&&g(t,["sha256Hash"],b);const w=m(e,["uri"]);w!=null&&g(t,["uri"],w);const C=m(e,["downloadUri"]);C!=null&&g(t,["downloadUri"],C);const x=m(e,["state"]);x!=null&&g(t,["state"],x);const T=m(e,["source"]);T!=null&&g(t,["source"],T);const L=m(e,["videoMetadata"]);L!=null&&g(t,["videoMetadata"],L);const I=m(e,["error"]);return I!=null&&g(t,["error"],S4(r,I)),t}function C4(r,e){const t={},i=m(e,["file"]);i!=null&&g(t,["file"],A4(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function T4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],e5(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function N4(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","file"],e5(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function E4(r,e){const t={},i=m(e,["details"]);i!=null&&g(t,["details"],i);const o=m(e,["message"]);o!=null&&g(t,["message"],o);const s=m(e,["code"]);return s!=null&&g(t,["code"],s),t}function Vp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["mimeType"]);s!=null&&g(t,["mimeType"],s);const u=m(e,["sizeBytes"]);u!=null&&g(t,["sizeBytes"],u);const f=m(e,["createTime"]);f!=null&&g(t,["createTime"],f);const d=m(e,["expirationTime"]);d!=null&&g(t,["expirationTime"],d);const p=m(e,["updateTime"]);p!=null&&g(t,["updateTime"],p);const b=m(e,["sha256Hash"]);b!=null&&g(t,["sha256Hash"],b);const w=m(e,["uri"]);w!=null&&g(t,["uri"],w);const C=m(e,["downloadUri"]);C!=null&&g(t,["downloadUri"],C);const x=m(e,["state"]);x!=null&&g(t,["state"],x);const T=m(e,["source"]);T!=null&&g(t,["source"],T);const L=m(e,["videoMetadata"]);L!=null&&g(t,["videoMetadata"],L);const I=m(e,["error"]);return I!=null&&g(t,["error"],E4(r,I)),t}function L4(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Vp(r,u))),g(t,["files"],s)}return t}function M4(){return{}}function k4(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R4 extends gf{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Vd(rc.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Vp(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_4(this.apiClient,e);return s=Bt("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=L4(this.apiClient,d),b=new n3;return Object.assign(b,p),b})}}async createInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=C4(this.apiClient,e);return s=Bt("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(()=>{const d=M4(),p=new i3;return Object.assign(p,d),p})}}async get(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=T4(this.apiClient,e);return s=Bt("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Vp(this.apiClient,d))}}async delete(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=N4(this.apiClient,e);return s=Bt("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(()=>{const d=k4(),p=new r3;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D4(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function I4(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function r5(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],D4(r,i)),t}function P4(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],I4(r,i)),t}function O4(r,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const o=m(e,["voiceConfig"]);return o!=null&&g(t,["voiceConfig"],r5(r,o)),t}function U4(r,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>O4(r,s))),g(t,["speakerVoiceConfigs"],o)}return t}function F4(r,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],r5(r,i));const o=m(e,["multiSpeakerVoiceConfig"]);o!=null&&g(t,["multiSpeakerVoiceConfig"],U4(r,o));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function B4(r,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],P4(r,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function q4(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function z4(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function V4(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function H4(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function j4(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function G4(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function Y4(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],q4(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],V4(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],j4(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function W4(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],z4(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],H4(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],G4(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function J4(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Y4(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function K4(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>W4(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function Z4(r,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const o=m(e,["description"]);o!=null&&g(t,["description"],o);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const u=m(e,["parameters"]);u!=null&&g(t,["parameters"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],f),t}function $4(r,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const o=m(e,["name"]);o!=null&&g(t,["name"],o);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function X4(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function Q4(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function ex(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],X4(r,i)),t}function tx(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],Q4(r,i)),t}function nx(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function ix(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function rx(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],nx(r,i)),t}function ax(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],ix(r,i)),t}function ox(){return{}}function sx(r,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function lx(r,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],sx(r,i));const o=m(e,["authType"]);o!=null&&g(t,["authType"],o);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const u=m(e,["httpBasicAuthConfig"]);u!=null&&g(t,["httpBasicAuthConfig"],u);const f=m(e,["oauthConfig"]);f!=null&&g(t,["oauthConfig"],f);const d=m(e,["oidcConfig"]);return d!=null&&g(t,["oidcConfig"],d),t}function ux(r,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],lx(r,i)),t}function cx(){return{}}function fx(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>Z4(r,p))),g(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=m(e,["googleSearch"]);o!=null&&g(t,["googleSearch"],ex(r,o));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],rx(r,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],cx());const f=m(e,["codeExecution"]);return f!=null&&g(t,["codeExecution"],f),t}function dx(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(w=>$4(r,w))),g(t,["functionDeclarations"],b)}const o=m(e,["retrieval"]);o!=null&&g(t,["retrieval"],o);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],tx(r,s));const u=m(e,["googleSearchRetrieval"]);u!=null&&g(t,["googleSearchRetrieval"],ax(r,u)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],ox());const d=m(e,["googleMaps"]);if(d!=null&&g(t,["googleMaps"],ux(r,d)),m(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=m(e,["codeExecution"]);return p!=null&&g(t,["codeExecution"],p),t}function hx(r,e){const t={},i=m(e,["handle"]);if(i!=null&&g(t,["handle"],i),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function px(r,e){const t={},i=m(e,["handle"]);i!=null&&g(t,["handle"],i);const o=m(e,["transparent"]);return o!=null&&g(t,["transparent"],o),t}function t2(){return{}}function n2(){return{}}function mx(r,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const o=m(e,["startOfSpeechSensitivity"]);o!=null&&g(t,["startOfSpeechSensitivity"],o);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const u=m(e,["prefixPaddingMs"]);u!=null&&g(t,["prefixPaddingMs"],u);const f=m(e,["silenceDurationMs"]);return f!=null&&g(t,["silenceDurationMs"],f),t}function gx(r,e){const t={},i=m(e,["disabled"]);i!=null&&g(t,["disabled"],i);const o=m(e,["startOfSpeechSensitivity"]);o!=null&&g(t,["startOfSpeechSensitivity"],o);const s=m(e,["endOfSpeechSensitivity"]);s!=null&&g(t,["endOfSpeechSensitivity"],s);const u=m(e,["prefixPaddingMs"]);u!=null&&g(t,["prefixPaddingMs"],u);const f=m(e,["silenceDurationMs"]);return f!=null&&g(t,["silenceDurationMs"],f),t}function vx(r,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],mx(r,i));const o=m(e,["activityHandling"]);o!=null&&g(t,["activityHandling"],o);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function yx(r,e){const t={},i=m(e,["automaticActivityDetection"]);i!=null&&g(t,["automaticActivityDetection"],gx(r,i));const o=m(e,["activityHandling"]);o!=null&&g(t,["activityHandling"],o);const s=m(e,["turnCoverage"]);return s!=null&&g(t,["turnCoverage"],s),t}function bx(r,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function xx(r,e){const t={},i=m(e,["targetTokens"]);return i!=null&&g(t,["targetTokens"],i),t}function wx(r,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const o=m(e,["slidingWindow"]);return o!=null&&g(t,["slidingWindow"],bx(r,o)),t}function _x(r,e){const t={},i=m(e,["triggerTokens"]);i!=null&&g(t,["triggerTokens"],i);const o=m(e,["slidingWindow"]);return o!=null&&g(t,["slidingWindow"],xx(r,o)),t}function Sx(r,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function Ax(r,e){const t={},i=m(e,["proactiveAudio"]);return i!=null&&g(t,["proactiveAudio"],i),t}function Cx(r,e,t){const i={},o=m(e,["generationConfig"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig"],o);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const u=m(e,["temperature"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","temperature"],u);const f=m(e,["topP"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","topP"],f);const d=m(e,["topK"]);t!==void 0&&d!=null&&g(t,["setup","generationConfig","topK"],d);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&g(t,["setup","generationConfig","maxOutputTokens"],p);const b=m(e,["mediaResolution"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","mediaResolution"],b);const w=m(e,["seed"]);t!==void 0&&w!=null&&g(t,["setup","generationConfig","seed"],w);const C=m(e,["speechConfig"]);t!==void 0&&C!=null&&g(t,["setup","generationConfig","speechConfig"],F4(r,X2(r,C)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const T=m(e,["systemInstruction"]);t!==void 0&&T!=null&&g(t,["setup","systemInstruction"],J4(r,Er(r,T)));const L=m(e,["tools"]);if(t!==void 0&&L!=null){let Q=zd(r,L);Array.isArray(Q)&&(Q=Q.map(V=>fx(r,qd(r,V)))),g(t,["setup","tools"],Q)}const I=m(e,["sessionResumption"]);t!==void 0&&I!=null&&g(t,["setup","sessionResumption"],hx(r,I));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&g(t,["setup","inputAudioTranscription"],t2());const R=m(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&g(t,["setup","outputAudioTranscription"],t2());const D=m(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&g(t,["setup","realtimeInputConfig"],vx(r,D));const j=m(e,["contextWindowCompression"]);t!==void 0&&j!=null&&g(t,["setup","contextWindowCompression"],wx(r,j));const K=m(e,["proactivity"]);return t!==void 0&&K!=null&&g(t,["setup","proactivity"],Sx(r,K)),i}function Tx(r,e,t){const i={},o=m(e,["generationConfig"]);t!==void 0&&o!=null&&g(t,["setup","generationConfig"],o);const s=m(e,["responseModalities"]);t!==void 0&&s!=null&&g(t,["setup","generationConfig","responseModalities"],s);const u=m(e,["temperature"]);t!==void 0&&u!=null&&g(t,["setup","generationConfig","temperature"],u);const f=m(e,["topP"]);t!==void 0&&f!=null&&g(t,["setup","generationConfig","topP"],f);const d=m(e,["topK"]);t!==void 0&&d!=null&&g(t,["setup","generationConfig","topK"],d);const p=m(e,["maxOutputTokens"]);t!==void 0&&p!=null&&g(t,["setup","generationConfig","maxOutputTokens"],p);const b=m(e,["mediaResolution"]);t!==void 0&&b!=null&&g(t,["setup","generationConfig","mediaResolution"],b);const w=m(e,["seed"]);t!==void 0&&w!=null&&g(t,["setup","generationConfig","seed"],w);const C=m(e,["speechConfig"]);t!==void 0&&C!=null&&g(t,["setup","generationConfig","speechConfig"],B4(r,X2(r,C)));const x=m(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&g(t,["setup","generationConfig","enableAffectiveDialog"],x);const T=m(e,["systemInstruction"]);t!==void 0&&T!=null&&g(t,["setup","systemInstruction"],K4(r,Er(r,T)));const L=m(e,["tools"]);if(t!==void 0&&L!=null){let Q=zd(r,L);Array.isArray(Q)&&(Q=Q.map(V=>dx(r,qd(r,V)))),g(t,["setup","tools"],Q)}const I=m(e,["sessionResumption"]);t!==void 0&&I!=null&&g(t,["setup","sessionResumption"],px(r,I));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&g(t,["setup","inputAudioTranscription"],n2());const R=m(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&g(t,["setup","outputAudioTranscription"],n2());const D=m(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&g(t,["setup","realtimeInputConfig"],yx(r,D));const j=m(e,["contextWindowCompression"]);t!==void 0&&j!=null&&g(t,["setup","contextWindowCompression"],_x(r,j));const K=m(e,["proactivity"]);return t!==void 0&&K!=null&&g(t,["setup","proactivity"],Ax(r,K)),i}function Nx(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],Cx(r,o,t)),t}function Ex(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["setup","model"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],Tx(r,o,t)),t}function Lx(){return{}}function Mx(){return{}}function kx(){return{}}function Rx(){return{}}function Dx(r,e){const t={},i=m(e,["media"]);i!=null&&g(t,["mediaChunks"],J2(r,i));const o=m(e,["audio"]);o!=null&&g(t,["audio"],l3(r,o));const s=m(e,["audioStreamEnd"]);s!=null&&g(t,["audioStreamEnd"],s);const u=m(e,["video"]);u!=null&&g(t,["video"],s3(r,u));const f=m(e,["text"]);return f!=null&&g(t,["text"],f),m(e,["activityStart"])!=null&&g(t,["activityStart"],Lx()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],kx()),t}function Ix(r,e){const t={},i=m(e,["media"]);if(i!=null&&g(t,["mediaChunks"],J2(r,i)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=m(e,["audioStreamEnd"]);if(o!=null&&g(t,["audioStreamEnd"],o),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&g(t,["activityStart"],Mx()),m(e,["activityEnd"])!=null&&g(t,["activityEnd"],Rx()),t}function a5(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["weight"]);return o!=null&&g(t,["weight"],o),t}function Px(r,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a5(r,s))),g(t,["weightedPrompts"],o)}return t}function o5(r,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const o=m(e,["topK"]);o!=null&&g(t,["topK"],o);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const u=m(e,["guidance"]);u!=null&&g(t,["guidance"],u);const f=m(e,["bpm"]);f!=null&&g(t,["bpm"],f);const d=m(e,["density"]);d!=null&&g(t,["density"],d);const p=m(e,["brightness"]);p!=null&&g(t,["brightness"],p);const b=m(e,["scale"]);b!=null&&g(t,["scale"],b);const w=m(e,["muteBass"]);w!=null&&g(t,["muteBass"],w);const C=m(e,["muteDrums"]);C!=null&&g(t,["muteDrums"],C);const x=m(e,["onlyBassAndDrums"]);return x!=null&&g(t,["onlyBassAndDrums"],x),t}function Ox(r,e){const t={},i=m(e,["musicGenerationConfig"]);return i!=null&&g(t,["musicGenerationConfig"],o5(r,i)),t}function s5(r,e){const t={},i=m(e,["model"]);return i!=null&&g(t,["model"],i),t}function l5(r,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>a5(r,s))),g(t,["weightedPrompts"],o)}return t}function Hp(r,e){const t={},i=m(e,["setup"]);i!=null&&g(t,["setup"],s5(r,i));const o=m(e,["clientContent"]);o!=null&&g(t,["clientContent"],l5(r,o));const s=m(e,["musicGenerationConfig"]);s!=null&&g(t,["musicGenerationConfig"],o5(r,s));const u=m(e,["playbackControl"]);return u!=null&&g(t,["playbackControl"],u),t}function Ux(){return{}}function Fx(){return{}}function Bx(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function qx(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function zx(r,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function Vx(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function Hx(r,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function jx(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function Gx(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],Bx(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],zx(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],Hx(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function Yx(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],qx(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Vx(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],jx(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function Wx(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Gx(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function Jx(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Yx(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function i2(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["finished"]);return o!=null&&g(t,["finished"],o),t}function r2(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["finished"]);return o!=null&&g(t,["finished"],o),t}function Kx(r,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const o=m(e,["urlRetrievalStatus"]);return o!=null&&g(t,["urlRetrievalStatus"],o),t}function Zx(r,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Kx(r,s))),g(t,["urlMetadata"],o)}return t}function $x(r,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],Wx(r,i));const o=m(e,["turnComplete"]);o!=null&&g(t,["turnComplete"],o);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const u=m(e,["groundingMetadata"]);u!=null&&g(t,["groundingMetadata"],u);const f=m(e,["generationComplete"]);f!=null&&g(t,["generationComplete"],f);const d=m(e,["inputTranscription"]);d!=null&&g(t,["inputTranscription"],i2(r,d));const p=m(e,["outputTranscription"]);p!=null&&g(t,["outputTranscription"],i2(r,p));const b=m(e,["urlContextMetadata"]);return b!=null&&g(t,["urlContextMetadata"],Zx(r,b)),t}function Xx(r,e){const t={},i=m(e,["modelTurn"]);i!=null&&g(t,["modelTurn"],Jx(r,i));const o=m(e,["turnComplete"]);o!=null&&g(t,["turnComplete"],o);const s=m(e,["interrupted"]);s!=null&&g(t,["interrupted"],s);const u=m(e,["groundingMetadata"]);u!=null&&g(t,["groundingMetadata"],u);const f=m(e,["generationComplete"]);f!=null&&g(t,["generationComplete"],f);const d=m(e,["inputTranscription"]);d!=null&&g(t,["inputTranscription"],r2(r,d));const p=m(e,["outputTranscription"]);return p!=null&&g(t,["outputTranscription"],r2(r,p)),t}function Qx(r,e){const t={},i=m(e,["id"]);i!=null&&g(t,["id"],i);const o=m(e,["args"]);o!=null&&g(t,["args"],o);const s=m(e,["name"]);return s!=null&&g(t,["name"],s),t}function ew(r,e){const t={},i=m(e,["args"]);i!=null&&g(t,["args"],i);const o=m(e,["name"]);return o!=null&&g(t,["name"],o),t}function tw(r,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Qx(r,s))),g(t,["functionCalls"],o)}return t}function nw(r,e){const t={},i=m(e,["functionCalls"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>ew(r,s))),g(t,["functionCalls"],o)}return t}function iw(r,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function rw(r,e){const t={},i=m(e,["ids"]);return i!=null&&g(t,["ids"],i),t}function yd(r,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const o=m(e,["tokenCount"]);return o!=null&&g(t,["tokenCount"],o),t}function bd(r,e){const t={},i=m(e,["modality"]);i!=null&&g(t,["modality"],i);const o=m(e,["tokenCount"]);return o!=null&&g(t,["tokenCount"],o),t}function aw(r,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const o=m(e,["cachedContentTokenCount"]);o!=null&&g(t,["cachedContentTokenCount"],o);const s=m(e,["responseTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const u=m(e,["toolUsePromptTokenCount"]);u!=null&&g(t,["toolUsePromptTokenCount"],u);const f=m(e,["thoughtsTokenCount"]);f!=null&&g(t,["thoughtsTokenCount"],f);const d=m(e,["totalTokenCount"]);d!=null&&g(t,["totalTokenCount"],d);const p=m(e,["promptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(T=>yd(r,T))),g(t,["promptTokensDetails"],x)}const b=m(e,["cacheTokensDetails"]);if(b!=null){let x=b;Array.isArray(x)&&(x=x.map(T=>yd(r,T))),g(t,["cacheTokensDetails"],x)}const w=m(e,["responseTokensDetails"]);if(w!=null){let x=w;Array.isArray(x)&&(x=x.map(T=>yd(r,T))),g(t,["responseTokensDetails"],x)}const C=m(e,["toolUsePromptTokensDetails"]);if(C!=null){let x=C;Array.isArray(x)&&(x=x.map(T=>yd(r,T))),g(t,["toolUsePromptTokensDetails"],x)}return t}function ow(r,e){const t={},i=m(e,["promptTokenCount"]);i!=null&&g(t,["promptTokenCount"],i);const o=m(e,["cachedContentTokenCount"]);o!=null&&g(t,["cachedContentTokenCount"],o);const s=m(e,["candidatesTokenCount"]);s!=null&&g(t,["responseTokenCount"],s);const u=m(e,["toolUsePromptTokenCount"]);u!=null&&g(t,["toolUsePromptTokenCount"],u);const f=m(e,["thoughtsTokenCount"]);f!=null&&g(t,["thoughtsTokenCount"],f);const d=m(e,["totalTokenCount"]);d!=null&&g(t,["totalTokenCount"],d);const p=m(e,["promptTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["promptTokensDetails"],T)}const b=m(e,["cacheTokensDetails"]);if(b!=null){let T=b;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["cacheTokensDetails"],T)}const w=m(e,["candidatesTokensDetails"]);if(w!=null){let T=w;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["responseTokensDetails"],T)}const C=m(e,["toolUsePromptTokensDetails"]);if(C!=null){let T=C;Array.isArray(T)&&(T=T.map(L=>bd(r,L))),g(t,["toolUsePromptTokensDetails"],T)}const x=m(e,["trafficType"]);return x!=null&&g(t,["trafficType"],x),t}function sw(r,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function lw(r,e){const t={},i=m(e,["timeLeft"]);return i!=null&&g(t,["timeLeft"],i),t}function uw(r,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const o=m(e,["resumable"]);o!=null&&g(t,["resumable"],o);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function cw(r,e){const t={},i=m(e,["newHandle"]);i!=null&&g(t,["newHandle"],i);const o=m(e,["resumable"]);o!=null&&g(t,["resumable"],o);const s=m(e,["lastConsumedClientMessageIndex"]);return s!=null&&g(t,["lastConsumedClientMessageIndex"],s),t}function fw(r,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],Ux());const o=m(e,["serverContent"]);o!=null&&g(t,["serverContent"],$x(r,o));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],tw(r,s));const u=m(e,["toolCallCancellation"]);u!=null&&g(t,["toolCallCancellation"],iw(r,u));const f=m(e,["usageMetadata"]);f!=null&&g(t,["usageMetadata"],aw(r,f));const d=m(e,["goAway"]);d!=null&&g(t,["goAway"],sw(r,d));const p=m(e,["sessionResumptionUpdate"]);return p!=null&&g(t,["sessionResumptionUpdate"],uw(r,p)),t}function dw(r,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],Fx());const o=m(e,["serverContent"]);o!=null&&g(t,["serverContent"],Xx(r,o));const s=m(e,["toolCall"]);s!=null&&g(t,["toolCall"],nw(r,s));const u=m(e,["toolCallCancellation"]);u!=null&&g(t,["toolCallCancellation"],rw(r,u));const f=m(e,["usageMetadata"]);f!=null&&g(t,["usageMetadata"],ow(r,f));const d=m(e,["goAway"]);d!=null&&g(t,["goAway"],lw(r,d));const p=m(e,["sessionResumptionUpdate"]);return p!=null&&g(t,["sessionResumptionUpdate"],cw(r,p)),t}function hw(){return{}}function pw(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["weight"]);return o!=null&&g(t,["weight"],o),t}function mw(r,e){const t={},i=m(e,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pw(r,s))),g(t,["weightedPrompts"],o)}return t}function gw(r,e){const t={},i=m(e,["temperature"]);i!=null&&g(t,["temperature"],i);const o=m(e,["topK"]);o!=null&&g(t,["topK"],o);const s=m(e,["seed"]);s!=null&&g(t,["seed"],s);const u=m(e,["guidance"]);u!=null&&g(t,["guidance"],u);const f=m(e,["bpm"]);f!=null&&g(t,["bpm"],f);const d=m(e,["density"]);d!=null&&g(t,["density"],d);const p=m(e,["brightness"]);p!=null&&g(t,["brightness"],p);const b=m(e,["scale"]);b!=null&&g(t,["scale"],b);const w=m(e,["muteBass"]);w!=null&&g(t,["muteBass"],w);const C=m(e,["muteDrums"]);C!=null&&g(t,["muteDrums"],C);const x=m(e,["onlyBassAndDrums"]);return x!=null&&g(t,["onlyBassAndDrums"],x),t}function vw(r,e){const t={},i=m(e,["clientContent"]);i!=null&&g(t,["clientContent"],mw(r,i));const o=m(e,["musicGenerationConfig"]);return o!=null&&g(t,["musicGenerationConfig"],gw(r,o)),t}function yw(r,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);o!=null&&g(t,["mimeType"],o);const s=m(e,["sourceMetadata"]);return s!=null&&g(t,["sourceMetadata"],vw(r,s)),t}function bw(r,e){const t={},i=m(e,["audioChunks"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>yw(r,s))),g(t,["audioChunks"],o)}return t}function xw(r,e){const t={},i=m(e,["text"]);i!=null&&g(t,["text"],i);const o=m(e,["filteredReason"]);return o!=null&&g(t,["filteredReason"],o),t}function ww(r,e){const t={};m(e,["setupComplete"])!=null&&g(t,["setupComplete"],hw());const o=m(e,["serverContent"]);o!=null&&g(t,["serverContent"],bw(r,o));const s=m(e,["filteredPrompt"]);return s!=null&&g(t,["filteredPrompt"],xw(r,s)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _w(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function Sw(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function Aw(r,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function Cw(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],_w(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],Sw(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],Aw(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function Hd(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Cw(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function Tw(r,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const o=m(e,["default"]);o!=null&&g(t,["default"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["enum"]);u!=null&&g(t,["enum"],u);const f=m(e,["example"]);f!=null&&g(t,["example"],f);const d=m(e,["format"]);d!=null&&g(t,["format"],d);const p=m(e,["items"]);p!=null&&g(t,["items"],p);const b=m(e,["maxItems"]);b!=null&&g(t,["maxItems"],b);const w=m(e,["maxLength"]);w!=null&&g(t,["maxLength"],w);const C=m(e,["maxProperties"]);C!=null&&g(t,["maxProperties"],C);const x=m(e,["maximum"]);x!=null&&g(t,["maximum"],x);const T=m(e,["minItems"]);T!=null&&g(t,["minItems"],T);const L=m(e,["minLength"]);L!=null&&g(t,["minLength"],L);const I=m(e,["minProperties"]);I!=null&&g(t,["minProperties"],I);const E=m(e,["minimum"]);E!=null&&g(t,["minimum"],E);const R=m(e,["nullable"]);R!=null&&g(t,["nullable"],R);const D=m(e,["pattern"]);D!=null&&g(t,["pattern"],D);const j=m(e,["properties"]);j!=null&&g(t,["properties"],j);const K=m(e,["propertyOrdering"]);K!=null&&g(t,["propertyOrdering"],K);const Q=m(e,["required"]);Q!=null&&g(t,["required"],Q);const V=m(e,["title"]);V!=null&&g(t,["title"],V);const z=m(e,["type"]);return z!=null&&g(t,["type"],z),t}function Nw(r,e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(e,["category"]);i!=null&&g(t,["category"],i);const o=m(e,["threshold"]);return o!=null&&g(t,["threshold"],o),t}function Ew(r,e){const t={},i=m(e,["behavior"]);i!=null&&g(t,["behavior"],i);const o=m(e,["description"]);o!=null&&g(t,["description"],o);const s=m(e,["name"]);s!=null&&g(t,["name"],s);const u=m(e,["parameters"]);u!=null&&g(t,["parameters"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],f),t}function Lw(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function Mw(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],Lw(r,i)),t}function kw(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function Rw(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],kw(r,i)),t}function Dw(){return{}}function Iw(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>Ew(r,p))),g(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=m(e,["googleSearch"]);o!=null&&g(t,["googleSearch"],Mw(r,o));const s=m(e,["googleSearchRetrieval"]);if(s!=null&&g(t,["googleSearchRetrieval"],Rw(r,s)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&g(t,["urlContext"],Dw());const f=m(e,["codeExecution"]);return f!=null&&g(t,["codeExecution"],f),t}function Pw(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function Ow(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function Uw(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],Ow(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function Fw(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],Pw(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],Uw(r,o)),t}function Bw(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function u5(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],Bw(r,i)),t}function qw(r,e){const t={},i=m(e,["speaker"]);i!=null&&g(t,["speaker"],i);const o=m(e,["voiceConfig"]);return o!=null&&g(t,["voiceConfig"],u5(r,o)),t}function zw(r,e){const t={},i=m(e,["speakerVoiceConfigs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>qw(r,s))),g(t,["speakerVoiceConfigs"],o)}return t}function Vw(r,e){const t={},i=m(e,["voiceConfig"]);i!=null&&g(t,["voiceConfig"],u5(r,i));const o=m(e,["multiSpeakerVoiceConfig"]);o!=null&&g(t,["multiSpeakerVoiceConfig"],zw(r,o));const s=m(e,["languageCode"]);return s!=null&&g(t,["languageCode"],s),t}function Hw(r,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const o=m(e,["thinkingBudget"]);return o!=null&&g(t,["thinkingBudget"],o),t}function jw(r,e,t){const i={},o=m(e,["systemInstruction"]);t!==void 0&&o!=null&&g(t,["systemInstruction"],Hd(r,Er(r,o)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const u=m(e,["topP"]);u!=null&&g(i,["topP"],u);const f=m(e,["topK"]);f!=null&&g(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const p=m(e,["maxOutputTokens"]);p!=null&&g(i,["maxOutputTokens"],p);const b=m(e,["stopSequences"]);b!=null&&g(i,["stopSequences"],b);const w=m(e,["responseLogprobs"]);w!=null&&g(i,["responseLogprobs"],w);const C=m(e,["logprobs"]);C!=null&&g(i,["logprobs"],C);const x=m(e,["presencePenalty"]);x!=null&&g(i,["presencePenalty"],x);const T=m(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const L=m(e,["seed"]);L!=null&&g(i,["seed"],L);const I=m(e,["responseMimeType"]);I!=null&&g(i,["responseMimeType"],I);const E=m(e,["responseSchema"]);if(E!=null&&g(i,["responseSchema"],Tw(r,Od(r,E))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=m(e,["safetySettings"]);if(t!==void 0&&R!=null){let ae=R;Array.isArray(ae)&&(ae=ae.map(O=>Nw(r,O))),g(t,["safetySettings"],ae)}const D=m(e,["tools"]);if(t!==void 0&&D!=null){let ae=zd(r,D);Array.isArray(ae)&&(ae=ae.map(O=>Iw(r,qd(r,O)))),g(t,["tools"],ae)}const j=m(e,["toolConfig"]);if(t!==void 0&&j!=null&&g(t,["toolConfig"],Fw(r,j)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=m(e,["cachedContent"]);t!==void 0&&K!=null&&g(t,["cachedContent"],rl(r,K));const Q=m(e,["responseModalities"]);Q!=null&&g(i,["responseModalities"],Q);const V=m(e,["mediaResolution"]);V!=null&&g(i,["mediaResolution"],V);const z=m(e,["speechConfig"]);if(z!=null&&g(i,["speechConfig"],Vw(r,$2(r,z))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=m(e,["thinkingConfig"]);return re!=null&&g(i,["thinkingConfig"],Hw(r,re)),i}function a2(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>Hd(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],jw(r,s,t)),t}function Gw(r,e,t){const i={},o=m(e,["taskType"]);t!==void 0&&o!=null&&g(t,["requests[]","taskType"],o);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["requests[]","title"],s);const u=m(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&g(t,["requests[]","outputDimensionality"],u),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Yw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);o!=null&&g(t,["requests[]","content"],Z2(r,o));const s=m(e,["config"]);s!=null&&g(t,["config"],Gw(r,s,t));const u=m(e,["model"]);return u!==void 0&&g(t,["requests[]","model"],zn(r,u)),t}function Ww(r,e,t){const i={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=m(e,["numberOfImages"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const s=m(e,["aspectRatio"]);t!==void 0&&s!=null&&g(t,["parameters","aspectRatio"],s);const u=m(e,["guidanceScale"]);if(t!==void 0&&u!=null&&g(t,["parameters","guidanceScale"],u),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=m(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&g(t,["parameters","safetySetting"],f);const d=m(e,["personGeneration"]);t!==void 0&&d!=null&&g(t,["parameters","personGeneration"],d);const p=m(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&g(t,["parameters","includeSafetyAttributes"],p);const b=m(e,["includeRaiReason"]);t!==void 0&&b!=null&&g(t,["parameters","includeRaiReason"],b);const w=m(e,["language"]);t!==void 0&&w!=null&&g(t,["parameters","language"],w);const C=m(e,["outputMimeType"]);t!==void 0&&C!=null&&g(t,["parameters","outputOptions","mimeType"],C);const x=m(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&g(t,["parameters","outputOptions","compressionQuality"],x),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Jw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&g(t,["config"],Ww(r,s,t)),t}function Kw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function Zw(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);t!==void 0&&u!=null&&g(t,["_query","filter"],u);const f=m(e,["queryBase"]);return t!==void 0&&f!=null&&g(t,["_url","models_url"],t5(r,f)),i}function $w(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],Zw(r,i,t)),t}function Xw(r,e,t){const i={},o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const u=m(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&g(t,["defaultCheckpointId"],u),i}function Qw(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],Xw(r,o,t)),t}function e_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function t_(r,e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function n_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>Hd(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["config"],t_(r,s)),t}function i_(r,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["imageBytes"]);i!=null&&g(t,["bytesBase64Encoded"],al(r,i));const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function r_(r,e,t){const i={},o=m(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(e,["durationSeconds"]);if(t!==void 0&&s!=null&&g(t,["parameters","durationSeconds"],s),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(e,["aspectRatio"]);if(t!==void 0&&u!=null&&g(t,["parameters","aspectRatio"],u),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const f=m(e,["personGeneration"]);if(t!==void 0&&f!=null&&g(t,["parameters","personGeneration"],f),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(e,["negativePrompt"]);if(t!==void 0&&d!=null&&g(t,["parameters","negativePrompt"],d),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return i}function a_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],i_(r,s));const u=m(e,["config"]);return u!=null&&g(t,["config"],r_(r,u,t)),t}function o_(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function s_(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function l_(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function u_(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],o_(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],s_(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],l_(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function ac(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u_(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function c_(r,e){const t={},i=m(e,["anyOf"]);i!=null&&g(t,["anyOf"],i);const o=m(e,["default"]);o!=null&&g(t,["default"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["enum"]);u!=null&&g(t,["enum"],u);const f=m(e,["example"]);f!=null&&g(t,["example"],f);const d=m(e,["format"]);d!=null&&g(t,["format"],d);const p=m(e,["items"]);p!=null&&g(t,["items"],p);const b=m(e,["maxItems"]);b!=null&&g(t,["maxItems"],b);const w=m(e,["maxLength"]);w!=null&&g(t,["maxLength"],w);const C=m(e,["maxProperties"]);C!=null&&g(t,["maxProperties"],C);const x=m(e,["maximum"]);x!=null&&g(t,["maximum"],x);const T=m(e,["minItems"]);T!=null&&g(t,["minItems"],T);const L=m(e,["minLength"]);L!=null&&g(t,["minLength"],L);const I=m(e,["minProperties"]);I!=null&&g(t,["minProperties"],I);const E=m(e,["minimum"]);E!=null&&g(t,["minimum"],E);const R=m(e,["nullable"]);R!=null&&g(t,["nullable"],R);const D=m(e,["pattern"]);D!=null&&g(t,["pattern"],D);const j=m(e,["properties"]);j!=null&&g(t,["properties"],j);const K=m(e,["propertyOrdering"]);K!=null&&g(t,["propertyOrdering"],K);const Q=m(e,["required"]);Q!=null&&g(t,["required"],Q);const V=m(e,["title"]);V!=null&&g(t,["title"],V);const z=m(e,["type"]);return z!=null&&g(t,["type"],z),t}function f_(r,e){const t={},i=m(e,["featureSelectionPreference"]);return i!=null&&g(t,["featureSelectionPreference"],i),t}function d_(r,e){const t={},i=m(e,["method"]);i!=null&&g(t,["method"],i);const o=m(e,["category"]);o!=null&&g(t,["category"],o);const s=m(e,["threshold"]);return s!=null&&g(t,["threshold"],s),t}function h_(r,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=m(e,["description"]);i!=null&&g(t,["description"],i);const o=m(e,["name"]);o!=null&&g(t,["name"],o);const s=m(e,["parameters"]);s!=null&&g(t,["parameters"],s);const u=m(e,["response"]);return u!=null&&g(t,["response"],u),t}function p_(r,e){const t={},i=m(e,["startTime"]);i!=null&&g(t,["startTime"],i);const o=m(e,["endTime"]);return o!=null&&g(t,["endTime"],o),t}function m_(r,e){const t={},i=m(e,["timeRangeFilter"]);return i!=null&&g(t,["timeRangeFilter"],p_(r,i)),t}function g_(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["dynamicThreshold"]);return o!=null&&g(t,["dynamicThreshold"],o),t}function v_(r,e){const t={},i=m(e,["dynamicRetrievalConfig"]);return i!=null&&g(t,["dynamicRetrievalConfig"],g_(r,i)),t}function y_(){return{}}function b_(r,e){const t={},i=m(e,["apiKeyString"]);return i!=null&&g(t,["apiKeyString"],i),t}function x_(r,e){const t={},i=m(e,["apiKeyConfig"]);i!=null&&g(t,["apiKeyConfig"],b_(r,i));const o=m(e,["authType"]);o!=null&&g(t,["authType"],o);const s=m(e,["googleServiceAccountConfig"]);s!=null&&g(t,["googleServiceAccountConfig"],s);const u=m(e,["httpBasicAuthConfig"]);u!=null&&g(t,["httpBasicAuthConfig"],u);const f=m(e,["oauthConfig"]);f!=null&&g(t,["oauthConfig"],f);const d=m(e,["oidcConfig"]);return d!=null&&g(t,["oidcConfig"],d),t}function w_(r,e){const t={},i=m(e,["authConfig"]);return i!=null&&g(t,["authConfig"],x_(r,i)),t}function c5(r,e){const t={},i=m(e,["functionDeclarations"]);if(i!=null){let b=i;Array.isArray(b)&&(b=b.map(w=>h_(r,w))),g(t,["functionDeclarations"],b)}const o=m(e,["retrieval"]);o!=null&&g(t,["retrieval"],o);const s=m(e,["googleSearch"]);s!=null&&g(t,["googleSearch"],m_(r,s));const u=m(e,["googleSearchRetrieval"]);u!=null&&g(t,["googleSearchRetrieval"],v_(r,u)),m(e,["enterpriseWebSearch"])!=null&&g(t,["enterpriseWebSearch"],y_());const d=m(e,["googleMaps"]);if(d!=null&&g(t,["googleMaps"],w_(r,d)),m(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=m(e,["codeExecution"]);return p!=null&&g(t,["codeExecution"],p),t}function __(r,e){const t={},i=m(e,["mode"]);i!=null&&g(t,["mode"],i);const o=m(e,["allowedFunctionNames"]);return o!=null&&g(t,["allowedFunctionNames"],o),t}function S_(r,e){const t={},i=m(e,["latitude"]);i!=null&&g(t,["latitude"],i);const o=m(e,["longitude"]);return o!=null&&g(t,["longitude"],o),t}function A_(r,e){const t={},i=m(e,["latLng"]);i!=null&&g(t,["latLng"],S_(r,i));const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function C_(r,e){const t={},i=m(e,["functionCallingConfig"]);i!=null&&g(t,["functionCallingConfig"],__(r,i));const o=m(e,["retrievalConfig"]);return o!=null&&g(t,["retrievalConfig"],A_(r,o)),t}function T_(r,e){const t={},i=m(e,["voiceName"]);return i!=null&&g(t,["voiceName"],i),t}function N_(r,e){const t={},i=m(e,["prebuiltVoiceConfig"]);return i!=null&&g(t,["prebuiltVoiceConfig"],T_(r,i)),t}function E_(r,e){const t={},i=m(e,["voiceConfig"]);if(i!=null&&g(t,["voiceConfig"],N_(r,i)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=m(e,["languageCode"]);return o!=null&&g(t,["languageCode"],o),t}function L_(r,e){const t={},i=m(e,["includeThoughts"]);i!=null&&g(t,["includeThoughts"],i);const o=m(e,["thinkingBudget"]);return o!=null&&g(t,["thinkingBudget"],o),t}function M_(r,e,t){const i={},o=m(e,["systemInstruction"]);t!==void 0&&o!=null&&g(t,["systemInstruction"],ac(r,Er(r,o)));const s=m(e,["temperature"]);s!=null&&g(i,["temperature"],s);const u=m(e,["topP"]);u!=null&&g(i,["topP"],u);const f=m(e,["topK"]);f!=null&&g(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const p=m(e,["maxOutputTokens"]);p!=null&&g(i,["maxOutputTokens"],p);const b=m(e,["stopSequences"]);b!=null&&g(i,["stopSequences"],b);const w=m(e,["responseLogprobs"]);w!=null&&g(i,["responseLogprobs"],w);const C=m(e,["logprobs"]);C!=null&&g(i,["logprobs"],C);const x=m(e,["presencePenalty"]);x!=null&&g(i,["presencePenalty"],x);const T=m(e,["frequencyPenalty"]);T!=null&&g(i,["frequencyPenalty"],T);const L=m(e,["seed"]);L!=null&&g(i,["seed"],L);const I=m(e,["responseMimeType"]);I!=null&&g(i,["responseMimeType"],I);const E=m(e,["responseSchema"]);E!=null&&g(i,["responseSchema"],c_(r,Od(r,E)));const R=m(e,["routingConfig"]);R!=null&&g(i,["routingConfig"],R);const D=m(e,["modelSelectionConfig"]);D!=null&&g(i,["modelConfig"],f_(r,D));const j=m(e,["safetySettings"]);if(t!==void 0&&j!=null){let te=j;Array.isArray(te)&&(te=te.map(ve=>d_(r,ve))),g(t,["safetySettings"],te)}const K=m(e,["tools"]);if(t!==void 0&&K!=null){let te=zd(r,K);Array.isArray(te)&&(te=te.map(ve=>c5(r,qd(r,ve)))),g(t,["tools"],te)}const Q=m(e,["toolConfig"]);t!==void 0&&Q!=null&&g(t,["toolConfig"],C_(r,Q));const V=m(e,["labels"]);t!==void 0&&V!=null&&g(t,["labels"],V);const z=m(e,["cachedContent"]);t!==void 0&&z!=null&&g(t,["cachedContent"],rl(r,z));const re=m(e,["responseModalities"]);re!=null&&g(i,["responseModalities"],re);const ae=m(e,["mediaResolution"]);ae!=null&&g(i,["mediaResolution"],ae);const O=m(e,["speechConfig"]);O!=null&&g(i,["speechConfig"],E_(r,$2(r,O)));const k=m(e,["audioTimestamp"]);k!=null&&g(i,["audioTimestamp"],k);const ne=m(e,["thinkingConfig"]);return ne!=null&&g(i,["thinkingConfig"],L_(r,ne)),i}function o2(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>ac(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["generationConfig"],M_(r,s,t)),t}function k_(r,e,t){const i={},o=m(e,["taskType"]);t!==void 0&&o!=null&&g(t,["instances[]","task_type"],o);const s=m(e,["title"]);t!==void 0&&s!=null&&g(t,["instances[]","title"],s);const u=m(e,["outputDimensionality"]);t!==void 0&&u!=null&&g(t,["parameters","outputDimensionality"],u);const f=m(e,["mimeType"]);t!==void 0&&f!=null&&g(t,["instances[]","mimeType"],f);const d=m(e,["autoTruncate"]);return t!==void 0&&d!=null&&g(t,["parameters","autoTruncate"],d),i}function R_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);o!=null&&g(t,["instances[]","content"],Z2(r,o));const s=m(e,["config"]);return s!=null&&g(t,["config"],k_(r,s,t)),t}function D_(r,e,t){const i={},o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&g(t,["parameters","storageUri"],o);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&g(t,["parameters","sampleCount"],u);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&g(t,["parameters","aspectRatio"],f);const d=m(e,["guidanceScale"]);t!==void 0&&d!=null&&g(t,["parameters","guidanceScale"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&g(t,["parameters","seed"],p);const b=m(e,["safetyFilterLevel"]);t!==void 0&&b!=null&&g(t,["parameters","safetySetting"],b);const w=m(e,["personGeneration"]);t!==void 0&&w!=null&&g(t,["parameters","personGeneration"],w);const C=m(e,["includeSafetyAttributes"]);t!==void 0&&C!=null&&g(t,["parameters","includeSafetyAttributes"],C);const x=m(e,["includeRaiReason"]);t!==void 0&&x!=null&&g(t,["parameters","includeRaiReason"],x);const T=m(e,["language"]);t!==void 0&&T!=null&&g(t,["parameters","language"],T);const L=m(e,["outputMimeType"]);t!==void 0&&L!=null&&g(t,["parameters","outputOptions","mimeType"],L);const I=m(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&g(t,["parameters","outputOptions","compressionQuality"],I);const E=m(e,["addWatermark"]);t!==void 0&&E!=null&&g(t,["parameters","addWatermark"],E);const R=m(e,["enhancePrompt"]);return t!==void 0&&R!=null&&g(t,["parameters","enhancePrompt"],R),i}function I_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["config"]);return s!=null&&g(t,["config"],D_(r,s,t)),t}function rm(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const o=m(e,["imageBytes"]);o!=null&&g(t,["bytesBase64Encoded"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function P_(r,e){const t={},i=m(e,["maskMode"]);i!=null&&g(t,["maskMode"],i);const o=m(e,["segmentationClasses"]);o!=null&&g(t,["maskClasses"],o);const s=m(e,["maskDilation"]);return s!=null&&g(t,["dilation"],s),t}function O_(r,e){const t={},i=m(e,["controlType"]);i!=null&&g(t,["controlType"],i);const o=m(e,["enableControlImageComputation"]);return o!=null&&g(t,["computeControl"],o),t}function U_(r,e){const t={},i=m(e,["styleDescription"]);return i!=null&&g(t,["styleDescription"],i),t}function F_(r,e){const t={},i=m(e,["subjectType"]);i!=null&&g(t,["subjectType"],i);const o=m(e,["subjectDescription"]);return o!=null&&g(t,["subjectDescription"],o),t}function B_(r,e){const t={},i=m(e,["referenceImage"]);i!=null&&g(t,["referenceImage"],rm(r,i));const o=m(e,["referenceId"]);o!=null&&g(t,["referenceId"],o);const s=m(e,["referenceType"]);s!=null&&g(t,["referenceType"],s);const u=m(e,["maskImageConfig"]);u!=null&&g(t,["maskImageConfig"],P_(r,u));const f=m(e,["controlImageConfig"]);f!=null&&g(t,["controlImageConfig"],O_(r,f));const d=m(e,["styleImageConfig"]);d!=null&&g(t,["styleImageConfig"],U_(r,d));const p=m(e,["subjectImageConfig"]);return p!=null&&g(t,["subjectImageConfig"],F_(r,p)),t}function q_(r,e,t){const i={},o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&g(t,["parameters","storageUri"],o);const s=m(e,["negativePrompt"]);t!==void 0&&s!=null&&g(t,["parameters","negativePrompt"],s);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&g(t,["parameters","sampleCount"],u);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&g(t,["parameters","aspectRatio"],f);const d=m(e,["guidanceScale"]);t!==void 0&&d!=null&&g(t,["parameters","guidanceScale"],d);const p=m(e,["seed"]);t!==void 0&&p!=null&&g(t,["parameters","seed"],p);const b=m(e,["safetyFilterLevel"]);t!==void 0&&b!=null&&g(t,["parameters","safetySetting"],b);const w=m(e,["personGeneration"]);t!==void 0&&w!=null&&g(t,["parameters","personGeneration"],w);const C=m(e,["includeSafetyAttributes"]);t!==void 0&&C!=null&&g(t,["parameters","includeSafetyAttributes"],C);const x=m(e,["includeRaiReason"]);t!==void 0&&x!=null&&g(t,["parameters","includeRaiReason"],x);const T=m(e,["language"]);t!==void 0&&T!=null&&g(t,["parameters","language"],T);const L=m(e,["outputMimeType"]);t!==void 0&&L!=null&&g(t,["parameters","outputOptions","mimeType"],L);const I=m(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&g(t,["parameters","outputOptions","compressionQuality"],I);const E=m(e,["editMode"]);t!==void 0&&E!=null&&g(t,["parameters","editMode"],E);const R=m(e,["baseSteps"]);return t!==void 0&&R!=null&&g(t,["parameters","editConfig","baseSteps"],R),i}function z_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["referenceImages"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>B_(r,d))),g(t,["instances[0]","referenceImages"],f)}const u=m(e,["config"]);return u!=null&&g(t,["config"],q_(r,u,t)),t}function V_(r,e,t){const i={},o=m(e,["includeRaiReason"]);t!==void 0&&o!=null&&g(t,["parameters","includeRaiReason"],o);const s=m(e,["outputMimeType"]);t!==void 0&&s!=null&&g(t,["parameters","outputOptions","mimeType"],s);const u=m(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&g(t,["parameters","outputOptions","compressionQuality"],u);const f=m(e,["numberOfImages"]);t!==void 0&&f!=null&&g(t,["parameters","sampleCount"],f);const d=m(e,["mode"]);return t!==void 0&&d!=null&&g(t,["parameters","mode"],d),i}function H_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["image"]);o!=null&&g(t,["instances[0]","image"],rm(r,o));const s=m(e,["upscaleFactor"]);s!=null&&g(t,["parameters","upscaleConfig","upscaleFactor"],s);const u=m(e,["config"]);return u!=null&&g(t,["config"],V_(r,u,t)),t}function j_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function G_(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);t!==void 0&&u!=null&&g(t,["_query","filter"],u);const f=m(e,["queryBase"]);return t!==void 0&&f!=null&&g(t,["_url","models_url"],t5(r,f)),i}function Y_(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],G_(r,i,t)),t}function W_(r,e,t){const i={},o=m(e,["displayName"]);t!==void 0&&o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);t!==void 0&&s!=null&&g(t,["description"],s);const u=m(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&g(t,["defaultCheckpointId"],u),i}function J_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],W_(r,o,t)),t}function K_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","name"],zn(r,i));const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function Z_(r,e,t){const i={},o=m(e,["systemInstruction"]);t!==void 0&&o!=null&&g(t,["systemInstruction"],ac(r,Er(r,o)));const s=m(e,["tools"]);if(t!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(d=>c5(r,d))),g(t,["tools"],f)}const u=m(e,["generationConfig"]);return t!==void 0&&u!=null&&g(t,["generationConfig"],u),i}function $_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>ac(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["config"],Z_(r,s,t)),t}function X_(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["contents"]);if(o!=null){let u=Oa(r,o);Array.isArray(u)&&(u=u.map(f=>ac(r,f))),g(t,["contents"],u)}const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function Q_(r,e,t){const i={},o=m(e,["numberOfVideos"]);t!==void 0&&o!=null&&g(t,["parameters","sampleCount"],o);const s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&g(t,["parameters","storageUri"],s);const u=m(e,["fps"]);t!==void 0&&u!=null&&g(t,["parameters","fps"],u);const f=m(e,["durationSeconds"]);t!==void 0&&f!=null&&g(t,["parameters","durationSeconds"],f);const d=m(e,["seed"]);t!==void 0&&d!=null&&g(t,["parameters","seed"],d);const p=m(e,["aspectRatio"]);t!==void 0&&p!=null&&g(t,["parameters","aspectRatio"],p);const b=m(e,["resolution"]);t!==void 0&&b!=null&&g(t,["parameters","resolution"],b);const w=m(e,["personGeneration"]);t!==void 0&&w!=null&&g(t,["parameters","personGeneration"],w);const C=m(e,["pubsubTopic"]);t!==void 0&&C!=null&&g(t,["parameters","pubsubTopic"],C);const x=m(e,["negativePrompt"]);t!==void 0&&x!=null&&g(t,["parameters","negativePrompt"],x);const T=m(e,["enhancePrompt"]);t!==void 0&&T!=null&&g(t,["parameters","enhancePrompt"],T);const L=m(e,["generateAudio"]);return t!==void 0&&L!=null&&g(t,["parameters","generateAudio"],L),i}function eS(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["_url","model"],zn(r,i));const o=m(e,["prompt"]);o!=null&&g(t,["instances[0]","prompt"],o);const s=m(e,["image"]);s!=null&&g(t,["instances[0]","image"],rm(r,s));const u=m(e,["config"]);return u!=null&&g(t,["config"],Q_(r,u,t)),t}function tS(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function nS(r,e){const t={},i=m(e,["data"]);i!=null&&g(t,["data"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function iS(r,e){const t={},i=m(e,["fileUri"]);i!=null&&g(t,["fileUri"],i);const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function rS(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],tS(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],nS(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],iS(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function aS(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>rS(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function oS(r,e){const t={},i=m(e,["citationSources"]);return i!=null&&g(t,["citations"],i),t}function sS(r,e){const t={},i=m(e,["retrievedUrl"]);i!=null&&g(t,["retrievedUrl"],i);const o=m(e,["urlRetrievalStatus"]);return o!=null&&g(t,["urlRetrievalStatus"],o),t}function lS(r,e){const t={},i=m(e,["urlMetadata"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sS(r,s))),g(t,["urlMetadata"],o)}return t}function uS(r,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],aS(r,i));const o=m(e,["citationMetadata"]);o!=null&&g(t,["citationMetadata"],oS(r,o));const s=m(e,["tokenCount"]);s!=null&&g(t,["tokenCount"],s);const u=m(e,["finishReason"]);u!=null&&g(t,["finishReason"],u);const f=m(e,["urlContextMetadata"]);f!=null&&g(t,["urlContextMetadata"],lS(r,f));const d=m(e,["avgLogprobs"]);d!=null&&g(t,["avgLogprobs"],d);const p=m(e,["groundingMetadata"]);p!=null&&g(t,["groundingMetadata"],p);const b=m(e,["index"]);b!=null&&g(t,["index"],b);const w=m(e,["logprobsResult"]);w!=null&&g(t,["logprobsResult"],w);const C=m(e,["safetyRatings"]);return C!=null&&g(t,["safetyRatings"],C),t}function s2(r,e){const t={},i=m(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>uS(r,d))),g(t,["candidates"],f)}const o=m(e,["modelVersion"]);o!=null&&g(t,["modelVersion"],o);const s=m(e,["promptFeedback"]);s!=null&&g(t,["promptFeedback"],s);const u=m(e,["usageMetadata"]);return u!=null&&g(t,["usageMetadata"],u),t}function cS(r,e){const t={},i=m(e,["values"]);return i!=null&&g(t,["values"],i),t}function fS(){return{}}function dS(r,e){const t={},i=m(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>cS(r,u))),g(t,["embeddings"],s)}return m(e,["metadata"])!=null&&g(t,["metadata"],fS()),t}function hS(r,e){const t={},i=m(e,["bytesBase64Encoded"]);i!=null&&g(t,["imageBytes"],al(r,i));const o=m(e,["mimeType"]);return o!=null&&g(t,["mimeType"],o),t}function f5(r,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const o=m(e,["safetyAttributes","scores"]);o!=null&&g(t,["scores"],o);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function pS(r,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],hS(r,i));const o=m(e,["raiFilteredReason"]);o!=null&&g(t,["raiFilteredReason"],o);const s=m(e,["_self"]);return s!=null&&g(t,["safetyAttributes"],f5(r,s)),t}function mS(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>pS(r,u))),g(t,["generatedImages"],s)}const o=m(e,["positivePromptSafetyAttributes"]);return o!=null&&g(t,["positivePromptSafetyAttributes"],f5(r,o)),t}function gS(r,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function jp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["version"]);u!=null&&g(t,["version"],u);const f=m(e,["_self"]);f!=null&&g(t,["tunedModelInfo"],gS(r,f));const d=m(e,["inputTokenLimit"]);d!=null&&g(t,["inputTokenLimit"],d);const p=m(e,["outputTokenLimit"]);p!=null&&g(t,["outputTokenLimit"],p);const b=m(e,["supportedGenerationMethods"]);return b!=null&&g(t,["supportedActions"],b),t}function vS(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["_self"]);if(o!=null){let s=n5(r,o);Array.isArray(s)&&(s=s.map(u=>jp(r,u))),g(t,["models"],s)}return t}function yS(){return{}}function bS(r,e){const t={},i=m(e,["totalTokens"]);i!=null&&g(t,["totalTokens"],i);const o=m(e,["cachedContentTokenCount"]);return o!=null&&g(t,["cachedContentTokenCount"],o),t}function xS(r,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const o=m(e,["video","encodedVideo"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function wS(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],xS(r,i)),t}function _S(r,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>wS(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function SS(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response","generateVideoResponse"]);return f!=null&&g(t,["response"],_S(r,f)),t}function AS(r,e){const t={},i=m(e,["fps"]);i!=null&&g(t,["fps"],i);const o=m(e,["endOffset"]);o!=null&&g(t,["endOffset"],o);const s=m(e,["startOffset"]);return s!=null&&g(t,["startOffset"],s),t}function CS(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["data"]);o!=null&&g(t,["data"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function TS(r,e){const t={},i=m(e,["displayName"]);i!=null&&g(t,["displayName"],i);const o=m(e,["fileUri"]);o!=null&&g(t,["fileUri"],o);const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function NS(r,e){const t={},i=m(e,["videoMetadata"]);i!=null&&g(t,["videoMetadata"],AS(r,i));const o=m(e,["thought"]);o!=null&&g(t,["thought"],o);const s=m(e,["inlineData"]);s!=null&&g(t,["inlineData"],CS(r,s));const u=m(e,["fileData"]);u!=null&&g(t,["fileData"],TS(r,u));const f=m(e,["codeExecutionResult"]);f!=null&&g(t,["codeExecutionResult"],f);const d=m(e,["executableCode"]);d!=null&&g(t,["executableCode"],d);const p=m(e,["functionCall"]);p!=null&&g(t,["functionCall"],p);const b=m(e,["functionResponse"]);b!=null&&g(t,["functionResponse"],b);const w=m(e,["text"]);return w!=null&&g(t,["text"],w),t}function ES(r,e){const t={},i=m(e,["parts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>NS(r,u))),g(t,["parts"],s)}const o=m(e,["role"]);return o!=null&&g(t,["role"],o),t}function LS(r,e){const t={},i=m(e,["citations"]);return i!=null&&g(t,["citations"],i),t}function MS(r,e){const t={},i=m(e,["content"]);i!=null&&g(t,["content"],ES(r,i));const o=m(e,["citationMetadata"]);o!=null&&g(t,["citationMetadata"],LS(r,o));const s=m(e,["finishMessage"]);s!=null&&g(t,["finishMessage"],s);const u=m(e,["finishReason"]);u!=null&&g(t,["finishReason"],u);const f=m(e,["avgLogprobs"]);f!=null&&g(t,["avgLogprobs"],f);const d=m(e,["groundingMetadata"]);d!=null&&g(t,["groundingMetadata"],d);const p=m(e,["index"]);p!=null&&g(t,["index"],p);const b=m(e,["logprobsResult"]);b!=null&&g(t,["logprobsResult"],b);const w=m(e,["safetyRatings"]);return w!=null&&g(t,["safetyRatings"],w),t}function l2(r,e){const t={},i=m(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(b=>MS(r,b))),g(t,["candidates"],p)}const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const s=m(e,["responseId"]);s!=null&&g(t,["responseId"],s);const u=m(e,["modelVersion"]);u!=null&&g(t,["modelVersion"],u);const f=m(e,["promptFeedback"]);f!=null&&g(t,["promptFeedback"],f);const d=m(e,["usageMetadata"]);return d!=null&&g(t,["usageMetadata"],d),t}function kS(r,e){const t={},i=m(e,["truncated"]);i!=null&&g(t,["truncated"],i);const o=m(e,["token_count"]);return o!=null&&g(t,["tokenCount"],o),t}function RS(r,e){const t={},i=m(e,["values"]);i!=null&&g(t,["values"],i);const o=m(e,["statistics"]);return o!=null&&g(t,["statistics"],kS(r,o)),t}function DS(r,e){const t={},i=m(e,["billableCharacterCount"]);return i!=null&&g(t,["billableCharacterCount"],i),t}function IS(r,e){const t={},i=m(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>RS(r,u))),g(t,["embeddings"],s)}const o=m(e,["metadata"]);return o!=null&&g(t,["metadata"],DS(r,o)),t}function PS(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["gcsUri"],i);const o=m(e,["bytesBase64Encoded"]);o!=null&&g(t,["imageBytes"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function d5(r,e){const t={},i=m(e,["safetyAttributes","categories"]);i!=null&&g(t,["categories"],i);const o=m(e,["safetyAttributes","scores"]);o!=null&&g(t,["scores"],o);const s=m(e,["contentType"]);return s!=null&&g(t,["contentType"],s),t}function am(r,e){const t={},i=m(e,["_self"]);i!=null&&g(t,["image"],PS(r,i));const o=m(e,["raiFilteredReason"]);o!=null&&g(t,["raiFilteredReason"],o);const s=m(e,["_self"]);s!=null&&g(t,["safetyAttributes"],d5(r,s));const u=m(e,["prompt"]);return u!=null&&g(t,["enhancedPrompt"],u),t}function OS(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>am(r,u))),g(t,["generatedImages"],s)}const o=m(e,["positivePromptSafetyAttributes"]);return o!=null&&g(t,["positivePromptSafetyAttributes"],d5(r,o)),t}function US(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>am(r,s))),g(t,["generatedImages"],o)}return t}function FS(r,e){const t={},i=m(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>am(r,s))),g(t,["generatedImages"],o)}return t}function BS(r,e){const t={},i=m(e,["endpoint"]);i!=null&&g(t,["name"],i);const o=m(e,["deployedModelId"]);return o!=null&&g(t,["deployedModelId"],o),t}function qS(r,e){const t={},i=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["createTime"]);o!=null&&g(t,["createTime"],o);const s=m(e,["updateTime"]);return s!=null&&g(t,["updateTime"],s),t}function zS(r,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const o=m(e,["epoch"]);o!=null&&g(t,["epoch"],o);const s=m(e,["step"]);return s!=null&&g(t,["step"],s),t}function Gp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["displayName"]);o!=null&&g(t,["displayName"],o);const s=m(e,["description"]);s!=null&&g(t,["description"],s);const u=m(e,["versionId"]);u!=null&&g(t,["version"],u);const f=m(e,["deployedModels"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(x=>BS(r,x))),g(t,["endpoints"],C)}const d=m(e,["labels"]);d!=null&&g(t,["labels"],d);const p=m(e,["_self"]);p!=null&&g(t,["tunedModelInfo"],qS(r,p));const b=m(e,["defaultCheckpointId"]);b!=null&&g(t,["defaultCheckpointId"],b);const w=m(e,["checkpoints"]);if(w!=null){let C=w;Array.isArray(C)&&(C=C.map(x=>zS(r,x))),g(t,["checkpoints"],C)}return t}function VS(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["_self"]);if(o!=null){let s=n5(r,o);Array.isArray(s)&&(s=s.map(u=>Gp(r,u))),g(t,["models"],s)}return t}function HS(){return{}}function jS(r,e){const t={},i=m(e,["totalTokens"]);return i!=null&&g(t,["totalTokens"],i),t}function GS(r,e){const t={},i=m(e,["tokensInfo"]);return i!=null&&g(t,["tokensInfo"],i),t}function YS(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const o=m(e,["bytesBase64Encoded"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function WS(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],YS(r,i)),t}function JS(r,e){const t={},i=m(e,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>WS(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function KS(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],JS(r,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS="Content-Type",$S="X-Server-Timeout",XS="User-Agent",Yp="x-goog-api-client",QS="1.2.0",eA=`google-genai-sdk/${QS}`,tA="v1beta1",nA="v1beta",u2=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class h5 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Wp extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class iA{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:tA,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nA,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){const o=[this.getRequestUrlInternal(t)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,t){const i=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(t))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,i){if(t&&t.timeout||i){const o=new AbortController,s=o.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>o.abort(),t.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await c2(o),new qp(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await c2(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return cf(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:d}=yield ei(o.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=s.decode(d);try{const w=JSON.parse(p);if("error"in w){const C=JSON.parse(JSON.stringify(w.error)),x=C.status,T=C.code,L=`got status: ${x}. ${JSON.stringify(w)}`;if(T>=400&&T<500)throw new h5(L);if(T>=500&&T<600)throw new Wp(L)}}catch(w){const C=w;if(C.name==="ClientError"||C.name==="ServerError")throw w}u+=p;let b=u.match(u2);for(;b;){const w=b[1];try{const C=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ei(new qp(C)),u=u.slice(b[0].length),b=u.match(u2)}catch(C){throw new Error(`exception parsing stream chunk ${w}. ${C}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},t=eA+" "+this.clientOptions.userAgentExtra;return e[XS]=t,e[Yp]=t,e[ZS]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))t.append(i,o);e.timeout&&e.timeout>0&&t.append($S,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var i;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,u=await s.stat(e);o.sizeBytes=String(u.size);const f=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const d=await this.fetchUploadUrl(o,t);return s.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var i;let o={};t!=null&&t.httpOptions?o=t.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},u=await this.request({path:Bt("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:o});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function c2(r){var e;if(r===void 0)throw new Wp("response is undefined");if(!r.ok){const t=r.status,i=r.statusText;let o;!((e=r.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await r.json():o={error:{message:await r.text(),code:r.status,status:r.statusText}};const s=`got status: ${t} ${i}. ${JSON.stringify(o)}`;throw t>=400&&t<500?new h5(s):t>=500&&t<600?new Wp(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA="mcp_used/unknown";function p5(r){for(const e of r)if(om(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function m5(r){var e;const t=(e=r[Yp])!==null&&e!==void 0?e:"";r[Yp]=(t+` ${rA}`).trimStart()}function aA(r){var e,t,i;return(i=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>om(o)))!==null&&i!==void 0?i:!1}function oA(r){var e,t,i;return(i=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>!om(o)))!==null&&i!==void 0?i:!1}function om(r){return r!==null&&typeof r=="object"&&"tool"in r&&"callTool"in r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sA(r,e,t){const i=new o3;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data);const s=ww(r,o);Object.assign(i,s),e(i)}class lA{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}async connect(e){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),u=fA(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${f}`;let p=()=>{};const b=new Promise(D=>{p=D}),w=e.callbacks,C=function(){p({})},x=this.apiClient,T={onopen:C,onmessage:D=>{sA(x,w.onmessage,D)},onerror:(t=w==null?void 0:w.onerror)!==null&&t!==void 0?t:function(D){},onclose:(i=w==null?void 0:w.onclose)!==null&&i!==void 0?i:function(D){}},L=this.webSocketFactory.create(d,cA(u),T);L.connect(),await b;const I=zn(this.apiClient,e.model),E=s5(this.apiClient,{model:I}),R=Hp(this.apiClient,{setup:E});return L.send(JSON.stringify(R)),new uA(L,this.apiClient)}}class uA{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Px(this.apiClient,e),i=l5(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Ox(this.apiClient,e),i=Hp(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const t=Hp(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Xu.PLAY)}pause(){this.sendPlaybackControl(Xu.PAUSE)}stop(){this.sendPlaybackControl(Xu.STOP)}resetContext(){this.sendPlaybackControl(Xu.RESET_CONTEXT)}close(){this.conn.close()}}function cA(r){const e={};return r.forEach((t,i)=>{e[i]=t}),e}function fA(r){const e=new Headers;for(const[t,i]of Object.entries(r))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hA(r,e,t){const i=new a3;let o;if(t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),r.isVertexAI()){const s=dw(r,o);Object.assign(i,s)}else{const s=fw(r,o);Object.assign(i,s)}e(i)}class pA{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new lA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,i,o,s,u,f;const d=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let b;const w=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&p5(e.config.tools)&&m5(w);const C=yA(w);if(this.apiClient.isVertexAI())b=`${d}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const re=this.apiClient.getApiKey();b=`${d}/ws/google.ai.generativelanguage.${p}.GenerativeService.BidiGenerateContent?key=${re}`}let x=()=>{};const T=new Promise(re=>{x=re}),L=e.callbacks,I=function(){var re;(re=L==null?void 0:L.onopen)===null||re===void 0||re.call(L),x({})},E=this.apiClient,R={onopen:I,onmessage:re=>{hA(E,L.onmessage,re)},onerror:(t=L==null?void 0:L.onerror)!==null&&t!==void 0?t:function(re){},onclose:(i=L==null?void 0:L.onclose)!==null&&i!==void 0?i:function(re){}},D=this.webSocketFactory.create(b,vA(C),R);D.connect(),await T;let j=zn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const re=this.apiClient.getProject(),ae=this.apiClient.getLocation();j=`projects/${re}/locations/${ae}/`+j}let K={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Id.AUDIO]}:e.config.responseModalities=[Id.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],V=[];for(const re of Q)if(this.isCallableTool(re)){const ae=re;V.push(await ae.tool())}else V.push(re);V.length>0&&(e.config.tools=V);const z={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?K=Ex(this.apiClient,z):K=Nx(this.apiClient,z),delete K.config,D.send(JSON.stringify(K)),new gA(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mA={turnComplete:!0};class gA{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Oa(e,t.turns),e.isVertexAI()?i=i.map(o=>ac(e,o)):i=i.map(o=>Hd(e,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(dA)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},mA),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Ix(this.apiClient,e)}:t={realtimeInput:Dx(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function vA(r){const e={};return r.forEach((t,i)=>{e[i]=t}),e}function yA(r){const e=new Headers;for(const[t,i]of Object.entries(r))e.append(t,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f2=10;function d2(r){var e,t,i;if(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(t=r==null?void 0:r.tools)!==null&&t!==void 0?t:[])if(Cd(u)){o=!0;break}if(!o)return!0;const s=(i=r==null?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Cd(r){return"callTool"in r&&typeof r.callTool=="function"}function h2(r){var e;return!(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bA extends gf{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var i,o,s,u,f;const d=await this.processParamsForMcpUsage(t);if(!aA(t)||d2(t.config))return await this.generateContentInternal(d);if(oA(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,b;const w=Oa(this.apiClient,d.contents),C=(s=(o=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:f2;let x=0;for(;x<C&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const T=p.candidates[0].content,L=[];for(const I of(f=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(Cd(I)){const R=await I.callTool(p.functionCalls);L.push(...R)}x++,b={role:"user",parts:L},d.contents=Oa(this.apiClient,d.contents),d.contents.push(T),d.contents.push(b),h2(d.config)&&(w.push(T),w.push(b))}return h2(d.config)&&(p.automaticFunctionCallingHistory=w),p},this.generateContentStream=async t=>{if(d2(t.config)){const i=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var o;let s;const u=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:u.push(d);let f;return s?f={generatedImages:u,positivePromptSafetyAttributes:s}:f={generatedImages:u},f}),this.list=async t=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Vd(rc.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var t,i,o;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const u=await Promise.all(s.map(async d=>Cd(d)?await d.tool():d)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&p5(e.config.tools)){const d=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},d);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),m5(p),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return f}async initAfcToolsMap(e){var t,i,o;const s=new Map;for(const u of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Cd(u)){const f=u,d=await f.tool();for(const p of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(s.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);s.set(p.name,f)}}return s}async processAfcStream(e){var t,i,o;const s=(o=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:f2;let u=!1,f=0;const d=await this.initAfcToolsMap(e);return function(p,b,w){var C,x;return cf(this,arguments,function*(){for(var T,L,I,E;f<s;){u&&(f++,u=!1);const K=yield ei(p.processParamsForMcpUsage(w)),Q=yield ei(p.generateContentStreamInternal(K)),V=[],z=[];try{for(var R=!0,D=(L=void 0,Ad(Q)),j;j=yield ei(D.next()),T=j.done,!T;R=!0){E=j.value,R=!1;const re=E;if(yield yield ei(re),re.candidates&&(!((C=re.candidates[0])===null||C===void 0)&&C.content)){z.push(re.candidates[0].content);for(const ae of(x=re.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(f<s&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(ae.functionCall.name)){const O=yield ei(b.get(ae.functionCall.name).callTool([ae.functionCall]));V.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(re){L={error:re}}finally{try{!R&&!T&&(I=D.return)&&(yield ei(I.call(D)))}finally{if(L)throw L.error}}if(V.length>0){u=!0;const re=new ef;re.candidates=[{content:{role:"user",parts:V}}],yield yield ei(re);const ae=[];ae.push(...z),ae.push({role:"user",parts:V});const O=Oa(p.apiClient,w.contents).concat(ae);w.contents=O}else break}})}(this,d,e)}async generateContentInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=o2(this.apiClient,e);return f=Bt("{model}:generateContent",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=l2(this.apiClient,b),C=new ef;return Object.assign(C,w),C})}else{const p=a2(this.apiClient,e);return f=Bt("{model}:generateContent",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=s2(this.apiClient,b),C=new ef;return Object.assign(C,w),C})}}async generateContentStreamInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=o2(this.apiClient,e);f=Bt("{model}:streamGenerateContent?alt=sse",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const b=this.apiClient;return u=b.requestStream({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(w){return cf(this,arguments,function*(){var C,x,T,L;try{for(var I=!0,E=Ad(w),R;R=yield ei(E.next()),C=R.done,!C;I=!0){L=R.value,I=!1;const j=l2(b,yield ei(L.json())),K=new ef;Object.assign(K,j),yield yield ei(K)}}catch(D){x={error:D}}finally{try{!I&&!C&&(T=E.return)&&(yield ei(T.call(E)))}finally{if(x)throw x.error}}})})}else{const p=a2(this.apiClient,e);f=Bt("{model}:streamGenerateContent?alt=sse",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const b=this.apiClient;return u=b.requestStream({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(w){return cf(this,arguments,function*(){var C,x,T,L;try{for(var I=!0,E=Ad(w),R;R=yield ei(E.next()),C=R.done,!C;I=!0){L=R.value,I=!1;const j=s2(b,yield ei(L.json())),K=new ef;Object.assign(K,j),yield yield ei(K)}}catch(D){x={error:D}}finally{try{!I&&!C&&(T=E.return)&&(yield ei(T.call(E)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=R_(this.apiClient,e);return f=Bt("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=IS(this.apiClient,b),C=new B1;return Object.assign(C,w),C})}else{const p=Yw(this.apiClient,e);return f=Bt("{model}:batchEmbedContents",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=dS(this.apiClient,b),C=new B1;return Object.assign(C,w),C})}}async generateImagesInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=I_(this.apiClient,e);return f=Bt("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=OS(this.apiClient,b),C=new q1;return Object.assign(C,w),C})}else{const p=Jw(this.apiClient,e);return f=Bt("{model}:predict",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=mS(this.apiClient,b),C=new q1;return Object.assign(C,w),C})}}async editImageInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=z_(this.apiClient,e);return s=Bt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=US(this.apiClient,d),b=new Qb;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=H_(this.apiClient,e);return s=Bt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=FS(this.apiClient,d),b=new e3;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=j_(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Gp(this.apiClient,b))}else{const p=Kw(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>jp(this.apiClient,b))}}async listInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=Y_(this.apiClient,e);return f=Bt("{models_url}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=VS(this.apiClient,b),C=new z1;return Object.assign(C,w),C})}else{const p=$w(this.apiClient,e);return f=Bt("{models_url}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=vS(this.apiClient,b),C=new z1;return Object.assign(C,w),C})}}async update(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=J_(this.apiClient,e);return f=Bt("{model}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Gp(this.apiClient,b))}else{const p=Qw(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>jp(this.apiClient,b))}}async delete(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=K_(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(()=>{const b=HS(),w=new V1;return Object.assign(w,b),w})}else{const p=e_(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(()=>{const b=yS(),w=new V1;return Object.assign(w,b),w})}}async countTokens(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=$_(this.apiClient,e);return f=Bt("{model}:countTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=jS(this.apiClient,b),C=new H1;return Object.assign(C,w),C})}else{const p=n_(this.apiClient,e);return f=Bt("{model}:countTokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=bS(this.apiClient,b),C=new H1;return Object.assign(C,w),C})}}async computeTokens(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=X_(this.apiClient,e);return s=Bt("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const p=GS(this.apiClient,d),b=new t3;return Object.assign(b,p),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=eS(this.apiClient,e);return f=Bt("{model}:predictLongRunning",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>KS(this.apiClient,b))}else{const p=a_(this.apiClient,e);return f=Bt("{model}:predictLongRunning",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>SS(this.apiClient,b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(r,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function wA(r,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["_url","operationName"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function _A(r,e){const t={},i=m(e,["operationName"]);i!=null&&g(t,["operationName"],i);const o=m(e,["resourceName"]);o!=null&&g(t,["_url","resourceName"],o);const s=m(e,["config"]);return s!=null&&g(t,["config"],s),t}function SA(r,e){const t={},i=m(e,["video","uri"]);i!=null&&g(t,["uri"],i);const o=m(e,["video","encodedVideo"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["encoding"]);return s!=null&&g(t,["mimeType"],s),t}function AA(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],SA(r,i)),t}function CA(r,e){const t={},i=m(e,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>AA(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function TA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response","generateVideoResponse"]);return f!=null&&g(t,["response"],CA(r,f)),t}function NA(r,e){const t={},i=m(e,["gcsUri"]);i!=null&&g(t,["uri"],i);const o=m(e,["bytesBase64Encoded"]);o!=null&&g(t,["videoBytes"],al(r,o));const s=m(e,["mimeType"]);return s!=null&&g(t,["mimeType"],s),t}function EA(r,e){const t={},i=m(e,["_self"]);return i!=null&&g(t,["video"],NA(r,i)),t}function LA(r,e){const t={},i=m(e,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>EA(r,f))),g(t,["generatedVideos"],u)}const o=m(e,["raiMediaFilteredCount"]);o!=null&&g(t,["raiMediaFilteredCount"],o);const s=m(e,["raiMediaFilteredReasons"]);return s!=null&&g(t,["raiMediaFilteredReasons"],s),t}function p2(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);u!=null&&g(t,["error"],u);const f=m(e,["response"]);return f!=null&&g(t,["response"],LA(r,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends gf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let s;return i&&"httpOptions"in i&&(s=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:i})}async getVideosOperationInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=wA(this.apiClient,e);return f=Bt("{operationName}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>p2(this.apiClient,b))}else{const p=xA(this.apiClient,e);return f=Bt("{operationName}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>TA(this.apiClient,b))}}async fetchPredictVideosOperationInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=_A(this.apiClient,e);return s=Bt("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>p2(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function RA(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);return t!==void 0&&u!=null&&g(t,["_query","filter"],u),i}function DA(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],RA(r,i,t)),t}function IA(r,e){const t={},i=m(e,["textInput"]);i!=null&&g(t,["textInput"],i);const o=m(e,["output"]);return o!=null&&g(t,["output"],o),t}function PA(r,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=m(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>IA(r,s))),g(t,["examples","examples"],o)}return t}function OA(r,e,t){const i={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=m(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&g(t,["displayName"],o),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(e,["epochCount"]);t!==void 0&&s!=null&&g(t,["tuningTask","hyperparameters","epochCount"],s);const u=m(e,["learningRateMultiplier"]);if(u!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=m(e,["batchSize"]);t!==void 0&&f!=null&&g(t,["tuningTask","hyperparameters","batchSize"],f);const d=m(e,["learningRate"]);return t!==void 0&&d!=null&&g(t,["tuningTask","hyperparameters","learningRate"],d),i}function UA(r,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["trainingDataset"]);o!=null&&g(t,["tuningTask","trainingData"],PA(r,o));const s=m(e,["config"]);return s!=null&&g(t,["config"],OA(r,s,t)),t}function FA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["_url","name"],i);const o=m(e,["config"]);return o!=null&&g(t,["config"],o),t}function BA(r,e,t){const i={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&g(t,["_query","pageSize"],o);const s=m(e,["pageToken"]);t!==void 0&&s!=null&&g(t,["_query","pageToken"],s);const u=m(e,["filter"]);return t!==void 0&&u!=null&&g(t,["_query","filter"],u),i}function qA(r,e){const t={},i=m(e,["config"]);return i!=null&&g(t,["config"],BA(r,i,t)),t}function zA(r,e,t){const i={},o=m(e,["gcsUri"]);if(t!==void 0&&o!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],o),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function VA(r,e){const t={},i=m(e,["gcsUri"]);return i!=null&&g(t,["validationDatasetUri"],i),t}function HA(r,e,t){const i={},o=m(e,["validationDataset"]);t!==void 0&&o!=null&&g(t,["supervisedTuningSpec"],VA(r,o));const s=m(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&g(t,["tunedModelDisplayName"],s);const u=m(e,["description"]);t!==void 0&&u!=null&&g(t,["description"],u);const f=m(e,["epochCount"]);t!==void 0&&f!=null&&g(t,["supervisedTuningSpec","hyperParameters","epochCount"],f);const d=m(e,["learningRateMultiplier"]);t!==void 0&&d!=null&&g(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const p=m(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&g(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const b=m(e,["adapterSize"]);if(t!==void 0&&b!=null&&g(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function jA(r,e){const t={},i=m(e,["baseModel"]);i!=null&&g(t,["baseModel"],i);const o=m(e,["trainingDataset"]);o!=null&&g(t,["supervisedTuningSpec","trainingDatasetUri"],zA(r,o,t));const s=m(e,["config"]);return s!=null&&g(t,["config"],HA(r,s,t)),t}function GA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["model"],i);const o=m(e,["name"]);return o!=null&&g(t,["endpoint"],o),t}function g5(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["state"]);o!=null&&g(t,["state"],Q2(r,o));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const u=m(e,["tuningTask","startTime"]);u!=null&&g(t,["startTime"],u);const f=m(e,["tuningTask","completeTime"]);f!=null&&g(t,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&g(t,["updateTime"],d);const p=m(e,["description"]);p!=null&&g(t,["description"],p);const b=m(e,["baseModel"]);b!=null&&g(t,["baseModel"],b);const w=m(e,["_self"]);w!=null&&g(t,["tunedModel"],GA(r,w));const C=m(e,["distillationSpec"]);C!=null&&g(t,["distillationSpec"],C);const x=m(e,["experiment"]);x!=null&&g(t,["experiment"],x);const T=m(e,["labels"]);T!=null&&g(t,["labels"],T);const L=m(e,["pipelineJob"]);L!=null&&g(t,["pipelineJob"],L);const I=m(e,["serviceAccount"]);I!=null&&g(t,["serviceAccount"],I);const E=m(e,["tunedModelDisplayName"]);return E!=null&&g(t,["tunedModelDisplayName"],E),t}function YA(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>g5(r,u))),g(t,["tuningJobs"],s)}return t}function WA(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["metadata"]);o!=null&&g(t,["metadata"],o);const s=m(e,["done"]);s!=null&&g(t,["done"],s);const u=m(e,["error"]);return u!=null&&g(t,["error"],u),t}function JA(r,e){const t={},i=m(e,["checkpointId"]);i!=null&&g(t,["checkpointId"],i);const o=m(e,["epoch"]);o!=null&&g(t,["epoch"],o);const s=m(e,["step"]);s!=null&&g(t,["step"],s);const u=m(e,["endpoint"]);return u!=null&&g(t,["endpoint"],u),t}function KA(r,e){const t={},i=m(e,["model"]);i!=null&&g(t,["model"],i);const o=m(e,["endpoint"]);o!=null&&g(t,["endpoint"],o);const s=m(e,["checkpoints"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>JA(r,f))),g(t,["checkpoints"],u)}return t}function Jp(r,e){const t={},i=m(e,["name"]);i!=null&&g(t,["name"],i);const o=m(e,["state"]);o!=null&&g(t,["state"],Q2(r,o));const s=m(e,["createTime"]);s!=null&&g(t,["createTime"],s);const u=m(e,["startTime"]);u!=null&&g(t,["startTime"],u);const f=m(e,["endTime"]);f!=null&&g(t,["endTime"],f);const d=m(e,["updateTime"]);d!=null&&g(t,["updateTime"],d);const p=m(e,["error"]);p!=null&&g(t,["error"],p);const b=m(e,["description"]);b!=null&&g(t,["description"],b);const w=m(e,["baseModel"]);w!=null&&g(t,["baseModel"],w);const C=m(e,["tunedModel"]);C!=null&&g(t,["tunedModel"],KA(r,C));const x=m(e,["supervisedTuningSpec"]);x!=null&&g(t,["supervisedTuningSpec"],x);const T=m(e,["tuningDataStats"]);T!=null&&g(t,["tuningDataStats"],T);const L=m(e,["encryptionSpec"]);L!=null&&g(t,["encryptionSpec"],L);const I=m(e,["partnerModelTuningSpec"]);I!=null&&g(t,["partnerModelTuningSpec"],I);const E=m(e,["distillationSpec"]);E!=null&&g(t,["distillationSpec"],E);const R=m(e,["experiment"]);R!=null&&g(t,["experiment"],R);const D=m(e,["labels"]);D!=null&&g(t,["labels"],D);const j=m(e,["pipelineJob"]);j!=null&&g(t,["pipelineJob"],j);const K=m(e,["serviceAccount"]);K!=null&&g(t,["serviceAccount"],K);const Q=m(e,["tunedModelDisplayName"]);return Q!=null&&g(t,["tunedModelDisplayName"],Q),t}function ZA(r,e){const t={},i=m(e,["nextPageToken"]);i!=null&&g(t,["nextPageToken"],i);const o=m(e,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Jp(r,u))),g(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $A extends gf{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Vd(rc.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const i=await this.tuneMldevInternal(t);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Bp.JOB_STATE_QUEUED}}}}async getInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=FA(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>Jp(this.apiClient,b))}else{const p=kA(this.apiClient,e);return f=Bt("{name}",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>g5(this.apiClient,b))}}async listInternal(e){var t,i,o,s;let u,f="",d={};if(this.apiClient.isVertexAI()){const p=qA(this.apiClient,e);return f=Bt("tuningJobs",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(b=>b.json()),u.then(b=>{const w=ZA(this.apiClient,b),C=new j1;return Object.assign(C,w),C})}else{const p=DA(this.apiClient,e);return f=Bt("tunedModels",p._url),d=p._query,delete p.config,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(b=>b.json()),u.then(b=>{const w=YA(this.apiClient,b),C=new j1;return Object.assign(C,w),C})}}async tuneInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI()){const f=jA(this.apiClient,e);return s=Bt("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Jp(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,i;let o,s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=UA(this.apiClient,e);return s=Bt("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>WA(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XA{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QA=1024*1024*8,eC=3,tC=1e3,nC=2,hp="x-goog-upload-status";async function iC(r,e,t){var i,o,s;let u=0,f=0,d=new qp(new Response),p="upload";for(u=r.size;f<u;){const w=Math.min(QA,u-f),C=r.slice(f,f+w);f+w>=u&&(p+=", finalize");let x=0,T=tC;for(;x<eC&&(d=await t.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(f),"Content-Length":String(w)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[hp]));)x++,await aC(T),T=T*nC;if(f+=w,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[hp])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const b=await(d==null?void 0:d.json());if(((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s[hp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return b.file}async function rC(r){return{size:r.size,type:r.type}}function aC(r){return new Promise(e=>setTimeout(e,r))}class oC{async upload(e,t,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iC(e,t,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC{create(e,t,i){return new lC(e,t,i)}}class lC{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m2="x-goog-api-key";class uC{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(m2)===null&&e.append(m2,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cC="gl-node/";class fC{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const i=Xb(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new uC(this.apiKey);this.apiClient=new iA({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:cC+"web",uploader:new oC,downloader:new XA}),this.models=new bA(this.apiClient),this.live=new pA(this.apiClient,o,new sC),this.chats=new b4(this.models,this.apiClient),this.caches=new g4(this.apiClient),this.files=new R4(this.apiClient),this.operations=new MA(this.apiClient),this.tunings=new $A(this.apiClient)}}const dC=()=>{const r=localStorage.getItem(y2);if(!r)return[];try{return JSON.parse(r).map(e=>({...e,timestamp:new Date(e.timestamp),lastAttemptTimestamp:e.lastAttemptTimestamp?new Date(e.lastAttemptTimestamp):void 0,errorInfo:e.errorInfo?{...e.errorInfo,history:(e.errorInfo.history||[]).map(t=>({...t,timestamp:new Date(t.timestamp)}))}:void 0}))}catch(e){return console.error("Error parsing offline queue from localStorage:",e),[]}},hC=r=>{try{localStorage.setItem(y2,JSON.stringify(r))}catch(e){console.error("Error saving offline queue to localStorage:",e)}},v5=r=>{const e=r.message||"Unknown error",t=r.status||r.code;return navigator.onLine?e.includes("API key not valid")||t===400&&e.toLowerCase().includes("api key")?{type:"API_KEY_INVALID",message:`API Key Error: ${e}`}:e.includes("quota")||t===429?{type:"QUOTA_EXCEEDED",message:`Quota Exceeded: ${e}`}:e.toLowerCase().includes("fetch")||e.toLowerCase().includes("networkerror")||e.toLowerCase().includes("failed to connect")?{type:"NO_CONNECTION",message:`Network Error: ${e}`}:t===503||t===500||e.toLowerCase().includes("service unavailable")||e.toLowerCase().includes("internal error")?{type:"MODEL_UNAVAILABLE",message:`LLM Service Unavailable (${t||"N/A"}): ${e}`}:r.name==="GoogleGenerativeAIError"||e.toLowerCase().includes("gemini")||e.toLowerCase().includes("google generative ai")?{type:"GEMINI_API_ERROR",message:`Gemini API Error: ${e}`}:{type:"UNKNOWN",message:`Unknown Error: ${e}`}:{type:"NO_CONNECTION",message:"No internet connection detected."}},pC=r=>["NO_CONNECTION","API_KEY_INVALID","QUOTA_EXCEEDED","MODEL_UNAVAILABLE","GEMINI_API_ERROR","UNKNOWN"].includes(r),g2=(r,e,t,i,o)=>{const s={id:ts(),timestamp:new Date,type:"sendMessageToAI",payload:r,status:"pending",attempts:0,errorInfo:{type:e,message:t,history:[{timestamp:new Date,type:e,message:t}]},originalMessageId:o};return i(u=>[...u,s]),s},mC=async(r,e,t,i,o,s)=>{if(!e){const w={type:"GEMINI_API_ERROR",message:"Chat session not initialized for retry."};r.attempts+1>=mp?s(r.id,{type:"MAX_ATTEMPTS_REACHED",message:`Max attempts reached. Last error: ${w.message}`}):o(r.id,w);return}const{messageText:u,audioBase64:f,audioMimeType:d}=r.payload,p=JSON.stringify(t),b=[];b.push({text:`Contexto de Base de Datos (NO MOSTRAR AL USUARIO, USAR PARA REFERENCIA INTERNA):
${p}`}),f&&d?(b.push({inlineData:{data:f,mimeType:d}}),u&&u.trim()!==""&&u!=="Comando de voz grabado (procesando...)"&&b.push({text:`

Comando del Usuario (puede ser transcripción de audio o texto directo):
${u}`})):b.push({text:`

Comando del Usuario:
${u}`});try{const w=await e.sendMessage({message:b});i(r.id,w.text,w)}catch(w){const C=v5(w);r.attempts+1>=mp?s(r.id,{type:"MAX_ATTEMPTS_REACHED",message:`Max attempts reached. Last error (${C.type}): ${C.message}`}):o(r.id,C)}},pp=r=>r.toLowerCase().replace(/[\s_-]+/g,""),gC=r=>{const e=pp(r.substring(0,r.lastIndexOf(".")));for(const t of ns){const i=Hr[t];if(e.includes(pp(t))||i&&e.includes(pp(i)))return t}return e.includes("cliente")?"clients":e.includes("usuario")?"users":e.includes("contratista")?"contractors":e.includes("personal")||e.includes("empleado")?"personnel":e.includes("maquinaria")||e.includes("maquina")?"machineries":e.includes("campo")||e.includes("finca")?"fields":e.includes("lote")?"lots":e.includes("parcela")?"parcels":e.includes("campana")||e.includes("campaña")?"campaigns":e.includes("tipotarea")||e.includes("taskslist")||e.includes("tasklist")?"tasksList":e.includes("producto")||e.includes("insumo")?"productsInsumes":null},vC=({files:r,onClose:e,onSubmit:t,entityTypes:i})=>{const[o,s]=$e.useState([]);$e.useEffect(()=>{s(r.map(p=>{const b=gC(p.name);return{file:p,suggestedType:b,selectedType:b||""}}))},[r]);const u=(p,b)=>{s(w=>w.map((C,x)=>x===p?{...C,selectedType:b}:C))},f=()=>{const p=o.filter(b=>b.selectedType!=="").map(b=>({file:b.file,entityType:b.selectedType}));p.length>0?t(p):alert("Por favor, selecciona un tipo de entidad para al menos un archivo.")},d=o.every(p=>p.selectedType!=="");return Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"multi-csv-modal-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col text-gray-800 dark:text-gray-100",children:[Y.jsx("h2",{id:"multi-csv-modal-title",className:"text-xl font-semibold mb-4 text-green-600 dark:text-green-400",children:"Asignar Tipos a Archivos de Tabla"}),Y.jsxs("div",{className:"overflow-y-auto mb-4 pr-2 flex-grow",children:[o.length===0&&Y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay archivos seleccionados."}),o.map((p,b)=>Y.jsxs("div",{className:"mb-4 p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700",children:[Y.jsxs("p",{className:"font-medium text-sm truncate",title:p.file.name,children:["Archivo: ",Y.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:p.file.name})]}),p.suggestedType&&Y.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Sugerencia: ",Hr[p.suggestedType]]}),Y.jsx("label",{htmlFor:`entity-type-${b}`,className:"block text-sm font-medium mt-1 mb-1",children:"Seleccionar tipo de entidad:"}),Y.jsxs("select",{id:`entity-type-${b}`,value:p.selectedType,onChange:w=>u(b,w.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-500 rounded-md bg-white dark:bg-gray-600 focus:ring-2 focus:ring-green-500 outline-none",children:[Y.jsx("option",{value:"",children:"-- Seleccionar --"}),i.map(w=>Y.jsx("option",{value:w,children:Hr[w]},w))]})]},b))]}),Y.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[Y.jsx("button",{onClick:e,className:"py-2 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-md transition-colors",children:"Cancelar"}),Y.jsx("button",{onClick:f,disabled:!d||o.length===0,className:"py-2 px-4 bg-green-500 hover:bg-green-600 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Procesar Seleccionados"})]})]})})},yC=({isOpen:r,title:e,message:t,onConfirm:i,onCancel:o,confirmText:s="Confirmar",cancelText:u="Cancelar"})=>r?Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md text-gray-800 dark:text-gray-100",children:[Y.jsx("h2",{id:"confirm-modal-title",className:"text-xl font-semibold mb-4 text-green-600 dark:text-green-400",children:e}),Y.jsx("div",{className:"mb-6 text-sm leading-relaxed",children:t}),Y.jsxs("div",{className:"flex justify-end space-x-3",children:[Y.jsx("button",{onClick:o,className:"py-2 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded-md transition-colors","aria-label":u,children:u}),Y.jsx("button",{onClick:i,className:"py-2 px-4 bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors","aria-label":s,children:s})]})]})}):null,bC=({isVoiceModeActive:r,onToggleVoiceMode:e,onDismiss:t})=>Y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 sm:p-6 md:p-8",style:{backgroundImage:"url('/images/Asistente_Virtual_IA.png')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},role:"dialog","aria-modal":"true","aria-labelledby":"welcome-banner-title",children:Y.jsxs("div",{className:"bg-white dark:bg-gray-800 bg-opacity-90 dark:bg-opacity-90 p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-3xl text-center transform transition-all duration-500 ease-out scale-100 opacity-100 max-h-[95vh] overflow-y-auto",children:[Y.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[Y.jsx("h1",{id:"welcome-banner-title",className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white leading-tight",children:"Gestor de Trabajos"}),Y.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 dark:text-white leading-tight",children:["Agro Aereo Roberts v1.0 ",Y.jsx("span",{role:"img","aria-label":"airplane",children:"✈️"})]})]}),Y.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm sm:text-base leading-relaxed",children:"Soy tu asistente virtual para ayudarte a gestionar los trabajos de fumigación y siembra aérea de forma sencilla."}),Y.jsxs("div",{className:"text-left bg-gray-100 dark:bg-gray-700 p-4 rounded-lg mb-6",children:[Y.jsx("p",{className:"text-gray-700 dark:text-gray-200 font-semibold mb-2 text-sm sm:text-base",children:"Puedes interactuar conmigo escribiendo comandos como:"}),Y.jsxs("ul",{className:"list-none space-y-2 text-sm text-gray-600 dark:text-gray-300 pl-2",children:[Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"customer",className:"mr-2",children:"👤"}),' "Crear cliente Campos del Norte SA"']}),Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"spray",className:"mr-2",children:"💨"}),' "Programar fumigación aérea para el campo La Noria mañana"']}),Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"plane",className:"mr-2",children:"✈️"}),' "Listar aviones disponibles"']}),Y.jsxs("li",{children:[Y.jsx("span",{role:"img","aria-label":"question mark",className:"mr-2",children:"❓"}),' "Ayuda" (para ver más acciones)']})]})]}),Y.jsxs("div",{className:"text-left bg-yellow-50 dark:bg-yellow-900/30 p-4 rounded-lg mb-6",children:[Y.jsx("h3",{className:"font-semibold text-yellow-700 dark:text-yellow-300 mb-2 text-sm sm:text-base",children:"Opciones de Carga y Guardado de Datos:"}),Y.jsx("p",{className:"text-xs sm:text-sm text-yellow-600 dark:text-yellow-400 mb-3",children:"Puedes gestionar tus datos usando los botones en la barra superior (agrupados en `BD`, `Tablas`, `Historial`):"}),Y.jsxs("ul",{className:"list-none space-y-2 text-xs sm:text-sm text-yellow-600 dark:text-yellow-400",children:[Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(b2,{className:"h-4 w-4 mr-2 text-blue-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:"Cargar BD (JSON):"})," Carga una base de datos completa. (Menú `BD`)"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(x2,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-green-600 dark:text-green-400",children:"Guardar BD (JSON):"})," Guarda la base de datos actual. (Menú `BD`)"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(_2,{className:"h-4 w-4 mr-2 text-purple-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"Cargar Múltiples (CSV):"})," Sube varios archivos CSV. (Menú `Tablas`)"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(S2,{className:"h-4 w-4 mr-2 text-teal-500 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-teal-600 dark:text-teal-400",children:"Guardar Todas (CSV):"})," Guarda todas las tablas actuales en CSV. (Menú `Tablas`)"]})]}),Y.jsxs("li",{className:"flex items-center",children:[Y.jsx(w2,{className:"h-4 w-4 mr-2 text-yellow-700 flex-shrink-0"}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-yellow-800 dark:text-yellow-500",children:"Cargar Individual (CSV):"})," Importa una tabla específica. (Menú `Tablas`)"]})]})]}),Y.jsxs("p",{className:"text-xs text-yellow-500 dark:text-yellow-600 mt-2",children:["No olvides la opción de ",Y.jsx("strong",{className:"text-red-600 dark:text-red-400",children:"Borrar BD"})," para limpiar todos los datos (¡con confirmación!, en Menú `BD`)."]})]}),Y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg mb-8 text-sm",children:[Y.jsxs("p",{className:"text-blue-700 dark:text-blue-300 flex items-center justify-center",children:[r?Y.jsx(gp,{className:"h-5 w-5 mr-2 text-green-500"}):Y.jsx(vp,{className:"h-5 w-5 mr-2 text-red-500"}),"Modo Voz Interactiva: ",Y.jsx("span",{className:`font-semibold ml-1 ${r?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:r?"ACTIVADO":"DESACTIVADO"}),"."]}),Y.jsxs("p",{className:"text-blue-600 dark:text-blue-400 mt-1",children:["Actívalo/Desactívalo con el icono ",Y.jsx("button",{onClick:e,"aria-label":"Toggle voice mode",className:"inline-block align-middle p-1 bg-gray-200 dark:bg-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500",children:r?Y.jsx(gp,{className:"h-4 w-4"}):Y.jsx(vp,{className:"h-4 w-4"})})," en la barra superior para respuestas por voz y activación automática del micrófono."]})]}),Y.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out text-base focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50","aria-label":"Acceder al gestor",children:"Acceder al Gestor"})]})});var xC={};const wC=8,_C=r=>r?ns.every(e=>!r[e]||r[e].length===0):!0,SC=()=>{var wi;const[r,e]=$e.useState(tp),[t,i]=$e.useState([]),[o,s]=$e.useState(!1),[u,f]=$e.useState(null),[d,p]=$e.useState(null),[b,w]=$e.useState(null),[C,x]=$e.useState("dark"),[T,L]=$e.useState(!1),I=$e.useRef(null),E=$e.useRef(null),[R,D]=$e.useState(!1),[j,K]=$e.useState([]),Q=$e.useRef([]),V=$e.useRef(!1),[z,re]=$e.useState(50),[ae,O]=$e.useState(!1),k=$e.useRef(null),[ne,te]=$e.useState(window.innerWidth>=768),[ve,F]=$e.useState(!1),[J,ie]=$e.useState(!0),[oe,U]=$e.useState(!1),[ce,M]=$e.useState(null),[H,X]=$e.useState([]),le=$e.useRef(null),ue=$e.useRef([]);$e.useEffect(()=>{hC(H),ue.current=H},[H]);const _e=Ee=>{M(Ee),U(!0)},xe=()=>{U(!1),M(null)};$e.useEffect(()=>{const Ee=()=>{const Ie=window.innerWidth>=768;te(Ie),Ie&&k.current&&re(Ue=>Ue===100||Ue===0?50:Ue)};return window.addEventListener("resize",Ee),Ee(),()=>window.removeEventListener("resize",Ee)},[]),$e.useEffect(()=>{const Ee=localStorage.getItem("theme");Ee?(x(Ee),Ee==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark")):document.documentElement.classList.add("dark")},[]);const pe=$e.useCallback((Ee,Ie,Ue=!1,Be,Je,it,dt)=>{const Lt={id:ts(),text:Ee,sender:Ie,timestamp:new Date,isError:Ue,groupedData:Be,rawLLMResponse:Je,isLoading:Ie==="ai"&&!Ee,relatedOfflineRequestId:it,actionType:dt};i(pt=>[...pt,Lt]),Be?f(Be):Ie==="user"&&(f(null),oe&&xe()),Ie==="system"&&T&&Ee&&!Ue&&Qe(Ee),!(Ie==="system"&&(Ee.startsWith("Cargando base de datos")||Ee.startsWith("Base de datos de prueba cargada")||Ee.startsWith("Se corrigió la estructura")||Ee.startsWith("Base de datos borrada exitosamente")||Ee.startsWith("Si necesita una base de datos de prueba")||Ee.startsWith("Historial de chat")||Ee.includes("solicitud encolada")||Ee.includes("solicitudes pendientes")||Ee.includes("ubicación seleccionada")||Ee.includes("Error de Configuración (API Key)")||Ee.includes("ha sido guardado")||Ee.includes("¡Bienvenido al Gestor de Trabajos")))&&J&&ie(!1)},[T,J,oe]),Ye=$e.useCallback(async(Ee=!0)=>{try{Ee&&pe("Verificando base de datos local...","system");const Ie=await fetch("/BD_testing.json");if(!Ie.ok)throw new Error(`Error al cargar BD_testing.json: ${Ie.statusText} (status: ${Ie.status})`);const Ue=await Ie.json();let Be=!0;for(const it of ns)if(!Array.isArray(Ue[it])){Be=!1,console.warn(`BD_testing.json: Falta o es inválido el array para la entidad ${it}.`),Ee||pe(`Error en BD_testing.json: Falta o es inválida la entidad '${Hr[it]||it}'. No se pudo cargar.`,"system",!0);return}if(!Be)throw new Error("El archivo BD_testing.json no tiene la estructura esperada.");e(Ue),localStorage.setItem(po,JSON.stringify(Ue)),f(null),oe&&xe(),pe(Ee?"Base de datos local no encontrada o inválida, se cargó la BD de prueba.":"Base de datos de prueba cargada exitosamente.","system")}catch(Ie){console.error("Error cargando la base de datos de prueba:",Ie),pe(`Error al cargar la base de datos de prueba: ${Ie.message}`,"system",!0)}},[pe,oe]);$e.useEffect(()=>{const Ee=localStorage.getItem(po);if(Ee)try{const Ie=JSON.parse(Ee);if(_C(Ie))console.log("LocalStorage DB está vacía o es inválida, cargando BD_testing.json"),Ye(!0);else{let Ue=!0;const Be={};for(const Je of ns)Array.isArray(Ie[Je])?Be[Je]=Ie[Je]:(Ue=!1,console.warn(`LocalStorage: Falta o es inválido el array para la entidad ${Je}. Usando array vacío para esta clave.`),Be[Je]=tp[Je]||[]);e(Be),Ue||(localStorage.setItem(po,JSON.stringify(Be)),pe("Se corrigió la estructura de la base de datos local.","system"))}}catch(Ie){console.error("Error al parsear la BD almacenada, cargando BD_testing.json:",Ie),Ye(!0)}else console.log("LocalStorage vacío, cargando BD_testing.json"),Ye(!0);t.length===0&&pe("¡Bienvenido al Gestor de Trabajos de Agro Aereo V1.0! Escribe 'Ayuda' para ver ejemplos de comandos o utiliza los botones superiores para gestionar tus datos.","system")},[]);const We=()=>{F(!0)},rt=()=>{e(tp),localStorage.removeItem(po),f(null),oe&&xe(),pe("Base de datos borrada exitosamente.","system"),F(!1)},lt=()=>{F(!1)},Nt=()=>{x(Ee=>{const Ie=Ee==="light"?"dark":"light";return localStorage.setItem("theme",Ie),Ie==="light"?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),Ie})},Oe=()=>{T&&window.speechSynthesis.speaking&&(console.log("User interrupted speech. Cancelling synthesis and clearing queue."),window.speechSynthesis.cancel(),Q.current=[],V.current=!1)},de=Ee=>{L(Ie=>{const Ue=typeof Ee=="boolean"?Ee:!Ie;return Ue||(window.speechSynthesis.speaking&&window.speechSynthesis.cancel(),Q.current=[],V.current=!1),Ue})},ht=$e.useCallback(()=>{if(V.current||Q.current.length===0||!T){if(Q.current.length===0&&!V.current&&T&&I.current){const Ie=t[t.length-1];Ie&&(Ie.sender==="ai"||Ie.sender==="system")&&!Ie.isError&&!Ie.isLoading&&(["¿qué más puedo hacer por ti?","¿en qué más te puedo ayudar?","¿algo más?","sugerencias","¿es correcto?","¿quieres ver más?","activado.","para poder continuar","encolado","procesada con éxito","falló"].some(Je=>Ie.text.toLowerCase().includes(Je.toLowerCase()))||Ie.groupedData)&&(console.log("Speech queue empty, last AI/System message seems to prompt for input. Triggering mic."),I.current.triggerStartRecording())}return}V.current=!0;const Ee=Q.current.shift();if(Ee){const Ie=Ee.onend;Ee.onend=function(Be){V.current=!1,typeof Ie=="function"&&Ie.call(this,Be),ht()};const Ue=Ee.onerror;Ee.onerror=function(Be){Be.error==="interrupted"?console.log("SpeechSynthesisUtterance: Speech was interrupted.",Be):(console.error("SpeechSynthesisUtterance.onerror - Error reason:",Be.error,"Full event details:",Be),pe(`Error al reproducir voz: ${Be.error}`,"system",!0)),V.current=!1,typeof Ue=="function"&&Ue.call(this,Be),ht()},window.speechSynthesis.speak(Ee)}else V.current=!1,ht()},[pe,t,T]),Qe=$e.useCallback((Ee,Ie)=>{if(!T||!Ee){Ie&&Ie(),ht();return}const Ue=new SpeechSynthesisUtterance(Ee);Ue.lang="es-ES",Ie&&(Ue.onend=Ie),Q.current.push(Ue),ht()},[T,ht]),Ke=$e.useCallback((Ee,Ie)=>{if(!T||!Ee||Ee.length===0){Ie&&Ie(),ht();return}let Ue="";Ee.forEach(Be=>{Ue+=`${Be.groupTitle}. `,Be.items.length>0?Be.items.forEach(Je=>{let it="";const dt=Nd([Je]),Lt=Je.name||Je.taskName||(Je.id&&dt.length<=2?`ID ${Je.id}`:null);Lt?it+=`${Lt}. `:Je.id?it+=`Elemento con ID ${Je.id}. `:it+="Siguiente elemento. ",dt.forEach(bt=>{const pt=bt.toLowerCase();if(!((pt==="name"||pt==="taskname"||pt==="title")&&Lt)&&!(pt==="id"&&(Lt||Je.id))&&Je[bt]!==void 0&&Je[bt]!==null&&String(Je[bt]).trim()!==""){const At=Je[bt];let kn="";typeof At=="boolean"?kn=At?"Sí":"No":typeof At=="object"?kn="tiene datos complejos asociados":kn=String(At);const Gt=bt.replace(/([A-Z])/g," $1").replace(/_/g," ").toLowerCase();it+=`${Gt}: ${kn}. `}}),Ue+=it.trim()+" "}):Ue+="No se encontraron elementos. "}),Ue.trim()?Qe(Ue.trim(),Ie):(Ie&&Ie(),ht())},[T,ht,Qe]);$e.useEffect(()=>{let Ee,Ie="";try{const Ue="AIzaSyD70AKVXoTfWc1fmPc_OBsO8uAaX_5OiBY";Ue&&Ue!=="YOUR_GEMINI_API_KEY_PLACEHOLDER"&&Ue!=="AQUI_VA_TU_CLAVE_API_DE_GEMINI"&&String(Ue).trim()!==""&&(Ee=String(Ue).trim(),Ie="VITE_API_KEY (import.meta.env)")}catch(Ue){console.warn("Could not access import.meta.env for VITE_API_KEY. This is expected in non-Vite environments.",Ue)}if(!Ee){const Ue=xC.API_KEY;Ue&&Ue!=="YOUR_GEMINI_API_KEY_PLACEHOLDER"&&Ue!=="AQUI_VA_TU_CLAVE_API_DE_GEMINI"&&Ue.trim()!==""&&(Ee=Ue.trim(),Ie="process.env.API_KEY")}if(!Ee){const Ue="Error de Configuración: La clave API para Gemini no está configurada o es un placeholder. Por favor, asegúrese de que VITE_API_KEY (para entornos Vite) o process.env.API_KEY (para otros entornos) esté correctamente configurada. La funcionalidad de IA no estará disponible. Contacte al administrador. Puede guardar su historial de chat actual.";console.error("API Key for Gemini is missing or is a placeholder. Checked import.meta.env.VITE_API_KEY and process.env.API_KEY."),pe(Ue,"system",!0);return}console.log(`Using API Key from: ${Ie}`);try{const Ue=new fC({apiKey:Ee});p(Ue);const Be=Ue.chats.create({model:Iv,config:{systemInstruction:Ov,temperature:.3,topK:30,topP:.85}});w(Be)}catch(Ue){console.error("Error initializing Gemini Service:",Ue),pe(`Error al inicializar el servicio de IA: ${Ue.message}. Puede guardar su historial de chat actual.`,"system",!0)}},[pe]);const et=async(Ee,Ie)=>{const Ue=new FileReader;Ue.onload=async Be=>{var Je;try{const it=(Je=Be.target)==null?void 0:Je.result;if(pe("Si necesita una base de datos de prueba, comuníquese con el administrador de la aplicación.","system"),Ie==="json_db"){const dt=JSON.parse(it);let Lt=!0;for(const bt of ns)if(!Array.isArray(dt[bt])){Lt=!1,pe(`Error en archivo de base de datos importado: Falta o es inválida la entidad '${Hr[bt]||bt}'.`,"system",!0);break}Lt&&(e(dt),localStorage.setItem(po,JSON.stringify(dt)),pe("Base de datos importada correctamente desde el archivo.","system"),f(null),oe&&xe())}else{const dt=p0(it,Ie);dt.length>0?(e(Lt=>{const bt={...Lt,[Ie]:dt};return localStorage.setItem(po,JSON.stringify(bt)),bt}),pe(`Datos para '${Hr[Ie]}' importados desde el archivo de tabla. ${dt.length} registros cargados.`,"system"),f(null),oe&&xe()):pe(`No se pudieron procesar datos válidos del archivo de tabla para '${Hr[Ie]}'. Verifique el formato y encabezados.`,"system",!0)}}catch(it){console.error("Error processing file:",it),pe(`Error al procesar el archivo: ${it.message}`,"system",!0)}},Ue.readAsText(Ee)},at=Ee=>{K(Ee),D(!0)},ot=Ee=>{if(D(!1),Ee.length===0){pe("No se seleccionaron archivos para procesar.","system");return}pe(`Iniciando importación de ${Ee.length} archivo(s) de tabla...`,"system");let Ie={...r},Ue=!1,Be=!0;const Je=Ee.map(async({file:it,entityType:dt})=>{try{const Lt=await it.text(),bt=p0(Lt,dt);bt.length>0?(Ie={...Ie,[dt]:bt},Ue=!0,pe(`Archivo de tabla '${it.name}' (${Hr[dt]}): ${bt.length} registros cargados.`,"system")):(pe(`Archivo de tabla '${it.name}' (${Hr[dt]}): No se procesaron datos válidos.`,"system",!0),Be=!1)}catch(Lt){console.error(`Error processing file ${it.name}:`,Lt),pe(`Error al procesar archivo de tabla '${it.name}': ${Lt.message}`,"system",!0),Be=!1}});Promise.all(Je).then(()=>{Ue?(e(Ie),localStorage.setItem(po,JSON.stringify(Ie)),f(null),oe&&xe(),pe(`Importación Múltiple: ${Be?"Todos los archivos de tabla seleccionados fueron procesados.":"Algunos archivos de tabla tuvieron problemas durante el procesamiento. Revisa los mensajes anteriores."}`,"system",!Be)):Be?pe("Importación Múltiple: No se realizaron cambios en la base de datos.","system"):pe("Importación Múltiple: Ningún archivo de tabla pudo ser procesado exitosamente.","system",!0)})},wt=Ee=>{if(Ee==="json_db"){const Ie=JSON.stringify(r,null,2),Ue=new Blob([Ie],{type:"application/json"}),Be=URL.createObjectURL(Ue),Je=document.createElement("a");Je.href=Be,Je.download=`agro_roberts_db_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Be),pe("Base de datos exportada a un archivo.","system")}},Ot=()=>{let Ee=0;ns.forEach(Ie=>{const Ue=r[Ie];if(Ue&&Ue.length>0)try{const Be=C2(Ue,Ie);if(Be){const Je=new Blob(["\uFEFF"+Be],{type:"text/csv;charset=utf-8;"}),it=URL.createObjectURL(Je),dt=document.createElement("a");dt.href=it;const Lt=Ie.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/^_/,"");dt.download=`${Lt}_export_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),URL.revokeObjectURL(it),Ee++}}catch(Be){console.error(`Error exporting ${Ie} to CSV: `,Be),pe(`Error al exportar ${Hr[Ie]} como tabla (CSV): ${Be.message}`,"system",!0)}}),Ee>0?pe(`${Ee} tipo(s) de entidad exportados a archivos de tabla (formato CSV).`,"system"):pe("No hay datos para exportar como tablas.","system")},jt=async()=>{if(t.length===0){pe("No hay historial de chat para guardar.","system"),T&&Qe("No hay historial de chat para guardar.");return}const Ee=JSON.stringify(t,null,2),Ue=`agro_roberts_historial_${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.json`;if(window.showSaveFilePicker)try{const Be=await window.showSaveFilePicker({suggestedName:Ue,types:[{description:"Archivos JSON",accept:{"application/json":[".json"]}}]}),Je=await Be.createWritable();await Je.write(Ee),await Je.close(),pe(`Historial de chat guardado en: ${Be.name}`,"system"),T&&Qe("Historial de chat guardado en la ubicación seleccionada.")}catch(Be){Be.name!=="AbortError"?(console.error("Error guardando historial con File System Access API:",Be),pe(`Error al guardar historial: ${Be.message}`,"system",!0),T&&Qe("Error al guardar historial.")):pe("Guardado de historial cancelado por el usuario.","system")}else{const Be=new Blob([Ee],{type:"application/json"}),Je=URL.createObjectURL(Be),it=document.createElement("a");it.download=Ue,it.href=Je,document.body.appendChild(it),it.click(),document.body.removeChild(it),URL.revokeObjectURL(Je);const dt=`Historial de chat guardado como '${Ue}'. Generalmente se encuentra en tu carpeta de Descargas.`;pe(dt,"system"),T&&Qe(dt)}},qt=Ee=>{const Ie=new FileReader;Ie.onload=Ue=>{var Be;try{const Je=(Be=Ue.target)==null?void 0:Be.result,it=JSON.parse(Je);if(Array.isArray(it)&&it.every(dt=>typeof dt=="object"&&dt!==null&&"id"in dt&&"sender"in dt&&"text"in dt&&"timestamp"in dt)){const dt=it.map(Lt=>({...Lt,timestamp:new Date(Lt.timestamp),isLoading:Lt.isLoading||!1,isError:Lt.isError||!1,groupedData:Lt.groupedData||void 0,rawLLMResponse:Lt.rawLLMResponse||void 0,relatedOfflineRequestId:Lt.relatedOfflineRequestId||void 0,actionType:Lt.actionType||void 0}));if(i(dt),dt.length>0){const Lt=dt[dt.length-1];Lt.groupedData?f(Lt.groupedData):f(null),oe&&xe()}J&&ie(!1),pe("Historial de chat cargado exitosamente.","system")}else throw new Error("Formato de archivo de historial inválido. Verifique que el archivo no esté corrupto y que sea un historial válido.")}catch(Je){console.error("Error cargando historial de chat:",Je),pe(`Error al cargar el historial de chat: ${Je.message}`,"system",!0)}},Ie.readAsText(Ee)},kt=Ee=>{let Ie=Ee.trim();const Ue=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,Be=Ie.match(Ue);Be&&Be[2]&&(Ie=Be[2].trim());try{const Je=JSON.parse(Ie);return Je&&typeof Je.action=="string"&&typeof Je.messageForUser=="string"?Je:(console.warn("Parsed LLM response doesn't match expected structure:",Je),null)}catch(Je){return console.error("Failed to parse LLM JSON response:",Je,"Raw text:",Ee),null}},$t=$e.useCallback((Ee,Ie)=>{const{action:Ue,entity:Be,data:Je,query:it,messageForUser:dt,groupedData:Lt,rawResponse:bt,followUpAction:pt}=Ee;let At=Lt;if(Ue==="LIST_ENTITIES"&&(!At||At.length===0)&&Be&&Array.isArray(Je)&&Je.length>0&&(console.warn("LIST_ENTITIES: LLM response used 'data' field or 'groupedData' was empty. Adapting to 'groupedData' structure."),At=[{groupTitle:Hr[Be]||`Listado: ${Be}`,items:Je,count:Je.length,entityType:Be}]),pe(dt,"ai",!1,At,bt,Ie,Ue),T&&Qe(dt,()=>{At&&At.length>0&&Ke(At)}),f(At||null),oe&&At){const Gt=At.length>0?{title:At[0].groupTitle,items:At[0].items,entityType:At[0].entityType}:null;Gt?_e(Gt):xe()}else oe&&!At&&xe();const kn=Gt=>{e(Gt),localStorage.setItem(po,JSON.stringify(Gt))};switch(Ue){case"CREATE_ENTITY":if(Be&&Je&&!Array.isArray(Je)){const Gt=Je.id||ts(),ji={...Je,id:Gt};e(rr=>{const xt=rr[Be],cn={...rr,[Be]:[...xt,ji]};if(Be==="tasks"){const sn=ji;sn.machineryIds&&sn.machineryIds.length>0&&sn.machineryIds.forEach(wn=>{cn.taskMachineryLinks.push({id:ts(),taskId:Gt,machineryId:wn})}),sn.personnelIds&&sn.personnelIds.length>0&&sn.personnelIds.forEach(wn=>{cn.taskPersonnelLinks.push({id:ts(),taskId:Gt,personnelId:wn})}),sn.productInsumeDetails&&sn.productInsumeDetails.length>0&&sn.productInsumeDetails.forEach(wn=>{cn.taskInsumeLinks.push({id:ts(),taskId:Gt,productInsumeId:wn.id,quantityUsed:wn.quantityUsed,unitUsed:wn.unitUsed})})}return localStorage.setItem(po,JSON.stringify(cn)),cn})}else console.error("CREATE_ENTITY: 'entity' o 'data' faltantes o 'data' es un array.",Ee),pe("Error interno procesando CREATE_ENTITY: 'entity' o 'data' inválidos.","system",!0);break;case"UPDATE_ENTITY":Be&&Je&&it&&it.id&&!Array.isArray(Je)?kn({...r,[Be]:r[Be].map(Gt=>Gt.id===it.id?{...Gt,...Je}:Gt)}):(console.error("UPDATE_ENTITY: Faltan 'entity', 'data', 'query', o 'query.id', o 'data' es un array.",Ee),pe("Error interno procesando UPDATE_ENTITY: Faltan campos requeridos.","system",!0));break;case"DELETE_ENTITY":Be&&it&&it.id?kn({...r,[Be]:r[Be].filter(Gt=>Gt.id!==it.id)}):(console.error("DELETE_ENTITY: Faltan 'entity', 'query', o 'query.id'.",Ee),pe("Error interno procesando DELETE_ENTITY: Faltan campos requeridos.","system",!0));break;case"LIST_ENTITIES":case"GROUPED_QUERY":break;case"TOGGLE_VOICE_MODE":Je&&typeof Je.enable=="boolean"&&de(Je.enable);break;case"ANSWER_QUERY":case"HELP":case"ERROR":case"PROPOSE_OPTIONS":case"CONFIRM_CREATION":case"PROMPT_CREATE_MISSING_ENTITY":break;default:console.warn("Acción LLM desconocida o no manejada:",Ue)}pt&&d&&b&&(pe("Procesando siguiente paso...","system"),setTimeout(()=>{s(!0),$t(pt),s(!1)},500))},[pe,r,b,T,d,ht,Qe,Ke,de,oe]),yt=async(Ee,Ie,Ue)=>{if(!d||!b){pe("Error: El servicio de IA no está inicializado. Verifica la configuración de la API Key.","system",!0);return}const Be=ts();pe(Ee,"user",!1,void 0,void 0,Be);const Je=ts();pe("","ai",!1,void 0,void 0,Je),s(!0);const it=JSON.stringify(r),dt=[];dt.push({text:`Contexto de Base de Datos (NO MOSTRAR AL USUARIO, USAR PARA REFERENCIA INTERNA):
${it}`}),Ie&&Ue?(dt.push({inlineData:{data:Ie,mimeType:Ue}}),Ee&&Ee.trim()!==""&&Ee!=="Comando de voz grabado (procesando...)"&&dt.push({text:`

Comando del Usuario (puede ser transcripción de audio o texto directo):
${Ee}`})):dt.push({text:`

Comando del Usuario:
${Ee}`});try{const Lt=await b.sendMessage({message:dt});i(At=>At.filter(kn=>kn.id!==Je));const bt=Lt.text,pt=kt(bt);pt?$t(pt):(pe(`Respuesta no estructurada de la IA: ${bt}`,"ai",!1,void 0,bt),T&&Qe(`Respuesta no estructurada de la IA: ${bt}`))}catch(Lt){console.error("Error sending message to Gemini:",Lt),i(At=>At.filter(kn=>kn.id!==Je));const bt=v5(Lt),pt=`Error al comunicarse con la IA: ${bt.message}`;if(bt.type==="API_KEY_INVALID")if(pe(bt.message,"system",!0),T&&Qe(bt.message),b){const kn=g2({messageText:Ee,audioBase64:Ie,audioMimeType:Ue},bt.type,bt.message,X,Be),Gt=`Tu comando "${Ee.substring(0,30)}..." ha sido guardado. Se intentará procesar automáticamente cuando la configuración de la API Key sea corregida.`;pe(Gt,"system",!1,void 0,void 0,kn.id),T&&Qe(Gt)}else pe("El comando no pudo ser encolado porque el chat no está inicializado debido al error de API Key.","system",!0),T&&Qe("El comando no pudo ser encolado.");else if(pC(bt.type)&&b){pe(pt,"system",!0),T&&Qe(pt);const kn=g2({messageText:Ee,audioBase64:Ie,audioMimeType:Ue},bt.type,bt.message,X,Be),Gt=`⚠️ Tu mensaje "${Ee.substring(0,30)}..." fue ENCOLADO. Razón: ${bt.message.substring(0,50)}. Se reintentará automáticamente.`;pe(Gt,"system",!0,void 0,void 0,kn.id),T&&Qe(`Tu mensaje fue encolado. ${bt.message}`)}else pe(pt,"system",!0),T&&Qe(pt)}finally{s(!1)}},zt=$e.useCallback(async()=>{if(le.current||!navigator.onLine||!b||!d){navigator.onLine||console.log("Offline Queue: Paused, no connection."),(!b||!d)&&console.log("Offline Queue: Paused, AI service not ready.");return}const Ee=ue.current.find(Ie=>Ie.status==="pending"||Ie.status==="processing"&&Ie.id!==le.current);Ee&&(le.current=Ee.id,X(Ie=>Ie.map(Ue=>Ue.id===Ee.id?{...Ue,status:"processing",lastAttemptTimestamp:new Date}:Ue)),pe(`🔄 Reintentando solicitud encolada: "${Ee.payload.messageText.substring(0,30)}..." (Intento ${Ee.attempts+1})`,"system",!1,void 0,void 0,Ee.id),await mC(Ee,b,r,(Ie,Ue,Be)=>{X(it=>it.map(dt=>dt.id===Ie?{...dt,status:"processed"}:dt));const Je=kt(Ue);Je?$t(Je,Ie):(pe(`Respuesta (de cola) no estructurada: ${Ue}`,"ai",!1,void 0,Be.text,Ie),T&&Qe(`Respuesta de solicitud encolada: ${Ue}`)),le.current=null,pe(`✅ Solicitud encolada "${Ee.payload.messageText.substring(0,30)}..." procesada con éxito.`,"system",!1,void 0,void 0,Ie),T&&Qe("Solicitud encolada procesada con éxito."),setTimeout(zt,1e3)},(Ie,Ue)=>{X(Be=>Be.map(Je=>{var it;return Je.id===Ie?{...Je,status:"pending",attempts:Je.attempts+1,errorInfo:{type:Ue.type,message:Ue.message,history:[...((it=Je.errorInfo)==null?void 0:it.history)||[],{timestamp:new Date,type:Ue.type,message:Ue.message}]}}:Je})),le.current=null,pe(`⚠️ Reintento ${Ee.attempts+1} falló para "${Ee.payload.messageText.substring(0,30)}...". Razón: ${Ue.message}. Se reintentará más tarde.`,"system",!0,void 0,void 0,Ie),setTimeout(zt,1e3)},(Ie,Ue)=>{X(Be=>Be.map(Je=>{var it;return Je.id===Ie?{...Je,status:"failed",errorInfo:{type:Ue.type,message:Ue.message,history:[...((it=Je.errorInfo)==null?void 0:it.history)||[],{timestamp:new Date,type:Ue.type,message:Ue.message}]}}:Je})),le.current=null,pe(`❌ Solicitud encolada "${Ee.payload.messageText.substring(0,30)}..." falló permanentemente después de ${mp} intentos. Razón: ${Ue.message}`,"system",!0,void 0,void 0,Ie),T&&Qe("Una solicitud encolada falló permanentemente."),setTimeout(zt,1e3)}))},[b,r,$t,pe,T,Qe,d,kt]);$e.useEffect(()=>{const Ee=dC();X(Ee);const Ie=()=>{pe("Conexión a internet restablecida. Intentando procesar solicitudes pendientes...","system"),T&&Qe("Conexión a internet restablecida."),zt()},Ue=()=>{pe("Se ha perdido la conexión a internet. Las nuevas solicitudes se guardarán para procesar más tarde.","system",!0),T&&Qe("Se ha perdido la conexión a internet.")};window.addEventListener("online",Ie),window.addEventListener("offline",Ue);const Be=setInterval(zt,Pv);return()=>{window.removeEventListener("online",Ie),window.removeEventListener("offline",Ue),clearInterval(Be)}},[zt,pe,T,Qe]);const st=$e.useCallback(Ee=>{Ee.preventDefault(),O(!0)},[]),Vn=$e.useCallback(()=>{O(!1)},[]),Kt=$e.useCallback(Ee=>{if(!ae||!k.current||!ne)return;const Ie="touches"in Ee?Ee.touches[0].clientX:Ee.clientX,Ue=k.current.getBoundingClientRect();let Be=(Ie-Ue.left)/Ue.width*100;Be=Math.max(20,Math.min(80,Be)),re(Be)},[ae,ne]);return $e.useEffect(()=>(ne&&(document.addEventListener("mousemove",Kt),document.addEventListener("mouseup",Vn),document.addEventListener("touchmove",Kt),document.addEventListener("touchend",Vn)),()=>{document.removeEventListener("mousemove",Kt),document.removeEventListener("mouseup",Vn),document.removeEventListener("touchmove",Kt),document.removeEventListener("touchend",Vn)}),[Kt,Vn,ne]),!d&&!b&&!localStorage.getItem(po)?Y.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:Y.jsxs("div",{className:"text-center",children:[Y.jsx($p,{className:"h-12 w-12 text-green-500 animate-spin mx-auto mb-4"}),Y.jsx("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Cargando Aplicación..."})]})}):Y.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[J&&Y.jsx(bC,{isVoiceModeActive:T,onToggleVoiceMode:()=>{const Ee=!T;de(Ee),b&&d&&(pe(`Modo voz interactiva ${Ee?"activado":"desactivado"}.`,"ai"),T&&Qe(`Modo voz interactiva ${Ee?"activado":"desactivado"}.`))},onDismiss:()=>ie(!1)}),Y.jsx(Yv,{ref:E,onFileUpload:et,onFileExport:wt,onExportToCsvs:Ot,entityTypes:ns,currentTheme:C,onToggleTheme:Nt,isInteractiveVoiceMode:T,onToggleInteractiveVoiceMode:()=>{const Ee=!T;de(Ee),b&&d&&(pe(`Modo voz interactiva ${Ee?"activado":"desactivado"}.`,"ai"),T&&Qe(`Modo voz interactiva ${Ee?"activado":"desactivado"}.`))},onMultipleFileUploadRequest:at,onDeleteDatabaseRequest:We,onSaveChatHistory:jt,onLoadChatHistoryFile:qt,pendingOfflineRequestCount:H.filter(Ee=>Ee.status==="pending"||Ee.status==="processing").length}),Y.jsxs("div",{ref:k,className:`flex-grow flex ${ne?"flex-row":"flex-col"} overflow-hidden min-h-0`,children:[Y.jsx("div",{className:`${ne?"overflow-hidden":"h-3/5 pb-1"} flex flex-col bg-transition`,style:ne?{width:`${z}%`}:{},children:Y.jsx(cy,{ref:I,messages:t,onSendMessage:yt,isLoading:o||le.current!==null,currentDb:r,onBeforeStartRecording:Oe,onViewFullScreen:_e})}),ne&&Y.jsx("div",{className:"w-2 cursor-col-resize bg-gray-300 dark:bg-gray-700 hover:bg-green-500 dark:hover:bg-green-600 transition-colors duration-150 ease-in-out flex-shrink-0",onMouseDown:st,onTouchStart:st,role:"separator","aria-label":"Redimensionar paneles"}),Y.jsx("div",{className:`${ne?"overflow-hidden":"h-2/5 pt-1"} flex flex-col bg-transition`,style:ne?{width:`${100-z-wC/(((wi=k.current)==null?void 0:wi.offsetWidth)||1)*100}%`}:{},children:Y.jsx(gb,{database:r,groupedResults:u,onViewFullScreen:_e})})]}),R&&Y.jsx(vC,{files:j,onClose:()=>D(!1),onSubmit:ot,entityTypes:ns}),ve&&Y.jsx(yC,{isOpen:ve,title:"Confirmar Borrado de Base de Datos",message:Y.jsxs(Y.Fragment,{children:[Y.jsx("p",{className:"mb-2",children:"¿Estás seguro de que quieres borrar TODA la base de datos local?"}),Y.jsx("p",{className:"font-semibold text-red-500",children:"Esta acción es irreversible y eliminará todos los clientes, campos, tareas y demás registros."}),Y.jsxs("p",{className:"mt-2",children:["Se recomienda ",Y.jsx("strong",{className:"text-yellow-500",children:"Guardar BD"})," como respaldo antes de continuar."]})]}),onConfirm:rt,onCancel:lt,confirmText:"Sí, Borrar Todo",cancelText:"No, Cancelar"}),oe&&ce&&Y.jsx(mb,{isOpen:oe,onClose:xe,title:ce.title,items:ce.items,entityTypeForHeaders:ce.entityType})]})},y5=document.getElementById("root");if(!y5)throw new Error("Could not find root element to mount to");const AC=Dv.createRoot(y5);AC.render(Y.jsx(v2.StrictMode,{children:Y.jsx(SC,{})}));export{Nn as _,wv as c,Kp as g};
